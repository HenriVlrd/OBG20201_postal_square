(window.KSR_webpackjsonp=window.KSR_webpackjsonp||[]).push([[80],{"+DSo":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return d});const a={zero:[0],one:[1],two:[2],few:[3],many:[],other:[]},i=/\{\{\{\s*(\w+)\s*\}\}\}/g,r=/\{\{\s*(\w+)\s*\}\}/g,o=(e,t)=>e.split(".").reduce(function(e,t){var n=typeof e;return"function"===n||"object"===n&&!!e?e[t]:e},t),s=(e,t)=>{let n,i;return"number"!=typeof(n="number"==typeof t?t:parseInt(t.count,10))||isNaN(n)||0===(i=Object.keys(a).filter(function(e){if(-1!==a[e].indexOf(n))return e})).length&&(i="other"),e[i]},c=e=>{const t=e.split(".");return t[t.length-1].replace(/_/g," ").replace(/(\w+)/g,e=>e.charAt(0).toUpperCase()+e.slice(1))},l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.locale,i=e.defaultLocale,r=e.translations||{};let c=o(t,r[a])||n.default;return void 0===c&&(c=o(t,r[i])),"object"==typeof c&&(c=s(c,n)),c},d=e=>!!l(window.I18n,e)},"+VqH":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ComposeFreeformPostFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publish"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"destroy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"update"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isPublic"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"excludedRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasExcludedNoRewardTier"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Post"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ComposeFreeformPostFragment"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateFreeformPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateFreeformPostInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createFreeformPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePostInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ComposeFreeformPostFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:613}};n.loc.source={body:"fragment ComposeFreeformPostFragment on Postable {\n  id\n  title\n  actions {\n    publish\n    destroy\n    update\n  }\n  isPublic\n  publishedAt\n  excludedRewards {\n    nodes {\n      id\n    }\n  }\n  hasExcludedNoRewardTier\n  ... on FreeformPost {\n    body\n  }\n}\n\nquery Post($id: ID!) {\n  post(id: $id) {\n    ...ComposeFreeformPostFragment\n  }\n}\n\nmutation CreateFreeformPost($input: CreateFreeformPostInput!) {\n  createFreeformPost(input: $input) {\n    post {\n      id\n    }\n  }\n}\n\nmutation UpdatePost($input: UpdatePostInput!) {\n  updatePost(input: $input) {\n    post {\n      ...ComposeFreeformPostFragment\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function r(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.Post=r(n,"Post"),e.exports.CreateFreeformPost=r(n,"CreateFreeformPost"),e.exports.UpdatePost=r(n,"UpdatePost")},"/AD1":function(e,t,n){"use strict";var a=n("60hy");const i=Object(a.b)(window.current_project);window.current_project=i,t.a=i},"/IHD":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return s});var a=n("xk4V"),i=n.n(a);const r=function(){return[].concat(...arguments).filter(Boolean).join(" ")},o=()=>i()().split("-").join(""),s=(e,t)=>(e||[]).concat(t)},"/Jws":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("7LsF");const i=Object(a.b)("editorImageUploader",{Component:a.a,reducer:Object(a.d)("Story Image")})},"/lCS":function(e,t,n){var a=n("gFfm"),i=n("jbM+"),r=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return a(r,function(n){var a="_."+n[0];t&n[1]&&!i(e,a)&&e.push(a)}),e.sort()}},"0ADi":function(e,t,n){var a=n("heNW"),i=n("EldB"),r=n("Kz5y"),o=1;e.exports=function(e,t,n,s){var c=t&o,l=i(e);return function t(){for(var i=-1,o=arguments.length,d=-1,u=s.length,m=Array(u+o),p=this&&this!==r&&this instanceof t?l:e;++d<u;)m[d]=s[d];for(;o--;)m[d++]=arguments[++i];return a(p,c?n:this,m)}}},"0AyS":function(e,t,n){"use strict";var a=n("prSB"),i=n("q1tI"),r=n.n(i),o=n("94td"),s=n("RBqt"),c=n("X+my"),l=n("xwT8"),d=n("MTFr"),u=n("mm3F"),m=n("qYa2"),p=n("Tge+"),h=n("lHf8"),b=n("2DJ9"),f=n("v9JK");const g=e=>e.code,v=e=>e.name,k=e=>"/video_tracks/".concat(e.tid,"/edit"),y=e=>{let t=e.track,n=e.importTrack,a=e.confirmDeleteCaption;const r=t.cues,c=t.language,l="IMPORTING"===t.importStatus,d="FAILURE"===t.importStatus,u=!!r.totalCount,m="caption-management-".concat(t.id);let p;return p=l?i.createElement(s.a,null,"Importing file..."):u?i.createElement(s.a,null,"Track added."):d?i.createElement(s.a,null,"Import failed."):i.createElement(o.a,{i18nKey:"uploaders.captions.Create_or_import_a_track",create:i.createElement(h.a,{atoms:["pointer"],href:k(t),target:"blank"},Object(o.b)("uploaders.captions.Create"))}),i.createElement("div",{className:"border-top border-grey-400 py3 flex"},i.createElement("div",{className:"grow1"},i.createElement("div",{className:"block"},l&&i.createElement(b.a,{name:"loading-spin",atoms:["mr1"]}),i.createElement(s.a,{type:"body-200",color:"soft-black",atoms:["book"]},c.name)),i.createElement(s.a,{type:"caption-200",color:"dark-grey-500"},p)),i.createElement("div",{className:"grow1 text-right pt1"},i.createElement(_,{hasCues:u,isImporting:l,track:t}),i.createElement("button",{className:"bttn bttn-tertiary theme--support bttn-small ml1 ksr-tooltip tooltip-small p0","data-tooltip":"Import .vtt",disabled:l},i.createElement("label",{className:"px2",htmlFor:m},i.createElement(b.a,{name:"icon--download",label:"Import .vtt caption file"}))),i.createElement("input",{type:"file",accept:".vtt",id:m,disabled:l,onChange:n(m,t.tid),className:"hide"}),i.createElement("button",{className:"bttn bttn-tertiary theme--support bttn-small ml1 ksr-tooltip tooltip-small","data-tooltip":"Delete",disabled:l,onClick:a(t.id)},i.createElement(b.a,{name:"trash",label:"Delete caption track"}))))},E=e=>{let t=e.languages,n=e.tracks,a=e.captionSelectState,r=e.updateCaptionSelect,c=e.captionCreated,l=e.videoId;const d=((e,t)=>{const n=t.map(e=>e.language.code);return e.filter(e=>!n.includes(e.code))})(t,n),u=d.length>0;return i.createElement("div",null,i.createElement(s.a,{type:"body-100",color:"soft-black",weight:"medium"},Object(o.b)("uploaders.Add_captions")),u&&i.createElement("div",{className:"flex mt1 mb4"},i.createElement("div",{className:"grow1"},i.createElement(p.a,{placeholder:"Select a language",state:a,onStateChange:r,toLabel:v,toId:g,options:d,small:!0})),i.createElement("button",{className:"bttn bttn-primary theme--create bttn-medium ml1",onClick:c(d,l),disabled:null==a.currentIndex},Object(o.b)("uploaders.Add_track"))))},_=e=>{let t=e.hasCues,n=e.isImporting,a=e.track;const r=t?"bttn-tertiary theme--support":"bttn-primary theme--create",o=t?"pencil":"plus",s=t?"Edit":"Create";return i.createElement("a",{href:k(a),className:"bttn ".concat(r," bttn-small ksr-tooltip tooltip-small"),"data-tooltip":s,disabled:n,target:"blank"},i.createElement(b.a,{name:o,label:"".concat(s," caption track")}))};var O=e=>{let t=e.state,n=e.videoOptions;const a=t.confirmDeleteCaptionId,r=n.updateCaptionSelect,o=n.captionCreated,s=n.cancelDeleteCaption,c=n.captionDeleted,l=n.importTrack,d=n.confirmDeleteCaption,u=n.videoId,m=t.tracks.map(e=>i.createElement(y,{key:e.tid,track:e,importTrack:l,confirmDeleteCaption:d}));return i.createElement("div",null,i.createElement(E,{languages:t.allCaptionLanguages,captionSelectState:t.captionSelectState,updateCaptionSelect:r,captionCreated:o,tracks:t.tracks,videoId:u}),m,a&&i.createElement(f.a,{onClose:s,headerCopy:"Are you sure?",size:"small"},i.createElement("p",{className:"center"},"This can’t be undone."),i.createElement(f.c,{theme:"destroy",onClick:c},"Delete track.")))},j=n("3Hbt");n.d(t,"a",function(){return w});const S={changeFile:Object(o.b)("uploaders.Change_video"),deleteFile:Object(o.b)("uploaders.Delete_video"),deletingFile:Object(o.b)("uploaders.Deleting_video"),uploadCta:Object(o.b)("uploaders.Drop_a_video_here_or_select_a_file"),uploadCtaMobile:Object(o.b)("uploaders.Upload_a_video"),feelFreeToMoveOn:Object(o.b)("uploaders.Feel_free_to_move_on_video"),validFileTypes:Object(o.b)("uploaders.It_must_be_a_valid_video_file_type")},w=e=>{let t=e.state,n=e.dispatch,i=e.supportsCaptions,o=e.theme,s=void 0===o?c.a:o,l=e.uploadLimit;const d=Object(a.a)({},t.videoUpload,{},t.baseUpload),p={supportsCaptions:i,onCloseShowingCaptions:()=>n(Object(j.closeShowingCaptions)()),onOpenShowingCaptions:()=>n(Object(j.openShowingCaptions)()),importTrack:(e,t)=>()=>n(Object(j.importTrack)(e,t)),confirmDeleteCaption:e=>()=>n(Object(j.confirmDeleteCaption)(e)),updateCaptionSelect:e=>n(Object(j.updateCaptionSelect)(e)),captionCreated:(e,t)=>()=>n(Object(j.captionCreated)(e,t)),cancelDeleteCaption:()=>n(Object(j.cancelDeleteCaption)()),captionDeleted:()=>n(Object(j.captionDeleted)()),videoId:t.baseUpload.asset?t.baseUpload.asset.id:null};return r.a.createElement(N,{state:d,onDeleteAsset:()=>n(Object(u.deleteAsset)()),onDragLeave:()=>n(Object(u.fileDragEnded)()),onDragEnter:()=>n(Object(u.fileDragStarted)()),onDrop:e=>{n(Object(u.fileDragEnded)()),Object(m.a)(e)&&(e.preventDefault(),n(Object(u.uploadFileStart)(e.dataTransfer.files[0],n,l)))},onFileSelect:e=>n(Object(u.uploadFileStart)(e,n,l)),onUploadReset:()=>n(Object(u.uploadReset)()),onCloseDeleteAssetModal:()=>n(Object(u.closeDeleteAssetModal)()),onOpenDeleteAssetModal:()=>n(Object(u.openDeleteAssetModal)()),theme:s,uploadLimit:l,videoOptions:p})},N=Object(d.e)({EmptyState:e=>{let t=e.activeDragCounter,n=e.onDragLeave,a=e.onDragEnter,i=e.onDrop,s=e.onFileSelect,c=e.theme,l=e.uploadLimit;return r.a.createElement(d.a,{activeDragCounter:t,iconName:"icon--video",maxFileSizeText:Object(o.b)("uploaders.no_larger_than_file_size",{megabytes:l.megabytes}),onDragLeave:n,onDragEnter:a,onDrop:i,onFileSelect:s,theme:c,copyOverrides:S})},ProcessingState:e=>{let t=e.isDeleting,n=e.onFileSelect,a=e.theme,i=e.timeElapsed;return r.a.createElement(d.b,{isDeleting:t,onFileSelect:n,theme:a,timeElapsed:i,copyOverrides:S})},UploadSuccess:e=>{let t=e.state,n=e.onFileSelect,a=e.onDeleteAsset,i=e.onCloseDeleteAssetModal,c=e.onOpenDeleteAssetModal,u=e.videoOptions,m=e.theme;const p=t.asset,h=t.isDisabled,b=t.isShowingCaptions,f=u.supportsCaptions,g=u.onCloseShowingCaptions,v=u.onOpenShowingCaptions,k=f&&r.a.createElement(s.a,{type:"body-100",atoms:["soft-black"]},r.a.createElement("label",{className:"flex flex-row items-center"},r.a.createElement(l.a,{label:Object(o.b)("uploaders.Add_captions"),disabled:h,on:b,onClick:b?g:v}),r.a.createElement("span",{className:"ml2"},Object(o.b)("uploaders.Add_captions")))),y=f&&b&&r.a.createElement("div",{className:"mt3"},r.a.createElement(O,{state:t,videoOptions:u,theme:m}));return r.a.createElement(d.c,{onCloseDeleteAssetModal:i,onOpenDeleteAssetModal:c,displayImageUrl:p.previewImageUrl,onFileSelect:n,onDeleteAsset:a,state:t,SupplementalComponent:y,SupplementalComponentControl:k,copyOverrides:S})}})},"0Bgb":function(e,t,n){var a=n("eUgh"),i=n("Q1l4"),r=n("Z0cm"),o=n("/9aa"),s=n("GNiM"),c=n("9Nap"),l=n("dt0z");e.exports=function(e){return r(e)?a(e,c):o(e)?[e]:i(s(l(e)))}},"0RKZ":function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});const a=t=>{if(t)return window.btoa?window.btoa(t):e.from(t).toString("base64")},i=t=>t?window.atob?window.atob(t):e.from(t,"base64").toString():t}).call(this,n("tjlA").Buffer)},"0VSk":function(e,t,n){"use strict";n.r(t);var a=n("XM0S");const i="undefined"!=typeof window?window.I18n=window.I18n||{}:{};let r=!1;try{r=1===parseInt(localStorage.getItem("i18n_debug"),10)}catch(e){}i.t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(a.a)({translations:i.translations,locale:i.locale,defaultLocale:i.default_locale,debug:r},...t)},t.default=i},"1OuE":function(e,t,n){"use strict";n.d(t,"c",function(){return O}),n.d(t,"a",function(){return j}),n.d(t,"b",function(){return S});var a=n("cPJV"),i=n.n(a),r=n("2hq0"),o=n("bgw5"),s=n.n(o),c=n("Us+F"),l=n.n(c),d=n("/S0t"),u=n.n(d),m=n("LKA2"),p=n.n(m),h=n("uAXs"),b=n.n(h),f=n("hmb4"),g=n.n(f),v=n("QPlQ"),k=n.n(v);const y={de:s(),en:l(),es:u(),fr:p(),ja:b(),it:g(),zh:k()},E={"MMM YYYY":{de:"MMM YYYY",en:"MMM YYYY",es:"MMM YYYY",fr:"MMM YYYY",it:"MMM YYYY",ja:"YYYY年 MMM",zh:"MMM YYYY"},LTS:{de:"HH:mm:ss",en:"h:mm:ss A",es:"H:mm:ss",fr:"HH:mm:ss",it:"HH:mm:ss",ja:"HH:mm:ss",zh:"h:mm:ss aa"},LT:{de:"HH:mm",en:"h:mm A",es:"H:mm",fr:"HH:mm",it:"HH:mm",ja:"HH:mm",zh:"h:mm aa"},L:{de:"DD.MM.YYYY",en:"MM/DD/YYYY",es:"DD/MM/YYYY",fr:"DD/MM/YYYY",it:"DD/MM/YYYY",ja:"YYYY/MM/DD",zh:"MM/DD/YYYY"},l:{de:"D.M.YYYY",en:"M/D/YYYY",es:"D/M/YYYY",fr:"D/M/YYYY",it:"D/M/YYYY",ja:"YYYY/MM/DD",zh:"MM/DD/YYYY"},"l LT":{de:"D.M.YYYY HH:mm",en:"M/D/YYYY h:mm A",es:"D/M/YYYY HH:mm",fr:"D/M/YYYY HH:mm",it:"D/M/YYYY HH:mm",ja:"YYYY/MM/DD HH:mm",zh:"MM/DD/YYYY h:mm aa"},LL:{de:"D. MMMM YYYY",en:"MMMM D, YYYY",es:"D [de] MMMM [de] YYYY",fr:"D MMMM YYYY",it:"D MMMM YYYY",ja:"YYYY年M月D日",zh:"MMMM D YYYY"},ll:{de:"D. MMM YYYY",en:"MMM D YYYY",es:"D [de] MMM [de] YYYY",fr:"D MMM YYYY",it:"D MMM YYYY",ja:"YYYY年M月D日",zh:"MMM D YYYY"},LLL:{de:"D. MMMM YYYY HH:mm",en:"MMMM D, YYYY h:mm A",es:"D [de] MMMM [de] YYYY H:mm",fr:"D MMMM YYYY HH:mm",it:"D MMMM YYYY HH:mm",ja:"YYYY年M月D日 のHH:mm",zh:"MMMM D YYYY h:mm aa"},lll:{de:"D. MMM YYYY HH:mm",en:"MMM D, YYYY h:mm A",es:"D [de] MMM [de] YYYY H:mm",fr:"D MMM YYYY HH:mm",it:"D MMM YYYY HH:mm",ja:"YYYY年M月D日 のHH:mm",zh:"MMM D, YYYY h:mm A"},LLLL:{de:"dddd, D. MMMM YYYY HH:mm",en:"dddd, MMMM D YYYY h:mm A",es:"dddd, D [de] MMMM [de] YYYY H:mm",fr:"dddd D MMMM YYYY HH:mm",it:"dddd D MMMM YYYY HH:mm",ja:"YYYY年M月D日 (dddd) のHH:mm",zh:"dddd, MMMM D YYYY h:mm aa"},llll:{de:"ddd, D. MMMM YYYY HH:mm",en:"ddd, MMMM D YYYY h:mm A",es:"ddd, D [de] MMMM [de] YYYY H:mm",fr:"ddd D MMMM YYYY HH:mm",it:"ddd D MMMM YYYY HH:mm",ja:"YYYY年M月D日 (ddd) のHH:mm",zh:"ddd, MMMM D YYYY h:mm A"}},_=Object.keys(E).map(e=>"".concat(e," z")),O=(e,t,n)=>((e,t,n)=>{if(_.indexOf(t)>=0){const a=E[t.replace(/ z$/,"")][e],o=i()(n,a,{locale:y[e]});return"".concat(o," ").concat(Object(r.a)(n))}return i()(n,t,{locale:y[e]})})(e,((e,t)=>Object.keys(E).indexOf(t)>=0?E[t][e]:t)(e,t),n),j=(e,t)=>O(window.I18n.locale||window.I18n.default_locale,e,t),S=(e,t)=>{return j(e,1e3*t)}},"1eGs":function(e,t,n){"use strict";let a,i;n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return r}),function(e){e.draft="draft",e.processing="processing",e.published="published"}(a||(a={})),function(e){e.CreatorInterview="CreatorInterview",e.FreeformPost="FreeformPost"}(i||(i={}));const r=n("Ak9l").Posts},"1uWx":function(e,t,n){"use strict";var a=n("94td"),i=n("q1tI"),r=n("b8Ld");let o;!function(e){e.icon="icon--text-bold",e.id="bold",e.style="BOLD"}(o||(o={}));const s=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Bold"),icon:o.icon,toolId:o.id});let c;!function(e){e.icon="",e.id="header",e.style="header-one",e.label="Header 1"}(c||(c={}));const l=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)(e.headerDropdownEnabled?"rich_editor.Header_1":"rich_editor.Headline"),label:c.label,icon:c.icon,toolId:c.id,headerDropdownEnabled:e.headerDropdownEnabled});let d;!function(e){e.icon="",e.id="header2",e.style="header-two",e.label="Header 2"}(d||(d={}));const u=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Header_2"),label:d.label,icon:d.icon,toolId:d.id});let m;!function(e){e.icon="",e.id="header3",e.style="header-three",e.label="Header 3"}(m||(m={}));const p=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Header_3"),label:m.label,icon:m.icon,toolId:m.id});let h;!function(e){e.icon="icon--text-italic",e.id="italic",e.style="ITALIC"}(h||(h={}));const b=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Italic"),icon:h.icon,toolId:h.id});let f;!function(e){e.icon="icon--text-bullet",e.id="list",e.style="unordered-list-item"}(f||(f={}));const g=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.List"),icon:f.icon,toolId:f.id});let v;!function(e){e.icon="",e.id="quote",e.style="blockquote",e.label="Quote"}(v||(v={}));const k=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Block_quote"),label:v.label,icon:v.icon,toolId:v.id});let y;!function(e){e.icon="",e.id="normal",e.style="unstyled",e.label="Normal text"}(y||(y={}));const E=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Normal_text"),label:y.label,icon:y.icon,toolId:y.id});n.d(t,"a",function(){return s}),n.d(t,"b",function(){return o}),n.d(t,"g",function(){return l}),n.d(t,"h",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"f",function(){return m}),n.d(t,"i",function(){return b}),n.d(t,"j",function(){return h}),n.d(t,"k",function(){return g}),n.d(t,"l",function(){return f}),n.d(t,"o",function(){return k}),n.d(t,"p",function(){return v}),n.d(t,"m",function(){return E}),n.d(t,"n",function(){return y})},"1vCr":function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return u});var a=n("prSB"),i=n("mv45"),r=n("94td"),o=n("TIPN"),s=n("9jZ4"),c=n("q1tI"),l=n("eO8H");const d=(e,t)=>t&&e in t?t[e]:null;class u extends c.Component{constructor(e){super(e),this.mounted=void 0,this.onBeforeUnload=e=>{if(this.warnBeforeDirtyUnmount()&&this.state.dirty)return e.returnValue="",""},this.resetValues=()=>{this.setState({values:{},isSubmitting:!1,errors:null,dirty:!1})},this.setValues=e=>{this.setState(t=>{const n=Object(a.a)({},t.values,{},e);return{values:n,errors:t.errors&&"function"==typeof this.props.validate?this.props.validate(Object(a.a)({},this.props.initialValues,{},n)):null,dirty:!Object(s.h)(this.props.initialValues,n)}})},this.setErrors=e=>{this.setState({isSubmitting:!1,dirty:!0,errors:e})},this.onSubmit=e=>async t=>{"function"==typeof t.preventDefault&&t.preventDefault();let n=this.state.dirty,c=null;if(this.state.isSubmitting)return{errors:c,dirty:n};if(this.setState({isSubmitting:!0}),"function"==typeof this.props.validate){const e=this.props.validate(Object(a.a)({},this.props.initialValues,{},this.state.values)),t=this.props.scrollTopWhenError;if(!Object(s.c)(e))return("boolean"!=typeof t||t)&&Object(o.d)(),this.setErrors(e),{errors:e,dirty:n}}try{await this.props.onSubmit(this.values(),e),n=!1}catch(e){const t=Object(i.f)(e),n=t?null:e.message,o=t?{}:{general:Object(r.b)("project_updates.An_unexpected_error_occurred")};c=Object(a.a)({},t,{},o),"function"==typeof this.props.onError&&this.props.onError(t,n)}return this.mounted&&this.setState({isSubmitting:!1,errors:c,dirty:n}),{errors:c,dirty:n}},this.mounted=!1,this.state={values:{},isSubmitting:!1,errors:null,dirty:!1}}warnBeforeDirtyUnmount(){return"boolean"==typeof this.props.warnBeforeDirtyUnmount?this.props.warnBeforeDirtyUnmount:"function"==typeof this.props.warnBeforeDirtyUnmount&&this.props.warnBeforeDirtyUnmount(this.values())}componentDidMount(){this.mounted=!0,window.addEventListener("beforeunload",this.onBeforeUnload)}componentWillUnmount(){this.mounted=!1,window.removeEventListener("beforeunload",this.onBeforeUnload)}shouldComponentUpdate(e,t){return!Object(s.h)(e,this.props)||!Object(s.h)(e.initialValues,this.props.initialValues)||!Object(s.h)(t,this.state)}values(){return Object(a.a)({},this.props.initialValues,{},this.state.values)}render(){const e={errors:this.state.errors,isDirty:this.state.dirty,isSubmitting:this.state.isSubmitting,onSubmit:this.onSubmit(null),onSubmitWithExtras:this.onSubmit,resetValues:this.resetValues,setValues:this.setValues,values:this.values(),ownProps:{}};let t;if(this.props.render)t=this.props.render;else{if("function"!=typeof this.props.children)throw new Error("WithFormState must have a render or children prop that is a function.");t=this.props.children}let n=null;return this.warnBeforeDirtyUnmount()&&(n=c.createElement(l.e,{when:this.state.dirty&&!this.state.isSubmitting,message:Object(r.b)("project_updates.Are_you_sure_you_want_to_leave")})),c.createElement(c.Fragment,{},t(e),n)}}},"2DJ9":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var a=n("q1tI");const i=["9","10","12","14","15","16","20","24","30","36","48","small","medium","large"],r=e=>{if(i.includes(e))return["icon-".concat(e)];throw new Error("invalid size class")},o=a.forwardRef((e,t)=>{const n=e.name,i=e.label,o=e.size,s=void 0===o?"small":o,c=e.atoms,l=void 0===c?[]:c,d=e.defsElement,u=e.inlineFill,m=["svg-icon__".concat(n)].concat(r(s)).concat(l).join(" ");return a.createElement("svg",{ref:t,className:m,"aria-hidden":!i,"aria-label":i,fill:u},d&&d,a.createElement("use",{xlinkHref:"#".concat(n)}))})},"2UXI":function(e,t,n){"use strict";var a=n("prSB"),i=n("+2Rf"),r=n.n(i),o=n("S1QU"),s=n("CjI4"),c=n("/AD1"),l=n("WjF9"),d=n("0VSk");const u=window.device_attributes||{},m=()=>u.browserName,p=()=>u.browserVersion,h=()=>u.deviceName,b=()=>u.isBot,f=()=>u.osName,g=()=>u.osVersion;var v=n("aNAf");"true"===n("ZCIj").b.getItem("koala_debug")&&(window.koala_debug=!0);const k=e=>{const t=e.split("/");return t.length>=3?t[2]:""},y=()=>{const e=navigator.userAgent,t={is_ua_bot:b()},n=(e=>Object.keys(e).reduce((t,n)=>{const i=e[n];return"string"==typeof i&&0!=i.length?Object(a.a)({},t,{[n]:i}):t},{}))({$os:f(),os_version:g(),$browser:m(),browser_version:p(),$referrer:document.referrer,$referring_domain:k(document.referrer),$device:h(),user_agent:e}),i={$screen_height:screen.height,$screen_width:screen.width};return Object(a.a)({},n,{},i,{},t)},E=(e,t)=>{const n={event:e,properties:Object(a.a)({},y(),{},{distinct_id:Object(v.a)()},{},t)},i=JSON.stringify(n);return window.koala_debug&&(window.console.log("KOALA REQUEST:"),window.console.log(n)),r.a.ajax({type:"POST",url:window.koala_endpoint,data:i,contentType:"text/plain; charset=UTF-8"})};var _=E,O=(e,t,n)=>{r()(e).click(function(e){const a=this.href,i=2===e.which||e.metaKey||e.ctrlKey||"_blank"===this.target;let r;r="function"==typeof n?n(this):n;const o=new Promise(function(e){window.setTimeout(e,300),E(t,r).then(e)});i||(o.then(function(){window.location=a}),e.preventDefault())})},j=n("MgNI"),S=n("o3IG"),w=n("yQm5"),N=n.n(w),C=n("c6/r");n.d(t,"a",function(){return U}),n.d(t,"c",function(){return R}),n.d(t,"d",function(){return B}),n.d(t,"e",function(){return V}),n.d(t,"b",function(){return Y});const I=e=>1e3*e.valueOf(),T=e=>e/36e5,D=e=>T(e)/24,P=e=>{if(e&&"function"==typeof e.get){const t=Object(S.b)("ref_"+e.get("id"));if(t)return Object(C.a)(t).split("?")[0]}return!1},x=j.maybe.fromNullable(Object(S.b)("user_analytics_properties")).map(JSON.parse).getOrElse({}),A=e=>{let t=e.user,n=e.referrerCredit,i=e.ip,o=e.ipDatacenter,s=e.iosAppUUID,c=e.enabledFeatures,l=e.windowAndScreenData;return Object(a.a)({},l,{referrer_credit:n,client_type:r()("body.native-app-request").length?"native":"web",client_platform:r()("body.ios").length?"ios":r()("body.android").length?"android":void 0,device_format:r()("body.phone").length?"phone":r()("body.tablet").length?"tablet":"desktop",apple_pay_capable:r()("body.apple-pay-capable").length>0,android_pay_capable:r()("body.android-pay-capable").length>0,ip_address:i||null,ip_datacenter:o||null,user_logged_in:void 0!==t,user_chosen_currency:t?t.data.chosen_currency:null,user_uid:t&&"function"==typeof t.get?t.get("id"):null,iphone_uuid:s||void 0,enabled_features:Object.keys(c||{}),browser_language:d.default.browser_language,chosen_language:d.default.chosen_language,calculated_language:d.default.calculated_language,display_language:d.default.display_language},x,{mp_lib:"js"})},F=()=>({window_inner_width:window.innerWidth,window_inner_height:window.innerHeight,screen_width:screen.width,screen_height:screen.height,screen_avail_width:screen.availWidth,screen_avail_height:screen.availHeight}),R=(e,t)=>t?Object.keys(t).reduce((n,i)=>Object(a.a)({},n,{["".concat(e,"_").concat(i)]:t[i]}),{}):{},M=e=>{let t=e.user,n=e.project,i=e.currentTime,r=void 0===i?new Date:i;if(!n||"string"==typeof n)return{};const o="function"==typeof n.get?n.get():n,s=j.maybe.fromNullable(o.deadline).map(I).getOrElse(void 0),c=T(s-r)>0?T(s-r):0,l=o.pledged/o.goal,d={backers_count:o.backers_count,country:o.country,currency:o.currency,deadline:o.deadline,goal:o.goal,last_update_published_at:o.last_update_published_at,launched_at:o.launched_at,name:o.name,pid:o.id,pledged:o.pledged,profile_state:o.profile.state,state:o.state,updates_count:o.updates_count,hours_remaining:c,percent_raised:l,has_video:null!==o.video,duration:D(j.maybe.fromNullable(o.launched_at).map(I).getOrElse(0)-j.maybe.fromNullable(o.launched_at).map(I).getOrElse(0)),rewards_count:o.rewards?o.rewards.count:void 0,location:o.location?o.location.name:void 0,category_name:o.category?o.category.name:void 0,parent_category:j.maybe.fromNullable(o.category).map(e=>e.parent?e.parent.name:e.name).getOrElse(void 0)},u=R("project",d),m={user_is_backer:o.is_backing,user_has_starred:o.is_starred,user_is_project_creator:t&&"function"==typeof t.get&&t.get("id")===o.creator.id},p={display_currency:o.current_currency,display_exchange_rate:o.fx_rate};return Object(a.a)({},u,{},m,{},p)},L=e=>{if(!e||"string"==typeof e||"function"==typeof e.get&&(!e.get("amount")||!e.get("reward")))return{};const t="function"==typeof e.get?e.get():e,n={amount:t.amount,shipping_amount:t.shipping_amount,location_id:t.location_id},i=t.reward,r=i.estimated_delivery_on,o=i.id,s=i.minimum,c=i.reward,l=i.shipping_preference,d=i.shipping_enabled,u=R("reward",{estimated_delivery_on:r,id:o,minimum:s,reward:c,shipping_preference:l,shipping_enabled:d}),m=Object(a.a)({},n,{},u);return R("checkout",m)},U=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=r()("body").attr("id"),n=N()().query(!0).ref,i=document.URL,d=l.a||window.current_user,u=o.a,m=s.a,p=window.current_ip,h=window.current_ip_datacenter,b=window.ios_app_uuid,f=window.enabled_features,g=e.withoutCurrentProject?null:c.a,v=window.current_variants&&"string"!=typeof window.current_variants?{current_variants:window.current_variants}:{},k=P(g);return Object(a.a)({page_id:t,ref_tag:n,landing_page_url:i},M({user:d,project:g,currentTime:e.currentTime}),{},L(u),{},v,{},A({user:d,location:m,referrerCredit:k,ip:p,ipDatacenter:h,iosAppUUID:b,enabledFeatures:f,windowAndScreenData:F()}))},B=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Object(a.a)({},U(n),{},t);_(e,i)},V=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=l.a,d=i.withoutCurrentProject?null:c.a,u=s.a,m=window.current_ip,p=window.current_ip_datacenter,h=window.ios_app_uuid,b=window.enabled_features,f=P(d);window.setTimeout(function(){O(e,t,function(e){let t=r()(e);return Object(a.a)({selected_link:t.attr("data-original_text")?t.data("original_text"):r.a.trim(t.text()),page_id:r()("body").attr("id")},M({user:o,project:d}),{},A({user:o,location:u,referrerCredit:f,ip:m,ipDatacenter:p,iosAppUUID:h,enabledFeatures:b,windowAndScreenData:F()}),{},n)})},1)},Y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise(e=>{setTimeout(()=>{B(...t),e()},300)})};window&&(window.track=B)},"2gvo":function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"initializeData",function(){return f}),n.d(a,"closeComponent",function(){return g}),n.d(a,"selectOption",function(){return v}),n.d(a,"fieldChange",function(){return k}),n.d(a,"focusInput",function(){return y}),n.d(a,"highlightOption",function(){return E}),n.d(a,"keyDown",function(){return _}),n.d(a,"selectedValueUpdated",function(){return O}),n.d(a,"debounceFieldChange",function(){return j});var i=n("7cf5"),r=n("2DJ9"),o=n("RBqt"),s=n("94td"),c=n("SmhT"),l=n("4+Ta"),d=n("/IHD"),u=n("X+my"),m=n("sEfC"),p=n.n(m),h=n("q1tI"),b=n("CgNg");const f=(e,t)=>({type:"SEARCH_INPUT_INIT_DATA",optionValue:e,optionLabel:t}),g=()=>({type:"SEARCH_INPUT_CLOSE"}),v=(e,t)=>({type:"SEARCH_INPUT_OPTION_SELECT",optionValue:e,optionLabel:t}),k=e=>({type:"SEARCH_INPUT_FIELD_CHANGE",fieldValue:e}),y=()=>({type:"SEARCH_INPUT_FOCUS"}),E=(e,t)=>({type:"SEARCH_INPUT_OPTION_HIGHLIGHT",index:e,options:t}),_=(e,t)=>({type:"SEARCH_INPUT_KEY_DOWN",which:e,options:t}),O=e=>({type:"SEARCH_INPUT_SELECT_ON_VALUE_UPDATE",value:e}),j=e=>({type:"SEARCH_INPUT_DEBOUNCE_FIELD_CHANGE",fieldValue:e}),S=e=>"closed"===e.openState,w=e=>"open"===e.openState;var N=n("prSB"),C=n("0fse");const I=(e,t,n)=>{const a=Object(N.a)({},t,{highlightedIndex:null,openState:"closed",inputFieldValue:e.label,previousSelectedValue:{label:e.label,value:e.value},selectedValue:e.value});return Object(C.f)(a,C.a.action(n.selectedValueUpdated(e.value)))},T=(e,t,n,a)=>{const i=w(e)&&n.length>3,r=i?4:n.length,o=(t,a)=>{let o,s;switch(a){case c.b:o=null!==t?(t+1)%r:0,s=i&&o===r-1?e.selectedValue:n[o].value;break;case c.n:o=null!==t?(r+t-1)%r:r-1,s=i&&o===r-1?e.selectedValue:n[o].value;break;default:o=t,s=e.selectedValue}return{index:o,value:s,label:null!==o?n[o].label:""}},s=Object(N.a)({},e,{isKeyboardEngaged:!0});switch(t){case c.b:if(0===n.length)return e;const i=o(e.highlightedIndex,t),r=i.index,l=i.value,d=i.label;return Object(N.a)({},s,{highlightedIndex:r,selectedValue:l,inputFieldValue:d});case c.c:if(null===e.highlightedIndex){const t=""===e.selectedValue?e.selectedValue:e.previousSelectedValue.value,n=""===e.selectedValue?"":e.previousSelectedValue.label;return Object(N.a)({},s,{openState:"closed",selectedValue:t,inputFieldValue:n})}const u=n[e.highlightedIndex];return w(e)&&3===e.highlightedIndex?Object(N.a)({},s,{openState:"expanded",selectedValue:u.value,inputFieldValue:u.label}):I(u,s,a);case c.d:return Object(N.a)({},s,{highlightedIndex:null,openState:"closed",selectedValue:e.previousSelectedValue.value,inputFieldValue:e.previousSelectedValue.label});case c.n:if(0===n.length)return e;const m=o(e.highlightedIndex,t),p=m.index,h=m.value,b=m.label;return Object(N.a)({},s,{highlightedIndex:p,selectedValue:h,inputFieldValue:b});default:return s}};n.d(t,"a",function(){return P}),n.d(t,"b",function(){return R}),n.d(t,"c",function(){return M});const D=p()((e,t)=>{t(e)},500),P=e=>{let t=e.state,n=e.dispatch,a=e.id,r=e.options,o=Object(i.a)(e,["state","dispatch","id","options"]);return h.createElement(x,{state:t,focusInput:()=>n(y()),closeComponent:()=>n(g()),onOptionSelect:(e,t)=>n(v(e,t)),onFieldChange:e=>{n(k(e)),D(e,e=>n(j(e)))},onOptionHighlight:(e,t)=>n(E(e,t)),onKeyDown:(e,t)=>n(_(e,t)),id:a,options:r,moreResultsString:o.moreResultsString,resultsString:o.resultsString,theme:o.theme,placeholder:o.placeholder})},x=e=>{let t=e.state,n=e.closeComponent,a=e.focusInput,i=e.id,l=e.moreResultsString,d=void 0===l?Object(s.b)("search_input.more_results"):l,m=e.onFieldChange,p=e.onKeyDown,f=e.onOptionHighlight,g=e.onOptionSelect,v=e.options,k=e.placeholder,y=void 0===k?"":k,E=e.resultsString,_=void 0===E?e=>Object(s.b)("search_input.results",{count:e}):E,O=e.theme,j=void 0===O?u.a:O;return h.createElement("div",{onBlur:()=>{(e=>"expanded"===e.openState)(t)||n()}},S(t)&&""!==t.inputFieldValue?h.createElement("div",{className:"bg-white hover-shadow p2 pointer relative radius2px shadow-hover soft-black w100p border border-grey-400 h7 flex items-center",onFocus:a,tabIndex:0},h.createElement(o.a,{type:"body-100",atoms:["soft-black"]},t.inputFieldValue),h.createElement("div",{className:"absolute flex h100p items-center r2 t0"},h.createElement(r.a,{name:"icon--pencil",size:"14"}))):h.createElement("div",{className:"relative"},h.createElement(b.b,{id:i,autoComplete:"off",autoFocus:!S(t),placeholder:y,inputValue:t.inputFieldValue,onChange:m,onFocus:a,onKeyDown:(e,t)=>{if([c.n,c.b].includes(e)){if(t.altKey||t.shiftKey)return;t.preventDefault()}p(e,v)}}),""===t.inputFieldValue&&S(t)&&h.createElement("div",{className:"absolute flex h100p items-center r2 t0"},h.createElement(r.a,{name:"icon--search",size:"14",atoms:["fill-grey-500"]})),!S(t)&&[h.createElement("div",{key:"close-icon",onClick:n,className:"absolute flex h100p items-center r2 t0"},h.createElement(r.a,{atoms:["pointer"],name:"icon--cross",size:"14"})),h.createElement(A,{key:"options-list",onOptionHighlight:f,onOptionSelect:g,highlightedIndex:t.highlightedIndex,moreResultsString:d,isOpen:w(t),options:v,resultsString:_,theme:j,isKeyboardEngaged:t.isKeyboardEngaged})]))},A=e=>{let t=e.highlightedIndex,n=e.moreResultsString,a=e.isOpen,i=e.options,r=e.resultsString,s=e.theme,c=e.isKeyboardEngaged,l=e.onOptionSelect,u=e.onOptionHighlight;const m=Object(d.a)("absolute","bg-white","border-".concat(s["primary-light"]),"radius2px","mb10","mt1","p1","shadow-3","shadow-card","subhead-300","w100p"),p=r(i.length);return h.createElement("div",{className:"relative w100p z-dropdown-3"},h.createElement("div",{className:m},i.length>0?h.createElement("div",null,h.createElement(o.a,{type:"caption-200",atoms:["dark-grey-400","px2","pt1"]},p),h.createElement("ul",{style:{maxHeight:"19.8rem",overflowY:"scroll"},className:"relative"},(a?i.slice(0,3):i).map((e,n)=>h.createElement(F,{label:e.label,isHighlighted:t===n,key:"".concat(n.toString(),"-").concat(e),onMouseDown:()=>l(e.value,e.label),onMouseOut:()=>u(null,i),onMouseOver:()=>u(n,i),isKeyboardEngaged:c})),a&&i.length>3&&h.createElement(F,{color:s["primary-dark"],label:n,isHighlighted:3===t,onMouseDown:()=>l(null,null),onMouseOut:()=>u(null,i),onMouseOver:()=>u(3,i),isKeyboardEngaged:c}))):h.createElement("ul",null,h.createElement(F,{label:p}))))},F=e=>{let t=e.color,n=void 0===t?"soft-black":t,a=e.label,i=e.isHighlighted,r=void 0!==i&&i,s=e.onMouseDown,c=e.onMouseOut,l=e.onMouseOver,u=e.isKeyboardEngaged,m=void 0!==u&&u;const p=Object(d.a)("body-100","flex","items-center","h6","lh3","pointer","px2","transition-all",n,r&&"bg-grey-400");return h.createElement("li",{className:p,onMouseDown:s,onMouseOver:l,onMouseOut:c,ref:e=>{e&&e.parentElement&&r&&m&&(e.parentElement.scrollTop=e.offsetTop+e.offsetHeight-e.parentElement.offsetHeight)}},h.createElement(o.a,{type:"body-100"},a))},R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{highlightedIndex:null,openState:"closed",previousSelectedValue:{value:e,label:t},inputFieldValue:t,selectedValue:e,isKeyboardEngaged:!1}},M=Object(l.c)(P,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R(),t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;switch(t.type){case"SEARCH_INPUT_INIT_DATA":const a=null!==t.optionLabel?t.optionLabel:"",i=null!==t.optionValue?t.optionValue:"";return Object(N.a)({},e,{selectedValue:i,inputFieldValue:a,previousSelectedValue:{label:a,value:i}});case"SEARCH_INPUT_CLOSE":return Object(N.a)({},e,{highlightedIndex:null,openState:"closed",selectedValue:e.previousSelectedValue.value,inputFieldValue:e.previousSelectedValue.label});case"SEARCH_INPUT_FIELD_CHANGE":return Object(N.a)({},e,{highlightedIndex:null,inputFieldValue:t.fieldValue});case"SEARCH_INPUT_OPTION_SELECT":if(null===t.optionValue||null===t.optionLabel)return Object(N.a)({},e,{openState:"expanded"});const r={value:t.optionValue,label:t.optionLabel};return I(r,e,n);case"SEARCH_INPUT_FOCUS":return Object(N.a)({},e,{openState:"open",inputFieldValue:""});case"SEARCH_INPUT_OPTION_HIGHLIGHT":return Object(N.a)({},e,{highlightedIndex:t.index,inputFieldValue:null!==t.index?t.options[t.index].label:e.previousSelectedValue.label,isKeyboardEngaged:!1});case"SEARCH_INPUT_KEY_DOWN":return T(e,t.which,t.options,n);default:return e}},a)},"2hq0":function(e,t,n){"use strict";var a=n("cPJV"),i=n.n(a),r=n("OBTA"),o=n.n(r),s=n("fupu"),c=n.n(s);const l=e=>parseInt(i()(e,"ZZ"),10);n.d(t,"a",function(){return m});const d={"+02:00T":"CEST","+01:00F":"CET","+01:00T":"BST","-00:00F":"GMT","-03:00T":"ADT","-04:00F":"AST","-04:00T":"EDT","-05:00F":"EST","-05:00T":"CDT","-06:00F":"CST","-06:00T":"MDT","-07:00F":"MST","-07:00T":"PDT","-08:00F":"PST","-08:00T":"AKDT","-09:00F":"AKST","-09:00T":"HADT","-10:00F":"HAST","+11:00T":"AEDT","+10:00F":"AEST","+10:30T":"ACDT","+09:30F":"ACST","+09:00T":"AWDT","+08:00F":"AWST"},u=e=>{const t=i()(e,"Z")+(function(e){if(!c()(new Date(e)))throw"input is invalid";const t=l(e),n=l(o()(new Date(e),0)),a=l(o()(new Date(e),5));return t>n||t>a}(e)?"T":"F");if(void 0!==d[t])return d[t]},m=e=>(e=>{const t=e.toString().match(/\(([a-z]{3,4})\)/i);if(t)return t[1].toUpperCase()})(e)||u(e)||i()(e,"UTC Z")},"2lMS":function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var a=t.length;if(!a)return e;var i=a-1;return t[i]=(a>1?"& ":"")+t[i],t=t.join(a>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}},"39MV":function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"f",function(){return d});var a=n("94td"),i=n("zm9w");const r=(e,t)=>e?Object(a.b)("project_page.reward.Pledge",{amount:t}):Object(a.b)("project_page.reward.Pledge_or_more",{amount:t}),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();return null!==e&&e>=t},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();return null!==e&&e<=t},c=(e,t,n)=>i.a.money(Number(e),{currency:t,type:"truncate_zeros",usd_type:n}),l=(e,t)=>e.find(e=>e.location.id===t),d=(e,t)=>String(Number(e)+(t?Number(t.cost.amount):0))},"3D3T":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("prSB"),i=n("DjBF"),r=n("2DJ9"),o=n("q1tI"),s=n.n(o);const c=e=>{const t=e.headers,n=e.rows,c=e.columns,l=e.mobileComponent,d=e.limit,u=e.limitItemsName,m=e.onExpandOrCollapse,p=!!d&&n.length>d,h=Object(o.useState)(p?n.slice(0,d):n),b=Object(i.a)(h,2),f=b[0],g=b[1];if(Object(o.useEffect)(()=>{g(p?n.slice(0,d):n)},[n]),0===f.length)return null;const v=e=>{const n=0===e,i=e===t.length-1;return Object(a.a)({borderTopLeftRadius:n?"4px":"0",borderBottomLeftRadius:n?"4px":"0",borderTopRightRadius:i?"4px":"0",borderBottomRightRadius:i?"4px":"0"},c&&c[e].width?{width:"".concat(c[e].width,"%")}:{},{},c&&c[e].align?{textAlign:c[e].align}:{})},k=e=>Object(a.a)({maxWidth:"1px"},c&&c[e].width?{width:"".concat(c[e].width,"%")}:{},{},c&&c[e].align?{textAlign:c[e].align}:{});return s.a.createElement("div",{tabIndex:0,role:"group","aria-labelledby":"caption",className:"auto-scroll-x"},s.a.createElement("div",{className:"".concat(l&&"hide block-md")},s.a.createElement("div",{className:"border radius6px soft-black type-14"},s.a.createElement("table",{className:"w100p"},s.a.createElement("caption",{className:"for-screenreader"},e.caption),s.a.createElement("thead",null,s.a.createElement("tr",null,t.map((e,t)=>s.a.createElement("th",{key:t,scope:"col",className:"py2 px5 bold border-bottom",style:v(t)},e)))),s.a.createElement("tbody",null,f.map((e,t)=>s.a.createElement("tr",{className:"hover-bg-grey-200 ".concat(f.length-1!==t||p?"border-bottom":""),key:t},e.map((e,t)=>s.a.createElement("td",{key:t,className:"py2 px5",style:k(t)},e)))))),p&&s.a.createElement("button",{className:"w100p type-14 py2 mt2 blue-500 hover-blue-500",onClick:()=>{m&&m(),g(f.length===n.length?n.slice(0,d):n)}},"".concat(n.length===f.length?"Show less":"Show all").concat(u?" ".concat(u):""),s.a.createElement(r.a,{atoms:["ml1 fill-blue-500"],name:"icon--chevron-".concat(n.length===f.length?"up":"down"),size:"14"})))),l&&s.a.createElement("div",{className:"hide-md"},l))}},"3EZw":function(e,t,n){var a=n("6T1N"),i=8;function r(e,t,n){var o=a(e,i,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return o.placeholder=r.placeholder,o}r.placeholder={},e.exports=r},"3Hbt":function(e,t,n){"use strict";n.r(t),n.d(t,"cancelDeleteCaption",function(){return a}),n.d(t,"captionCreated",function(){return i}),n.d(t,"captionDeleted",function(){return r}),n.d(t,"closeShowingCaptions",function(){return o}),n.d(t,"confirmDeleteCaption",function(){return s}),n.d(t,"createCaptionResponse",function(){return c}),n.d(t,"deleteCaptionResponse",function(){return l}),n.d(t,"hydrateVideo",function(){return d}),n.d(t,"importTrack",function(){return u}),n.d(t,"importTrackResponse",function(){return m}),n.d(t,"noopAction",function(){return p}),n.d(t,"openShowingCaptions",function(){return h}),n.d(t,"reloadCaptions",function(){return b}),n.d(t,"reloadCaptionsResponse",function(){return f}),n.d(t,"updateCaptionSelect",function(){return g}),n.d(t,"videoUploaderInitialize",function(){return v});const a=()=>({type:"CANCEL_DELETE_CAPTION"}),i=(e,t)=>({type:"CAPTION_CREATED",availableLanguages:e,videoId:t}),r=()=>({type:"CAPTION_DELETED"}),o=()=>({type:"CLOSE_SHOWING_CAPTIONS"}),s=e=>({type:"CONFIRM_DELETE_CAPTION",captionId:e}),c=e=>({type:"CREATE_CAPTION_RESPONSE",response:e}),l=e=>({type:"DELETE_CAPTION_RESPONSE",response:e}),d=(e,t)=>({type:"HYDRATE_VIDEO",tracks:e,videoId:t}),u=(e,t)=>({type:"IMPORT_TRACK",fileInputId:e,trackTid:t}),m=e=>({type:"IMPORT_TRACK_RESPONSE",response:e}),p=()=>({type:"NOOP"}),h=()=>({type:"OPEN_SHOWING_CAPTIONS"}),b=()=>({type:"RELOAD_CAPTIONS"}),f=e=>({type:"RELOAD_CAPTIONS_RESPONSE",response:e}),g=e=>({type:"UPDATE_CAPTION_SELECT",subAction:e}),v=(e,t)=>({type:"VIDEO_UPLOADER_INITIALIZE",allCaptionLanguages:e,assetPath:t})},"3soH":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AttachedAsset"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"imageWidth"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"800"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assetWidth"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"600"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fingerprint"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"photoStatus"},name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"photoUrl"},name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"Variable",name:{kind:"Name",value:"imageWidth"}}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AttachedVideo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"renderedHtml"},arguments:[{kind:"Argument",name:{kind:"Name",value:"assetWidth"},value:{kind:"Variable",name:{kind:"Name",value:"assetWidth"}}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"videoStatus"},name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"videoUrl"},name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AttachedAudio"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"audioStatus"},name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"audioUrl"},name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateAsset"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateAssetInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"upload"},name:{kind:"Name",value:"createAsset"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"asset"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AttachedAudio"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AttachedVideo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteAsset"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteAssetInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteAsset"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clientMutationId"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UploadLimit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fileType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UploadLimitFiletype"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"uploadLimit"},name:{kind:"Name",value:"uploadLimit"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filetype"},value:{kind:"Variable",name:{kind:"Name",value:"fileType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentTypes"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"megabytes"},name:{kind:"Name",value:"fileSize"},arguments:[{kind:"Argument",name:{kind:"Name",value:"unit"},value:{kind:"EnumValue",value:"MEGABYTES"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"bytes"},name:{kind:"Name",value:"fileSize"},arguments:[{kind:"Argument",name:{kind:"Name",value:"unit"},value:{kind:"EnumValue",value:"BYTES"}}],directives:[]}]}}]}}],loc:{start:0,end:1060}};n.loc.source={body:"query AttachedAsset($id: ID!, $imageWidth: Int = 800, $assetWidth: Int = 600) {\n  node(id: $id) {\n    id\n    ... on Photo {\n      __typename\n      id\n      fingerprint\n      photoStatus: status\n      photoUrl: url(width: $imageWidth)\n    }\n    ... on AttachedVideo {\n      __typename\n      id\n      renderedHtml(assetWidth: $assetWidth)\n      videoStatus: status\n      videoUrl: url\n    }\n    ... on AttachedAudio {\n      __typename\n      id\n      audioStatus: status\n      audioUrl: url\n    }\n  }\n}\n\nmutation CreateAsset($input: CreateAssetInput!) {\n  upload: createAsset(input: $input) {\n    asset {\n      ... on AttachedAudio {\n        id\n      }\n      ... on AttachedVideo {\n        id\n      }\n      ... on Photo {\n        id\n      }\n    }\n  }\n}\n\nmutation DeleteAsset($input: DeleteAssetInput!) {\n  deleteAsset(input: $input) {\n    clientMutationId\n  }\n}\n\nquery UploadLimit($fileType: UploadLimitFiletype!) {\n  uploadLimit: uploadLimit(filetype: $fileType) {\n    contentTypes\n    megabytes: fileSize(unit: MEGABYTES)\n    bytes: fileSize(unit: BYTES)\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function r(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.AttachedAsset=r(n,"AttachedAsset"),e.exports.CreateAsset=r(n,"CreateAsset"),e.exports.DeleteAsset=r(n,"DeleteAsset"),e.exports.UploadLimit=r(n,"UploadLimit")},"4+Ta":function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u});var a=n("7cf5"),i=n("prSB"),r=n("9jZ4"),o=n("/IHD");const s=e=>(t,n)=>(a,i)=>{const r=void 0===a;return(i&&i.namespace)===e||r?t(a,i,n):a},c=e=>t=>(function(){const n=t(...arguments);return Object(i.a)({},n,{namespace:e})}),l=e=>t=>Object(r.d)(c(e),t),d=e=>t=>n=>t(Object(i.a)({},n,{namespace:e})),u=(e,t,n)=>(function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(o.c)(),c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=c.Component,m=void 0===u?e:u,p=c.reducer,h=void 0===p?t:p,b=c.actions,f=void 0===b?n:b;const g=s(r),v=d(r),k=l(r)(f);return{namespace:r,actions:k,reducer:g(h,k),Component:(e,t)=>{let n=e.dispatch,r=Object(a.a)(e,["dispatch"]);return m(Object(i.a)({dispatch:v(n)},r),t)}}})},"4LGs":function(e,t,n){"use strict";function a(e,t){const n="(?:".concat(Object.keys(e).join("|"),")"),a=RegExp(n),i=RegExp(n,"g");return a.test(t)?t.replace(i,t=>e[t]):t}n.d(t,"a",function(){return a})},"4sJn":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("q1tI");const i=e=>{let t=e.children,n=e.width,i=e.height,r=e.viewBox,o=e.atoms;const s=["inline-block","valign-middle"].concat(void 0===o?[]:o).join(" ");return a.createElement("svg",{style:{fill:"currentColor"},className:s,xmlns:"http://www.w3.org/2000/svg",width:n,height:i,viewBox:r},t)}},"5FPU":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("tr1H"),i=n("mv45"),r=n("pj8f"),o=n("q1tI"),s=n("dkkr");const c=e=>t=>n=>{if(Object(i.g)(n)){const t=e(n);return n.error&&r.Honeybadger.notify(n.error,{context:{tags:a.a.POST_UPDATES},__RATE_LIMIT__:1}),o.createElement(s.b,{primaryText:t.primaryText,secondaryText:t.secondaryText})}return o.createElement(t,n)}},"5iCJ":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateProjectUpdateRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"location"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ProjectUpdateRequestLocation"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createProjectUpdateRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"projectId"},value:{kind:"Variable",name:{kind:"Name",value:"projectId"}}},{kind:"ObjectField",name:{kind:"Name",value:"location"},value:{kind:"Variable",name:{kind:"Name",value:"location"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canUserRequestUpdate"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:249}};n.loc.source={body:"mutation CreateProjectUpdateRequest(\n  $projectId: ID!\n  $location: ProjectUpdateRequestLocation!\n) {\n  createProjectUpdateRequest(\n    input: { projectId: $projectId, location: $location }\n  ) {\n    project {\n      canUserRequestUpdate\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.CreateProjectUpdateRequest=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"CreateProjectUpdateRequest")},"5j0V":function(e,t,n){"use strict";let a;n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i}),function(e){e.backer_bar="backer_bar",e.comment="comment",e.updates="updates"}(a||(a={}));const i=n("5iCJ").CreateProjectUpdateRequest},"5sOR":function(e,t,n){var a=n("N4mw"),i=n("99Ms"),r=n("T8tx"),o=1,s=2,c=4,l=8,d=32,u=64;e.exports=function(e,t,n,m,p,h,b,f,g,v){var k=t&l;t|=k?d:u,(t&=~(k?u:d))&c||(t&=~(o|s));var y=[e,t,p,k?h:void 0,k?b:void 0,k?void 0:h,k?void 0:b,f,g,v],E=n.apply(void 0,y);return a(e)&&i(E,y),E.placeholder=m,r(E,e,t)}},"60hy":function(e,t,n){"use strict";var a=n("MgNI"),i=n("K+Nk");const r=(e,t)=>(e=>"string"==typeof e?a.result.Ok(e):a.result.Error(e))(t).chain(e=>a.result.try(()=>Object(i.a)(e))).map(e).getOrElse(t);var o=n("qcI4");n.d(t,"c",function(){return d}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return m});const s=e=>new o.c(e),c=e=>new o.e(e),l=e=>new o.f(e),d=e=>r(l,e),u=e=>r(c,e),m=e=>r(s,e)},62:function(e,t,n){n("bZMm"),n("LSZE"),n("ls82"),n("3Siy"),n("Wr5T"),n("U3M1"),e.exports=n("fivf")},"6KkN":function(e,t){var n="__lodash_placeholder__";e.exports=function(e,t){for(var a=-1,i=e.length,r=0,o=[];++a<i;){var s=e[a];s!==t&&s!==n||(e[a]=n,o[r++]=a)}return o}},"6T1N":function(e,t,n){var a=n("s0N+"),i=n("ieoY"),r=n("Rw8+"),o=n("a1zH"),s=n("0ADi"),c=n("KF6i"),l=n("q3TU"),d=n("99Ms"),u=n("T8tx"),m=n("Sxd8"),p="Expected a function",h=1,b=2,f=8,g=16,v=32,k=64,y=Math.max;e.exports=function(e,t,n,E,_,O,j,S){var w=t&b;if(!w&&"function"!=typeof e)throw new TypeError(p);var N=E?E.length:0;if(N||(t&=~(v|k),E=_=void 0),j=void 0===j?j:y(m(j),0),S=void 0===S?S:m(S),N-=_?_.length:0,t&k){var C=E,I=_;E=_=void 0}var T=w?void 0:c(e),D=[e,t,n,E,_,C,I,O,j,S];if(T&&l(D,T),e=D[0],t=D[1],n=D[2],E=D[3],_=D[4],!(S=D[9]=void 0===D[9]?w?0:e.length:y(D[9]-N,0))&&t&(f|g)&&(t&=~(f|g)),t&&t!=h)P=t==f||t==g?r(e,t,S):t!=v&&t!=(h|v)||_.length?o.apply(void 0,D):s(e,t,n,E);else var P=i(e,t,n);return u((T?a:d)(P,D),e,t)}},"6ae/":function(e,t,n){var a=n("dTAl"),i=n("RrRF");function r(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}r.prototype=a(i.prototype),r.prototype.constructor=r,e.exports=r},"7LsF":function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"imageUploaderInitialize",function(){return o}),n.d(a,"noopAction",function(){return s});var i=n("prSB"),r=n("mm3F");const o=(e,t,n,a)=>({createGraphFunction:e,deleteGraphFunction:t,onDelete:a,onSuccess:n,type:"IMAGE_UPLOADER_INITIALIZE"}),s=()=>({type:"NOOP"});var c=n("d8sA"),l=n("0fse"),d=n("4+Ta"),u=n("GRmu"),m=n("94td"),p=n("gN63");const h=(e,t)=>Object(p.c)((e=>"\n  query($id: ID!) {\n    node(id: $id) {\n      id\n      ... on Photo {\n        __typename\n        fingerprint\n        status\n        url(width: ".concat(e,")\n      }\n    }\n  }\n"))(t),{id:e}),b={error:Object(m.b)("library.ksr_json.Sorry_something_went_wrong_Weve_been_notified_and_are_looking")},f=(e,t)=>(function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();return t(n).then(e=>{if(e.data.upload)return e.data.upload.image.id;throw new Error("Mutation not renamed to `upload`")}).then(t=>e.uploadProcessingStart(t,a)).catch(()=>e.uploadFileFailure())}),g=e=>(function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:680;return h(t,n).then(n=>{if(!n.data)throw new Error("Received invalid data");const a=n.data.node;if(a.fingerprint)return e.uploadSuccess(a);if("PROCESSING"===a.status||"SUCCESSFUL"===a.status&&null===a.fingerprint)return new Promise(e=>{setTimeout(e,1e3)}).then(()=>e.reloadAsset(t)).catch(()=>e.uploadFileFailure());if("FAILED"===a.status)return e.uploadFileFailure();throw new Error("Received invalid asset status: ".concat(a.status))}).catch(()=>e.uploadFileFailure())}),v=(e,t)=>n=>t(n).then(()=>e.uploadReset()).catch(()=>(e=>(Object(u.a)(e),Object(r.noopAction)()))(b));var k=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.noopAction,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.noopAction,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.noopAction;return{create:f(e,t),read:g(e),destroy:v(e,n),onSuccess:a,onDelete:i}};var y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;switch(t.namespace&&(n=Object(d.b)(t.namespace)(n)),t.type){case"IMAGE_UPLOADER_INITIALIZE":const a=t.createGraphFunction,i=t.deleteGraphFunction,r=t.onSuccess,o=t.onDelete;return Object(l.f)(e,l.a.action(n.uploadInitialize(k(n,a,i,r,o))));default:return e}},E=n("MTFr");const _={changeFile:Object(m.b)("uploaders.Change_image"),deleteFile:Object(m.b)("uploaders.Delete_image"),deletingFile:Object(m.b)("uploaders.Deleting_image"),uploadCta:Object(m.b)("uploaders.Drop_an_image_here_or_select_a_file"),uploadCtaMobile:Object(m.b)("uploaders.Upload_an_image"),feelFreeToMoveOn:Object(m.b)("uploaders.Feel_free_to_move_on_image"),validFileTypes:Object(m.b)("uploaders.It_must_be_a_valid_image_file_type")};var O=n("qYa2"),j=n("X+my"),S=n("q1tI"),w=n.n(S);const N=e=>{let t=e.state,n=e.dispatch,a=e.theme,o=void 0===a?j.a:a,s=e.uploadLimit,c=e.BoundUploader,l=void 0===c?C:c;const d=Object(i.a)({},t.imageUpload,{},t.baseUpload);return w.a.createElement(l,{state:d,onDeleteAsset:()=>n(Object(r.deleteAsset)()),onDragLeave:()=>n(Object(r.fileDragEnded)()),onDragEnter:()=>n(Object(r.fileDragStarted)()),onDrop:e=>{n(Object(r.fileDragEnded)()),Object(O.a)(e)&&(e.preventDefault(),n(Object(r.uploadFileStart)(e.dataTransfer.files[0],n,s)))},onFileSelect:e=>n(Object(r.uploadFileStart)(e,n,s)),onUploadReset:()=>n(Object(r.uploadReset)()),onCloseDeleteAssetModal:()=>n(Object(r.closeDeleteAssetModal)()),onOpenDeleteAssetModal:()=>n(Object(r.openDeleteAssetModal)()),theme:o,uploadLimit:s})},C=Object(E.e)({EmptyState:e=>{let t=e.activeDragCounter,n=e.onDragLeave,a=e.onDragEnter,i=e.onDrop,r=e.onFileSelect,o=e.theme,s=e.uploadLimit;return w.a.createElement(E.a,{activeDragCounter:t,iconName:"icon--image",maxFileSizeText:Object(m.b)("uploaders.no_larger_than_file_size",{megabytes:s.megabytes}),onDragLeave:n,onDragEnter:a,onDrop:i,onFileSelect:r,theme:o,copyOverrides:_})},ProcessingState:e=>{let t=e.isDeleting,n=e.onFileSelect,a=e.theme,i=e.timeElapsed;return w.a.createElement(E.b,{isDeleting:t,onFileSelect:n,theme:a,timeElapsed:i,copyOverrides:_})},UploadSuccess:e=>{let t=e.onDeleteAsset,n=e.onFileSelect,a=e.onCloseDeleteAssetModal,i=e.onOpenDeleteAssetModal,r=e.state;const o=r.asset;return w.a.createElement(E.c,{onCloseDeleteAssetModal:a,onOpenDeleteAssetModal:i,displayImageUrl:o.url,onFileSelect:n,onDeleteAsset:t,state:r,copyOverrides:_})}});n.d(t,"d",function(){return I}),n.d(t,"c",function(){return T}),n.d(t,"b",function(){return D}),n.d(t,"a",function(){return N});const I=e=>Object(l.b)({baseUpload:Object(c.a)(e),imageUpload:y}),T=Object(i.a)({},r,{},a),D=Object(d.c)(N,I,T)},"8Np1":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("q1tI");const i={helvetica:{sizes:{"headline-500":"type-38 type-48-sm type-60-md type-100-lg","headline-400":"type-38 type-48-sm type-60-md type-80-lg","headline-300":"type-21 type-38-md type-48-lg","headline-200":"type-24 type-28-md type-38-lg","headline-100":"type-21 type-24-md type-28-lg","subhead-600":"type-18 type-21-md","subhead-500":"type-16 type-21-md","subhead-400":"type-14 type-21-md","subhead-300":"type-16 type-18-md","subhead-200":"type-14 type-18-md","body-200":"type-14 type-16-md","body-100":"type-13 type-14-md","caption-200":"type-12 type-13-md","caption-100":"type-12"},variants:{italic:"text-italic"},weights:{light:"light",normal:"normal",medium:"medium",bold:"bold"}}},r=e=>{let t=e.atoms,n=void 0===t?[]:t,r=e.children,o=e.color,s=e.font,c=void 0===s?i.helvetica:s,l=e.italic,d=void 0!==l&&l,u=e.level,m=e.style,p=e.tag,h=void 0===p?"span":p,b=e.type,f=e.weight,g=e.role;const v=u?"h".concat(u):h,k=(b?[c.sizes[b]]:[]).concat(o?[o]:[]).concat(d?[c.variants.italic]:[]).concat(f?[c.weights[f]]:[]).concat(n).join(" ");return a.createElement(v,{style:m,className:k,role:g,"aria-level":u},r)}},"8ZZx":function(e,t,n){"use strict";var a=n("pTxv"),i=n("3D3T"),r=n("2DJ9"),o=n("daZV"),s=n("mv45"),c=n("94td"),l=n("gN63"),d=n("zm9w"),u=n("dkkr"),m=n("5FPU"),p=n("a8OY"),h=n("JhfJ"),b=n("vtU4"),f=n("GnmY"),g=n("q1tI"),v=n("prSB"),k=n("4KRT"),y=n("1eGs");const E=(e,t)=>{let n=t.fetchMoreResult;const a=e&&e.project&&e.project.posts?e.project.posts.edges:[],i=n&&n.project&&n.project.posts?n.project.posts:[];return 0===i.length?e:Object(v.a)({},e,{project:Object(v.a)({},e.project,{posts:Object(v.a)({},e.project&&e.project.posts,{edges:[...a.edges,...i.edges],pageInfo:i&&i.pageInfo})})})},_=Object(s.c)(e=>{if(!e.data||!e.data.project)return Object(s.d)(e.data.error);const t=e.data.project.posts,n=t?t.pageInfo.endCursor:null,a=!!t&&t.pageInfo.hasNextPage,i=e.ownProps,r=i.state,o=i.projectSlug,c=(e=>e?e.map(e=>e&&e.node).filter(e=>e):[])(t&&t.edges),l=c.length,d=t&&t.totalCount||0;return Object(s.l)({posts:c,isFetchingMorePosts:e.data.loading,hasNextPage:a,postsShowing:l,totalPosts:d,fetchMorePosts:()=>e.data.fetchMore({query:y.c,variables:{cursor:n,state:r,projectSlug:o},updateQuery:E})})}),O=Object(k.c)(y.c,_),j=e=>{const t=e.type,n=e.isEditable,a=e.projectCreator,i=e.projectSlug,o=e.postId,s=e.title;return g.createElement("h2",{className:"type-16 mb1 mb0-md text-truncate"},g.createElement("a",{href:(()=>n?t===y.a.CreatorInterview?b.b.EDIT_CREATOR_INTERVIEW.url(a,i,o):b.b.EDIT_FREEFORM_POST.url(a,i,o):b.b.VIEW_POST.url(a,i,o))(),className:"soft-black bold hover-text-underline"},n&&g.createElement(r.a,{atoms:["fill-soft-black","pr2"],size:"36",name:"icon--pencil"}),s||Object(c.b)("project_updates.Untitled")))},S=()=>null,w=e=>d.a.time_ago_in_words(e);const N=Object(s.a)(h.a,O,Object(m.a)(()=>({primaryText:Object(c.b)("new_project_update.Updates_are_disabled"),secondaryText:Object(c.b)("new_project_update.This_project_is_hidden_suspended")})),p.b)(class extends g.Component{constructor(e){super(e),this.removePostFromList=e=>{this.setState({posts:this.state.posts.filter(t=>t.id!==e),totalPosts:this.state.totalPosts-1,postsShowing:this.state.postsShowing-1})},this.handleDelete=e=>{confirm(Object(c.b)("project_updates.Are_you_sure_you_want_to_delete_draft"))?this.props.onDeletePost({id:e}).then(()=>{this.removePostFromList(e)}):S()},this.renderDeleteButton=e=>g.createElement("div",{className:"text-right"},g.createElement("button",{className:"red-500 type-14",onClick:()=>this.handleDelete(e)},"Delete")),this.state={posts:this.props.posts,postsShowing:this.props.postsShowing,totalPosts:this.props.totalPosts}}componentDidUpdate(e){e.posts!==this.props.posts&&this.setState({posts:this.props.posts,postsShowing:this.props.postsShowing,totalPosts:this.props.totalPosts})}renderPagination(){return g.createElement(o.a,{buttonI18nKey:"project_updates.Load_more",remainingI18nKey:"project_updates.Showing_x_of_y_updates",totalCount:this.state.totalPosts,showingCount:this.state.postsShowing,pageSize:20,onClick:this.props.fetchMorePosts,loading:this.props.isFetchingMorePosts,hasMorePages:this.props.hasNextPage,atoms:["py6","w25p-md","m-auto","theme--support"]})}renderMobilePosts(){return g.createElement("ul",null,this.state.posts.map((e,t)=>g.createElement("li",{key:e.id,className:"pb3 mb3 border-bottom"},g.createElement(j,{key:"title-".concat(t),type:e.type,title:e.title,postId:Object(l.a)(e.id),isEditable:e.actions.edit,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}),g.createElement("div",{className:"flex items-center"},g.createElement("div",{className:"flex items-center mr3"},g.createElement(r.a,{size:"medium",name:"icon--calendar"}),g.createElement("span",{className:"ml1"},w(e.createdAt))),this.renderDeleteButton(e.id)))))}renderEmptyState(){return g.createElement(u.a,{primaryText:Object(c.b)("project_updates.You_havent_saved_any_drafts"),secondaryText:Object(c.b)("project_updates.Use_this_space_as_a_journal"),buttonText:Object(c.b)("project_updates.Post_update"),buttonUrl:b.b.NEW_FREEFORM_POST.url(this.props.projectCreator,this.props.projectSlug)})}renderDataTable(){return g.createElement(g.Fragment,null,g.createElement(i.a,{caption:Object(c.b)("project_updates.Draft_Posts"),headers:[Object(c.b)("project_updates.Title"),Object(c.b)("project_updates.Last_edit"),Object(c.b)("project_updates.Action")],columns:[{width:65,align:"left"},{width:15,align:"left"},{width:10,align:"right"}],rows:this.state.posts.map((e,t)=>[g.createElement(j,{key:"title-".concat(t),type:e.type,title:e.title,postId:Object(l.a)(e.id),isEditable:e.actions.edit,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}),w(e.createdAt),this.renderDeleteButton(e.id)]),mobileComponent:this.renderMobilePosts()}),this.renderPagination())}render(){return g.createElement(g.Fragment,null,g.createElement("div",{className:"flex mb2 justify-between items-baseline"},g.createElement("h1",{className:"type-18 text-normal"},Object(c.b)("project_updates.Drafts")),this.state.posts.length>0&&g.createElement(a.c,{theme:"support",onClick:()=>Object(f.h)("drafts_view"),href:b.b.NEW_FREEFORM_POST.url(this.props.projectCreator,this.props.projectSlug)},Object(c.b)("project_updates.Post_update"))),0===this.state.posts.length?this.renderEmptyState():this.renderDataTable())}});var C=n("1OuE"),I=n("XfPQ"),T=n("zjD3");const D=Object(s.a)(O,Object(m.a)(()=>({primaryText:Object(c.b)("new_project_update.Updates_are_disabled"),secondaryText:Object(c.b)("new_project_update.This_project_is_hidden_suspended")})),p.b)(class extends g.Component{constructor(){super(...arguments),this.state={likersModalId:"",likersModalShowing:!1}}renderMobilePosts(){return g.createElement("ul",null,this.props.posts.map(e=>g.createElement("li",{key:e.id,className:"pb3 mb3 border-bottom"},g.createElement(j,{title:e.title,type:e.type,postId:Object(l.a)(e.id),isEditable:e.actions.edit,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}),g.createElement("div",{className:"flex items-center"},g.createElement("div",{className:"flex items-center mr3"},g.createElement(r.a,{size:"medium",name:"icon--calendar"}),g.createElement("span",{className:"ml1"},Object(C.b)("MM/DD/YYYY",e.publishedAt))),g.createElement("div",{className:"flex items-center mr3"},g.createElement(r.a,{size:"medium",name:"icon--heart"}),g.createElement("span",{className:"ml1"},Object(T.a)(e.likesCount))),g.createElement("div",{className:"flex items-center"},g.createElement(r.a,{size:"medium",name:"icon--message"}),g.createElement("span",{className:"ml1"},Object(T.a)(e.commentsCount)))))))}renderPagination(){return g.createElement(o.a,{buttonI18nKey:"project_updates.Load_more",remainingI18nKey:"project_updates.Showing_x_of_y_updates",totalCount:this.props.totalPosts,showingCount:this.props.postsShowing,pageSize:20,onClick:this.props.fetchMorePosts,loading:this.props.isFetchingMorePosts,hasMorePages:this.props.hasNextPage,atoms:["py6","w25p-md","m-auto","theme--support"]})}renderEmptyState(){return g.createElement(u.a,{primaryText:Object(c.b)("project_updates.You_havent_published_an_update"),secondaryText:Object(c.b)("project_updates.Say_hello_share_some_news"),buttonText:Object(c.b)("project_updates.Post_update"),buttonUrl:b.b.NEW_FREEFORM_POST.url(this.props.projectCreator,this.props.projectSlug)})}renderLikeCount(e,t,n){return"-"===n?n:g.createElement("button",{className:"type-14 soft-black hover-ksr-green-400 hover-text-underline",onClick:()=>{Object(f.j)(t,"dashboard"),this.setState({likersModalId:e,likersModalShowing:!0})}},n)}renderDataTable(){return g.createElement(g.Fragment,null,g.createElement(i.a,{caption:Object(c.b)("project_updates.Published_Posts"),headers:[Object(c.b)("project_updates.Title"),Object(c.b)("project_updates.Published_date"),Object(c.b)("project_updates.Likes"),Object(c.b)("project_updates.Comments")],columns:[{width:61,align:"left"},{width:25,align:"left"},{width:7,align:"right"},{width:7,align:"right"}],rows:this.props.posts.map((e,t)=>[g.createElement(j,{key:"title-".concat(t),type:e.type,title:e.title,postId:Object(l.a)(e.id),isEditable:e.actions.edit,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}),Object(C.b)("MMMM D, YYYY",e.publishedAt),this.renderLikeCount(e.id,e.type,Object(T.a)(e.likesCount)),Object(T.a)(e.commentsCount)]),mobileComponent:this.renderMobilePosts()}),this.renderPagination())}render(){return g.createElement(g.Fragment,null,g.createElement("h1",{className:"type-18 text-normal mb4"},Object(c.b)("project_updates.Published")),0===this.props.posts.length?this.renderEmptyState():this.renderDataTable(),this.state.likersModalShowing&&g.createElement(I.a,{id:this.state.likersModalId,onClose:()=>this.setState({likersModalId:null,likersModalShowing:!1})}))}});n.d(t,"a",function(){return x});const P={path:"/projects/:projectCreator/:projectSlug/posts_dashboard",url:(e,t)=>"/projects/".concat(e,"/").concat(t,"/posts_dashboard")},x={POSTS_DASHBOARD:P,PUBLISHED_POSTS:{Component:D,path:"".concat(P.path,"/published"),url:(e,t)=>"/projects/".concat(e,"/").concat(t,"/posts_dashboard/published")},DRAFT_POSTS:{Component:N,path:"".concat(P.path,"/drafts"),url:(e,t)=>"/projects/".concat(e,"/").concat(t,"/posts_dashboard/drafts")}}},"8oY9":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("q1tI"),i=n.n(a),r=n("/IHD");const o=e=>{let t=e.label,n=e.id,a=e.errors,o=e.atoms;const s=Object(r.a)("atomic-text-label",a&&a.length>0&&"atomic-text-label--errored",o);return i.a.createElement("label",{htmlFor:n,className:s},t)}},"94td":function(e,t,n){"use strict";var a=n("XM0S"),i=n("prSB"),r=n("7cf5"),o=n("9jZ4"),s=n("q1tI"),c=n.n(s),l=n("+DSo");class d extends c.a.Component{shouldComponentUpdate(e){return!Object(o.h)(e,this.props)}render(){const e=this.props,t=e.i18nKey,n=e.i18nTag,a=void 0===n?"span":n,o=Object(r.a)(e,["i18nKey","i18nTag"]);let s=this.props.atoms||[],d=Object(l.c)(window.I18n,t,o);void 0===d&&(d=Object(l.d)(t),s=s.concat(["translation_missing"]),o.debug&&window.console.log("I18n key is missing: ",t));const u=d.split(l.b).reduce((e,t,n)=>{const a=n%2==0?t:o[t];return e.concat([a])},[]),m=s.length>0?{className:s.join(" ")}:{};return c.a.createElement(a,Object(i.a)({},m),...u)}}d.withCommonPrefix=e=>t=>{let n=t.i18nKey,a=Object(r.a)(t,["i18nKey"]);if(!e)throw new Error("commonPrefix not provided for Translate component");return c.a.createElement(d,Object.assign({},a,{i18nKey:"".concat(e).concat(n)}))};var u=d;n.d(t,"c",function(){return m}),n.d(t,"b",function(){return p}),n.d(t,"d",function(){return a.a}),n.d(t,"a",function(){return u}),n.d(t,"e",function(){return l.e});const m=window.I18n.locale,p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(a.a)(window.I18n,...t)}},"99Ms":function(e,t,n){var a=n("s0N+"),i=n("88Gu")(a);e.exports=i},"9jZ4":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"f",function(){return u}),n.d(t,"h",function(){return m});var a=n("DjBF"),i=n("prSB");const r=(e,t)=>Object.keys(t).reduce((n,a)=>e(a,t[a])?Object(i.a)({},n,{[a]:t[a]}):n,{}),o=e=>e.reduce((e,t)=>{let n=Object(a.a)(t,2),r=n[0],o=n[1];return Object(i.a)({},e,{[r]:o})},{}),s=(e,t)=>Object.keys(t).reduce((n,a)=>Object(i.a)({},n,{[a]:e(t[a])}),{}),c=(e,t)=>Object.assign({},...Object.keys(t).map(n=>e.includes(n)?null:{[n]:t[n]})),l=e=>{for(const t in e)return!1;return!0},d=e=>t=>t[e],u=e=>t=>e.reduce((e,t)=>e[t],t),m=(e,t)=>{if(Object.is(e,t))return!0;if("object"!=typeof e||null===t||"object"!=typeof e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(const a of n)if(!Object.prototype.hasOwnProperty.call(t,a)||!Object.is(e[a],t[a]))return!1;return!0}},"9mow":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("7cf5"),i=n("/IHD"),r=n("hPy8"),o=n("q1tI"),s=n.n(o);const c=e=>{const t=e.className,n=e.dataTestId,c=e.disabled,l=e.href,d=e.target,u=e.tooltip,m=e.type,p=Object(a.a)(e,["className","dataTestId","disabled","href","target","tooltip","type"]),h=Object(o.useContext)(r.d),b=e.href?"a":"button";let f,g;l?(f={href:l,target:d},g=h.link.atoms):(f={type:m,disabled:c},g=h.form.atoms);const v=Object(i.a)(t,g);return s.a.createElement(b,Object.assign({className:v,"data-tooltip":u,"data-test-id":n},f,p))}},Ak9l:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Posts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"state"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PostState"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"posts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"state"},value:{kind:"Variable",name:{kind:"Name",value:"state"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startCursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPreviousPage"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edit"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likesCount"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:696}};n.loc.source={body:"query Posts($projectSlug: String!, $state: PostState!, $cursor: String) {\n  project(slug: $projectSlug) {\n    posts(state: $state, first: 20, after: $cursor) {\n      totalCount\n      pageInfo {\n        startCursor\n        endCursor\n        hasNextPage\n        hasPreviousPage\n      }\n      edges {\n        cursor\n        node {\n          id\n          type\n          actions {\n            edit\n          }\n          title\n          publishedAt\n          createdAt\n          likesCount\n          ... on CreatorInterview {\n            commentsCount(withReplies: true)\n          }\n          ... on FreeformPost {\n            commentsCount(withReplies: true)\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.Posts=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"Posts")},CPM0:function(e,t,n){"use strict";var a=n("q1tI"),i=n.n(a),r=n("pQ8y");t.a=e=>{let t=e.enter,n=void 0===t?"fade-in":t,a=e.leave,o=void 0===a?"fade-out":a,s=e.appear,c=e.open,l=void 0===c||c,d=e.duration,u=void 0===d?300:d,m=e.durationLeave,p=e.durationAppear,h=e.component,b=void 0===h?"div":h,f=e.mountOnEnter,g=void 0===f||f,v=e.unmountOnExit,k=void 0===v||v,y=e.children;const E=b||i.a.Fragment;return i.a.createElement(r.a,{in:l,appear:!!s,timeout:{enter:u,exit:m||u,appear:p||u},classNames:{appear:"animation-".concat(p||u),appearActive:"animation-".concat(s||n),enter:"animation-".concat(u),enterActive:"animation-".concat(n),exit:"animation-".concat(m||u),exitActive:"animation-".concat(o)},mountOnEnter:g,unmountOnExit:k},i.a.createElement(E,null,y))}},CgNg:function(e,t,n){"use strict";n.d(t,"b",function(){return g}),n.d(t,"a",function(){return v});var a=n("prSB"),i=n("q1tI"),r=n("IVac"),o=n("RBqt"),s=n("/IHD"),c=n("O6Fj"),l=n.n(c),d=n("CPM0");const u=e=>{let t=e.charLimit,n=e.inputValue;const a=n?n.toString().length:0,r=a===t?"create-700":"dark-grey-500";return i.createElement("div",null,i.createElement(o.a,{type:"caption-200",atoms:[r]},a),i.createElement(o.a,{type:"caption-200",atoms:["dark-grey-500"]},"/"),i.createElement(o.a,{type:"caption-200",atoms:["dark-grey-500"]},t))},m=e=>{let t=e.text;return i.createElement(o.a,{atoms:["dark-grey-500","ml-auto"],type:"caption-200"},t)},p=e=>{let t=e.text;return i.createElement(o.a,{type:"caption-200",atoms:["create-700"]},t)},h=e=>{let t=e.text;return i.createElement(o.a,{type:"caption-200",atoms:["support-400","pr3"]},t)},b=e=>{let t=e.children,n=e.htmlFor,a=e.state;const o=Object(s.a)("atomic-text-label",Object(r.e)(a,n)&&"atomic-text-label--errored");return i.createElement("label",{htmlFor:n,className:o},t)},f=e=>{let t=e.children,n=e.htmlFor,a=e.fixedLabelPosition,r=void 0===a?"LEFT":a,o=e.atoms;const s=o&&o.join(" ");return i.createElement("label",{htmlFor:n,className:"".concat("RIGHT"===r?"atomic-text-label-fixed-right":"atomic-text-label-fixed"," ").concat(s)},t)},g=e=>{let t=e.ariaLabel,n=e.autoComplete,r=e.atoms,c=void 0===r?[]:r,d=e.autoExpandable,u=e.autoFocus,m=e.charLimit,p=e.children,h=e.currentFocus,b=e.disabled,g=e.disclaimer,y=e.feedback,E=e.fixedLabel,_=e.fixedLabelPosition,O=void 0===_?"LEFT":_,j=e.hasErrors,S=e.id,w=e.inputAtoms,N=void 0===w?[]:w,C=e.inputValue,I=e.label,T=e.max,D=e.min,P=e.minRows,x=e.mobileCta,A=e.name,F=e.onBlur,R=e.onChange,M=e.onFocus,L=e.onKeyDown,U=e.placeholder,B=e.required,V=e.step,Y=e.styles,q=e.type,H=void 0===q?"text":q,W=e.updateClientOnFocus,z=e.fixedLabelAtoms,K=void 0===z?[]:z,G=e.warning;const J=h===S,$=Object(s.a)(c),Q={"aria-label":t,autoComplete:n,autoFocus:u,"aria-required":B,className:Object(s.a)("atomic-text-input",...N,j&&"has-errors",E&&"LEFT"===O?"atomic-text-input-prefixed":E&&"atomic-text-input-prefixed-right",G&&"warning"),disabled:b,id:S,maxLength:m,name:A,onBlur:e=>{W&&W(null),F&&F(e)},onChange:e=>((e,t)=>{if(!R)return;const n=e.target.value;(t&&n.length<=t||!t)&&R(n,e)})(e,m),onFocus:e=>{W&&W(S),M&&M(e)},onKeyDown:e=>L&&L(e.which,e),placeholder:U,value:C,style:Y,required:B},Z="number"===H?{min:D,max:T,step:V}:{},X=Object(a.a)({},Q,{type:H},Z),ee=Object(a.a)({},Q,{rows:P||1});return h===S&&E&&K.push("focus"),i.createElement("div",{className:$},(I||g)&&i.createElement(v,{mobileCta:x,disclaimer:g,id:S,label:I,usesFixedLabel:!!E}),i.createElement("div",{className:"relative smart-input-group"},E&&i.createElement(f,{htmlFor:S,fixedLabelPosition:O,atoms:K},i.createElement(o.a,{type:"caption-200"},E)),d&&i.createElement(l.a,ee),P&&!d&&i.createElement("textarea",ee),!P&&!d&&i.createElement("input",Object.assign({},X,{style:Y}))),i.createElement(k,{children:p,charLimit:m,feedback:y,hasErrors:j,inputValue:C,showInputFooter:J,warning:G}))},v=e=>{let t=e.mobileCta,n=e.disclaimer,a=e.id,r=e.label,s=e.usesFixedLabel,c=void 0!==s&&s;const l=n?i.createElement(m,{text:n}):null,d=i.createElement(o.a,{atoms:["soft-black"],type:"body-100",weight:"medium"},r);let u=null;return r&&c?u=d:r&&!c&&(u=i.createElement(b,{htmlFor:a},d)),t?i.createElement("div",{className:"mb1"},i.createElement("div",{className:"flex justify-between hide-md"},i.createElement("div",null,u,l),i.createElement("div",null,t)),i.createElement("div",{className:"hide items-baseline flex-md"},u,l)):i.createElement("div",{className:"flex items-baseline mb1"},u,l)},k=e=>{let t=e.children,n=e.charLimit,a=e.feedback,r=e.hasErrors,o=e.inputValue,c=e.showInputFooter,l=e.warning;const m=Object(s.a)("h5",!l&&"clip","absolute","l0","t0","w100p");return i.createElement("div",{className:"relative w100p"},i.createElement("div",{className:m},i.createElement("div",{className:"absolute l0 t1 w100p"},i.createElement(d.a,{enter:"fade-in-and-down",leave:"fade-out-and-up",open:c},i.createElement("div",{className:"flex justify-between items-baseline"},i.createElement("div",null,!r&&l&&i.createElement(h,{text:l}),!r&&!l&&a&&i.createElement(p,{text:a})),n&&i.createElement(u,{charLimit:n,inputValue:o})))),r&&t&&i.createElement("div",{className:"absolute l0 t1 w100p"},t)))}},CjI4:function(e,t,n){"use strict";var a=n("60hy");const i=Object(a.b)(window.current_location);window.current_location=i,t.a=i},D1y2:function(e,t,n){var a=n("FZoo");e.exports=function(e,t,n){return null==e?e:a(e,t,n)}},DRAL:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var a=n("gN63");const i="\n  mutation($contentId: ID!, $details: String, $kind: FlaggingKind!) {\n    createFlagging(\n      input: {\n        contentId: $contentId,\n        details: $details,\n        kind: $kind\n      }\n    ) {\n      flagging {\n        kind\n      }\n    }\n  }\n",r=(e,t)=>{let n=e.details,r=e.kind;const o=Object(a.b)("Project",window.current_project.data.id);return Object(a.d)(i,{contentId:o,details:n,kind:r},{projectShareToken:t})}},DaKc:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatorInterview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"answers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"question"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:245}};n.loc.source={body:"query CreatorInterview($id: ID!) {\n  post(id: $id) {\n    id\n    ... on CreatorInterview {\n      answers {\n        nodes {\n          id\n          body\n          question {\n            id\n            body\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.CreatorInterview=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"CreatorInterview")},Ds2b:function(e,t,n){"use strict";var a=n("RBqt"),i=n("/IHD"),r=n("X+my"),o=n("q1tI"),s=n.n(o),c=n("dDCb");const l=e=>{let t=e.id,n=e.name,o=e.option,l=e.isSelected,d=e.onChange,u=e.onKeyDown,m=e.alwaysShowExpanded,p=e.theme,h=void 0===p?r.a:p;const b=o.expandedComponent,f=o.label,g=o.value,v=o.subheader,k=(m||l)&&b;return s.a.createElement("div",{className:Object(i.a)("border border-grey-400 hover-border-ksr-green-500 border-focused-ksr-green-500 no-outline","transition-300 mb1 radius2px"),"aria-checked":l,tabIndex:l?0:-1,role:"radio",onKeyDown:u},s.a.createElement("label",{htmlFor:t,className:"flex p3 pointer"},s.a.createElement("div",null,s.a.createElement("input",{type:"radio",name:n,id:t,value:g,className:"super-hide",onChange:d,checked:l,"aria-checked":l}),s.a.createElement("div",{className:"mt3px"},s.a.createElement(c.a,{isSelected:l,theme:h}))),s.a.createElement("div",{className:"grow1"},s.a.createElement(a.a,{type:"body-100",color:"soft-black",atoms:["block"],weight:"normal"},f),v&&s.a.createElement(a.a,{type:"caption-200",color:"dark-grey-500",weight:"normal"},v))),k&&s.a.createElement("div",{onClick:m?e=>d(e):()=>null,onKeyDown:()=>null,className:"border-grey-400 border-top p3 pointer"},b))};var d=n("SmhT");n.d(t,"a",function(){return u});class u extends s.a.Component{constructor(e){super(e),this.wrapperRef=void 0,this.wrapperRef=null}componentDidUpdate(e){const t=this.props.selectedIndex!==e.selectedIndex,n=this.wrapperRef.contains(document.activeElement);if(t&&n&&null!==this.props.selectedIndex){const e=this.wrapperRef.children[this.props.selectedIndex];null==e||e.focus()}}handleKeyDown(e,t){const n=this.props,a=n.onChange,i=n.radioGroupOptions;if(e.target!==e.currentTarget)return;e.preventDefault();const r=i.length-1;switch(e.keyCode){case d.g:case d.n:{const e=t-1>-1?t-1:r;return void a(i[e],e)}case d.k:case d.b:{const e=t+1<=r?t+1:0;return void a(i[e],e)}case d.l:return void a(i[t],t)}}render(){const e=this.props,t=e.id,n=e.radioGroupOptions,a=e.selectedIndex,i=e.onChange,o=e.alwaysShowExpanded,c=void 0!==o&&o,d=e.theme,u=void 0===d?r.a:d,m=n.map((e,n)=>{const r=a===n,o="".concat(t,"-radio-option-").concat(n);return s.a.createElement(l,{isSelected:r,alwaysShowExpanded:c,onChange:()=>i(e,n),onKeyDown:e=>this.handleKeyDown(e,n),option:e,key:o,id:o,name:t,theme:u})});return s.a.createElement("div",{id:t,role:"radiogroup",ref:e=>this.wrapperRef=e},m)}}},E2Se:function(e,t,n){"use strict";let a,i,r,o,s,c,l;n.d(t,"b",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"f",function(){return l}),function(e){e[e.Bold=0]="Bold",e[e.Italic=1]="Italic",e[e.Header=2]="Header",e[e.List=3]="List",e[e.Link=4]="Link",e[e.Image=5]="Image",e[e.Video=6]="Video",e[e.Audio=7]="Audio",e[e.Header2=8]="Header2",e[e.Header3=9]="Header3",e[e.Quote=10]="Quote",e[e.Normal=11]="Normal",e[e.Reward=12]="Reward"}(a||(a={})),function(e){e.icon="icon--unlink",e.id="unlink"}(i||(i={})),function(e){e.icon="icon--image",e.id="image"}(r||(r={})),function(e){e.icon="icon--video",e.id="video"}(o||(o={})),function(e){e.icon="icon--sound-hi",e.id="audio"}(s||(s={})),function(e){e.icon="icon--link",e.id="link"}(c||(c={})),function(e){e.icon="icon--conversion",e.id="reward"}(l||(l={}))},ECYc:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("n+nq"),i=n("pj8f"),r=n("qn6j");const o=async e=>{try{await fetch("/telegraf_requests",{method:"POST",body:JSON.stringify({authenticity_token:Object(a.b)(document),data:e}),credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-Token":Object(a.b)(document)}})}catch(e){i.Honeybadger.notify(e)}};let s=[],c=-1;function l(e,t,n){["increment","gauge","time"].includes(e)&&o([{method:e,name:t,value:n}])}l.batch=async e=>{const t=[],n={increment:async e=>{t.push({method:r.a.INCREMENT,name:e})},gauge:async(e,n)=>{t.push({method:r.a.GAUGE,name:e,value:n})},time:async(e,n)=>{const a=Date.now(),i=await n(),o=Date.now();return t.push({method:r.a.TIME,name:e,value:o-a}),i}},a=await e(n);return(e=>{clearTimeout(c),s=s.concat(e),c=window.setTimeout(()=>{o(s),s=[]},50)})(t),a},l.increment=e=>l.batch(t=>t.increment(e)),l.gauge=(e,t)=>l.batch(n=>n.gauge(e,t)),l.time=(e,t)=>l.batch(n=>n.time(e,t))},EHMl:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("prSB"),i=n("/IHD"),r=n("q1tI"),o=n.n(r);const s=o.a.forwardRef((e,t)=>{let n=e.hex,r=e.direction,s=e.size,c=e.className,l=e.style,d=void 0===l?{}:l;const u=Object(a.a)({},d,{borderWidth:s,borderRightColor:"left"===r?n:"transparent",borderTopColor:"bottom"===r?n:"transparent",borderLeftColor:"right"===r?n:"transparent",borderBottomColor:"top"===r?n:"transparent",borderStyle:"solid"}),m=Object(i.a)("block absolute w0 h0",{top:"b100p",bottom:"t100p",left:"r100p",right:"l100p"}[r],c);return o.a.createElement("div",{style:u,className:m,ref:t})})},ERuW:function(e,t,n){var a=n("JbSc"),i=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=a[t],r=i.call(a,t)?n.length:0;r--;){var o=n[r],s=o.func;if(null==s||s==e)return o.name}return t}},EldB:function(e,t,n){var a=n("dTAl"),i=n("GoyQ");e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=a(e.prototype),r=e.apply(n,t);return i(r)?r:n}}},EoiL:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("7cf5"),i=n("8Np1"),r=n("/IHD"),o=n("hPy8"),s=n("q1tI");const c=e=>{let t=e.level,n=void 0===t?3:t,c=Object(a.a)(e,["level"]);return s.createElement(o.c,null,e=>s.createElement(i.a,Object.assign({level:n},c,{atoms:Object(r.b)(c.atoms,e.header.atoms)}),c.children))}},FZoo:function(e,t,n){var a=n("MrPd"),i=n("4uTw"),r=n("wJg7"),o=n("GoyQ"),s=n("9Nap");e.exports=function(e,t,n,c){if(!o(e))return e;for(var l=-1,d=(t=i(t,e)).length,u=d-1,m=e;null!=m&&++l<d;){var p=s(t[l]),h=n;if(l!=u){var b=m[p];void 0===(h=c?c(b,p,m):void 0)&&(h=o(b)?b:r(t[l+1])?[]:{})}a(m,p,h),m=m[p]}return e}},GRmu:function(e,t,n){"use strict";(function(e){let a;a=void 0!==e?n("gMis").default:()=>void 0,t.a=a}).call(this,n("+2Rf"))},GnmY:function(e,t,n){"use strict";n.d(t,"q",function(){return s}),n.d(t,"i",function(){return c}),n.d(t,"o",function(){return l}),n.d(t,"r",function(){return d}),n.d(t,"s",function(){return u}),n.d(t,"n",function(){return m}),n.d(t,"p",function(){return p}),n.d(t,"l",function(){return h}),n.d(t,"m",function(){return b}),n.d(t,"h",function(){return f}),n.d(t,"c",function(){return g}),n.d(t,"t",function(){return v}),n.d(t,"b",function(){return k}),n.d(t,"d",function(){return y}),n.d(t,"e",function(){return E}),n.d(t,"f",function(){return _}),n.d(t,"j",function(){return O}),n.d(t,"g",function(){return j}),n.d(t,"k",function(){return S});var a=n("prSB"),i=n("2UXI"),r=n("q1tI"),o=n("Owp+");n.d(t,"a",function(){return o.a});const s=e=>{Object(i.d)("Update Tab Clicked",{type:e})},c=(e,t,n)=>{Object(i.d)("Post Like Toggle",Object(a.a)({},n?{post_state:"pinned"}:{},{toggled_to:t,type:e}))},l=e=>{Object(i.d)("Update Published",{type:e})},d=e=>{Object(i.d)("Update Tier Notification Change",{toggled_to:e})},u=e=>{Object(i.d)("Update Visibility Toggle",{toggled_to:e})},m=e=>{Object(i.d)("Update Preview",{type:e})},p=e=>{Object(i.d)("Update Save",{type:e})},h=e=>{Object(i.d)("Update Delete",{type:e})},b=e=>{Object(i.d)("Update Help",{type:e})},f=e=>{Object(i.d)("Post Create Clicked",{context:e})},g=(e,t)=>{Object(i.d)("Editor Tool Clicked",{tool_clicked:t,context:"post_edit_body",type:e})},v=e=>{Object(i.d)("Uploaded Video",{context:"post_edit_body",type:e})},k=e=>{let t=e.name,n=e.properties;return((e,t)=>{Object(r.useEffect)(()=>{Object(i.d)(e,t)},[])})(t,void 0===n?{}:n),null},y=e=>{Object(i.d)("Our Terms Clicked From PII Warning",{context:e})},E=(e,t)=>{Object(i.d)("Possible PII Warning Was Triggered",{context:e,post_id:t})},_=(e,t)=>{Object(i.d)("Possible PII Warning Was Removed",{context:e,post_id:t})},O=(e,t)=>{Object(i.d)("Update Likers Shown",{type:e,context:t})},j=(e,t)=>{Object(i.d)("Pinned Post",{type:e,context:t})},S=(e,t)=>{Object(i.d)("Unpinned Post",{type:e,context:t})}},HKes:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RewardModal"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"estimatedDeliveryOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isMaxPledge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shippingSummary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:323}};n.loc.source={body:"query RewardModal($slug: String!) {\n  project(slug: $slug) {\n    rewards {\n      nodes {\n        id\n        description\n        estimatedDeliveryOn\n        isMaxPledge\n        name\n        shippingSummary\n        startsAt\n        available\n        amount {\n          currency\n          amount\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.RewardModal=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"RewardModal")},IVac:function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"f",function(){return u}),n.d(t,"h",function(){return m}),n.d(t,"i",function(){return p}),n.d(t,"j",function(){return h}),n.d(t,"l",function(){return b}),n.d(t,"k",function(){return f}),n.d(t,"m",function(){return g}),n.d(t,"g",function(){return v}),n.d(t,"b",function(){return k}),n.d(t,"n",function(){return y});var a=n("prSB"),i=n("w/TO"),r=n("cDWt"),o=n("0fse");const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{touched:{},errors:{}},t=arguments.length>1?arguments[1]:void 0;return e.touched[t]&&!!e.errors[t]},c=e=>Object.assign({},...e.map(e=>({[e]:!0}))),l=(e,t,n,r)=>{const s=Object(i.a)(n);let c;return c=r?t=>t.forEach(t=>r(e,t)):e=>e,Object(o.f)(Object(a.a)({},e,{touched:Object(a.a)({},e.touched,{[t]:!0}),errors:s}),s[t]?o.a.run(c,{args:[s[t]]}):o.a.none)},d=(e,t,n)=>{const r=Object(i.a)(t);return Object(o.f)(Object(a.a)({},e,{touched:Object(a.a)({},c(e.fields)),errors:r}),n?o.a.run(n,{args:[e,r]}):o.a.none)},u=(e,t)=>e.length===t,m=e=>e&&e.match(/^.+@.+\..{2,}$/),p=e=>!isNaN(e),h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"==typeof e?e.trim().length>0:null!=e&&e.length>0},b=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{caseSensitive:!1};const a=n.caseSensitive;if(a)return-1===t.indexOf(e);return-1===t.map(e=>e.toLowerCase()).indexOf(e.toLowerCase())},f=e=>!!e&&p(e)&&u(e,4),g=e=>!!e&&p(e)&&u(e,5),v=e=>!!e&&/^[0-9]{2}-[0-9]{7}$/.test(e),k=e=>!!e&&/^(?:[^0-9]*[0-9]){5,16}[^0-9]*$/.test(e),y=(e,t,n)=>n()?Object(r.b)():Object(r.a)(new E({[e]:new _([t])}));class E{constructor(e){this.errors=e}concat(e){const t=Object.keys(this.errors).concat(Object.keys(e.errors)),n=t.filter((e,n)=>n===t.indexOf(e)).reduce((t,n)=>{const i=this.errors[n],r=e.errors[n],o=i&&r?i.concat(r):i||r;return Object(a.a)({},t,{[n]:o})},{});return new E(n)}}class _{constructor(e){this.value=e}concat(e){return new _(this.value||e.value)}}},Ig5p:function(e,t,n){e.exports={ary:n("v8vJ"),assign:n("WwFo"),clone:n("uM7l"),curry:n("3EZw"),forEach:n("gFfm"),isArray:n("Z0cm"),isError:n("PtqM"),isFunction:n("lSCD"),isWeakMap:n("gz5L"),iteratee:n("cWj/"),keys:n("A90E"),rearg:n("be4H"),toInteger:n("Sxd8"),toPath:n("0Bgb")}},JNOO:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Rewards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backersCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withActiveBackings"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backersCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"excludeInactive"},value:{kind:"BooleanValue",value:!0}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:336}};n.loc.source={body:"query Rewards($projectSlug: String!) {\n  project(slug: $projectSlug) {\n    id\n    slug\n    backersCount\n    rewards(withActiveBackings: true) {\n      nodes {\n        id\n        description\n        displayName\n        backersCount(excludeInactive: true)\n        amount {\n          amount\n          currency\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.Rewards=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"Rewards")},JbSc:function(e,t){e.exports={}},JhfJ:function(e,t,n){"use strict";var a=n("mv45"),i=n("4KRT");const r=n("Kwng"),o=r.LikePost,s=r.UnlikePost,c=r.DeletePost,l=r.PublishPost,d=r.PinPost,u=r.UnpinPost;n.d(t,"b",function(){return p}),n.d(t,"d",function(){return b}),n.d(t,"a",function(){return E}),n.d(t,"c",function(){return j});const m=Object(a.b)(e=>({onPinPost:t=>e.mutate({variables:{input:t}})})),p=Object(i.c)(d,m),h=Object(a.b)(e=>({onUnpinPost:t=>e.mutate({variables:{input:t}})})),b=Object(i.c)(u,h),f=Object(a.b)(e=>({onLikePost:t=>e.mutate({variables:{input:t}})})),g=Object(i.c)(o,f),v=Object(a.b)(e=>({onUnlikePost:t=>e.mutate({variables:{input:t}})})),k=Object(i.c)(s,v),y=Object(a.b)(e=>({onDeletePost:t=>e.mutate({variables:{input:t}})})),E=Object(i.c)(c,y),_=Object(a.b)(e=>({onPublishPost:t=>e.mutate({variables:{input:t}})})),O=Object(i.c)(l,_),j=Object(a.a)(g,k,E,O,p,b)},"K+Nk":function(e,t,n){"use strict";var a=n("eEls"),i=n("c6/r");const r=Object(a.a)(JSON.parse,i.a);t.a=r,window.parseEscapedJSON=r},KBQY:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("lTkF"),i=n("q1tI"),r=n.n(i);const o=(e,t)=>r.a.createElement(a.a,{format:e,date:t})},KF6i:function(e,t,n){var a=n("a5q3"),i=n("vN+2"),r=a?function(e){return a.get(e)}:i;e.exports=r},KQqk:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return c});var a=n("inqH"),i=n("pj8f"),r=n("NxQb"),o=n("rMRV"),s=n("q1tI");const c=s.memo(t=>{let c=t.onResize,l=t.content;return s.useEffect(()=>{Object(r.a)("lazysizes")&&n.e(51).then(n.t.bind(null,"s+lh",7));const t=e;if(t&&t.livequery&&t.livequery.run)try{t.livequery.run()}catch(e){i.Honeybadger.notify(e)}}),s.createElement("div",{className:"rte__content"},s.createElement(a.a,{onResize:c},Object(o.a)(l)))})}).call(this,n("+2Rf"))},KZo6:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return s});var a=n("/AD1"),i=n("WjF9");function r(){return{user_id:i.a&&i.a.get?i.a.get("id"):null,project_id:a.a&&a.a.get?a.a.get("id"):null}}const o=e=>btoa("".concat(e.name,": ").concat(e.message).substring(0,50)),s=/^file:\/\/|^http:\/\/localhost\/|^https:\/\/www\.optimizelyedit\.com\/|^https:\/\/translate\.googleusercontent\.com\/|^https:\/\/www\.translatoruser-int\.com\//,c=/Baidu|Chrome\/([1-6][0-9]|[7][0-4])|Firefox\/([1-5][0-9]|[6][0-7])\.|Edg|MSIE|SamsungBrowser|SogouMobileBrowser|Windows Phone OS|rv:11.0/,l=()=>!c.test(navigator.userAgent)},"Kfv+":function(e,t,n){var a=n("Yoag"),i=n("6ae/"),r=n("RrRF"),o=n("Z0cm"),s=n("ExA7"),c=n("xFI3"),l=Object.prototype.hasOwnProperty;function d(e){if(s(e)&&!o(e)&&!(e instanceof a)){if(e instanceof i)return e;if(l.call(e,"__wrapped__"))return c(e)}return new i(e)}d.prototype=r.prototype,d.prototype.constructor=d,e.exports=d},Kwng:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LikePost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LikePostInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"likePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isLiked"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlikePost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlikePostInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlikePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isLiked"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeletePost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePostInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PublishPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PublishPostInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publishPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PinPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PinPostInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pinPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pinnedAt"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnpinPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnpinPostInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unpinPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pinnedAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:742}};n.loc.source={body:"mutation LikePost($input: LikePostInput!) {\n  likePost(input: $input) {\n    post {\n      id\n      likesCount\n      isLiked\n    }\n  }\n}\n\nmutation UnlikePost($input: UnlikePostInput!) {\n  unlikePost(input: $input) {\n    post {\n      id\n      likesCount\n      isLiked\n    }\n  }\n}\n\nmutation DeletePost($input: DeletePostInput!) {\n  deletePost(input: $input) {\n    post {\n      id\n    }\n  }\n}\n\nmutation PublishPost($input: PublishPostInput!) {\n  publishPost(input: $input) {\n    post {\n      id\n    }\n  }\n}\n\nmutation PinPost($input: PinPostInput!) {\n  pinPost(input: $input) {\n    post {\n      id\n      pinnedAt\n    }\n  }\n}\n\nmutation UnpinPost($input: UnpinPostInput!) {\n  unpinPost(input: $input) {\n    post {\n      id\n      pinnedAt\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function r(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.LikePost=r(n,"LikePost"),e.exports.UnlikePost=r(n,"UnlikePost"),e.exports.DeletePost=r(n,"DeletePost"),e.exports.PublishPost=r(n,"PublishPost"),e.exports.PinPost=r(n,"PinPost"),e.exports.UnpinPost=r(n,"UnpinPost")},"L+5T":function(e,t,n){"use strict";var a=n("v83y"),i=n("poNw"),r=n("E+oP"),o=n.n(r),s=n("q1tI");const c=new a.CompositeDecorator([{strategy:(e,t,n)=>e.findEntityRanges(e=>{const t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()},t),component:e=>{let t=e.children,n=e.contentState,a=e.entityKey;const i=n.getEntity(a).getData().url;return s.createElement("a",{href:i},t)}}]);var l=n("W6lR");const d=(0,n("pXlz").convertFromHTML)({htmlToBlock:(e,t)=>{const n=t.parentNode,a=n.getAttribute("data-id");if(n&&n.classList.contains("reward")&&a){return{type:"atomic",data:{reward:Object(l.a)(n),type:"REWARD"}}}if(n&&n.classList.contains("oembed")){return{type:"atomic",data:{href:n.getAttribute("data-href"),rawHtml:n.innerHTML,type:"OEMBED"}}}if("figure"===e){const e=t.firstElementChild,i=n.getAttribute("data-alt-text"),r=n.getAttribute("data-caption");if(e&&"IMG"===e.nodeName){const t=n.parentNode;return{type:"atomic",data:{alt:i,caption:r,href:t&&"A"===t.nodeName&&t.href?t.href:void 0,id:a,src:e.getAttribute("src"),type:"IMAGE"}}}if(e&&"AUDIO"===e.nodeName){const t=e;return{type:"atomic",data:{id:a,sources:Array.from(t.getElementsByTagName("source")).reduce((e,t)=>{const n=t.getAttribute("type"),a=t.getAttribute("src");return n&&a&&(e[n]=a),e},{}),type:"AUDIO"}}}if(e&&"DIV"===e.nodeName&&(e.className.includes("video-player")||e.className.includes("processing"))&&e.parentNode){return{type:"atomic",data:{id:a,rawHtml:e.parentNode.innerHTML,type:"VIDEO"}}}}},htmlToEntity:(e,t,n)=>{if("a"===e){const e=t;if(e.firstChild&&"DIV"===e.firstChild.nodeName){return"template asset"===e.firstChild.className?null:n("LINK","MUTABLE",{url:e.href})}return n("LINK","MUTABLE",{url:e.href})}}});n.d(t,"b",function(){return u}),n.d(t,"a",function(){return m});const u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.content,n=void 0===t?"":t,a=e.attachableId,i=void 0===a?"":a,r=e.attachableAssoc,o=void 0===r?"":r,s=e.editorState;return{attachableId:i,attachableAssoc:o,currentModal:null,editorState:p(n,s),errors:"",key:0,imageAltText:"",imageCaption:"",imageId:null,imageSrc:null,imageUrl:"",showRemoveLink:!1,subjectBlock:null,linkText:null,linkUrl:null,showLoader:!1}},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0;return{story:u({content:e,attachableId:t,attachableAssoc:n,editorState:a}),imageUploader:{baseUpload:Object(i.a)(),imageUpload:{}}}},p=(e,t)=>t&&!o()(t)?t:""===e.trim()?a.EditorState.createEmpty(c):a.EditorState.createWithContent(d(e),c)},"L/h+":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("prSB"),i=n("q1tI");const r=e=>{let t=e.size,n=e.atoms,r=void 0===n?[]:n,o=e.imageUrl,s=e.alt,c=void 0===s?"user avatar":s,l=e.borderColor,d=void 0===l?"grey-500":l,u=e.style,m=void 0===u?{}:u;const p=t?["w".concat(t),"h".concat(t)]:[],h=d?["border","border-".concat(d)]:[],b=["avatar","inline-block","align-middle","radius100p"].concat(p).concat(h).concat(r).join(" "),f=Object(a.a)({},m,{textIndent:"100%",whiteSpace:"nowrap",overflow:"hidden"});return i.createElement("img",{className:b,style:f,src:o,alt:c})}},LdJi:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("q1tI");const i=e=>{let t=e.children,n=e.atoms,i=void 0===n?[]:n,r=e.full,o=void 0!==r&&r,s=e.id;const c=[o?"grid-container-full":"grid-container"].concat(i).join(" ");return a.createElement("div",{className:c,id:s},t)}},MMiu:function(e,t){var n=Math.max;e.exports=function(e,t,a,i){for(var r=-1,o=e.length,s=-1,c=a.length,l=-1,d=t.length,u=n(o-c,0),m=Array(u+d),p=!i;++r<u;)m[r]=e[r];for(var h=r;++l<d;)m[h+l]=t[l];for(;++s<c;)(p||r<o)&&(m[h+a[s]]=e[r++]);return m}},MTFr:function(e,t,n){"use strict";var a=n("q1tI"),i=n.n(a),r=n("2DJ9"),o=n("RBqt"),s=n("pTxv"),c=n("v9JK"),l=n("qAuv"),d=n("94td"),u=n("zm9w"),m=n("X+my"),p=n("/IHD"),h=n("qYa2");const b=(e,t,n,a)=>i.a.createElement("div",null,((e,t)=>i.a.createElement("span",null,i.a.createElement(o.a,{type:"body-100",atoms:["soft-black","book"]},i.a.createElement("span",{className:"hide block-md"},e),i.a.createElement("span",{className:"block hide-md"},t))))(e,t),i.a.createElement(o.a,{type:"caption-100",atoms:["block","dark-grey-500","book"]},n||"",n&&a?", ":"",a||"")),f=e=>{let t=e.activeDragCounter,n=e.iconName,a=e.maxFileSizeText,o=e.onDragLeave,s=e.onDragEnter,c=e.onDrop,l=e.onFileSelect,d=e.theme,u=e.copyOverrides,m=void 0===u?{}:u,f=e.fileAccept;const g=Object(h.d)(m),v=g.uploadCta,y=g.uploadCtaMobile,E=g.validFileTypes,_=b(v,y,E,a);return i.a.createElement("label",{className:"relative pointer w100p h100p",onDragLeave:o,onDragEnter:s,onDrop:c,onDragOver:e=>e.preventDefault()},i.a.createElement("div",{className:Object(p.a)("hide","block-md","bg-grey-100","hover-border-".concat(d["primary-light"]),"border","border-dashed","radius2px","w100p","h100p","transition-all","relative",t?"border-".concat(d["primary-light"]):"border-grey-500")},i.a.createElement(k,{onFileSelect:l,fileAccept:f}),i.a.createElement("div",{className:"flex flex-column items-center justify-center w100p h100p text-center"},i.a.createElement("div",{className:"w11 lh11 mb3 shadow-2 radius100p bg-white"},i.a.createElement(r.a,{name:n,size:"large",atoms:["valign-middle"]})),_)),i.a.createElement("div",{className:Object(p.a)("block","hide-md","bg-white","shadow-2","radius2px","w100p","h100p","relative",t>0&&"border border-".concat(d["primary-light"]))},i.a.createElement(k,{onFileSelect:l}),i.a.createElement("div",{className:"flex flex-column items-center justify-center w100p h100p text-center"},i.a.createElement(r.a,{name:n,size:"large"}),_)))};n.d(t,"h",function(){return g}),n.d(t,"g",function(){return v}),n.d(t,"d",function(){return k}),n.d(t,"c",function(){return y}),n.d(t,"b",function(){return _}),n.d(t,"f",function(){return w}),n.d(t,"e",function(){return I}),n.d(t,"a",function(){return f});const g={bytes:0,contentTypes:[],megabytes:0},v={changeFile:Object(d.b)("uploaders.Change_file"),deleteFile:Object(d.b)("uploaders.Delete_file"),deletingFile:Object(d.b)("uploaders.Deleting_file"),uploadCta:Object(d.b)("uploaders.Select_a_file"),uploadCtaMobile:Object(d.b)("uploaders.Upload_a_file"),feelFreeToMoveOn:Object(d.b)("uploaders.Feel_free_to_move_on_file"),validFileTypes:null},k=e=>{let t=e.atoms,n=void 0===t?[]:t,a=e.onFileSelect,r=e.tabIndex,o=void 0===r?0:r,s=e.fileAccept;return i.a.createElement("input",{accept:s,className:Object(p.a)(["absolute","t0","l0","w100p","h100p","z-1","keyboard-focusable",...n]),type:"file",tabIndex:o,onChange:e=>e.target.files&&e.target.files.length>0&&a(e.target.files[0])})},y=e=>{let t=e.onCloseDeleteAssetModal,n=void 0===t?C:t,a=e.onOpenDeleteAssetModal,o=void 0===a?C:a,l=e.displayImageUrl,u=e.state,m=e.onDeleteAsset,p=e.onFileSelect,b=e.SupplementalComponent,f=void 0===b?null:b,g=e.SupplementalComponentControl,v=void 0===g?null:g,y=e.copyOverrides,E=void 0===y?{}:y;const _=u.asset,O=u.isDeleting,j=u.isDisabled,S=u.isShowingDeleteAssetModal,w=void 0!==S&&S,N=Object(h.d)(E),I=N.changeFile,T=N.deleteFile,D=N.deletingFile;return i.a.createElement("div",null,i.a.createElement("div",{className:"bg-white shadow-2 p2 mb4"},i.a.createElement("div",{className:"aspect-ratio aspect-ratio--16x9"},_&&i.a.createElement("img",{className:"aspect-ratio--override border border-grey-400 radius2px",src:l,alt:Object(d.b)("uploaders.Preview_of_your_uploaded_file")})),i.a.createElement("div",{className:"mt2 flex flex-row justify-start items-center"},v,i.a.createElement(s.e,{atoms:["ksr-tooltip","tooltip-small"],theme:"support",size:"small",disabled:j,tooltip:I},i.a.createElement("label",{className:"pointer lh0"},i.a.createElement(k,{atoms:["text-indent100p"],tabIndex:-1,onFileSelect:p}),i.a.createElement(r.a,{name:"icon--upload",label:I}))),i.a.createElement(s.e,{atoms:["ml1"],theme:"support",size:"small",disabled:j,onClick:o},O?i.a.createElement(r.a,{name:"loading-spin",label:D}):i.a.createElement(r.a,{name:"trash",label:T}))),w&&i.a.createElement(c.a,{headerCopy:Object(d.b)("uploaders.Are_you_sure"),size:"small",onClose:n},i.a.createElement("p",{className:"m0 text-center"},Object(d.b)("uploaders.This_action_cannot_be_undone")),i.a.createElement(c.c,{theme:"destroy",onClick:m},T))),f)},E=e=>{let t=e.progress,n=e.theme;return i.a.createElement(w,{progress:t,barAtoms:["bg-".concat(n["primary-light"])],message:u.a.percent(t,{precision:0})})},_=e=>{let t=e.isDeleting,n=e.onFileSelect,a=e.theme,s=e.timeElapsed,c=e.copyOverrides,l=void 0===c?{}:c;const u=Object(h.d)(l).feelFreeToMoveOn;let m,p;return s>3e5?(m=Object(d.b)("uploaders.Finalizing"),p=i.a.createElement(d.a,{i18nKey:"uploaders.This_is_taking_longer_than_it_should",tryAgainButton:t?i.a.createElement(r.a,{name:"loading-spin"}):i.a.createElement("label",{className:"pointer red-500 inline-block"},i.a.createElement(k,{onFileSelect:n}),i.a.createElement(o.a,{type:"caption-200",atoms:[a["primary-dark"]]},Object(d.b)("uploaders.Try_again")))})):s>12e4?(m=Object(d.b)("uploaders.Still_processing"),p=u):(m=Object(d.b)("uploaders.Processing"),p=u),i.a.createElement(w,{barAtoms:["bg-".concat(a["primary-light"]),"animation-pulse","animation-500"],message:m,secondaryMessage:p})},O=e=>{let t=e.isDeleting,n=e.onTryAgain;return i.a.createElement(w,{barAtoms:["bg-red-500"],message:i.a.createElement(d.a,{i18nKey:"uploaders.Oh_no_upload_failed",retryButton:t?i.a.createElement(r.a,{name:"loading-spin"}):i.a.createElement("button",{className:"p0 red-500",onClick:n},i.a.createElement(o.a,{type:"body-200"},Object(d.b)("uploaders.Try_again_question")))})})},j=e=>{let t=e.errors,n=e.onUploadReset;const a=t.map((e,t)=>i.a.createElement(o.a,{key:"uploader-error-".concat(t),type:"body-200",color:"soft-block",atoms:["block"]},e));return i.a.createElement("div",{className:"w100p h100p p2 bg-white shadow-2 radius2px"},i.a.createElement("div",{className:"flex flex-column w100p h100p text-center"},i.a.createElement("div",{className:"grow1 justify-center flex items-center"},i.a.createElement("div",null,i.a.createElement(r.a,{name:"icon--alert",size:"large",atoms:["fill-red-500","mb1"]}),a)),i.a.createElement(s.e,{theme:"support",atoms:["w100p"],onClick:n},Object(d.b)("uploaders.Okay"))))},S=()=>{throw new Error("Implement me!")},w=e=>{let t=e.progress,n=void 0===t?100:t,a=e.barAtoms,r=void 0===a?[]:a,c=e.message,l=e.secondaryMessage,d=e.secondaryCTA,m=void 0===d?null:d;const h=Object(p.a)(n<100&&"bg-grey-400","my2 my4-md w100p"),b=u.a.percent(n/100*100,{precision:0});return i.a.createElement("div",{className:"w100p h100p"},i.a.createElement("div",{className:"flex flex-column items-center justify-center h100p px5 px7-md bg-white border border-dashed border-grey-500"},i.a.createElement(o.a,{type:"body-200",atoms:["dark-grey-500"]},c),i.a.createElement("div",{className:h,style:{height:"2px"}},i.a.createElement("div",{className:r.concat(["h100p","transition-all"]).join(" "),style:{width:b}})),l&&i.a.createElement(o.a,{type:"caption-200",color:"dark-grey-500",atoms:["text-center"]},l),m&&i.a.createElement(s.c,{type:"button",className:"type-14 text-underline mt1 dark-grey-500",onClick:m.action},m.message)))},N=e=>{let t=e.children;return i.a.createElement(l.a,{height:28,mdHeight:35},t)},C=()=>{},I=e=>{let t=e.UploadSuccess,n=void 0===t?S:t,a=e.FailureState,r=void 0===a?O:a,o=e.UploadingState,s=void 0===o?E:o,c=e.ProcessingState,l=void 0===c?_:c,d=e.EmptyState,u=void 0===d?f:d,p=e.InvalidState,h=void 0===p?j:p,b=e.Layout,v=void 0===b?N:b;return e=>{let t=e.state,a=e.onDeleteAsset,o=e.onDragLeave,c=e.onDragEnter,d=e.onDrop,p=e.onFileSelect,b=e.onUploadReset,f=e.onCloseDeleteAssetModal,k=void 0===f?C:f,y=e.onOpenDeleteAssetModal,E=void 0===y?C:y,_=e.theme,O=void 0===_?m.a:_,j=e.currentTime,S=void 0===j?Date.now():j,w=e.uploadLimit,N=void 0===w?g:w,I=e.videoOptions,T=void 0===I?{supportsCaptions:!1,onCloseShowingCaptions:C,onOpenShowingCaptions:C,importTrack:C,confirmDeleteCaption:C,updateCaptionSelect:C,captionCreated:C,cancelDeleteCaption:C,captionDeleted:C,videoId:null}:I;const D=t.activeDragCounter,P=t.isDeleting,x=t.progress,A=t.uploaderStatus,F="FAILED"===A,R="PROCESSING"===A,M="SUCCESSFUL"===A,L="UPLOADING"===A,U="INVALID"===A,B="EMPTY"===A||"MISSING"===A,V=null!==t.uploadedAt?S-t.uploadedAt:0;return M?i.a.createElement(n,{state:t,onFileSelect:p,onDeleteAsset:a,onCloseDeleteAssetModal:k,onOpenDeleteAssetModal:E,theme:O,videoOptions:T}):i.a.createElement(v,null,F&&i.a.createElement(r,{isDeleting:P,onTryAgain:a}),L&&i.a.createElement(s,{progress:x,theme:O}),R&&i.a.createElement(l,{isDeleting:P,onFileSelect:p,theme:O,timeElapsed:V}),U&&i.a.createElement(h,{errors:t.errors,onUploadReset:b}),B&&i.a.createElement(u,{activeDragCounter:D,onDragLeave:o,onDragEnter:c,onDrop:d,onFileSelect:p,iconName:"icon--upload",theme:O,uploadLimit:N}))}}},N4mw:function(e,t,n){var a=n("Yoag"),i=n("KF6i"),r=n("ERuW"),o=n("Kfv+");e.exports=function(e){var t=r(e),n=o[t];if("function"!=typeof n||!(t in a.prototype))return!1;if(e===n)return!0;var s=i(n);return!!s&&e===s[0]}},N83F:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("7cf5"),i=n("q1tI"),r=n("ocnG"),o=n("Qbqs");let s;!function(e){e.top="top",e.bottom="bottom",e.left="left",e.right="right"}(s||(s={}));const c=e=>{let t=e.children,n=e.direction,s=void 0===n?"top":n,c=e.start,l=void 0===c?"100%":c,d=e.end,u=void 0===d?0:d,m=Object(a.a)(e,["children","direction","start","end"]);return i.createElement(r.a,Object.assign({},m,{transitions:[Object(o.a)(),Object(o.c)({start:l,end:u,direction:s})]}),t)}},NxQb:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.enabled_features;return"string"==typeof t&&(t=JSON.parse(t)),!(!t||!t[e])}},Nz1K:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var a=n("qEcG"),i=n("W6lR"),r=n("KAy6"),o=n("q1tI"),s=n.n(o);const c=e=>{const t=null==e?void 0:e.includes("soundcloud"),n=document.createElement("div"),a='<div class="text-center clip mb5"><div class="my-6">'+(t?'<style class="embedly-css">\n        .soundcloud .card {\n          max-height: 250px;\n        }\n        .soundcloud .embedly-card iframe.embedly-card {\n          height: 220px;\n        }\n        .card iframe[title~=SoundCloud] {\n          height: unset;\n        }\n      </style>':"")+(t?'<div class="soundcloud">':"")+'<a href="'.concat(e,'" class="embedly-card" data-card-controls="0" data-card-width="100%"></a>')+(t?"</div>":"")+"</div></div>";return n.innerHTML=a,n},l=e=>{const t=document.createElement("div");return t.innerHTML=e,Array.prototype.slice.call(t.querySelectorAll(".oembed")).forEach(e=>{const t=e;e.parentNode&&e.parentNode.replaceChild(c(t.dataset.href).firstChild,e)}),Array.prototype.slice.call(t.querySelectorAll(".template.reward")).forEach(e=>{const t=e;if(e.parentNode){const n=Object(i.a)(t),o=document.createElement("div");o.innerHTML=Object(r.renderToStaticMarkup)(s.a.createElement(a.a,{previewMode:!1,reward:n})),e.parentNode.replaceChild(o.firstChild,e)}}),t.innerHTML}},OJn5:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n("ykeL"),i=n("g1y3"),r=n("z+X6"),o=n("sett"),s=n("q1tI");const c=e=>({type:"__RESET_EDITOR_STATE__",resetState:e}),l=(e,t)=>"__RESET_EDITOR_STATE__"===t.type?t.resetState:Object(i.d)(e,t),d=e=>{const t=e.story.editorState;return Object(a.stateToHTML)(t.getCurrentContent(),Object(i.b)(t))};class u extends s.Component{constructor(e){super(e),this.store=void 0,this.unsubscribe=void 0,this.previousValue=void 0,this.handleBlur=()=>{const e=this.store.getState(),t=d(e);this.previousValue=t,this.props.onBlur(t,e.story.editorState),this.forceUpdate(()=>{t!==this.props.value&&this.reset()})},this.dispatch=e=>{this.props.disabled||(this.store.dispatch(e),this.handleBlur())};const t=Object(i.c)(e.value,e.attachableId,e.attachableAssoc,e.editorState);this.store=Object(r.a)(l,t)}reset(){const e=Object(i.c)(this.props.value,this.props.attachableId);this.store.dispatch(c(e)),this.forceUpdate()}componentDidMount(){this.unsubscribe=this.store.subscribe(()=>this.forceUpdate())}componentWillUnmount(){"function"==typeof this.unsubscribe&&this.unsubscribe()}componentDidUpdate(e){(e.attachableId!==this.props.attachableId||e.value!==this.props.value&&this.previousValue!==this.props.value)&&this.reset()}render(){return s.createElement("div",{className:"mb1 type-16"},s.createElement(o.c,{dispatch:this.dispatch,state:this.store.getState(),placeholder:this.props.placeholder,hasErrors:this.props.hasErrors,hasWarnings:this.props.hasWarnings,ToolBar:this.props.ToolBar,tracking:this.props.tracking,checkForPossiblePII:this.props.checkForPossiblePII}))}}},"Owp+":function(e,t,n){"use strict";let a,i,r;n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),function(e){e.CreatorInterview="CreatorInterview",e.FreeformPost="FreeformPost"}(a||(a={})),function(e){e.collaborator="collaborator",e.creator="creator"}(i||(i={})),function(e){e.CANCELED="CANCELED",e.FAILED="FAILED",e.LIVE="LIVE",e.PURGED="PURGED",e.STARTED="STARTED",e.SUBMITTED="SUBMITTED",e.SUCCESSFUL="SUCCESSFUL",e.SUSPENDED="SUSPENDED"}(r||(r={}));const o=n("srCT").ViewPost},PhMr:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return t=>t[e](...n)}},PtqM:function(e,t,n){var a=n("NykK"),i=n("ExA7"),r=n("YO3V"),o="[object DOMException]",s="[object Error]";e.exports=function(e){if(!i(e))return!1;var t=a(e);return t==s||t==o||"string"==typeof e.message&&"string"==typeof e.name&&!r(e)}},Qbqs:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r});const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.start,n=void 0===t?0:t,a=e.end,i=void 0===a?1:a;return{entering:{opacity:n},entered:{opacity:i},exiting:{opacity:n},exited:{opacity:n}}},i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.start,n=void 0===t?0:t,a=e.end,i=void 0===a?1:a;return{entering:{transform:"scale(".concat(n,")")},entered:{transform:"scale(".concat(i,")")},exiting:{transform:"scale(".concat(n,")")},exited:{transform:"scale(".concat(n,")")}}},r=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.start,a=void 0===n?"100%":n,i=t.end,r=void 0===i?0:i,o=t.direction,s=void 0===o?"top":o;"top"===s||"bottom"===s?e="Y":"left"!==s&&"right"!==s||(e="X");const c="top"===s||"left"===s?"-":"",l="translate".concat(e,"(").concat(c).concat(a,")"),d="translate".concat(e,"(").concat(r,")");return{entering:{transform:l},entered:{transform:d},exiting:{transform:l},exited:{transform:l}}}},RBqt:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("8Np1"),i=n("q1tI");const r=e=>i.createElement(a.a,Object.assign({},e,{tag:"span"}),e.children)},RK67:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return o});const a="COMPONENT_ERROR",i="CUSTOM_ERROR",r=(e,t,n)=>({type:a,error:e,info:t,tags:n}),o=(e,t)=>({type:i,error:e,tags:t})},RrRF:function(e,t){e.exports=function(){}},"Rw8+":function(e,t,n){var a=n("heNW"),i=n("EldB"),r=n("a1zH"),o=n("5sOR"),s=n("V9aw"),c=n("6KkN"),l=n("Kz5y");e.exports=function(e,t,n){var d=i(e);return function i(){for(var u=arguments.length,m=Array(u),p=u,h=s(i);p--;)m[p]=arguments[p];var b=u<3&&m[0]!==h&&m[u-1]!==h?[]:c(m,h);return(u-=b.length)<n?o(e,t,r,i.placeholder,void 0,m,b,void 0,void 0,n-u):a(this&&this!==l&&this instanceof i?d:e,this,m)}}},S1QU:function(e,t,n){"use strict";var a=n("60hy"),i=n("2UXI");const r=Object(a.a)(window.current_checkout);r&&r.on_change(e=>{e.reward?Object(i.d)("Checkout Reward Changed"):void 0!==e.location_id?Object(i.d)("Checkout Location Changed"):e.shipping_amount?Object(i.d)("Checkout Shipping Amount Changed"):e.amount&&Object(i.d)("Checkout Amount Changed")}),window.current_checkout=r,t.a=r},SSiF:function(e,t,n){var a=n("q1tI"),i={display:"block",opacity:0,position:"absolute",top:0,left:0,height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none",zIndex:-1},r=function(e){var t=e.onResize,n=a.useRef();return function(e,t){a.useEffect(function(){var n=e.current&&e.current.contentDocument&&e.current.contentDocument.defaultView;return t(),n&&n.addEventListener("resize",t),function(){n&&"function"==typeof n.removeEventListener&&n.removeEventListener("resize",t)}},[])}(n,function(){return t(n)}),a.createElement("object",{type:"text/html",style:i,data:"about:blank",ref:n,"aria-hidden":!0,"aria-label":"resize-listener",tabIndex:-1})},o=function(e){return{width:null!=e?e.offsetWidth:null,height:null!=e?e.offsetHeight:null}};e.exports=function(e){void 0===e&&(e=o);var t=a.useState({width:null,height:null}),n=t[0],i=t[1],s=a.useCallback(function(t){return i(e(t.current))},[e]);return[a.useMemo(function(){return a.createElement(r,{onResize:s})},[s]),n]}},Sdzn:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var a=n("prSB");const i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";return e.map(e=>e[n]!==t[n]?e:Object(a.a)({},e,{},t))},r=(e,t)=>t+1===e.length,o=e=>e.sort(()=>Math.random()-.5)},SmhT:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"g",function(){return s}),n.d(t,"k",function(){return c}),n.d(t,"l",function(){return l}),n.d(t,"m",function(){return d}),n.d(t,"n",function(){return u}),n.d(t,"i",function(){return m}),n.d(t,"e",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"h",function(){return b}),n.d(t,"o",function(){return f}),n.d(t,"j",function(){return g});const a=8,i=40,r=13,o=27,s=37,c=39,l=32,d=9,u=38,m=2,p=74,h=75,b=[65,66,67,68,69,70,71,72,73,p,h,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],f=e=>e>=66&&e<=90,g=[18,91,93,17,i,r,o,s,c,16,d,u,91,92,93,17,224]},T3Mw:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var a=n("prSB"),i=n("7cf5"),r=n("q1tI"),o=n("UujG");const s=["h7","lh3","border-box"],c={placeholder:[...s],active:[...s],disabled:["border-grey-400","bg-grey-100"],enabled:["border-focused-within-ksr-green-500","hover-border-ksr-green-500"]},l=e=>{let t=e.atoms,n=Object(i.a)(e,["atoms"]);return r.createElement(o.a,Object.assign({atoms:Object(a.a)({},c,{},t)},n))}},T8n5:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("8Np1"),i=n("/IHD"),r=n("hPy8"),o=n("q1tI");const s=e=>o.createElement(r.c,null,t=>o.createElement(a.a,Object.assign({},e,{atoms:Object(i.b)(e.atoms,t.body.atoms),tag:"p"}),e.children))},T8tx:function(e,t,n){var a=n("ulEd"),i=n("2lMS"),r=n("wclG"),o=n("/lCS");e.exports=function(e,t,n){var s=t+"";return r(e,i(s,o(a(s),n)))}},TIPN:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"e",function(){return r}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l});var a=n("prSB");const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=document.getElementsByClassName("js-site-nav-container")[0],n=document.getElementsByClassName("js-admin-nav-wrap")[0],i=(t&&t.clientHeight||0)+(n&&n.clientHeight||0);return r(Object(a.a)({offset:i},e))},r=e=>{let t=e.element,n=void 0===t?document.scrollingElement||document.body:t,a=e.to,i=void 0===a?0:a,r=e.duration,s=void 0===r?1e3:r,c=e.easing,l=void 0===c?"easeInOutQuad":c,d=e.offset,u=void 0===d?0:d;const m=n.scrollTop,p=i-m-u;let h;return new Promise(e=>{const t=a=>{h||(h=a);const i=(a-h)/s,r=Math.max(0,Math.min(1,i));n.scrollTop=m+o[l](r)*p,r<1?window.requestAnimationFrame(t):e()};window.requestAnimationFrame(t)})},o={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;r({to:0,duration:e})},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;const a=document.getElementById(e);if(a){const e=a.getBoundingClientRect().top,i=window.pageYOffset||document.documentElement.scrollTop;r({to:e+i,offset:t,duration:n})}},l=e=>{let t=e.ref,n=e.offset,a=void 0===n?0:n,i=e.duration;if(t&&t.current){const e=t.current.getBoundingClientRect().top,n=window.pageYOffset||document.documentElement.scrollTop;r({to:e+n+1,offset:a,duration:i})}}},"Tge+":function(e,t,n){"use strict";n.d(t,"d",function(){return b}),n.d(t,"e",function(){return y}),n.d(t,"b",function(){return E}),n.d(t,"c",function(){return _}),n.d(t,"a",function(){return I});var a=n("prSB"),i=n("q1tI"),r=n.n(i),o=n("0fse"),s=n("SmhT"),c=n("eEls"),l=n("udTa"),d=n("/IHD"),u=n("2DJ9"),m=n("2UXI"),p=n("RBqt"),h=n("94td");const b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{isOpen:!1,currentIndex:e,highlightedIndex:e,isKeySelectionEngaged:!1}},f=()=>({type:"TOGGLE_SELECT"}),g=e=>{return{type:"ON_BLUR",currentTarget:e.currentTarget}},v=(e,t,n)=>({type:"CHANGE_SELECTED_INDEX",e:e,newSelectedIndex:t,trackingId:n}),k=e=>({type:"CHANGE_HIGHLIGHTED_INDEX",newHighlightedIndex:e}),y=e=>(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"TOGGLE_SELECT":const i=t.isOpen?j:O;return Object(o.f)(Object(a.a)({},t,{isOpen:!t.isOpen,highlightedIndex:t.currentIndex}),o.a.run(i,{args:[e]}));case"CLOSE_SELECT":return Object(o.f)(Object(a.a)({},t,{isOpen:!1}),o.a.run(j,{args:[e]}));case"ON_BLUR":return Object(o.f)(t,o.a.run(C,{args:[n.currentTarget]}));case"CHANGE_SELECTED_INDEX":const r=E(t,n.newSelectedIndex),s=r.currentIndex!==t.currentIndex?o.a.run(S,{args:[e,n.trackingId]}):o.a.none;return Object(o.f)(r,o.a.list([o.a.run(w,{args:[n.e]}),s],{batch:!0}));case"ON_KEYDOWN":return Object(o.f)(t,o.a.action(N(n.e,t.isOpen,n.options)));case"ON_VALID_KEYDOWN":return _(t,n.keyCode,n.options);case"CHANGE_HIGHLIGHTED_INDEX":return Object(a.a)({},t,{highlightedIndex:n.newHighlightedIndex});case"NOOP":default:return t}}),E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.highlightedIndex;return t!==e.currentIndex?Object(a.a)({},e,{currentIndex:t,isOpen:!1,isKeySelectionEngaged:!1}):Object(a.a)({},e,{isOpen:!1,isKeySelectionEngaged:!1})},_=(e,t,n)=>{if(Object(s.o)(t)){const i=n.findIndex(e=>e.label.charAt(0).toUpperCase().charCodeAt(0)==t);return Object(a.a)({},e,{currentIndex:i,highlightedIndex:i,isKeySelectionEngaged:!0})}switch(t){case s.l:return e.isOpen?E(e):Object(a.a)({},e,{isOpen:!0});case s.c:return e.isOpen?E(e):Object(a.a)({},e);case s.d:return Object(a.a)({},e,{isOpen:!1,highlightedIndex:e.currentIndex,isKeySelectionEngaged:!1});case s.n:const i=e.highlightedIndex-1,r=0,o=Math.max(i,r);return Object(a.a)({},e,{highlightedIndex:o,isKeySelectionEngaged:!0});case s.b:const c=n.length-1,l=e.highlightedIndex+1,d=Math.min(l,c);return Object(a.a)({},e,{highlightedIndex:d,isKeySelectionEngaged:!0});default:return e}},O=e=>{Object(m.d)("Opened Select",{context:e})},j=e=>{Object(m.d)("Closed Select",{context:e})},S=(e,t)=>{Object(m.d)("Selected Item",{context:e,id:t})},w=e=>{e.stopPropagation()},N=(e,t,n)=>{const a=[s.c,s.l,s.d,s.b,s.n,...s.h];return e.which===s.m&&t?(e.preventDefault(),{type:"NOOP"}):a.includes(e.which)?(e.preventDefault(),((e,t)=>({type:"ON_VALID_KEYDOWN",keyCode:e,options:t}))(e.which,n)):{type:"NOOP"}},C=Object(l.a)(0,e=>e.contains(document.activeElement)?{type:"NOOP"}:{type:"CLOSE_SELECT"}),I=e=>{let t=e.atoms,n=void 0===t?[]:t,a=e.placeholder,i=e.state,o=e.onStateChange,s=e.onBlur,l=e.options,u=e.small,m=e.titleString,p=e.toLabel,h=e.toId,b=e.hasErrors,y=void 0!==b&&b,E=e.shadow,_=void 0===E||E;const O=i.isOpen,j=i.currentIndex,S=i.highlightedIndex,w=u?"h7":"h9",N=u?"body-100":"subhead-300",C=u?"py1":"py2",I=u?"px2 px3-sm":"px3",P=Object(d.a)("absolute","w100p","shadow-3","border","shadow-card","scroll-y","max-h50","p1","bg-white","mt1","mb10","radius2px","z-dropdown-3","border-box",N,n,"border-soft-black",!O&&"visually-hide"),x=null!==j?l[j]:null,A=l.map((e,t)=>{const n=j===t,a=S===t;return r.a.createElement(D,Object.assign({key:t,onOptionSelect:Object(c.a)(o,v),onOptionHover:Object(c.a)(o,k)},{option:e,index:t,isCurrent:n,isHighlighted:a,isOpen:O,toLabel:p,toId:h,typeSize:N,yPaddingClass:C}))}),F=Object(c.a)(o,g,e=>(s&&s(),e));return r.a.createElement("div",{className:"navy-700"},m&&r.a.createElement("label",{className:"type-13 type-14-md medium mb2 soft-black","aria-hidden":"true"},m),r.a.createElement("div",{role:"listbox","aria-labelledby":"custom-select-heading-label",onBlur:F,onKeyDown:Object(c.a)(o,e=>((e,t)=>({type:"ON_KEYDOWN",options:e,e:t}))(l,e)),className:"relative w100p pointer input-keyboard-focusable-soft-black"},r.a.createElement(T,{onDropdownContainerClick:Object(c.a)(o,f),label:x?p(x):a,color:x?"soft-black":"dark-grey-500",heightSize:w,shadow:_,typeSize:N,yPaddingClass:C,xPaddingClasses:I,hasErrors:y}),r.a.createElement("ul",{className:P,role:"presentation"},A)))},T=e=>{let t=e.color,n=e.heightSize,a=e.hasErrors,i=e.label,o=e.onDropdownContainerClick,s=e.shadow,c=e.typeSize,l=e.yPaddingClass,m=e.xPaddingClasses;const b=s?"border-transparent":"border-grey-400",f=Object(d.a)(s&&"shadow-hover","border",a?"border-red-400":b,"hover-border-soft-black","transition-all","radius2px",l,m,"bg-white flex","items-center",s&&"shadow-2",n,"input-keyboard-focusable-soft-black");return r.a.createElement("div",{className:f,onClick:o,"aria-hidden":"true","aria-label":Object(h.b)("components.custom_select.select_an_option"),tabIndex:"0"},r.a.createElement(p.a,{id:"custom-select-heading-label",type:c,atoms:["grow1","text-truncate","pr1","book",t]},i),r.a.createElement(u.a,{name:"delta-down",size:"10",atoms:["shrink0"]}))},D=e=>{let t=e.option,n=e.index,a=e.isOpen,i=e.onOptionSelect,o=e.onOptionHover,s=e.isCurrent,c=e.isHighlighted,l=e.toLabel,d=e.toId,m=e.typeSize,h=e.yPaddingClass;const b=["px2 flex items-center transition-all lh3 soft-black"].concat(c?["bg-grey-400"]:[]).concat([h]).join(" ");return r.a.createElement("li",{role:"option",tabIndex:a?"0":"-1","aria-selected":s,onClick:e=>i(e,n,d(t)),onMouseOver:()=>o(n),className:b,onKeyDown:()=>{},onFocus:()=>{}},r.a.createElement(p.a,{id:"custom-select-heading-label",type:m,atoms:["mr2"]},l(t)),s&&r.a.createElement("span",{className:"radius100p shrink0 h3 w3 bg-ksr-green-400 inline-flex justify-center items-center"},r.a.createElement(u.a,{name:"check",size:"9",atoms:["relative","fill-white"]})))}},UEZD:function(e,t,n){"use strict";var a=n("prSB"),i=n("v83y"),r=n("SmhT"),o=n("/IHD"),s=n("q1tI"),c=n.n(s);class l extends s.Component{constructor(){super(...arguments),this.timeoutID=void 0,this.state={isMenuOpen:!1},this.onCloseMenu=()=>{this.setState({isMenuOpen:!1})},this.onOpenMenu=()=>{this.setState({isMenuOpen:!0})},this.onToggleMenu=()=>{this.state.isMenuOpen?this.onCloseMenu():this.onOpenMenu()},this.onBlur=()=>{this.timeoutID=setTimeout(()=>{this.state.isMenuOpen&&this.onCloseMenu()},0)},this.onFocus=()=>{clearTimeout(this.timeoutID),this.state.isMenuOpen||this.onOpenMenu()},this.onKeyDown=e=>{e.keyCode===r.d&&this.onCloseMenu()}}render(){return s.createElement("div",{role:"dialog",className:Object(o.a)("relative",...this.props.atoms?this.props.atoms:[]),onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeyDown},this.props.label({isMenuOpen:this.state.isMenuOpen,onOpenMenu:this.onFocus,onCloseMenu:this.onBlur}),this.state.isMenuOpen&&this.props.dropdown({isMenuOpen:this.state.isMenuOpen,onCloseMenu:this.onBlur}))}}var d=n("2DJ9"),u=n("94td"),m=n("kZzg"),p=n("bvYH"),h=n("1uWx"),b=n("kKlT"),f=n("b8Ld"),g=n("E2Se");n.d(t,"c",function(){return v}),n.d(t,"b",function(){return k}),n.d(t,"a",function(){return y});const v=[g.b.Bold,g.b.Italic,g.b.Header,g.b.List,g.b.Link,g.b.Image,g.b.Video,g.b.Audio,g.b.Header2,g.b.Header3,g.b.Quote],k=e=>{const t=e.atoms,n=void 0===t?[]:t,r=e.editorState,s=e.dispatch,m=e.controls,k=void 0===m?v:m,y=e.showRemoveLink,E=e.isSticky,_=void 0===E||E,O=e.tracking,j=e.topMargin,S=e.setCurrentModal,w=e.headerDropdownEnabled,N=r.getCurrentInlineStyle(),C=r.getSelection(),I=r.getCurrentContent().getBlockForKey(C.getStartKey()).getType(),T=e=>s(Object(p.q)(i.RichUtils.toggleInlineStyle(r,e))),D=e=>s(Object(p.q)(i.RichUtils.toggleBlockType(r,e))),P=e=>{O&&"function"==typeof O.editorToolClicked&&O.editorToolClicked(e)},x=Object(o.a)("z1 bg-white border-bottom border-grey-400 flex items-center px3 scroll-x visible-x-sm",_&&"stick border-bottom",j,...n),A={[h.n.style.toString()]:Object(a.a)({},h.n,{component:h.m,atoms:Object(o.a)("")}),[h.h.style.toString()]:Object(a.a)({},h.h,{component:h.g,atoms:Object(o.a)("h1")}),[h.d.style.toString()]:Object(a.a)({},h.d,{component:h.c,atoms:Object(o.a)("h2")}),[h.f.style.toString()]:Object(a.a)({},h.f,{component:h.e,atoms:Object(o.a)("h3")}),[h.p.style.toString()]:Object(a.a)({},h.p,{component:h.o,atoms:Object(o.a)("blockquote")})},F=Object.keys(A).includes(I)?A[I]:A.unstyled,R=c.a.createElement(l,{atoms:["h100p","w100p"],label:e=>{let t=e.isMenuOpen,n=e.onCloseMenu,a=e.onOpenMenu;return c.a.createElement("div",{className:"h100p flex justify-between items-center",onClick:t?n:a,role:"button"},F&&c.a.createElement("span",{className:"pr6 bold type-14"},F.label),c.a.createElement(d.a,{atoms:["pb1px"],name:"icon--delta-down",size:"15"}))},dropdown:()=>c.a.createElement("ul",{className:"w100p absolute bg-white w163px flex flex-column items-start border-box",style:{boxShadow:"0px 12px 16px rgba(0, 0, 0, 0.12)"}},Object.values(A).map((e,t,n)=>{const a=e.component;return c.a.createElement("li",{key:"header-dropdown-".concat(e.id),className:Object(o.a)("flex1 w100p border-support-300 border-left border-right border-top hover-bg-support-100 px3",t===n.length-1&&"border-bottom")},c.a.createElement(a,{isActive:I===e.style,onClick:()=>{D(e.style)},headerDropdownEnabled:w}))}))});return c.a.createElement("div",{className:x},w?c.a.createElement("div",{className:"justify-start flex items-center h10 min-w28"},R):k.includes(g.b.Header)&&c.a.createElement(h.g,{isActive:I===h.h.style,onClick:()=>{D(h.h.style),P("Header")}}),k.includes(g.b.List)&&c.a.createElement(h.k,{isActive:I===h.l.style,onClick:()=>{D(h.l.style),P("Unordered_List")}}),k.includes(g.b.Bold)&&c.a.createElement(h.a,{isActive:N.has(h.b.style),onClick:()=>{T(h.b.style),P("Strong")}}),k.includes(g.b.Italic)&&c.a.createElement(h.i,{isActive:N.has(h.j.style),onClick:()=>{T(h.j.style),P("Emphasis")}}),k.includes(g.b.Link)&&c.a.createElement(f.a,{isActive:y,onMouseDown:e=>{e.preventDefault(),Object(b.c)(s,r,S,O)},toolTip:Object(u.b)("rich_editor.Add_link"),icon:g.d.icon,toolId:g.d.id}),y&&c.a.createElement(f.a,{onMouseDown:e=>{e.preventDefault(),s(Object(p.j)()),P("Unlink")},toolTip:Object(u.b)("rich_editor.Remove_link"),icon:g.e.icon,isActive:!0,toolId:g.e.id}),k.includes(g.b.Image)&&c.a.createElement(f.a,{icon:g.c.icon,toolId:g.c.id,toolTip:Object(u.b)("rich_editor.Add_image"),onMouseDown:e=>{e.preventDefault(),s(Object(p.e)()),S("IMAGE"),P("Image")}}),k.includes(g.b.Video)&&c.a.createElement(f.a,{icon:g.g.icon,toolId:g.g.id,toolTip:Object(u.b)("rich_editor.Add_video"),onMouseDown:e=>{e.preventDefault(),S("VIDEO"),P("Asset_Video")}}),k.includes(g.b.Audio)&&c.a.createElement(f.a,{icon:g.a.icon,toolId:g.a.id,toolTip:Object(u.b)("rich_editor.Add_audio"),onMouseDown:e=>{e.preventDefault(),S("AUDIO"),P("Asset_Audio")}}),k.includes(g.b.Reward)&&c.a.createElement(f.a,{icon:g.f.icon,toolId:g.f.id,toolTip:Object(u.b)("rich_editor.Embed_reward"),onMouseDown:e=>{e.preventDefault(),S("REWARD"),P("Reward")}}))},y=e=>{const t=Object(m.a)(),n=Object(o.a)(!e.topMargin&&(t?"t10 t4-lg":!t&&"t0"),"z-toolbar-3");return c.a.createElement(k,Object.assign({},e,{isSticky:!0,atoms:[n]}))}},UUNB:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("DjBF"),i=n("q1tI");const r=e=>{const t=Object(i.useState)(!1),n=Object(a.a)(t,2),r=n[0],o=n[1],s=t=>{t.which===e&&o(!0)},c=t=>{t.which===e&&o(!1)};return Object(i.useEffect)(()=>(window.addEventListener("keydown",s),window.addEventListener("keyup",c),()=>{window.removeEventListener("keydown",s),window.removeEventListener("keyup",c)}),[]),r}},UujG:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var a=n("prSB"),i=n("2DJ9"),r=n("94td"),o=n("/IHD"),s=n("q1tI");function c(e,t,n,a){return e.map(e=>({label:t(e).toString(),value:n(e).toString(),disabled:a?a(e):void 0}))}const l=Object(o.a)("o0p","absolute","t0","l0","b0","r0","w100p","h100p","z1"),d=Object(o.a)("relative","border","border-grey-400","p2");class u extends s.Component{render(){const e=this.props,t=e.id,n=e.options,c=e.selectedValue,u=e.onBlur,m=e.onChange,p=void 0===m?()=>{}:m,h=e.placeholder,b=e.hasErrors,f=e.required,g=e.disabled,v=e.clearable,k=e.withDropdownIcon,y=void 0===k||k,E=Object(a.a)({placeholder:[],active:[],disabled:[],enabled:[]},this.props.atoms);if(0===n.length)return null;const _=h?s.createElement("option",{"aria-selected":!1,disabled:!0,value:""},h):null,O=n.filter(e=>e.value===c),j=O.length?O[0].label:h,S=O.length?O[0].selectedItemPreview&&O[0].selectedItemPreview():void 0,w=h===j?E.placeholder:E.active,N=Object(o.a)(d,w,b&&"border-red-400",g?E.disabled:E.enabled),C=Object(o.a)(l,g?"cursor-default":"pointer",b&&"has-errors");return s.createElement("div",{className:N},s.createElement("label",null,S,j,v&&c&&s.createElement("button",{"aria-label":Object(r.b)("components.simple_select.clear_value"),className:"z5 absolute r5 t1 b0 my-auto",type:"button",onClick:e=>{e.preventDefault(),p("")}},s.createElement(i.a,{name:"icon--cross",size:"14"})),y&&!g&&s.createElement(i.a,{atoms:["absolute r2 t0 b0 my-auto"],name:"icon--delta-down",size:"14"}),s.createElement("select",{id:t,onBlur:u,required:f,value:c,disabled:g,className:C,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(e=>p(e.target.value))},_,n.map((e,t)=>s.createElement("option",{"aria-selected":e.value===c,disabled:e.disabled,value:e.value,key:t},e.label)))))}}},"V+iF":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Posts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"posts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"forActivePrompt"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:183}};n.loc.source={body:"query Posts($projectSlug: String!) {\n  project(slug: $projectSlug) {\n    id\n    posts(forActivePrompt: true) {\n      edges {\n        node {\n          id\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.Posts=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"Posts")},V9aw:function(e,t){e.exports=function(e){return e.placeholder}},W6lR:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return o});const a=e=>{const t=e.getAttribute("data-reward-starts_at"),n=e.getAttribute("data-reward-estimated_delivery_on");return{id:e.getAttribute("data-id")||"",description:e.getAttribute("data-reward-description"),estimatedDeliveryOn:n?1e3*parseInt(n,10):null,isMaxPledge:"true"===e.getAttribute("data-reward-is_max_pledge"),name:e.getAttribute("data-reward-name"),shippingSummary:e.getAttribute("data-reward-shipping_summary"),startsAt:t?parseInt(t,10):null,available:"true"===e.getAttribute("data-reward-available"),amount:{currency:e.getAttribute("data-reward-amount_currency"),amount:e.getAttribute("data-reward-amount_amount")}}},i=()=>{var e,t;return null===(e=window.current_project)||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.backing},r=()=>{var e,t;return null===(e=window.current_project)||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.state},o=()=>{var e,t,n,a;return null===(e=window.current_project)||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:null===(n=t.urls)||void 0===n?void 0:null===(a=n.web)||void 0===a?void 0:a.project}},WSTq:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var a=n("/kEZ"),i=n.n(a),r=n("2DJ9"),o=n("lX80"),s=n("LdJi"),c=n("f/gE"),l=n("94td"),d=n("SmhT"),u=n("/IHD"),m=n("z0kN"),p=n("q1tI"),h=n.n(p);class b extends p.Component{constructor(){super(...arguments),this.onEscape=e=>{let t=e.keyCode;const n=this.props.onClose;t===d.d&&n()},this.toggleClipClass=()=>{this.props.clipOnMobileOnly||(document.body.classList.toggle("clip"),document.documentElement.classList.toggle("clip"))}}componentDidMount(){this.props.hideClosing||document.addEventListener("keydown",this.onEscape),this.toggleClipClass()}componentWillUnmount(){this.props.hideClosing||document.removeEventListener("keydown",this.onEscape),this.toggleClipClass()}render(){const e=this.props,t=e.atoms,n=e.children,a=e.headerCopy,d=e.subHeaderCopy,b=e.onClose,g=e.secondaryCloseCopy,v=e.secondaryCloseFn,k=e.size,y=e.grabFocus,E=e.bgColor,_=e.clipOnMobileOnly,O=void 0!==_&&_,j=e.animationClasses,S=void 0===j?[]:j,w=e.animationId,N=void 0===w?"":w,C=e.closeIconColor,I=void 0===C?"fill-navy-500":C,T=e.hideClosing,D=void 0!==T&&T,P="fullScreen"===k?"absolute t5 r8 pointer block py0 bg-transparent":"absolute t0 r-5 pointer hide block-sm py0 bg-transparent",x=O?"clip visible-sm":"clip",A=(()=>"fullScreen"===k?"shadow-low ".concat(E||"bg-white"," p4 h100vh auto-scroll-y ").concat(x):"shadow-low ".concat(E||"bg-white"," p4 max-h70vh auto-scroll-y ").concat(x))(),F=Object(u.a)("w100p m-auto pointer-events-auto relative",S,t);return h.a.createElement("div",{className:"fixed t0 b0 l0 r0 z-modal-3"},"fullScreen"!==k&&h.a.createElement("div",{onClick:D?void 0:b,role:"presentation",className:"absolute w100p h100p bg-grey-100_95 z1"}),h.a.createElement(s.a,{full:!0,atoms:["absolute","w100p"]},h.a.createElement(c.a,null,h.a.createElement(o.a,Object.assign({center:!0},f[k]),h.a.createElement(i.a,{className:"relative",role:"dialog","aria-label":a||"Modal",focusTrapOptions:{clickOutsideDeactivates:!0,initialFocus:y?"#focus-grabber":""}},h.a.createElement("div",{className:"z2 flex relative flex-column pointer-events-none h100vh"},h.a.createElement("div",{id:N,className:F},y&&h.a.createElement("div",{id:"focus-grabber"}),h.a.createElement("div",{className:A},a&&h.a.createElement("h1",{id:Object(m.b)(a),className:"type-18 medium black ".concat(d?"mb2":"mb4"," center")},a),d,p.Children.map(n,e=>e)),"fullScreen"!==k&&!D&&h.a.createElement("div",{className:"pt1 pt4-md text-center"},h.a.createElement("button",{id:"modal-secondary-close",className:"pointer text-underline type-14 navy-600 bg-transparent",onClick:v||b},g)),!D&&h.a.createElement("button",{onClick:b,className:P,id:"modal-primary-close"},h.a.createElement(r.a,{name:"x",label:Object(l.b)("overlay_modal.close"),atoms:[I]})))))))))}}b.defaultProps={secondaryCloseCopy:Object(l.b)("overlay_modal.close"),grabFocus:!0};const f={large:{smWidth:8,lgWidth:6},small:{smWidth:5,lgWidth:4},fullScreen:{smWidth:12,lgWidth:12}}},WjF9:function(e,t,n){"use strict";var a=n("60hy");const i=Object(a.c)(window.current_user);window.current_user=i,t.a=i},Wwun:function(e,t,n){"use strict";var a=n("/kEZ"),i=n.n(a);n.d(t,"a",function(){return i.a})},"X+my":function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a={name:"support","primary-light":"soft-black","primary-dark":"black","primary-accent":"ksr-green-400"}},XLBa:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a,i=n("prSB"),r=n("+2Rf"),o=n.n(r),s=n("a+N5"),c=n.n(s),l=n("zm9w");function d(e,t){if(c.a.isArray(e)){var n=c()(e).map(function(e){return function(e,t){var n,a;return n=c()(e).map(function(e,n){var i=!1;return n.match(/^\!/)&&(i=!0,n=n.replace(/^\!/,"")),c.a.isArray(e)||(e=[e]),e=c()(e).map(function(e){return e+""}),a=c()(e).include(t[n]+""),i?!a:a}),c()(n).inject(function(e,t){return e||t},n[0])}(e,t)});return c()(n).inject(function(e,t){return e&&t},n[0])}}a={number:function(e){return e=Object(i.a)({precision:0},e),l.a.format_number(e.value,c.a.omit(e,"format","value"))},distance_date:function(e){return l.a.time_ago_in_words(e.value)}};const u=function(e){var t,n=e.data("format");t=(n=e.data("format"))&&"function"==typeof a[n]?a[n](e.data()):e.data("value"),e.html(t)};function m(e,t,n){o()(e).find("."+t+n.id).each(function(e,t){!function(e,t){var n,a,i="",r=o()(e),s=r.data("conditions"),c=r.attr("itemprop");void 0!==c?i=c.match(/\[(\w*)\]/)[1]:r.data("attr")&&(i=r.data("attr")),void 0!==s?("string"==typeof s&&(s=JSON.parse(s)),n=(a=d(s,t))?JSON.parse(r.data("render")):"",r.data("evaluation")!==a&&(r.html(n),r.data("evaluation",a),n.length&&m(r,"Project",t))):void 0!==i&&void 0!==t[i]&&(r.data("value",t[i]),r.attr("data-value",t[i]),u(r))}(t,n)})}const p=function(e,t){m(document,e,t)};function h(e){this.template=e,this.conditions=[]}function b(e){var t;return"string"==typeof e&&((t={})[e]=!0,e=t),e}h.prototype.if=function(e){return this.condition("and",!0,e),this},h.prototype.and=h.prototype.if,h.prototype.if_not=function(e){return this.condition("and",!1,e),this},h.prototype.unless=h.prototype.if_not,h.prototype.and_not=h.prototype.if_not,h.prototype.or=function(e){return this.condition("or",!0,e),this},h.prototype.or_not=function(e){return this.condition("or",!1,e),this},h.prototype.then=function(){var e=this;return function(){return function(t,n){return e.value=n(t),e.html()}}},h.prototype.condition=function(e,t,n){var a,i;return c.a.isObject(n)||((a={})[n]=!0,n=a),!1===t&&c.a.each(c()(n).keys(),function(e){n["!"+e]=n[e],delete n[e]}),"or"===e?(i=b(this.conditions[this.conditions.length-1]),n=b(n),this.conditions[this.conditions.length-1]=o.a.extend(!0,i,n)):"and"===e&&this.conditions.push(n),this},h.prototype.evaluation=function(){return void 0===this.cached_evaluation&&(this.cached_evaluation=d(this.conditions,this.template.proxy)),this.cached_evaluation},h.prototype.content=function(){return this.evaluation()?this.value:""},h.prototype.html=function(){var e=o()("<data>");return e.attr(this.html_options()),e.html(this.content()),e[0].outerHTML},h.prototype.html_options=function(){return{class:this.template.class_name,"data-conditions":JSON.stringify(this.conditions),"data-render":JSON.stringify(this.value),"data-evaluation":d}}},XM0S:function(e,t,n){"use strict";var a=n("+DSo");const i=(e,t)=>e.replace(a.a,function(e,n){return null==t[n]?e:t[n]}).replace(a.b,function(e,n){return null==t[n]?e:t[n]});t.a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(a.c)(e,t,n);return void 0===r&&(r=Object(a.d)(t),console.warn("I18n key is missing: ",t)),"string"==typeof r&&(r=i(r,n)),r}},"XS+r":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c});var a=n("prSB"),i=n("gN63"),r=n("atWj");const o=e=>Object(i.e)(r.c,{input:e}),s=e=>{const t=e.id,n=e.imageWidth,o=e.assetWidth;return Object(i.e)(r.b,Object(a.a)({id:t},n?{imageWidth:n}:{},{},o?{assetWidth:o}:{}))},c=e=>{let t=e.fileType;return Object(i.e)(r.e,{fileType:t}).then(e=>{let t=e.uploadLimit;const n=t.contentTypes.filter(e=>null!==e);return{megabytes:t.megabytes,bytes:t.bytes,contentTypes:n}})}},XfPQ:function(e,t,n){"use strict";var a=n("L/h+"),i=n("daZV"),r=n("WSTq"),o=n("mv45"),s=n("94td"),c=n("a8OY"),l=n("vtU4"),d=n("q1tI"),u=n("prSB"),m=n("mwIZ"),p=n.n(m),h=n("4KRT");const b=n("Yzh4").PostLikers,f=(e,t)=>{const n=t.fetchMoreResult;return null===n.post||null===n.post.fans||null===n.post.fans.edges?e:Object(u.a)({},n,{post:Object(u.a)({},n.post,{fans:Object(u.a)({},n.post.fans,{edges:[...p()(e,"post.fans.edges",[]),...p()(n,"post.fans.edges",[])],pageInfo:n.post.fans.pageInfo})})})},g=Object(o.c)(e=>{if(!e.data||!e.data.post)return Object(o.d)(e.data.error);const t=e.data,n=t.fetchMore,a=t.post,i=t.me,r=a.fans,s=r&&r.edges||[],c=r&&r.pageInfo.endCursor,l=s.map(e=>e&&e.node).map(e=>({id:e?e.id:"",name:e?e.name:"",slug:e?e.slug:"",imageUrl:e?e.imageUrl:""})).reduce((e,t)=>i&&a.isLiked&&t.id===i.id?[t,...e.filter(e=>e.id!==t.id)]:[...e,t],[]);return Object(o.l)({likers:l,hasNextPage:!!r&&r.pageInfo.hasNextPage,totalLikers:r?r.totalCount:0,isFetchingMore:e.data.loading,likersShowing:l.length,onFetchMore:()=>n({variables:{id:e.ownProps.id,cursor:c},query:b,updateQuery:f})})}),v=Object(h.c)(b,g);n.d(t,"a",function(){return k});const k=e=>d.createElement(r.a,{size:"small",onClose:e.onClose,headerCopy:Object(s.b)("project_updates.Likes")},d.createElement(y,{id:e.id})),y=Object(o.a)(v,c.b)(e=>d.createElement("div",{className:"pt4"},e.likers.map((e,t)=>d.createElement("a",{key:t,href:l.b.USER_PROFILE.url(e.slug),className:"post-liker keyboard-focusable soft-black mb2 flex items-center px3"},d.createElement("div",{className:"shrink0"},d.createElement(a.a,{size:6,imageUrl:e.imageUrl})),d.createElement("span",{className:"post-liker__name type-16 pl2"},e.name))),d.createElement(i.a,{buttonI18nKey:"project_updates.Load_more",remainingI18nKey:"project_updates.Showing_x_of_y_likers",totalCount:e.totalLikers,showingCount:e.likersShowing,pageSize:100,onClick:e.onFetchMore,loading:e.isFetchingMore,hasMorePages:e.hasNextPage,atoms:["py6","w75p-md","m-auto","theme--support"]})))},Yoag:function(e,t,n){var a=n("dTAl"),i=n("RrRF"),r=4294967295;function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=r,this.__views__=[]}o.prototype=a(i.prototype),o.prototype.constructor=o,e.exports=o},Yzh4:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostLikers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isLiked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fans"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"72"}}],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:367}};n.loc.source={body:"query PostLikers($id: ID!, $cursor: String) {\n  me {\n    id\n  }\n  post(id: $id) {\n    id\n    isLiked\n    fans(first: 100, after: $cursor) {\n      edges {\n        cursor\n        node {\n          id\n          name\n          slug\n          imageUrl(width: 72)\n        }\n      }\n      totalCount\n      pageInfo {\n        endCursor\n        hasNextPage\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.PostLikers=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"PostLikers")},ZCHx:function(e,t,n){"use strict";var a=n("UujG");n.d(t,"b",function(){return a.b});var i=n("T3Mw");n.d(t,"a",function(){return i.a})},ZCIj:function(e,t,n){"use strict";n.d(t,"a",function(){return r});const a={},i=()=>"undefined"!=typeof window?(void 0===window.__KSR_IN_MEMORY_STORAGE_CACHE__&&(window.__KSR_IN_MEMORY_STORAGE_CACHE__=a),window.__KSR_IN_MEMORY_STORAGE_CACHE__):a;const r=(()=>{if(!window)return!1;if(void 0!==window.__KSR_LOCAL_STORAGE_SUPPORTED__)return window.__KSR_LOCAL_STORAGE_SUPPORTED__;if(void 0===window.localStorage)return!1;try{const e=window.localStorage,t="__KSR_storagetest__";return e.setItem(t,"1"),e.removeItem(t),window.__KSR_LOCAL_STORAGE_SUPPORTED__=!0,!0}catch(e){return window.__KSR_LOCAL_STORAGE_SUPPORTED__=!1,!1}})()?new class{constructor(){this.isPersisted=!0,this.getItem=window.localStorage.getItem.bind(window.localStorage),this.setItem=window.localStorage.setItem.bind(window.localStorage),this.removeItem=window.localStorage.removeItem.bind(window.localStorage),this.key=window.localStorage.key.bind(window.localStorage),this.clear=window.localStorage.clear.bind(window.localStorage)}get length(){return window.localStorage.length}}:new class{constructor(){this.isPersisted=!1,this.cache=void 0,this.cache=i()}getItem(e){return e in this.cache?this.cache[e]:null}setItem(e,t){this.cache[e]=String(t)}removeItem(e){delete this.cache[e]}key(e){const t=Object.keys(this.cache);return e in t?t[e]:null}clear(){Object.keys(this.cache).forEach(e=>{delete this.cache[e]})}get length(){return Object.keys(this.cache).length}};t.b=r},ZCb5:function(e,t,n){"use strict";n("b8Ld");var a=n("UEZD");n.d(t,"a",function(){return a.a}),n.d(t,"b",function(){return a.b})},a1zH:function(e,t,n){var a=n("y4QH"),i=n("MMiu"),r=n("t2dP"),o=n("EldB"),s=n("5sOR"),c=n("V9aw"),l=n("pzgU"),d=n("6KkN"),u=n("Kz5y"),m=1,p=2,h=8,b=16,f=128,g=512;e.exports=function e(t,n,v,k,y,E,_,O,j,S){var w=n&f,N=n&m,C=n&p,I=n&(h|b),T=n&g,D=C?void 0:o(t);return function m(){for(var p=arguments.length,h=Array(p),b=p;b--;)h[b]=arguments[b];if(I)var f=c(m),g=r(h,f);if(k&&(h=a(h,k,y,I)),E&&(h=i(h,E,_,I)),p-=g,I&&p<S){var P=d(h,f);return s(t,n,e,m.placeholder,v,h,P,O,j,S-p)}var x=N?v:this,A=C?x[t]:t;return p=h.length,O?h=l(h,O):T&&p>1&&h.reverse(),w&&j<p&&(h.length=j),this&&this!==u&&this instanceof m&&(A=D||o(A)),A.apply(x,h)}}},a5q3:function(e,t,n){var a=n("Of+w"),i=a&&new a;e.exports=i},a8OY:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var a=n("egyr"),i=n("mv45"),r=n("q1tI");const o=()=>r.createElement("div",{className:"text-center py6"},r.createElement(a.a,{size:"large"})),s=e=>t=>Object(i.h)(t)?r.createElement(o,null):r.createElement(e,t)},aNAf:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("o3IG");function i(){return Object(a.b)("ios_mp_distinct_id")||Object(a.b)("vis")||Object(a.c)("vis",[Math.floor(1e20*Math.random()).toString(16).slice(0,16),Math.floor(1e20*Math.random()).toString(16).slice(0,16),Math.floor(1e20*Math.random()).toString(16).slice(0,16)].join("-")+"v1",new Date(2025,12,31),"/")}},aiSh:function(e,t,n){"use strict";var a=n("q5Sr"),i=n("prSB"),r=n("K/JX"),o=n("dMq0"),s=n("1jQf"),c=n("I71+"),l=n("4Tsn"),d=n("lTCR"),u=n.n(d),m=n("n+nq");const p={__schema:{queryType:{name:"Query"},mutationType:{name:"Mutation"},subscriptionType:null,types:[{kind:"INTERFACE",name:"Node",description:"An object with an ID.",fields:[{name:"id",description:"ID of the object.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"ID",ofType:null}},isDeprecated:!1,deprecationReason:null}],inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"Backing",ofType:null},{kind:"OBJECT",name:"Reward",ofType:null},{kind:"OBJECT",name:"Photo",ofType:null},{kind:"OBJECT",name:"RewardItem",ofType:null},{kind:"OBJECT",name:"Project",ofType:null},{kind:"OBJECT",name:"Comment",ofType:null},{kind:"OBJECT",name:"User",ofType:null},{kind:"OBJECT",name:"Address",ofType:null},{kind:"OBJECT",name:"Conversation",ofType:null},{kind:"OBJECT",name:"Message",ofType:null},{kind:"OBJECT",name:"CuratedPage",ofType:null},{kind:"OBJECT",name:"Location",ofType:null},{kind:"OBJECT",name:"Organization",ofType:null},{kind:"OBJECT",name:"PushProject",ofType:null},{kind:"OBJECT",name:"AttachedAudio",ofType:null},{kind:"OBJECT",name:"AttachedVideo",ofType:null},{kind:"OBJECT",name:"UserUrl",ofType:null},{kind:"OBJECT",name:"Category",ofType:null},{kind:"OBJECT",name:"ProjectFeaturedImage",ofType:null},{kind:"OBJECT",name:"Flagging",ofType:null},{kind:"OBJECT",name:"Video",ofType:null},{kind:"OBJECT",name:"VideoTrack",ofType:null},{kind:"OBJECT",name:"VideoTrackCue",ofType:null},{kind:"OBJECT",name:"ProjectProfile",ofType:null},{kind:"OBJECT",name:"Tag",ofType:null},{kind:"OBJECT",name:"CreatorInterview",ofType:null},{kind:"OBJECT",name:"InterviewAnswer",ofType:null},{kind:"OBJECT",name:"InterviewQuestion",ofType:null},{kind:"OBJECT",name:"CreatorPrompt",ofType:null},{kind:"OBJECT",name:"FreeformPost",ofType:null},{kind:"OBJECT",name:"ShippingRule",ofType:null},{kind:"OBJECT",name:"Checkout",ofType:null},{kind:"OBJECT",name:"Survey",ofType:null}]},{kind:"INTERFACE",name:"Commentable",description:"Something that can be commented on",fields:[{name:"canComment",description:"True if the current user can comment",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Boolean",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"canUserRequestUpdate",description:"Whether a user can request an update about this project from the Creator",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Boolean",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"comments",description:"List of comments on the commentable",args:[{name:"after",description:"Returns the elements in the list that come after the specified cursor.",type:{kind:"SCALAR",name:"String",ofType:null},defaultValue:null},{name:"before",description:"Returns the elements in the list that come before the specified cursor.",type:{kind:"SCALAR",name:"String",ofType:null},defaultValue:null},{name:"first",description:"Returns the first _n_ elements from the list.",type:{kind:"SCALAR",name:"Int",ofType:null},defaultValue:null},{name:"last",description:"Returns the last _n_ elements from the list.",type:{kind:"SCALAR",name:"Int",ofType:null},defaultValue:null}],type:{kind:"OBJECT",name:"CommentConnection",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"commentsCount",description:"Comment count - defaults to root level comments only",args:[{name:"withReplies",description:"",type:{kind:"SCALAR",name:"Boolean",ofType:null},defaultValue:"false"}],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Int",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"projectRelayId",description:"The root project id under which the comment is nested",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"ID",ofType:null}},isDeprecated:!1,deprecationReason:null}],inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"Project",ofType:null},{kind:"OBJECT",name:"CreatorInterview",ofType:null},{kind:"OBJECT",name:"FreeformPost",ofType:null}]},{kind:"UNION",name:"AttachedMedia",description:"Attached Media",fields:null,inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"AttachedAudio",ofType:null},{kind:"OBJECT",name:"AttachedVideo",ofType:null},{kind:"OBJECT",name:"Photo",ofType:null}]},{kind:"UNION",name:"FlaggableContent",description:"Types that can be reported by users",fields:null,inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"Message",ofType:null},{kind:"OBJECT",name:"Project",ofType:null}]},{kind:"INTERFACE",name:"Postable",description:"Something that can be posted",fields:[{name:"actions",description:"Actions you can currently perform",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"OBJECT",name:"PostActions",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"author",description:"The author of the project update.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"OBJECT",name:"User",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"authorRole",description:"The author role of the project update.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"ENUM",name:"PostAuthorRole",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"createdAt",description:"The date the project update was created.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"DateTime",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"excludedRewards",description:"All rewards belonging to a post that were specifically marked by a creator to\nbe excluded from receiving a post notification. This does not, however,\ninclude the no reward tier.",args:[{name:"after",description:"Returns the elements in the list that come after the specified cursor.",type:{kind:"SCALAR",name:"String",ofType:null},defaultValue:null},{name:"before",description:"Returns the elements in the list that come before the specified cursor.",type:{kind:"SCALAR",name:"String",ofType:null},defaultValue:null},{name:"first",description:"Returns the first _n_ elements from the list.",type:{kind:"SCALAR",name:"Int",ofType:null},defaultValue:null},{name:"last",description:"Returns the last _n_ elements from the list.",type:{kind:"SCALAR",name:"Int",ofType:null},defaultValue:null}],type:{kind:"OBJECT",name:"RewardConnection",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"fans",description:"Users that have liked this project update.",args:[{name:"after",description:"Returns the elements in the list that come after the specified cursor.",type:{kind:"SCALAR",name:"String",ofType:null},defaultValue:null},{name:"before",description:"Returns the elements in the list that come before the specified cursor.",type:{kind:"SCALAR",name:"String",ofType:null},defaultValue:null},{name:"first",description:"Returns the first _n_ elements from the list.",type:{kind:"SCALAR",name:"Int",ofType:null},defaultValue:null},{name:"last",description:"Returns the last _n_ elements from the list.",type:{kind:"SCALAR",name:"Int",ofType:null},defaultValue:null}],type:{kind:"OBJECT",name:"UserConnection",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"hasExcludedNoRewardTier",description:"True if creator has excluded the no reward tier from receiving a post notification.",args:[],type:{kind:"SCALAR",name:"Boolean",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"id",description:"",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"ID",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"includedRewards",description:"All rewards that were marked to recieve a post notification, excluding the no reward tier.",args:[{name:"after",description:"Returns the elements in the list that come after the specified cursor.",type:{kind:"SCALAR",name:"String",ofType:null},defaultValue:null},{name:"before",description:"Returns the elements in the list that come before the specified cursor.",type:{kind:"SCALAR",name:"String",ofType:null},defaultValue:null},{name:"first",description:"Returns the first _n_ elements from the list.",type:{kind:"SCALAR",name:"Int",ofType:null},defaultValue:null},{name:"last",description:"Returns the last _n_ elements from the list.",type:{kind:"SCALAR",name:"Int",ofType:null},defaultValue:null}],type:{kind:"OBJECT",name:"RewardConnection",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"isLiked",description:"Whether or not the current user has liked this project update.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Boolean",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"isPublic",description:"True if marked as a public public post, false if the post is backers only.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Boolean",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"isVisible",description:"True if the post's content is visible to the user.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Boolean",ofType:null}},isDeprecated:!0,deprecationReason:"Query the read field in post abilities instead."},{name:"likesCount",description:"The number of likes a post has.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Int",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"nextPost",description:"The next post.",args:[],type:{kind:"INTERFACE",name:"Postable",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"number",description:"The project update number.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Int",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"pinnedAt",description:"The date the project update was pinned.",args:[],type:{kind:"SCALAR",name:"DateTime",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"previousPost",description:"The previous post.",args:[],type:{kind:"INTERFACE",name:"Postable",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"project",description:"Project that belongs to post.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"OBJECT",name:"Project",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"publishedAt",description:"The date the project update was published.",args:[],type:{kind:"SCALAR",name:"DateTime",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"timeLeftToEdit",description:"How much time a creator or collaborator has left to edit the post.",args:[],type:{kind:"SCALAR",name:"String",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"title",description:"The project update's title.",args:[],type:{kind:"SCALAR",name:"String",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"type",description:"The post type.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"ENUM",name:"Post",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"updatedAt",description:"The date the project update was last edited.",args:[],type:{kind:"SCALAR",name:"DateTime",ofType:null},isDeprecated:!1,deprecationReason:null}],inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"CreatorInterview",ofType:null},{kind:"OBJECT",name:"FreeformPost",ofType:null}]},{kind:"UNION",name:"RichTextItem",description:"Rich text items: Paragraph, Headers, List, Quote, Photo, Audio, Video or Oembed",fields:null,inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"RichTextAudio",ofType:null},{kind:"OBJECT",name:"RichTextHeader1",ofType:null},{kind:"OBJECT",name:"RichTextHeader2",ofType:null},{kind:"OBJECT",name:"RichTextHeader3",ofType:null},{kind:"OBJECT",name:"RichTextList",ofType:null},{kind:"OBJECT",name:"RichTextOembed",ofType:null},{kind:"OBJECT",name:"RichTextParagraph",ofType:null},{kind:"OBJECT",name:"RichTextPhoto",ofType:null},{kind:"OBJECT",name:"RichTextQuote",ofType:null},{kind:"OBJECT",name:"RichTextVideo",ofType:null}]},{kind:"UNION",name:"TimelineEventData",description:"Types that can be reported by users",fields:null,inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"CreatorInterview",ofType:null},{kind:"OBJECT",name:"FreeformPost",ofType:null},{kind:"OBJECT",name:"Project",ofType:null}]},{kind:"UNION",name:"PaymentSource",description:"Payment sources",fields:null,inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"BankAccount",ofType:null},{kind:"OBJECT",name:"CreditCard",ofType:null}]},{kind:"UNION",name:"Editorial",description:"Editorial tool to create and modify content modules on discovery pages",fields:null,inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"Article",ofType:null},{kind:"OBJECT",name:"BespokeComponent",ofType:null},{kind:"OBJECT",name:"EditorialRichText",ofType:null},{kind:"OBJECT",name:"ExploreSubcategories",ofType:null},{kind:"OBJECT",name:"FeaturedProjectCollection",ofType:null},{kind:"OBJECT",name:"Header",ofType:null},{kind:"OBJECT",name:"MastheadImage",ofType:null},{kind:"OBJECT",name:"NewsCollection",ofType:null},{kind:"OBJECT",name:"NewsletterSignUp",ofType:null},{kind:"OBJECT",name:"ProjectCollection",ofType:null},{kind:"OBJECT",name:"PromoCollection",ofType:null},{kind:"OBJECT",name:"ShortText",ofType:null},{kind:"OBJECT",name:"SingleProjectContainer",ofType:null}]},{kind:"UNION",name:"Attachable",description:"An object that can be associated with uploaded assets",fields:null,inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"FreeformPost",ofType:null},{kind:"OBJECT",name:"InterviewAnswer",ofType:null},{kind:"OBJECT",name:"Project",ofType:null},{kind:"OBJECT",name:"Survey",ofType:null}]}],directives:[{name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],args:[{name:"if",description:"Skipped when true.",type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Boolean",ofType:null}},defaultValue:null}]},{name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],args:[{name:"if",description:"Included when true.",type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Boolean",ofType:null}},defaultValue:null}]},{name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:["FIELD_DEFINITION","ENUM_VALUE"],args:[{name:"reason",description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted in [Markdown](https://daringfireball.net/projects/markdown/).",type:{kind:"SCALAR",name:"String",ofType:null},defaultValue:'"No longer supported"'}]}]}};function h(){const e=Object(a.a)(["\n  query {\n    me {\n      id\n    }\n  }\n"]);return h=function(){return e},e}n.d(t,"a",function(){return b}),n.d(t,"b",function(){return f});const b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;const n=new c.a({uri:"/graph",credentials:"same-origin",headers:{"X-CSRF-Token":Object(m.b)(document)},batchMax:t}),a=Object(l.a)(t=>{let n=t.graphQLErrors,a=t.networkError;Array.isArray(n)&&n.forEach(t=>{const n=new Error(t.message);e(n,"GraphQL Error")}),void 0!==a&&console.error("GraphQL Network Error:",a)}),d=new s.a((e,t)=>{const n=e.getContext(),a=n.headers,r=void 0===a?{}:a,o=n.projectShareToken;return o&&e.setContext({headers:Object(i.a)({},r,{"Project-Share-Token":o})}),t?t(e):null}),u=new r.b({introspectionQueryResultData:p});return new o.a({link:s.a.from([a,d,n]),cache:new r.a({fragmentMatcher:u}),queryDeduplication:!0,connectToDevTools:!1})},f=((e,t)=>{const n=new s.a(()=>null),a=new r.a;return a.writeQuery({query:e,data:t}),new o.a({link:n,cache:a})})(u()(h()),{me:{__typename:"User",id:"123"}})},arGM:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"e",function(){return m}),n.d(t,"d",function(){return p}),n.d(t,"b",function(){return h});var a=n("prSB"),i=n("eEls"),r=n("g84z"),o=n("z0kN");const s=e=>Object.keys(e).filter(t=>null!==e[t]&&void 0!==e[t]).map(t=>[t,e[t]].map(encodeURIComponent).join("=")).sort().join("&"),c=Object(i.a)(Object(o.a)("?"),s),l=e=>e.toLowerCase().replace(/\//,"-").replace(/[^a-zA-Z0-9\s-_]/g,"").replace(/[\s|_]/g,"-").replace(/--+/g,"-").replace(/-$/,""),d=e=>(t,n)=>p(t,{ref:e},n),u=e=>{let t=e.ref,n=e.truncate,a=void 0!==n&&n,i=e.clean,r=void 0!==i&&i;return Array.isArray(t)?(a&&t.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return e.substring(0,t-1).replace(/\-$/,"")}(t.pop())),t=t.join("-")):u({ref:[t],truncate:a,clean:r}),d(r?l(t):t)},m=e=>e.split("?")[0],p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=e||"";const o=Object(r.a)(e),c=Object(a.a)({},o,{},t);return[[i.noBaseEncode?m(e):encodeURI(m(e)),s(c)].filter(Boolean).join("?"),n?encodeURI(n):null].filter(Boolean).join("#")},h=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return[e,t+1,n].filter(Boolean).join("-")}},atWj:function(e,t,n){"use strict";let a,i,r;n.d(t,"a",function(){return i}),n.d(t,"f",function(){return r}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return d}),function(e){e.DELETED="DELETED",e.MISSING="MISSING",e.PROCESSING="PROCESSING",e.SUCCESSFUL="SUCCESSFUL"}(a||(a={})),function(e){e.ENCODED="ENCODED",e.ENCODING="ENCODING",e.FAILED="FAILED"}(i||(i={})),function(e){e.ASSET_VIDEO="ASSET_VIDEO",e.AUDIO="AUDIO",e.PHOTO="PHOTO",e.SMALLER_VIDEO="SMALLER_VIDEO",e.SOUND="SOUND",e.VIDEO="VIDEO"}(r||(r={}));const o=n("3soH"),s=o.AttachedAsset,c=o.CreateAsset,l=o.DeleteAsset,d=o.UploadLimit},b8Ld:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n("lHf8"),i=n("2DJ9"),r=n("RBqt"),o=n("94td"),s=n("/IHD"),c=n("q1tI"),l=n("1uWx");const d=e=>{let t=e.isActive,n=void 0!==t&&t,d=e.onMouseDown,u=e.label,m=e.toolTip,p=e.icon,h=e.toolId,b=e.headerDropdownEnabled;const f="h9 w100p flex justify-start",g=Object(s.a)("hover-item-fill-ksr-green-500",n&&"fill-ksr-green-500"),v=Object(s.a)("flex bold px2 py3 hover-target hover-ksr-green-500",n&&"fill-ksr-green-500");if(h===l.h.id||h===l.d.id||h===l.f.id||h===l.p.id||h===l.n.id){const e={[l.h.id]:b?{label:"rich_editor.Header_1",atoms:f,typefont:void 0,spanAtoms:["type-24"]}:{label:"rich_editor.Headline",atoms:Object(s.a)("bold hover-target p2 py1-md keyboard-focusable keyboard-focusable-ksr-green-700",n?"bg-grey-300 ksr-green-700":"soft-black"),typefont:"body-100",spanAtoms:["hover-item-ksr-green-500"]},[l.d.id]:{label:"rich_editor.Header_2",atoms:f,typefont:void 0,spanAtoms:["type-21"]},[l.f.id]:{label:"rich_editor.Header_3",atoms:f,typefont:void 0,spanAtoms:["type-18"]},[l.p.id]:{label:"rich_editor.Block_quote",atoms:f,typefont:"subhead-200",spanAtoms:["type-18-md","border-left","border-left3px","border-create-500","pl2"]},[l.n.id]:{label:"rich_editor.Normal_text",atoms:"".concat(f," create-700"),typefont:"body-100",spanAtoms:[""]}}[h];return c.createElement("button",{type:"button",className:e.atoms,onMouseDown:d},c.createElement(r.a,{atoms:e.spanAtoms,type:e.typefont},Object(o.b)(e.label)))}return c.createElement("span",{className:"ksr-tooltip","data-tooltip":m},c.createElement(a.a,{color:"black",atoms:[v],onMouseDown:d,type:"button"},u||c.createElement(i.a,{atoms:[g],label:m,name:p,size:"medium"})))}},be4H:function(e,t,n){var a=n("6T1N"),i=n("xs/l"),r=i(function(e,t){return a(e,256,void 0,void 0,void 0,t)});e.exports=r},bvYH:function(e,t,n){"use strict";var a=n("prSB"),i=n("v83y"),r=n("JPcv"),o=n("94td"),s=n("gN63"),c=n("0fse"),l=n("ijK7");const d=(e,t)=>n=>{const i=Object(a.a)({id:e,attachableAssoc:t},n);return Object(s.c)("\n  mutation($input: CreateAssetInput!) {\n    upload: createAsset(input: $input) {\n      image: asset {\n        ... on Photo {\n          id\n        }\n      }\n    }\n  }\n",{input:i})},u=e=>t=>{const n={attachable_id:e,asset_id:t};return Object(s.c)("\n  mutation($input: DeleteAssetInput!) {\n    deleteAsset(input: $input) {\n      clientMutationId\n    }\n  }\n",{input:n})};var m=n("/Jws");const p=(e,t)=>{const n=e.getCurrentContent(),a=e.getSelection(),o=i.Modifier.removeRange(n,a,"backward"),s=o.getSelectionAfter(),c=i.Modifier.splitBlock(o,s),l=c.getSelectionAfter(),d=i.Modifier.setBlockType(c,l,"atomic"),u=[new i.ContentBlock({key:Object(i.genKey)(),type:"atomic",text:" ",characterList:Object(r.List)(),data:Object(r.Map)(t)}),new i.ContentBlock({key:Object(i.genKey)(),type:"unstyled",text:"",characterList:Object(r.List)()})],m=i.BlockMapBuilder.createFromArray(u),p=i.Modifier.replaceWithFragment(d,l,m),h=p.merge({selectionBefore:a,selectionAfter:p.getSelectionAfter()});return i.EditorState.push(e,h,"insert-fragment")};var h=n("L+5T"),b=n("kKlT");n.d(t,"a",function(){return f}),n.d(t,"b",function(){return v}),n.d(t,"k",function(){return k}),n.d(t,"d",function(){return y}),n.d(t,"e",function(){return j}),n.d(t,"f",function(){return S}),n.d(t,"g",function(){return w}),n.d(t,"h",function(){return N}),n.d(t,"i",function(){return C}),n.d(t,"j",function(){return I}),n.d(t,"l",function(){return T}),n.d(t,"m",function(){return D}),n.d(t,"n",function(){return P}),n.d(t,"o",function(){return x}),n.d(t,"q",function(){return A}),n.d(t,"r",function(){return F}),n.d(t,"s",function(){return R}),n.d(t,"t",function(){return M}),n.d(t,"p",function(){return L}),n.d(t,"u",function(){return U}),n.d(t,"c",function(){return H});const f=e=>({type:"CLOSE_IMAGE_MODAL",isDirty:e}),g=()=>({type:"CLOSE_IMAGE_SAFELY"}),v=()=>({type:"CLOSE_REMOVE_ASSET_MODAL"}),k=()=>({type:"SHOW_LOADER"}),y=()=>({type:"HIDE_LOADER"}),E=(e,t)=>({type:"IMAGE_UPLOAD_SUCCESS",id:e,src:t}),_=()=>({type:"IMAGE_UPLOAD_DELETE"}),O=()=>({type:"NOOP"}),j=()=>({type:"OPEN_CREATE_IMAGE_MODAL"}),S=e=>({type:"OPEN_EDIT_IMAGE_MODAL",block:e}),w=e=>({type:"OPEN_EDIT_REWARD_MODAL",block:e}),N=e=>({type:"OPEN_REMOVE_ASSET_MODAL",block:e}),C=()=>({type:"REMOVE_ASSET"}),I=()=>({type:"REMOVE_LINK"}),T=(e,t)=>({type:"SUBMIT_EMBED",response:e,embedUrl:t}),D=e=>({type:"SUBMIT_EMBED_REWARD",reward:e}),P=()=>({type:"SUBMIT_IMAGE"}),x=(e,t)=>({type:"SUBMIT_LINK",linkUrl:e,linkText:t}),A=e=>({type:"UPDATE_EDITOR_STATE",newEditorState:e}),F=e=>({type:"UPDATE_IMAGE_ALT_TEXT",altText:e}),R=e=>({type:"UPDATE_IMAGE_CAPTION",caption:e}),M=e=>({type:"UPDATE_IMAGE_CLICKTHROUGH",url:e}),L=(e,t)=>({type:"SUBMIT_VIDEO_UPLOAD",assetId:e,assetHtml:t}),U=(e,t)=>({type:"UPDATE_LINK_VALUES",linkText:e,linkUrl:t}),B=()=>new Promise((e,t)=>{V()?e():t()}),V=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Are you sure you want to discard your changes?";return window.confirm(e)},Y=(e,t,n)=>u(e)(Object(s.b)(n,t)).then(O),q=e=>"IMAGE"===e?"Photo":"AUDIO"===e?"AttachedAudio":"VIDEO"===e?"AttachedVideo":null,H=Object(c.b)({story:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(h.b)({}),t=arguments.length>1?arguments[1]:void 0;const n=e.editorState.getSelection();switch(t.type){case"SET_CURRENT_MODAL":return Object(a.a)({},e,{currentModal:t.currentModal});case"UPDATE_LINK_VALUES":return Object(a.a)({},e,{linkText:t.linkText,linkUrl:t.linkUrl||null});case"CLOSE_IMAGE_MODAL":return t.isDirty?Object(c.f)(e,c.a.run(B,{successActionCreator:g,failActionCreator:O})):Object(c.f)(e,c.a.action({type:"CLOSE_IMAGE_SAFELY"}));case"CLOSE_IMAGE_SAFELY":return Object(c.f)(Object(a.a)({},e,{errors:"",key:e.key+1,imageAltText:"",imageCaption:"",imageId:null,imageSrc:null,imageUrl:"",currentModal:null,subjectBlock:null}),c.a.action(m.a.actions.uploadReset()));case"CLOSE_REMOVE_ASSET_MODAL":return Object(a.a)({},e,{currentModal:null,subjectBlock:null});case"SHOW_LOADER":return Object(a.a)({},e,{showLoader:!0});case"HIDE_LOADER":return Object(a.a)({},e,{showLoader:!1});case"IMAGE_UPLOAD_DELETE":return Object(a.a)({},e,{imageId:null,imageSrc:null});case"IMAGE_UPLOAD_SUCCESS":return Object(a.a)({},e,{imageId:Object(s.a)(t.id),imageSrc:t.src});case"OPEN_CREATE_IMAGE_MODAL":return Object(c.f)(e,c.a.action(m.a.actions.imageUploaderInitialize(d(e.attachableId,e.attachableAssoc),u(e.attachableId),E,_)));case"OPEN_EDIT_IMAGE_MODAL":const h=t.block.getData().get("alt")||"",f=t.block.getData().get("caption")||"",v=t.block.getData().get("href");return Object(a.a)({},e,{currentModal:"IMAGE",imageAltText:h,imageCaption:f,imageUrl:v||"",subjectBlock:t.block});case"OPEN_EDIT_REWARD_MODAL":return Object(a.a)({},e,{curentModal:"REWARD",subjectBlock:t.block});case"OPEN_REMOVE_ASSET_MODAL":return Object(a.a)({},e,{currentModal:"REMOVE_ASSET",subjectBlock:t.block});case"REMOVE_ASSET":if(!e.subjectBlock)return e;const k=e.editorState.getCurrentContent(),y=e.subjectBlock.getKey(),j=e.subjectBlock.getData().get("id"),S=i.SelectionState.createEmpty(y).merge({anchorKey:k.getKeyBefore(y),anchorOffset:k.getBlockForKey(k.getKeyBefore(y)).getLength(),focusOffset:e.subjectBlock.getLength()}),w=i.EditorState.push(e.editorState,i.Modifier.removeRange(k,S,"backward"),"remove-range"),N=q(e.subjectBlock.getData().get("type"));return Object(c.f)(Object(a.a)({},e,{editorState:w,key:e.key+1,currentModal:null,subjectBlock:null}),N?c.a.run(Y,{args:[e.attachableId,j,N]}):c.a.none);case"REMOVE_LINK":const C=Object(l.d)(e.editorState,"LINK");if(0===C.length)return e;const I=C[0],T=new i.SelectionState({anchorKey:I.blockKey,anchorOffset:I.start,focusKey:I.blockKey,focusOffset:I.end}),D=i.RichUtils.toggleLink(e.editorState,T,null);return Object(a.a)({},e,{editorState:D,showRemoveLink:!1});case"SUBMIT_EMBED":{const n=p(e.editorState,{href:t.embedUrl,rawHtml:t.response,type:"OEMBED"});return Object(a.a)({},e,{editorState:n,key:e.key+1})}case"SUBMIT_EMBED_REWARD":{let n;return n=e.subjectBlock?i.EditorState.set(e.editorState,{currentContent:i.Modifier.mergeBlockData(e.editorState.getCurrentContent(),i.SelectionState.createEmpty(e.subjectBlock.getKey()),Object(r.Map)({reward:t.reward}))}):p(e.editorState,{reward:t.reward,type:"REWARD"}),Object(a.a)({},e,{editorState:n,key:e.key+1})}case"SUBMIT_IMAGE":{if(e.imageUrl&&!Object(b.d)(Object(b.a)(e.imageUrl)))return Object(a.a)({},e,{errors:Object(o.b)("rich_editor.Please_enter_a_valid_URL")});let t;return t=e.subjectBlock?i.EditorState.set(e.editorState,{currentContent:i.Modifier.mergeBlockData(e.editorState.getCurrentContent(),i.SelectionState.createEmpty(e.subjectBlock.getKey()),Object(r.Map)({alt:e.imageAltText,caption:e.imageCaption,href:e.imageUrl}))}):p(e.editorState,{alt:e.imageAltText,caption:e.imageCaption,href:e.imageUrl,id:e.imageId,src:e.imageSrc,type:"IMAGE"}),Object(c.f)(Object(a.a)({},e,{editorState:t,key:e.key+1,imageAltText:"",imageCaption:"",imageId:null,imageSrc:null,imageUrl:"",currentModal:null,subjectBlock:null}),c.a.action(m.a.actions.uploadReset()))}case"SUBMIT_LINK":const P=Object(b.a)(t.linkUrl),x=Object(l.d)(e.editorState,"LINK")[0],A=e.editorState.getCurrentContent();if(x){const r=A.mergeEntityData(x.entityKey,{url:P}),o=new i.SelectionState({anchorKey:x.blockKey,anchorOffset:x.start,focusKey:x.blockKey,focusOffset:x.end}),s=i.Modifier.replaceText(r,o,t.linkText,void 0,x.entityKey),c=i.EditorState.forceSelection(i.EditorState.push(e.editorState,s,"apply-entity"),n);return Object(a.a)({},e,{editorState:c,errors:"",key:e.key+1,linkText:"",linkUrl:"",currentModal:null})}{const r=A.createEntity("LINK","MUTABLE",{url:P,target:"_blank"}),o=r.getLastCreatedEntityKey(),s=t.linkText||t.linkUrl,c=n.isCollapsed()?Object(l.g)(r,n,o,s):i.Modifier.replaceText(r,n,s,void 0,o),d=i.EditorState.push(e.editorState,c,"apply-entity"),u=i.RichUtils.toggleLink(d,n,o);return Object(a.a)({},e,{editorState:i.EditorState.forceSelection(u,n),errors:"",key:e.key+1,linkText:"",linkUrl:"",currentModal:null,showRemoveLink:!0})}case"UPDATE_EDITOR_STATE":return 1===Object(l.d)(t.newEditorState,"LINK").length?Object(a.a)({},e,{editorState:t.newEditorState,showRemoveLink:!0}):Object(a.a)({},e,{editorState:t.newEditorState,showRemoveLink:!1});case"UPDATE_IMAGE_ALT_TEXT":return Object(a.a)({},e,{imageAltText:t.altText});case"UPDATE_IMAGE_CAPTION":return Object(a.a)({},e,{imageCaption:t.caption});case"UPDATE_IMAGE_CLICKTHROUGH":return Object(a.a)({},e,{errors:"",imageUrl:t.url});case"SUBMIT_VIDEO_UPLOAD":{const n=p(e.editorState,{id:Object(s.a)(t.assetId),rawHtml:t.assetHtml,type:"VIDEO"});return Object(a.a)({},e,{editorState:n,key:e.key+1})}default:return e}},imageUploader:m.a.reducer})},"c6/r":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("4LGs");const i={"&#39;":"'","&#96;":"`","&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`","&#x2F;":"/","\u2028":" ","\u2029":" "},r=e=>Object(a.a)(i,e)},c7Xp:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var a=n("prSB"),i=n("g84z");const r=()=>Object(i.a)(window.location.search).token,o=e=>{const t=e||{options:{}};return Object(a.a)({},t,{options:Object(a.a)({},t.options,{context:{projectShareToken:r()}})})}},cDWt:function(e,t,n){"use strict";function a(){}function i(e){if(!(this instanceof i))return new i(e);this.value=e}function r(e){if(!(this instanceof r))return new r(e);this.value=e}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r}),i.prototype=new a,r.prototype=new a,i.prototype.isSuccess=!0,i.prototype.isFailure=!1,r.prototype.isSuccess=!1,r.prototype.isFailure=!0,i.prototype.toString=function(){return"Validation.Success("+this.value+")"},r.prototype.toString=function(){return"Validation.Failure("+this.value+")"},i.prototype.concat=function(e){return e},r.prototype.concat=function(e){return e.isSuccess?this:r(this.value.concat(e.value))}},"cWj/":function(e,t,n){var a=n("OBhP"),i=n("ut/Y"),r=1;e.exports=function(e){return i("function"==typeof e?e:a(e,r))}},d5To:function(e,t,n){"use strict";var a=n("c7Xp"),i=n("4KRT"),r=n("q5Sr"),o=n("lTCR"),s=n.n(o);const c=25,l=3,d="creator",u="collaborator",m="superbacker",p=[d,u],h="|--:)--;)--:D--XD--|",b={REPLY_FORM_OPENED:"comments_reply_form_opened",LOAD_MORE_COMMENTS:"comments_load_more_comments_clicked",LOAD_PREVIOUS_REPLIES:"comments_load_previous_replies_clicked",LOAD_MORE_COMMENTS_TIME:"comments_load_more_comments_time",LOAD_PREVIOUS_REPLIES_TIME:"comments_load_previous_replies_time",SHOW_NEWER_COMMENTS_LOAD:"comments_show_newer_load"};function f(){const e=Object(r.a)(["\n  query($commentableId: ID!) {\n    commentable: node(id: $commentableId) {\n      commentsCount\n    }\n  }\n"]);return f=function(){return e},e}function g(){const e=Object(r.a)(["\n  query($id: ID!, $replyCursor: String) {\n    node(id: $id) {\n      ...CommentInfo\n      ...CommentReplies\n    }\n  }\n  ","\n  ","\n"]);return g=function(){return e},e}function v(){const e=Object(r.a)(['\n  query(\n    $commentableId: ID!\n    $nextCursor: String\n    $previousCursor: String\n    $replyCursor: String\n    $first: Int\n    $last: Int\n  ) {\n    commentable: node(id: $commentableId) {\n      id\n      ... on Project {\n        url\n      }\n      ... on Commentable {\n        canComment\n        commentsCount\n        projectRelayId\n        canUserRequestUpdate\n        comments(\n          first: $first\n          last: $last\n          after: $nextCursor\n          before: $previousCursor\n        ) @connection(key: "comments") {\n          edges {\n            node {\n              ...CommentInfo\n              ...CommentReplies\n            }\n          }\n          pageInfo {\n            startCursor\n            hasNextPage\n            hasPreviousPage\n            endCursor\n          }\n        }\n      }\n    }\n    me {\n      id\n      name\n      imageUrl(width: 200)\n      isKsrAdmin\n      url\n    }\n  }\n  ',"\n  ","\n"]);return v=function(){return e},e}function k(){const e=Object(r.a)(["\n    fragment CommentReplies on Comment {\n      replies(last: ",", before: $replyCursor) {\n        totalCount\n        nodes {\n          ...CommentInfo\n        }\n        pageInfo {\n          startCursor\n          hasPreviousPage\n        }\n      }\n    }\n  "]);return k=function(){return e},e}function y(){const e=Object(r.a)(["\n    fragment CommentInfo on Comment {\n      id\n      body\n      createdAt\n      parentId\n      author {\n        id\n        imageUrl(width: 200)\n        name\n        url\n      }\n      authorBadges\n      canReport\n      canDelete\n      hasFlaggings\n      deletedAuthor\n      deleted\n      authorCanceledPledge\n    }\n  "]);return y=function(){return e},e}const E={commentInfo:s()(y()),commentReplies:s()(k(),l)},_=s()(v(),E.commentInfo,E.commentReplies),O=s()(g(),E.commentInfo,E.commentReplies);s()(f());var j=n("q1tI"),S=n.n(j),w=n("qPAc");const N=S.a.createContext();class C extends S.a.Component{constructor(){super(...arguments),this.configureContext=e=>{const t=e.commentable,n=e.config;return{createTrackingEventName:n.createTrackingEventName,pollUrl:n.pollUrlFactory(t),placeholderText:n.placeholderText,submitButtonText:n.submitButtonText,showCommentsWithoutPledges:n.showCommentsWithoutPledges,isReplyingEnabled:n.isReplyingEnabled,showNonBackerMessage:n.showNonBackerMessage,hideBackground:n.hideBackground,canUserRequestUpdate:t.canUserRequestUpdate,projectRelayId:t.projectRelayId}}}render(){const e=this.props.children;return S.a.createElement(N.Provider,{value:this.configureContext(this.props)},e)}}const I=N.Consumer;var T=n("94td"),D=n("pj8f"),P=n("vXqN");var x=Object(P.a)({onComponentError:(e,t,n)=>D.Honeybadger.notify(JSON.stringify(e)+" "+JSON.stringify(t.componentStack),{context:{tags:["project_communities"].concat(n).join(",")}})});function A(){const e=Object(r.a)(["\n  mutation($commentableId: ID!, $body: String!, $parentId: ID) {\n    createComment(\n      input: { commentableId: $commentableId, body: $body, parentId: $parentId }\n    ) {\n      comment {\n        ...CommentInfo\n        replies {\n          totalCount\n          nodes {\n            ...CommentInfo\n          }\n          pageInfo {\n            startCursor\n            hasPreviousPage\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return A=function(){return e},e}var F=s()(A(),E.commentInfo),R=n("prSB"),M=n("tr1H"),L=n("gN63"),U=n("GRmu"),B=n("2UXI"),V=n("L/h+"),Y=n("pTxv"),q=n("2DJ9"),H=n("mEsB");var W=e=>{let t=e.body,n=e.displayTooltip,a=void 0!==n&&n;return S.a.createElement("div",{className:"mb3 pb3 type-14 text-italic border-bottom border-grey-400 bold"},S.a.createElement("div",{className:"".concat(a&&"w90p inline-block")},'"',t,'"'),a&&S.a.createElement(H.a,{placement:"right",label:Object(T.b)("project_page.comments.This_is_a_quoted_comment")},S.a.createElement(q.a,{name:"icon--info",size:"16"})))},z=n("NxQb"),K=n("5j0V"),G=n("uBBe");const J=e=>{let t=e.message;return S.a.createElement("p",{className:"type-12 red-500 mb0"},t)};var $=e=>{let t=e.body,n=e.onSubmit,a=e.submitDisabled,i=e.imageUrl,r=e.errors,o=void 0===r?[]:r,s=e.onChange,c=e.maxLength,l=void 0===c?9001:c,d=e.autofocus,u=void 0!==d&&d,m=e.submitButtonText,p=e.placeholderText,h=e.displayProjectUpdateRequestPrompt,b=void 0!==h&&h,f=e.projectRelayId;const g=o.length?"red-500":"soft-black",v=window.selectedText;return S.a.createElement("div",{className:"border border-".concat(g," p3 mx2 mb2 flex items-start self-stretch bg-white")},S.a.createElement(V.a,{imageUrl:i,size:6,atoms:["shrink0"]}),S.a.createElement("div",{className:"ml3 grow1"},v&&S.a.createElement(W,{body:v,displayTooltip:!0}),S.a.createElement("form",{onSubmit:n},S.a.createElement("fieldset",{className:"m0 p0"},S.a.createElement("textarea",{autoFocus:u,name:"comment_field",maxLength:l,rows:"3",className:"relative type-14 border-none no-outline mt1",value:t,onChange:s,placeholder:v?Object(T.b)("project_page.comments.Ask_a_question"):p})),Object(z.a)("project_update_requests")&&b&&S.a.createElement("div",{"data-test-id":"comment-pur-prompt"},S.a.createElement(G.a,{projectId:f,className:"mb3",location:K.b.comment})),S.a.createElement("div",{className:"flex items-center mb1"},S.a.createElement(Y.c,{type:"submit",theme:"support",disabled:a},m),o.length>0&&S.a.createElement("div",null,[...new Set(o)].map((e,t)=>S.a.createElement(J,{message:e,key:t})))))))},Q=n("Puqe"),Z=n.n(Q),X=n("UfWW"),ee=n.n(X),te=n("xk4V"),ne=n.n(te),ae=n("arGM"),ie=n("DT56"),re=n.n(ie),oe=n("yHON"),se=n.n(oe),ce=n("ECYc"),le=n("qn6j"),de=n("1OuE"),ue=n("g84z");const me=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.pathname;const n=Object(ue.a)(e),a=Z()(n,"comment");return Object(ae.d)(t,a)},pe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;return Object(ae.d)("/login",{ref:"comments",then:e})},he=e=>[...e].sort((e,t)=>se()(e.node.createdAt,t.node.createdAt)),be=(e,t)=>({__typename:"Mutation",createComment:{__typename:"PostCommentPayload",comment:{id:"".concat("temp-comment","-").concat(ne()()),body:e.body,createdAt:Math.round(Date.now()/1e3)-1,author:Object(R.a)({},t.me,{__typename:"User"}),authorBadges:[],hasFlaggings:!1,canReport:!1,deletedAuthor:!1,deleted:!1,canDelete:!1,authorCanceledPledge:!1,parentId:t.parentId||null,replies:t.parentId?null:{__typename:"CommentReplyConnection",totalCount:0,nodes:[],pageInfo:{__typename:"PageInfo",startCursor:null,hasPreviousPage:!1,endCursor:null,hasNextPage:!1}},__typename:"Comment"}}}),fe=(e,t)=>null==t?e:(e.push({__typename:"CommentEdge",cursor:null,node:t}),e),ge=(e,t)=>{if(null==t)return e;const n=((e,t)=>{let n=t.parentId;return ee()(e,{id:n})})(e.map(e=>e.node),t);if(-1===n)return e;const a=e[n],i=Object(R.a)({},a,{node:Object(R.a)({},a.node,{replies:Object(R.a)({},a.node.replies,{totalCount:a.node.replies.totalCount+1,nodes:[...a.node.replies.nodes,t],pageInfo:Object(R.a)({},a.node.replies.pageInfo)})})});return[...e].map((e,t)=>t===n?i:e)},ve=e=>(t,n)=>{let a=n.fetchMoreResult;if(!a)return t;const i=e?[...t.commentable.comments.edges,...a.commentable.comments.edges]:[...a.commentable.comments.edges,...t.commentable.comments.edges],r=e?Object(R.a)({},t.commentable.comments.pageInfo,{hasNextPage:a.commentable.comments.pageInfo.hasNextPage,endCursor:a.commentable.comments.pageInfo.endCursor}):Object(R.a)({},t.commentable.comments.pageInfo,{hasPreviousPage:a.commentable.comments.pageInfo.hasPreviousPage,startCursor:a.commentable.comments.pageInfo.startCursor});return Object(R.a)({},a,{commentable:Object(R.a)({},t.commentable,{comments:Object(R.a)({},a.commentable.comments,{edges:i,pageInfo:r})})})},ke=e=>(t,n)=>{let a=n.id,i=n.replyCursor;const r=Date.now();return e.query({query:t,variables:{replyCursor:i,id:a}}).then(n=>{Object(ce.a)(le.a.TIME,b.LOAD_PREVIOUS_REPLIES_TIME,Date.now()-r);const i=n.data,o=e.readQuery({query:t,variables:{id:a,replyCursor:null}}),s=Object(R.a)({},o,{node:Object(R.a)({},o.node,{replies:Object(R.a)({},o.node.replies,{nodes:[...i.node.replies.nodes,...o.node.replies.nodes],pageInfo:Object(R.a)({},o.node.replies.pageInfo,{},i.node.replies.pageInfo)})})});e.writeQuery({query:t,variables:{id:a,replyCursor:null},data:s})}).catch(e=>{D.Honeybadger.notify(JSON.stringify(e))})},ye=e=>()=>{Object(ce.a)(le.a.INCREMENT,b.LOAD_PREVIOUS_REPLIES),e.toggleRepliesLoading(),e.onLoadMoreReplies(e.client)(e.query,{id:e.commentId,replyCursor:e.replyCursor}).then(e.toggleRepliesLoading).catch(e.toggleRepliesLoading)},Ee=e=>"number"!=typeof e||e<0?null:Object(de.b)("LLL z",e);class _e extends S.a.Component{constructor(e){super(e),this.state={body:"",errors:[],disabledForm:!1,displayProjectUpdateRequestPrompt:!1},this.onChange=this.onChange.bind(this),this.onSubmit=this.onSubmit.bind(this),this.onMutate=this.onMutate.bind(this),this.getMutationOptions=this.getMutationOptions.bind(this),this.lengthCheck=this.maxLengthCheck.bind(this),this.getFormattedBody=this.getFormattedBody.bind(this),this.maxLength=9001}maxLengthCheck(e){return e.length>=this.maxLength}onChange(e){const t=e.target.value;this.props.canUserRequestUpdate&&t.match(/update/i)&&this.setState({displayProjectUpdateRequestPrompt:!0}),this.lengthCheck(t)?this.setState(e=>{const t=Object(T.b)("project_page.comments.Youve_reached_maximum");return{errors:[...e.errors,t]}}):this.setState(()=>({body:t,errors:[]}))}getFormattedBody(){const e=h;return window.selectedText&&""!==window.selectedText?window.selectedText+e+this.state.body:this.state.body}getMutationOptions(){return{variables:{body:this.getFormattedBody(),commentableId:this.props.commentableId,parentId:this.props.parentId||null},context:{projectShareToken:Object(a.b)()},optimisticResponse:be(this.state,this.props),update:(e,t)=>{let n=t.data.createComment;const a=e.readQuery({query:_,variables:{commentableId:this.props.commentableId,replyCursor:null}}),i=Object(R.a)({},a,{commentable:Object(R.a)({},a.commentable,{commentsCount:this.props.parentId?a.commentable.commentsCount:a.commentable.commentsCount+1,comments:Object(R.a)({},a.commentable.comments,{totalCount:this.props.parentId?a.commentable.comments.totalCount:a.commentable.comments.totalCount+1,edges:this.props.parentId?ge(a.commentable.comments.edges,n.comment):fe(a.commentable.comments.edges,n.comment)})})});e.writeQuery({query:_,variables:{commentableId:this.props.commentableId,replyCursor:null},data:i})}}}onMutate(){return this.props.mutate(this.getMutationOptions())}onSubmit(e){if(e.preventDefault(),this.setState({disabledForm:!0}),0!==this.state.body.replace(/\s/g,"").length)return this.onMutate().then(e=>{if(window.selectedText&&""!==window.selectedText){const t=Object(L.a)(e.data.createComment.comment.id);Object(B.d)("Created Comment From Project Page Claim Popover",{comment_id:t,full_text:window.selectedText})}Object(B.d)(this.props.createTrackingEventName),window.selectedText=null,this.setState(()=>({body:"",errors:[],disabledForm:!1}),this.props.onSuccess||(()=>{}))}).catch(e=>{D.Honeybadger.notify(JSON.stringify(e),{context:{tags:M.a.PROCOMM}}),Object(U.a)({error:Object(T.b)("project_page.comments.Something_went_wrong_comment")})}).then(()=>{this.props.refetch()});this.setState(e=>{const t=Object(T.b)("project_page.comments.Comment_body_cant_be");return{errors:[...e.errors,t],disabledForm:!1}})}render(){return S.a.createElement($,{onSubmit:this.onSubmit,imageUrl:this.props.me.imageUrl,commentableId:this.props.commentableId,submitDisabled:this.state.disabledForm,onChange:this.onChange,body:this.state.body,errors:this.state.errors,maxLength:this.maxLength,autofocus:!!this.props.parentId,placeholderText:this.props.placeholderText,submitButtonText:this.props.submitButtonText,displayProjectUpdateRequestPrompt:this.state.displayProjectUpdateRequestPrompt,projectRelayId:this.props.projectRelayId})}}_e.defaultProps={refetch:()=>new Promise(e=>e())};var Oe=_e;var je=e=>S.a.createElement(I,null,t=>{let n=t.createTrackingEventName,a=t.placeholderText,i=t.submitButtonText,r=t.projectRelayId,o=t.canUserRequestUpdate;return S.a.createElement(Oe,Object.assign({},e,{placeholderText:a,submitButtonText:i,createTrackingEventName:n,projectRelayId:r,canUserRequestUpdate:o}))}),Se=Object(i.c)(F)(je,Object(a.a)());const we=e=>{let t=e.ctaText;return S.a.createElement("a",{className:"bold soft-black",href:pe()},t)};var Ne=e=>{return e.loggedIn?S.a.createElement("p",{className:"text-center bg-grey-200 p2 type-14"},Object(T.b)("project_page.comments.Only_backers")):S.a.createElement(T.a,{i18nKey:"project_page.comments.Only_backers_login",loginLink:S.a.createElement(we,{ctaText:Object(T.b)("project_page.comments.Log_in")}),i18nTag:"p",atoms:["text-center","bg-grey-200","p2","type-14"]})};var Ce=e=>{let t=e.me,n=e.commentableId,a=e.userCanComment,i=e.showNonBackerMessage;const r=(e=>e&&0!==Object.keys(e).length)(t);return a?S.a.createElement("div",{className:"mb2"},S.a.createElement(x,null,S.a.createElement(Se,{commentableId:n,me:t}))):S.a.createElement(S.a.Fragment,null,i&&S.a.createElement(x,null,S.a.createElement(Ne,{loggedIn:r})),!i&&!r&&S.a.createElement("div",{className:"text-center bg-grey-200 p2 type-14"},S.a.createElement(we,{ctaText:Object(T.b)("project_page.comments.Log_in_to_leave_a_comment")})))};var Ie=e=>S.a.createElement(I,null,t=>{let n=t.showNonBackerMessage;return S.a.createElement(Ce,Object.assign({},e,{showNonBackerMessage:n}))}),Te=n("daZV"),De=n("egyr");var Pe=class extends S.a.Component{constructor(e){super(e),this._normalizeCommentableData=e=>{return{commentable:{commentsCount:e.commentsCount}}},this.poll=()=>{if(window.device_attributes.isBot)return null;const e=setInterval(()=>{fetch(this.props.pollUrl).then(e=>e.json()).then(e=>{let t=e.project;this.setState(()=>({data:this._normalizeCommentableData({commentsCount:t.comments_for_display_count})}))})},5e3);this.setState(()=>({intervalId:e}))},this.getNewComments=(e,t)=>{const n=()=>this.setState(()=>({loading:!1}));this.setState(()=>({loading:!0}),()=>{e({commentableId:t}).then(n,n).catch(e=>{D.Honeybadger.notify("Refetch Error: ".concat(JSON.stringify(e),"; keys: ").concat(Object.keys(e).join(", ")),{context:{tags:M.a.PROCOMM}})})})},this.messageOrSpinner=(e,t)=>e?S.a.createElement(De.a,null):S.a.createElement(T.a,{i18nKey:"project_page.comments.Show_new_comments",count:t}),this.state={pollId:null,intervalId:null,loading:!1,data:{commentable:{commentsCount:null}}}}componentDidMount(){if(!this.state.pollId){const e=setTimeout(this.poll.bind(this),1);this.setState(()=>({pollId:e}))}}componentWillUnmount(){clearTimeout(this.state.pollId),clearTimeout(this.state.intervalId)}render(){const e=this.props,t=e.currentCount,n=e.refetch,a=e.commentableId,i=this.state.data.commentable;if(!i||!i.commentsCount)return null;const r=i.commentsCount;return r>t?S.a.createElement("div",{className:"px2 mb2"},S.a.createElement(Y.c,{onClick:()=>this.getNewComments(n,a),fullWidth:!0,theme:"trust"},this.messageOrSpinner(this.state.loading,r-t))):null}};var xe=e=>{let t=e.currentCount,n=e.refetch,a=e.commentableId;return S.a.createElement(I,null,e=>{let i=e.pollUrl;return S.a.createElement(S.a.Fragment,null,i&&S.a.createElement(Pe,{currentCount:t,refetch:n,pollUrl:i,commentableId:a}))})},Ae=n("Sdzn"),Fe=n("MgNI"),Re=n("DjBF"),Me=n("/IHD");var Le=e=>{let t=e.body,n=e.deleted;const a=t.split(/(?:\r\n|\n)/g);return n?S.a.createElement("p",{className:"dark-grey-500"},t,S.a.createElement("span",null," "),S.a.createElement(T.a,{i18nKey:"project_page.comments.Learn_more_about_comment_guidelines",guidelinesLink:S.a.createElement("a",{className:"bold soft-black",href:"/help/community"},Object(T.b)("project_page.comments.guidelines"))})):S.a.createElement(j.Fragment,null,a.map((e,t)=>{const n=Object(Me.a)("type-14",Object(Ae.a)(a,t)?"mb0":"mb2");return S.a.createElement("p",{key:t,className:n},e)}))};var Ue=e=>{let t=e.suppressed,n=e.deleted,a=e.body,i=e.selectedText;return S.a.createElement("div",{className:"flex"},t&&S.a.createElement(q.a,{name:"info",size:"16",atoms:["fill-dark-grey-500","mr1","relative","t3px"]}),S.a.createElement("div",{className:"w100p"},i&&S.a.createElement(W,{body:i}),S.a.createElement(Le,{body:a,deleted:n})))},Be=n("wpot");var Ve=e=>{let t=e.text,n=e.classes;return S.a.createElement("span",{className:n},t)};const Ye={[d]:{text:Object(T.b)("project_page.comments.Creator"),classes:"bg-ksr-green-700 white px1 type-14 mr1"},[u]:{text:Object(T.b)("project_page.comments.Collaborator"),classes:"bg-ksr-green-700 o50p white o0p px1 type-14 mr1"},[m]:{text:Object(T.b)("project_page.comments.Superbacker"),classes:"apricot-600 type-14 mr1"}};var qe=n("lHf8");const He=e=>{let t=e.author;return e.me.isKsrAdmin?S.a.createElement(qe.a,{color:"soft-black",href:t.url},t.name):S.a.createElement(S.a.Fragment,null,t.name)};var We=e=>{let t=e.author,n=e.me,a=e.authorBadges,i=e.today,r=void 0===i?new Date:i,o=e.createdAt,s=e.commentPath,c=e.tooltip;const l=Object(Be.a)(r,(e=>1e3*e)(o));return S.a.createElement("div",{className:"flex mb3 justify-between"},S.a.createElement("div",{className:"flex"},S.a.createElement(V.a,{imageUrl:t.imageUrl,size:6,atoms:["mr2"]}),S.a.createElement("div",null,S.a.createElement("span",{className:"mr2"},S.a.createElement(He,{author:t,me:n})),S.a.createElement(x,null,S.a.createElement("span",null,a.map((e,t)=>S.a.createElement(Ve,Object.assign({key:t},Ye[e]))))),S.a.createElement("a",{href:s,className:"comment-link",onClick:e=>{e.preventDefault(),window.history.replaceState(null,"",s)}},S.a.createElement("time",{className:"block dark-grey-400 type-12",dateTime:o,title:Ee(o)},l)))),c&&S.a.createElement(H.a,{placement:"top",label:c,style:{textAlign:"center"}},S.a.createElement("span",null,S.a.createElement(q.a,{name:"icon--info",size:"16"}))))};const ze=S.a.createContext(),Ke=ze.Provider,Ge=ze.Consumer;var Je=e=>{let t=e.contentId,n=e.hasFlaggings;return S.a.createElement(Ge,null,e=>n?S.a.createElement("span",{className:"h7 flex items-center p3 border-box"},Object(T.b)("project_page.comments.Reported")):S.a.createElement(Y.d,{theme:"support",onClick:()=>e(t)},Object(T.b)("project_page.comments.Report")))};var $e=e=>{let t=e.onClick;return e.loading?S.a.createElement(De.a,{size:"medium"}):S.a.createElement(H.a,{label:Object(T.b)("project_page.comments.Delete"),placement:"top"},S.a.createElement("button",{"data-test-id":"delete-comment",className:"keyboard-focusable",onClick:t},S.a.createElement(q.a,{name:"trash"})))};var Qe=class extends j.Component{constructor(e){super(e),this.toggleLoading=()=>{this.setState(e=>({loading:!e.loading}))},this.onDeleteClick=()=>(this.toggleLoading(),this.props.mutate({variables:{id:this.props.id},refetchQueries:[{query:O,variables:{id:this.props.id}}]}).then(()=>{this.toggleLoading()}).catch(e=>{this.toggleLoading(),Object(U.a)({error:Object(T.b)("project_page.comments.Unable_to_delete")}),D.Honeybadger.notify(JSON.stringify(e),{context:{tags:M.a.PROCOMM}})})),this.state={loading:!1}}render(){return S.a.createElement($e,{onClick:this.onDeleteClick,loading:this.state.loading})}};function Ze(){const e=Object(r.a)(["\n  mutation deleteComment($id: ID!) {\n    deleteComment(input: { id: $id }) {\n      commentable {\n        commentsCount\n      }\n    }\n  }\n"]);return Ze=function(){return e},e}var Xe=s()(Ze()),et=Object(i.c)(Xe)(Qe),tt=n("wSuE");var nt=Object(tt.hot)(e=>{let t=e.id,n=e.body,a=e.author,i=e.me,r=e.createdAt,o=e.authorBadges,s=e.canReport,c=e.canDelete,l=e.hasFlaggings,m=e.deletedAuthor,b=e.deleted,f=e.commentPath,g=e.isActive,v=e.setRef,k=e.children;const y=b||m,E=s&&!y,_=new RegExp("temp-comment").test(t)?"o50p":"o100p",O=Object(j.useState)(g),w=Object(Re.a)(O,2),N=w[0],C=w[1];Object(j.useEffect)(()=>{N&&C(!1)});const I=N?"bg-ksr-green-500_15":"bg-white",D=h;let P=null;if(n&&n.includes(D)){const e=n.split(D);P=e[0],n=e[1]}const x=P?Object(T.b)("project_page.comments.This_is_a_quoted_comment"):null;return S.a.createElement("div",{ref:v,className:"border-box relative break-word border border-grey-400 px3 pt3 pb2 ".concat(_," transition-all transition-delay-1000 ").concat(I)},p.some(e=>o.includes(e))&&S.a.createElement("span",{className:"".concat((()=>o.includes(d)?"bg-ksr-green-700":o.includes(u)?"bg-ksr-green-700 o50p":void 0)()," w1 t0 b0 l0 absolute test-authority_bar")}),S.a.createElement(We,{author:a,authorBadges:o,commentPath:f,me:i,createdAt:r,tooltip:x}),S.a.createElement(Ue,{body:n,selectedText:P,suppressed:y,deleted:b}),S.a.createElement("div",{className:"flex justify-end"},k,c&&S.a.createElement("div",{className:Object(Me.a)("flex","justify-center",E&&"mr2")},S.a.createElement(et,{id:t})),E&&S.a.createElement(Je,{contentId:t,hasFlaggings:l})))});var at=e=>{let t=e.deletedAuthor,n=e.body,a=e.onClick;return S.a.createElement("div",{className:"border-box flex bg-white break-word border border-grey-400 px3 pt3"},S.a.createElement(q.a,{name:"info",size:"16",atoms:["fill-dark-grey-500","mr1","relative","t3px"]}),t?S.a.createElement("p",{className:"dark-grey-500"},n):S.a.createElement(T.a,{i18nKey:"project_page.comments.Canceled_their_pledge",commentLink:S.a.createElement("a",{onClick:a,className:"bold soft-black",href:""},Object(T.b)("project_page.comments.Show_comment")),i18nTag:"p",atoms:["dark-grey-500"]}))},it=n("TIPN");var rt=class extends j.Component{constructor(e){super(e),this.setInitialVisibleState=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t||a||!e&&!n},this.toggleVisibility=e=>{e.preventDefault(),this.setState(e=>({visible:!e.visible}))},this.setRef=e=>{this.commentRef=e},this.scrollToComment=()=>{const e=Fe.maybe.fromNullable(Object(ue.a)(window.location.search)).map(e=>e.comment).getOrElse(null);null!=this.commentRef&&e===this.props.id&&Object(it.e)({element:this.commentRef})},this.state={visible:this.setInitialVisibleState(this.props.deletedAuthor,this.props.deleted,this.props.authorCanceledPledge,this.props.showCommentsWithoutPledges)}}componentDidMount(){this.scrollToComment()}render(){return this.state.visible?S.a.createElement(nt,{id:this.props.id,body:this.props.body,author:this.props.author,me:this.props.me,createdAt:this.props.createdAt,authorBadges:this.props.authorBadges,canReport:this.props.canReport,canDelete:this.props.canDelete,hasFlaggings:this.props.hasFlaggings,deleted:this.props.deleted,deletedAuthor:this.props.deletedAuthor,isActive:this.props.isActive,commentPath:this.props.commentPath,setRef:this.setRef},this.props.children):S.a.createElement(at,{deletedAuthor:this.props.deletedAuthor,body:this.props.body,onClick:this.toggleVisibility})}};var ot=e=>S.a.createElement(I,null,t=>{let n=t.showCommentsWithoutPledges,a=t.hideBackground;return S.a.createElement(rt,Object.assign({},e,{hideBackground:a,showCommentsWithoutPledges:n}))});var st=e=>{let t=e.commentId,n=e.isActive,a=void 0!==n&&n,i=e.activateForm,r=e.deactivateForm;const o=a?"ksr-green-700":"soft-black";return S.a.createElement("button",{onClick:()=>{a?r():(Object(ce.a)(le.a.INCREMENT,b.REPLY_FORM_OPENED),i(t))},className:"mr-auto mt1 inline-flex items-center"},S.a.createElement(q.a,{size:"16",atoms:["fill-".concat(o)],name:"icon--reply"}),S.a.createElement("span",{className:"ml1 type-14 ".concat(o)},Object(T.b)("project_page.comments.Reply")))};var ct=e=>{let t=e.comments,n=e.me;return S.a.createElement("ul",null,(e=>[...e].sort((e,t)=>re()(e.createdAt,t.createdAt)))(t).map(e=>(e=Object(R.a)({},e,{commentPath:Object(ae.c)({comment:e.parentId,reply:e.id})}),S.a.createElement("li",{key:e.id,className:"mb2"},S.a.createElement(ot,Object.assign({},e,{me:n}))))))};var lt=e=>{let t=e.commentId,n=e.commentAuthor,a=void 0===n?{}:n,i=e.activateForm;return S.a.createElement(Y.d,{theme:"support",size:"medium",atoms:["w100p"],onClick:()=>{Object(ce.a)(le.a.INCREMENT,b.REPLY_FORM_OPENED),i(t)}},Object(T.b)("project_page.comments.Reply_to_user",{name:a.name}))};var dt=e=>{let t=e.me,n=e.commentableId,a=e.activateForm,i=e.deactivateForm,r=e.userCanComment,o=e.activeThreadId,s=e.comment,c=e.client,d=e.repliesLoading,u=e.toggleRepliesLoading,m=e.commentPath,p=e.isReplyingEnabled;const h=s.id,b=s.replies,f=s.body,g=s.author,v=s.createdAt,k=s.canReport,y=s.canDelete,E=s.hasFlaggings,_=s.deletedAuthor,w=s.deleted,N=s.authorCanceledPledge,C=s.authorBadges,I=((e,t,n)=>(a,i,r,o)=>s=>({onClick:o({commentId:n,client:e,query:t,replyCursor:s.pageInfo.startCursor,toggleRepliesLoading:i,onLoadMoreReplies:r}),loadingStatus:a,totalCount:s.totalCount,showingCount:s.nodes.length,hasMorePages:s.pageInfo.hasPreviousPage}))(c,O,h)(d,u,ke,ye)(b),T=h===o,D=!!b.nodes&&b.nodes.length>0,P=w||_;return S.a.createElement(j.Fragment,null,S.a.createElement(ot,{body:f,author:g,me:t,createdAt:v,authorCanceledPledge:N,authorBadges:C,canReport:k,canDelete:y,hasFlaggings:E,deletedAuthor:_,deleted:w,id:h,isActive:T,commentPath:m},r&&!P&&p&&S.a.createElement(x,null,S.a.createElement(st,{isActive:T,activateForm:a,deactivateForm:i,commentId:h}))),(D||T)&&S.a.createElement("div",{className:"pl6 pt2 theme--support"},D&&S.a.createElement(x,null,S.a.createElement(Te.a,{buttonI18nKey:"project_page.comments.Load_previous",remainingI18nKey:"project_page.comments.Replies_remaining",totalCount:I.totalCount,showingCount:I.showingCount,pageSize:l,onClick:I.onClick,loading:I.loadingStatus,hasMorePages:I.hasMorePages,atoms:["mb2"]})),D&&S.a.createElement(x,null,S.a.createElement(ct,{comments:b.nodes,me:t})),T?r&&S.a.createElement(x,null,S.a.createElement(Se,{me:t,commentableId:n,parentId:h,onSuccess:i,replyCursor:b.pageInfo.startCursor})):r&&D&&!P&&S.a.createElement(x,null,S.a.createElement(lt,{activateForm:a,commentAuthor:g,commentId:h}))))};var ut=class extends j.Component{constructor(e){super(e),this.toggleRepliesLoading=()=>{this.setState(e=>({repliesLoading:!e.repliesLoading}))},this.state={repliesLoading:!1}}render(){return S.a.createElement(dt,{me:this.props.me,commentableId:this.props.commentableId,activateForm:this.props.activateForm,deactivateForm:this.props.deactivateForm,activeThreadId:this.props.activeThreadId,userCanComment:this.props.userCanComment,comment:this.props.comment,client:this.props.client,repliesLoading:this.state.repliesLoading,toggleRepliesLoading:this.toggleRepliesLoading,commentPath:this.props.commentPath,isReplyingEnabled:this.props.isReplyingEnabled})}};var mt=e=>S.a.createElement(I,null,t=>{let n=t.isReplyingEnabled;return S.a.createElement(ut,Object.assign({},e,{isReplyingEnabled:n}))}),pt=Object(i.d)(mt);const ht=e=>{let t=e.comments,n=e.commentableId,a=e.activateForm,i=e.deactivateForm,r=e.activeThreadId,o=e.userCanComment,s=e.me,c=e.hideBackground;const l=Object(Me.a)(!c&&"bg-grey-100 border border-grey-400","p2 mb3");return S.a.createElement("ul",{className:l},t.map((e,c)=>{const l=Object(ae.c)({comment:e.node.id});return S.a.createElement("li",{key:e.node.id,className:"".concat(Object(Ae.a)(t,c)?"":"mb2")},S.a.createElement(x,null,S.a.createElement(pt,{me:s,commentableId:n,activateForm:a,deactivateForm:i,activeThreadId:r,userCanComment:o,comment:e.node,commentPath:l})))}))},bt=e=>S.a.createElement(I,null,t=>{let n=t.hideBackground;return S.a.createElement(ht,Object.assign({hideBackground:n},e))});var ft=e=>{let t=e.comments,n=e.commentableId,a=e.activateForm,i=e.deactivateForm,r=e.activeThreadId,o=e.userCanComment,s=e.me,l=e.pagination,d=e.refetch;if(!t)return null;const u=l.nextPage,m=l.previousPage;return S.a.createElement(j.Fragment,null,m.hasMorePages?S.a.createElement(x,null,S.a.createElement("div",{className:"mb2 theme--trust"},S.a.createElement(Te.a,{kind:"primary",buttonI18nKey:"project_page.comments.Load_previous_root",remainingI18nKey:"project_page.comments.Comments_remaining",totalCount:m.totalCount,showingCount:m.showingCount,showPageCount:!1,pageSize:c,onClick:m.onClick,loading:m.loadingStatus,hasMorePages:m.hasMorePages}))):S.a.createElement(x,null,S.a.createElement(xe,{currentCount:l.nextPage.totalCount,refetch:d,commentableId:n})),S.a.createElement(bt,{activateForm:a,deactivateForm:i,activeThreadId:r,userCanComment:o,me:s,comments:he(t),commentableId:n}),S.a.createElement(x,null,S.a.createElement(Te.a,{buttonI18nKey:"project_page.comments.Load_more",remainingI18nKey:"project_page.comments.Comments_remaining",totalCount:u.totalCount,showingCount:u.showingCount,pageSize:c,onClick:u.onClick,loading:u.loadingStatus,hasMorePages:u.hasMorePages,atoms:["theme--support"]})))},gt=n("WSTq"),vt=n("DRAL"),kt=s()(vt.a);var yt=class extends S.a.Component{constructor(e){super(e),this.onSubmit=()=>this.props.mutate({variables:{contentId:this.props.contentId,kind:"SPAM"},refetchQueries:[{query:O,variables:{id:this.props.contentId}}]}).then(()=>{this.props.closeModal()}).catch(e=>{this.props.closeModal(),Object(U.a)({error:Object(T.b)("project_page.comments.Report_comment_error")}),D.Honeybadger.notify(JSON.stringify(e),{context:{tags:M.a.PROCOMM}})})}render(){return S.a.createElement(Y.c,{theme:"trust",onClick:this.onSubmit},Object(T.b)("project_page.comments.Report_comment"))}},Et=Object(i.c)(kt)(yt,Object(a.a)());var _t=e=>{let t=e.onClose,n=e.contentId;return S.a.createElement(gt.a,{size:"large",onClose:t,headerCopy:Object(T.b)("project_page.comments.Report_a_comment")},S.a.createElement("div",{className:"text-center"},S.a.createElement("p",null,Object(T.b)("project_page.comments.We_will_review_this_comment")),S.a.createElement(Et,{contentId:n,closeModal:t})))};var Ot=class extends S.a.Component{constructor(e){super(e),this.state={activeThreadId:e.initialCommentId||"",flaggingModalOpen:!1,flaggingCommentId:null},this.closeFlaggingModal=this.closeFlaggingModal.bind(this),this.openFlaggingModal=this.openFlaggingModal.bind(this),this.activateForm=this.activateForm.bind(this),this.deactivateForm=this.deactivateForm.bind(this)}activateForm(e){this.setState(()=>({activeThreadId:e}))}deactivateForm(){this.setState(()=>({activeThreadId:""}))}openFlaggingModal(e){this.setState(()=>({flaggingModalOpen:!0,flaggingCommentId:e}))}closeFlaggingModal(){this.setState(()=>({flaggingModalOpen:!1}))}render(){return S.a.createElement(j.Fragment,null,S.a.createElement(Ke,{value:this.openFlaggingModal},S.a.createElement(ft,{comments:this.props.comments,me:this.props.me,commentableId:this.props.commentableId,activeThreadId:this.state.activeThreadId,activateForm:this.activateForm,deactivateForm:this.deactivateForm,userCanComment:this.props.userCanComment,loadOlderStartCursor:this.props.loadOlderStartCursor,pagination:this.props.pagination,refetch:this.props.refetch})),this.state.flaggingModalOpen&&S.a.createElement(_t,{onClose:this.closeFlaggingModal,contentId:this.state.flaggingCommentId}))}};var jt=()=>S.a.createElement("p",{className:"text-center bg-grey-200 p2 type-12 border border-red-500 radius2px red-500 bold"},Object(T.b)("onloads.views.comments.list.Sorry_we_couldnt_load_comments_just_now"));var St=()=>S.a.createElement("div",{className:"text-center"},S.a.createElement(q.a,{name:"icon--circle-loader",size:"large"}));var wt=e=>{let t=e.currentCount,n=e.refetch,a=e.commentableId;return S.a.createElement(j.Fragment,null,S.a.createElement(x,null,S.a.createElement(xe,{currentCount:t,refetch:n,commentableId:a})),S.a.createElement("div",{className:"px5 py8 mt2 bg-grey-100 flex justify-center items-center"},S.a.createElement(q.a,{name:"icon--message",size:"medium",atoms:["fill-dark-grey-400"]}),S.a.createElement("span",{className:"ml2 dark-grey-400"},Object(T.b)("project_page.comments.No_comments_yet"))))};class Nt extends j.Component{constructor(){super(...arguments),this.loadNextPageProps=e=>({onClick:()=>{this.getPage(e.fetchMore,e.commentable.comments.pageInfo.endCursor)},loadingStatus:e.loading,totalCount:e.commentable.commentsCount,showingCount:e.commentable.comments.edges.length,hasMorePages:e.commentable.comments.pageInfo.hasNextPage}),this.loadPreviousPageProps=e=>({onClick:()=>{this.getPage(e.fetchMore,e.commentable.comments.pageInfo.startCursor,!1)},loadingStatus:e.loading,totalCount:e.commentable.commentsCount,showingCount:e.commentable.comments.edges.length,hasMorePages:e.commentable.comments.pageInfo.hasPreviousPage}),this.paginationProps=e=>({nextPage:this.loadNextPageProps(e),previousPage:this.loadPreviousPageProps(e)}),this.getPage=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=Date.now();return Object(ce.a)(le.a.INCREMENT,b.LOAD_MORE_COMMENTS),e({variables:n?{nextCursor:t,previousCursor:null,first:25,last:null}:{nextCursor:null,previousCursor:t,first:null,last:25},updateQuery:ve(n)}).then(()=>{Object(ce.a)(le.a.TIME,b.LOAD_MORE_COMMENTS_TIME,Date.now()-a)})}}render(){const e=this.props,t=e.data,n=e.commentableId,a=e.initialCommentId,i=e.config;if(t.loading&&!t.commentable)return S.a.createElement(St,null);if(t.error)return S.a.createElement(jt,null);const r=t.me||{},o=!!t.commentable.comments.edges.length,s=t.commentable.canComment,c=t.commentable.comments.pageInfo.hasPreviousPage;return S.a.createElement(j.Fragment,null,S.a.createElement(C,{commentable:t.commentable,config:i},c?S.a.createElement(qe.a,{type:"link",href:me(),color:"soft-black",atoms:["text-center","block","text-underline","py3","bg-white"]},s?Object(T.b)("project_page.comments.Post_a_new_comment"):Object(T.b)("project_page.comments.Back_to_the_top")):S.a.createElement(Ie,{me:r,commentableId:n,commentableUrl:t.commentable.url,userCanComment:s}),o?S.a.createElement(x,{fallbackRender:()=>S.a.createElement(jt,null)},S.a.createElement(Ot,{commentableId:n,initialCommentId:a,comments:t.commentable.comments.edges,userCanComment:s,me:r,pagination:this.paginationProps(t),refetch:t.refetch})):S.a.createElement(x,null,S.a.createElement(wt,{refetch:t.refetch,currentCount:t.commentable.commentsCount,commentableId:n}))))}}Nt.defaultProps={config:w.a};var Ct=Nt;const It=Object(i.c)(_,Object(a.a)({options:e=>{let t=e.nextCursor,n=e.previousCursor;return{notifyOnNetworkStatusChange:!0,variables:{commentableId:e.commentableId,replyCursor:null,nextCursor:t,first:e.first,last:e.last,previousCursor:n}}}}))(Ct);t.a=It},d8sA:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var a=n("prSB"),i=(n("GRmu"),n("n+nq")),r=n("eEls"),o=n("PhMr"),s=n("fAGL"),c=n("94td"),l=n("2UXI"),d=n("4+Ta"),u=n("mm3F"),m=n("0fse"),p=n("poNw"),h=n("qYa2");Object(c.b)("library.ksr_json.Sorry_something_went_wrong_Weve_been_notified_and_are_looking");const b=u.noopAction,f=e=>(function(){var t;let n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(p.a)(),o=arguments.length>1?arguments[1]:void 0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;switch(o.namespace&&(l=Object(d.b)(o.namespace)(l)),o.type){case"CLOSE_DELETE_ASSET_MODAL":return Object(a.a)({},i,{isShowingDeleteAssetModal:!1});case"DELETE_ASSET":return Object(m.f)(Object(a.a)({},i,{isDeleting:!0,isDisabled:!0,isShowingDeleteAssetModal:!1}),m.a.list([m.a.run(i.effects.destroy,{args:[null==i?void 0:null===(t=i.asset)||void 0===t?void 0:t.id],successActionCreator:r.c,failActionCreator:r.c}),m.a.run(y,{args:["Deleted",e]}),m.a.run(i.effects.onDelete,{successActionCreator:r.c,failActionCreator:r.c})],{batch:!0}));case"FILE_DRAG_ENDED":return n=i.activeDragCounter-1,Object(a.a)({},i,{activeDragCounter:n});case"FILE_DRAG_STARTED":return n=i.activeDragCounter+1,Object(a.a)({},i,{activeDragCounter:n});case"HYDRATE_ASSET":const u=o.asset,f=u.status,v="PROCESSING"===f?m.a.action(l.uploadProcessingStart(u.id,o.currentDate)):m.a.none;return Object(m.f)(Object(a.a)({},i,{uploaderStatus:f,asset:u}),v);case"OPEN_DELETE_ASSET_MODAL":return Object(a.a)({},i,{isShowingDeleteAssetModal:!0});case"RELOAD_ASSET":return"PROCESSING"===i.uploaderStatus?Object(m.f)(i,m.a.run(i.effects.read,{args:[o.assetId,i.imageAssetWidth],successActionCreator:r.c,failActionCreator:r.c})):i;case"UPDATE_UPLOAD_PROGRESS":return Object(a.a)({},i,{progress:o.progress});case"UPLOAD_FILE_FAILURE":return Object(m.f)(Object(a.a)({},i,{uploaderStatus:"FAILED"}),m.a.list([m.a.run(s.b),m.a.run(y,{args:["Failed Upload",e]})],{batch:!0}));case"UPLOAD_FILE_START":const k=o.file,_=o.uploadLimit,O=Object(h.b)(k,_);return O&&O.length>0?Object(a.a)({},i,{errors:O,uploaderStatus:"INVALID"}):Object(m.f)(Object(a.a)({},Object(p.a)(),{effects:i.effects,uploaderStatus:"UPLOADING"}),m.a.list([m.a.run(E,{args:[o.file],successActionCreator:l.setImageAssetWidth,failActionCreator:b}),m.a.run(g,{args:[o.file,o.dispatch,l],successActionCreator:r.c,failActionCreator:r.c}),m.a.run(s.a,{args:[Object(c.b)("uploaders.Leaving_the_page")]})],{batch:!0}));case"SET_IMAGE_ASSET_WIDTH":return Object(a.a)({},i,{imageAssetWidth:o.width});case"UPLOAD_FILE_SUCCESS":return Object(m.f)(i,m.a.list([m.a.run(i.effects.create,{args:[o.s3Params],successActionCreator:r.c,failActionCreator:r.c}),m.a.run(s.b)],{batch:!0}));case"UPLOAD_INITIALIZE":const j=i.effects;return Object(a.a)({},i,{effects:Object(a.a)({},j,{},o.effects)});case"UPLOAD_PROCESSING_START":return Object(m.f)(Object(a.a)({},i,{uploaderStatus:"PROCESSING",uploadedAt:o.uploadedAt}),m.a.action(l.reloadAsset(o.assetId)));case"UPLOAD_SUCCESS":return Object(m.f)(Object(a.a)({},i,{uploaderStatus:"SUCCESSFUL",asset:o.asset}),m.a.list([m.a.run(y,{args:["Uploaded",e]}),m.a.run(i.effects.onSuccess,{args:[o.asset.id,o.asset.url],successActionCreator:r.c,failActionCreator:r.c})],{batch:!0}));case"UPLOAD_RESET":return Object(a.a)({},Object(p.a)(),{effects:i.effects});default:return i}}),g=(e,t,n)=>v(n).then(a=>{let i=a.params,r=a.s3_upload_url;const o=k(e,i);return Object(h.c)(r,i.key,e,o,((e,t)=>()=>{e(t.uploadFileFailure())})(t,n),((e,t)=>n=>{let a=n.s3Key,i=n.fileName,r=n.contentType,o=n.updatedAt,s=n.fileSize;e(t.uploadFileSuccess({s3Key:a,fileName:encodeURIComponent(i),contentType:r,updatedAt:o,fileSize:s}))})(t,n),((e,t)=>n=>{e(t.updateUploadProgress(n))})(t,n))}).then(b).catch(()=>n.uploadFileFailure()),v=e=>window.s3_upload?Promise.resolve({params:JSON.parse(s3_upload.params),s3_upload_url:s3_upload.url}):fetch("/assets/s3_upload_params",{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRF-Token":Object(i.b)(document)}}).then(e=>200==e.status?Promise.resolve(e):Promise.reject(new Error(e.statusText))).then(Object(o.a)("json")).catch(()=>e.uploadFileFailure()),k=(e,t)=>{const n=new FormData;return Object.keys(t).forEach(e=>{n.append(e,t[e])}),n.append("file",e),n},y=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=[e,t].join(" ");Object(l.d)(a,n)},E=e=>new Promise((t,n)=>{/image\//.test(e.type)||n();const a=URL.createObjectURL(e),i=new Image;i.onload=()=>{URL.revokeObjectURL(a),t(i.width)},i.src=a})},dDCb:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("X+my"),i=n("q1tI"),r=n.n(i);const o=e=>{let t=e.theme,n=void 0===t?a.a:t,i=e.isSelected,o=e.onClick;const s=["block","radius100p","h3","mr1","mr3-md","w3",i?"bg-".concat(n["primary-light"]):"bg-white"].join(" "),c=["inset 0 1px 3px rgba(0, 0, 0, 0.2)","inset 0 0 0 1px rgba(0, 0, 0, 0.2)"].join(", ");return r.a.createElement("div",{className:s,onClick:o,role:o&&"button",style:{boxShadow:c}},i&&r.a.createElement("div",{className:"bg-white h1 w1 radius100p inline-block m1"}))}},dZEV:function(e,t,n){"use strict";var a=n("XS+r"),i=n("atWj"),r=n("qYa2"),o=n("94td");const s=e=>Object(a.b)({id:e}).then(t=>{if(!t.node)throw new Error(Object(o.b)("rich_editor.Received_invalid_data"));const n=t.node;if(n.videoStatus===i.a.ENCODING)return new Promise(e=>{setTimeout(e,5e3)}).then(()=>s(e)).catch(e=>{throw new Error(e)});if(n.videoStatus===i.a.ENCODED)return n;throw n.videoStatus===i.a.FAILED?new Error(Object(o.b)("rich_editor.Upload_asset_failed")):new Error(Object(o.b)("rich_editor.Received_invalid_asset_status",{status:n.videoStatus}))}).catch(()=>{throw new Error(Object(o.b)("rich_editor.Unable_to_fetch_asset"))}),c=(e,t)=>{const n=d(e);return t.includes(n)?Object(r.b)(e,l(n)):[Object(o.b)("uploaders.File_type_not_supported")]},l=e=>{switch(e){case u.VIDEO:return window.upload_limits?window.upload_limits.video:p;default:return{bytes:0,megabytes:0,contentTypes:[],name:"unknown"}}},d=e=>m.includes(e.type)?u.VIDEO:u.UNKNOWN;let u;!function(e){e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.UNKNOWN="UNKNOWN"}(u||(u={}));const m=["application/mp4","video/3gpp","video/mp4","video/mpeg","video/quicktime","video/vnd.objectvideo","video/x-flv","video/x-ms-wmv"],p={name:"video",megabytes:5120,bytes:5368709120,contentTypes:m};n.d(t,"d",function(){return a.a}),n.d(t,"e",function(){return a.c}),n.d(t,"a",function(){return i.a}),n.d(t,"c",function(){return i.f}),n.d(t,"g",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"b",function(){return u})},daZV:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("pTxv"),i=n("egyr"),r=n("94td"),o=n("eEls"),s=n("q1tI");const c=e=>{let t=e.kind,n=void 0===t?"secondary":t,c=e.showingCount,l=e.totalCount,d=e.pageSize,u=e.onClick,m=e.loading,p=e.remainingI18nKey,h=void 0===p?"defaults.Load_more":p,b=e.showPageCount,f=void 0===b||b,g=e.buttonI18nKey,v=e.hasMorePages,k=e.atoms,y=void 0===k?[]:k;return l>d?s.createElement("div",{className:y.join(" ")},f&&s.createElement("div",{className:"w100p center mb2 dark-grey-500 type-16"},s.createElement(r.a,{i18nKey:h,showing:c,total:l})),v&&s.createElement(a.g,{kind:n,onClick:m?o.d:u,fullWidth:!0},m?s.createElement(i.a,{size:"medium"}):s.createElement(r.a,{i18nKey:g}))):null}},dkkr:function(e,t,n){"use strict";n.d(t,"c",function(){return h}),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return f});var a=n("pTxv"),i=n("t1f3"),r=n("2DJ9"),o=n("EoiL"),s=n("T8n5"),c=n("q1tI"),l=n("rcUh");const d=e=>{let t=e.children;return c.createElement("div",{className:"center px5 py10 border border-grey-500 bg-grey-100 text-center"},t)},u=e=>{let t=e.iconType,n=e.iconColor,a=void 0===n?"soft-black":n;return c.createElement(r.a,{atoms:["fill-".concat(a)],name:t,size:"36"})},m=e=>{let t=e.text,n=e.color,a=void 0===n?"soft-black":n;return c.createElement(o.a,{level:3,atoms:["mb2",a]},t)},p=e=>{let t=e.children;return c.createElement(s.a,{atoms:["mb0"],type:"subhead-200"},t)},h=e=>{const t=e.iconType||"icon--lightbulb",n=e.primaryColor||"soft-black",a=e.space||5;return c.createElement(d,null,c.createElement(u,{iconType:t,iconColor:n}),c.createElement(l.a,{vertical:a}),c.createElement(m,{text:e.primaryText,color:n}),c.createElement(p,null,e.secondaryText))},b=e=>c.createElement(d,null,c.createElement(u,{iconType:"icon--alert"}),c.createElement(m,{text:e.primaryText}),c.createElement(p,null,e.secondaryText)),f=e=>c.createElement(d,null,c.createElement(i.a,{name:"teeth-chattering",atoms:["mb5","w30"]}),c.createElement(m,{text:e.primaryText}),c.createElement(p,null,e.secondaryText),e.buttonText&&e.buttonUrl&&c.createElement(a.c,{atoms:["mt3"],theme:"support",size:"large",href:e.buttonUrl},e.buttonText))},dvPR:function(e,t,n){"use strict";n.r(t);var a=n("UB5X"),i=n.n(a),r=n("QHKZ"),o=n.n(r);n.d(t,"Honeybadger",function(){return o.a});var s=n("KZo6"),c=n("oMXI");if(window.honeybadgerConfiguration){const e=window.honeybadgerConfiguration;Object(c.b)()||Object(c.c)()||(e.disabled=!0),o.a.configure(e)}if("function"==typeof o.a.setContext&&o.a.setContext(Object(s.b)()),"function"==typeof o.a.beforeNotify){const e=.01;o.a.beforeNotify(t=>{if(t.fingerprint=Object(s.c)(t),Object(c.a)())return console.error("Honeybadger in development",t),!1;if(!Object(s.d)())return!1;if(s.a.test(window.location.href))return!1;if("production"===t.environment){const n=i()(t.__RATE_LIMIT__)?t.__RATE_LIMIT__:e;if(Math.random()>n)return!1}})}},eEls:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return o});const a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>(function(){return e(t(...arguments))}))},i=e=>()=>e,r=e=>e,o=()=>void 0},eH4U:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return m}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return h});var a=n("pj8f"),i=n("94td"),r=n("g84z"),o=n("zm9w"),s=n("Owp+"),c=n("vtU4"),l=n("dtw8");const d=(e,t)=>"".concat(o.a.money(Number(e),{currency:t,type:"truncate_zeros"})),u=(e,t,n,i)=>{switch(n){case s.a.FreeformPost:return c.b.EDIT_FREEFORM_POST.url(e,t,i);case s.a.CreatorInterview:return c.b.EDIT_CREATOR_INTERVIEW.url(e,t,i);default:return a.Honeybadger.notify("Unknown post type for edit link:"+n),c.b.NEW_FREEFORM_POST.url(e,t)}},m=e=>{const t=Object(l.b)(window.location.pathname,e);return!(!t||!t.isExact)},p=e=>e&&e.includes("docs.google.com/spreadsheets"),h=()=>{const e=Object(r.a)(window.location.search).question,t={question1:Object(i.b)("project_updates.What_have_you_been_working_on_since_your_last_update?"),question2:Object(i.b)("project_updates.How_are_you_working_through_the_challenges"),question3:Object(i.b)("project_updates.What_is_your_next_big_milestone")}[e];if(t)return"<h1>".concat(t,"</h1><br/>")}},egyr:function(e,t,n){"use strict";var a=n("2DJ9"),i=n("q1tI"),r=n.n(i);t.a=e=>{let t=e.size,n=void 0===t?"large":t,i=e.fillColor;return r.a.createElement(a.a,{name:"icon--circle-loader",atoms:i?[i]:void 0,size:n})}},"f/gE":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("q1tI");const i=e=>{let t=e.children,n=e.atoms,i=void 0===n?[]:n,r=e.id;const o=["grid-row"].concat(i).join(" ");return a.createElement("div",{className:o,id:r},t)}},fAGL:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var a=n("94td");const i=Object(a.b)("settings.lose_changes");let r;const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;window.onbeforeunload&&(r=window.onbeforeunload),window.onbeforeunload=t=>(t.returnValue=e,e)},s=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e&&r)return window.onbeforeunload=r,void(r=void 0);window.onbeforeunload=void 0}},fewB:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ComposeCreatorInterviewPostFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publish"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"destroy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"update"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isPublic"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"excludedRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasExcludedNoRewardTier"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creatorPrompt"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"answers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withSkipped"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"withBlank"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSkipped"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"question"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Post"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ComposeCreatorInterviewPostFragment"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateCreatorInterview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateCreatorInterviewInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createCreatorInterview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creatorInterview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateCreatorInterview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateCreatorInterviewInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateCreatorInterview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creatorInterview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ComposeCreatorInterviewPostFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:981}};n.loc.source={body:"fragment ComposeCreatorInterviewPostFragment on Postable {\n  id\n  title\n  actions {\n    publish\n    destroy\n    update\n  }\n  isPublic\n  publishedAt\n  excludedRewards {\n    nodes {\n      id\n    }\n  }\n  hasExcludedNoRewardTier\n  ... on CreatorInterview {\n    creatorPrompt {\n      id\n      questions {\n        nodes {\n          id\n          body\n        }\n      }\n    }\n    answers(withSkipped: true, withBlank: true) {\n      nodes {\n        id\n        body\n        isSkipped\n        question {\n          id\n        }\n      }\n    }\n  }\n}\n\nquery Post($id: ID!) {\n  post(id: $id) {\n    ...ComposeCreatorInterviewPostFragment\n  }\n}\n\nmutation CreateCreatorInterview($input: CreateCreatorInterviewInput!) {\n  createCreatorInterview(input: $input) {\n    creatorInterview {\n      id\n    }\n  }\n}\n\nmutation UpdateCreatorInterview($input: UpdateCreatorInterviewInput!) {\n  updateCreatorInterview(input: $input) {\n    creatorInterview {\n      ...ComposeCreatorInterviewPostFragment\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function r(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.Post=r(n,"Post"),e.exports.CreateCreatorInterview=r(n,"CreateCreatorInterview"),e.exports.UpdateCreatorInterview=r(n,"UpdateCreatorInterview")},fivf:function(e,t,n){"use strict";n.r(t);var a=n("bpk+"),i=n.n(a),r=n("aiSh"),o=n("pj8f"),s=n("q1tI"),c=n.n(s),l=n("4KRT"),d=n("i8i4"),u=n.n(d),m=n("eO8H"),p=n("gN63"),h=n("Owp+"),b=n("vtU4"),f=n("LdJi"),g=n("1eGs"),v=n("8ZZx");const k=()=>{const e=v.a.PUBLISHED_POSTS,t=v.a.DRAFT_POSTS,n=v.a.POSTS_DASHBOARD;return s.createElement(m.i,null,s.createElement(m.g,{exact:!0,path:e.path,render:t=>{let n=t.match;return s.createElement(e.Component,{projectSlug:n.params.projectSlug,projectCreator:n.params.projectCreator,state:g.b.published})}}),s.createElement(m.g,{exact:!0,path:t.path,render:e=>{let n=e.match;return s.createElement(t.Component,{projectSlug:n.params.projectSlug,projectCreator:n.params.projectCreator,state:g.b.draft})}}),s.createElement(m.g,{exact:!0,path:n.path,render:e=>{let t=e.match;return s.createElement(m.f,{to:v.a.DRAFT_POSTS.url(t.params.projectCreator,t.params.projectSlug)})}}))},y=()=>s.createElement("div",{className:"py14"},s.createElement(f.a,null,s.createElement(k,null)));var E=n("94td"),_=n("prSB"),O=n("msqZ"),j=n.n(O),S=n("2DJ9"),w=n("OJn5"),N=n("tr1H"),C=n("1vCr"),I=n("CPM0"),T=n("mv45"),D=n("TIPN"),P=n("5FPU"),x=n("a8OY"),A=n("GnmY"),F=n("cuY2"),R=n.n(F);const M=n("fewB"),L=(M.ComposeCreatorInterviewPostFragment,M.Post),U=M.CreateCreatorInterview,B=M.UpdateCreatorInterview,V=(e,t)=>{const n=e&&e.nodes&&e.nodes.map(e=>e&&e.id).filter(e=>e)||[];return{formattedExcludedRewardIds:n,showSelectTiers:Boolean(n.length>0),hasExcludedNoRewardTier:Boolean(t)}},Y=Object(T.c)(e=>{if(!e.data||!e.data.post)return Object(T.d)(e.data.error);const t=e.data.post,n=t.title,a=t.actions,i=a.publish,r=a.destroy,o=a.update,s=t.publishedAt,c=t.creatorPrompt.questions.nodes,l=t.isPublic,d=t.excludedRewards,u=t.hasExcludedNoRewardTier,m=t.answers.nodes,p=Boolean(s),h=c?c.filter(e=>e):[],b=m?m.filter(e=>e):[],f=e=>{const t=b.find(t=>t.question.id===e.id);return t?{id:t.id,body:t.body,skip:t.isSkipped}:{id:"",body:"",skip:!1}},g=h.map(e=>Object(_.a)({},e,{answer:f(e)}));return Object(T.l)(Object(_.a)({isPublished:p,isPublic:l,canDelete:r,canPublish:i,canUpdate:o,title:n||"",questions:g},V(d,u)))}),q=Object(l.c)(L,Y),H=Object(T.b)(e=>({onCreateCreatorInterview:t=>e.mutate({variables:{input:t}})})),W=Object(l.c)(U,H),z=Object(T.b)(e=>({onUpdateCreatorInterview:t=>e.mutate({variables:{input:t}})})),K=Object(l.c)(B,z),G=n("o65o"),J=(G.PostIncludeExcludeRewardFragment,G.PostIncludeReward),$=G.PostExcludeReward,Q=e=>e.map(e=>({id:e,__typename:"Reward"})),Z=(e,t)=>{const n=t.id,a=t.hasExcludedNoRewardTier,i=t.formattedExcludedRewardIds;return{postExcludeReward:{__typename:"PostExcludeRewardPayload",post:{__typename:"FreeformPost",id:n,hasExcludedNoRewardTier:null===e||a,excludedRewards:{__typename:"RewardConnection",nodes:(()=>null==e?Q(i):Q(i).concat({id:e,__typename:"Reward"}))()}}}}},X=(e,t)=>{const n=t.id,a=t.hasExcludedNoRewardTier,i=t.formattedExcludedRewardIds;return{postIncludeReward:{__typename:"PostIncludeRewardPayload",post:{__typename:"FreeformPost",id:n,hasExcludedNoRewardTier:null!==e&&a,excludedRewards:{__typename:"RewardConnection",nodes:(()=>null==e?Q(i):i.reduce((t,n)=>n===e?t:t.concat({id:n,__typename:"Reward"}),[]))()}}}}},ee=Object(T.b)(e=>{const t=e.mutate,n=e.ownProps;return{postExcludeReward:e=>t({variables:{input:e},optimisticResponse:Z(e.rewardId,n)})}}),te=Object(l.c)($,ee),ne=Object(T.b)(e=>{const t=e.mutate,n=e.ownProps;return{postIncludeReward:e=>t({variables:{input:e},optimisticResponse:X(e.rewardId,n)})}}),ae=Object(l.c)(J,ne),ie=Object(T.a)(te,ae);var re=n("JhfJ"),oe=n("RBqt");const se=e=>Boolean(e.text)?s.createElement("div",{className:"border border-red-500 radius2px p3 flex mb5"},s.createElement(S.a,{atoms:["fill-red-500","mr2"],name:"icon--alert",size:"20"}),s.createElement("div",{className:"flex1"},s.createElement(oe.a,{weight:"bold"},e.text))):null;var ce=n("DjBF"),le=n("lHf8"),de=n("8oY9"),ue=n("ZCb5"),me=n("ZCHx"),pe=n("CgNg"),he=n("jQIB"),be=n("mEsB"),fe=n("eH4U");let ge;!function(e){e.AUD="AUD",e.CAD="CAD",e.CHF="CHF",e.DKK="DKK",e.EUR="EUR",e.GBP="GBP",e.HKD="HKD",e.JPY="JPY",e.MXN="MXN",e.NOK="NOK",e.NZD="NZD",e.PLN="PLN",e.SEK="SEK",e.SGD="SGD",e.USD="USD"}(ge||(ge={}));const ve=n("JNOO").Rewards,ke=Object(T.c)(e=>{if(!e.data||!e.data.project)return Object(T.d)(e.data.error);const t=e.data.project,n=t.rewards,a=t.backersCount,i=n&&n.nodes?n.nodes.map(e=>e&&{id:e.id,description:e.description,displayName:e.displayName,backersCount:Object(E.b)("project_updates.Backers",{count:e.backersCount}),formattedAmount:Object(fe.a)(e.amount.amount,e.amount.currency)}):[],r=a-(n&&n.nodes?n.nodes.map(e=>e&&e.backersCount).reduce((e,t)=>e+(t||0),0):0);return Object(T.l)({noRewardBackingsCount:r,rewards:i})}),ye=Object(l.c)(ve,ke);var Ee=n("4sJn");const _e=e=>{let t=e.width,n=void 0===t?16:t,a=e.color,i=void 0===a?"soft-black":a,r=e.baseline,o=void 0!==r&&r;return s.createElement(Ee.a,{width:n,atoms:[i,o?"valign-baseline":""],viewBox:"0 0 16 13"},s.createElement("path",{d:"M5.8 12.9L0.1 8.1C0 7.9 0 7.7 0.1 7.6L1 6.6C1.1 6.5 1.3 6.5 1.4 6.6L5.8 10.3 14.4 0.1C14.5 0 14.7 0 14.8 0.1L15.9 0.9C16 1 16 1.2 15.9 1.4L6.3 12.9C6.1 13 5.9 13 5.8 12.9Z",fill:"currentColor"}))};var Oe=n("/IHD");const je=Object(Oe.a)("relative","radius2px","mr2","flex","items-center","justify-center","border","type-16"),Se=Object(Oe.a)("o0p","absolute","t0","l0","r0","b0","w100p","h100p","m0"),we=e=>{const t=Object(Oe.a)("w3 h3",e.checked&&!e.disabled?"border-ksr-green-500 bg-ksr-green-500":"",e.checked&&e.disabled?"border-drip-gray bg-drip-gray":"",!e.checked&&e.disabled?"border-drip-gray bg-drip-gray":"",e.checked||e.disabled?"":"border-drip-mild-gray bg-white",je),n=e.disabled&&!e.checked?"transparent":e.disabled&&e.checked?"drip-light-gray":"white",a=e.disabled?"cursor-default":"pointer",i=Object(Oe.a)(Se,a);return s.createElement("div",{className:"flex items-center border border-transparent border-focused-within-ksr-green-500"},s.createElement("div",{className:t},s.createElement(_e,{width:12,color:n}),s.createElement("input",{type:"checkbox",id:e.id,name:e.name,value:e.value,disabled:e.disabled,defaultChecked:e.checked,"aria-checked":e.checked,onChange:t=>e.onChange(t.currentTarget.checked),className:i})),s.createElement("label",{className:"type-16 "+a,htmlFor:e.id},e.label))};var Ne=n("rcUh");const Ce=e=>0===e.noRewardBackingsCount?null:s.createElement("div",{className:"mb1"},s.createElement(we,{id:"no-reward-checkbox",name:"no-reward",label:Object(E.b)("project_updates.No_reward"),checked:!e.hasExcludedNoRewardTier,onChange:t=>e.onChangeRewardIdNotification(t,null),disabled:e.isPublished}),s.createElement(Ne.a,{horizontal:2}),s.createElement("p",{className:"pl5 dark-grey-400 type-14 mb0"},Object(E.b)("project_updates.Backers",{count:e.noRewardBackingsCount}))),Ie=ye(e=>{const t=e.isShowing?"block":"hide";return Object(T.h)(e)?s.createElement(S.a,{size:"medium",name:"icon--circle-loader",atoms:[t,"mx-auto","mt2"]}):Object(T.g)(e)?(o.Honeybadger.notify(JSON.stringify(e.error),{context:{tags:N.a.POST_UPDATES}}),null):s.createElement("div",{className:t},s.createElement(Ne.a,{vertical:3}),s.createElement(Ce,e),e.rewards.map(t=>s.createElement("div",{className:"mb1",key:t.id},s.createElement("div",{className:"flex items-center"},s.createElement("div",{className:"flex1"},s.createElement(we,{id:"reward-".concat(t.id),name:"reward-".concat(t.id),key:"reward-".concat(t.id),label:t.displayName,checked:!e.excludedRewardIds.includes(t.id),onChange:n=>e.onChangeRewardIdNotification(n,t.id),disabled:e.isPublished})),s.createElement(Ne.a,{horizontal:2}),s.createElement(be.a,{label:s.createElement(s.Fragment,null,s.createElement("h3",{className:"m0 type-16"},t.displayName),s.createElement("p",{className:"mt0 mb2 type-14"},t.formattedAmount," - ",t.backersCount),s.createElement("p",{className:"m0 type-14"},t.description)),ariaLabel:"".concat(t.displayName," ").concat(t.formattedAmount," - ").concat(t.backersCount," ").concat(t.description)},s.createElement(S.a,{size:"16",name:"icon--info",atoms:["fill-dark-grey-400"]}))),s.createElement("p",{className:"pl5 dark-grey-400 type-14 mb0"},t.formattedAmount," - ",t.backersCount))))}),Te=e=>s.createElement(s.Fragment,null,s.createElement(de.a,{id:"post-title",label:Object(E.b)("project_updates.Title")}),s.createElement("span",{className:"block pb1"}),s.createElement(pe.b,{id:"post-title",autoComplete:"off",placeholder:Object(E.b)("project_updates.Incredible_start"),inputValue:e.value,onChange:e.onChange,hasErrors:Boolean(e.error),currentFocus:"post-title",charLimit:255}),e.error&&s.createElement("span",{className:"block mt1 red-500"},e.error)),De=e=>{const t=s.useState(!1),n=Object(ce.a)(t,2),a=n[0],i=n[1],r=s.useRef(!0);s.useEffect(()=>{r.current?r.current=!1:a?Object(A.e)("project-update-body",Object(p.a)(e.postId)):a||Object(A.f)("project-update-body",Object(p.a)(e.postId))},[a]);const o=e.value&&Object(fe.e)(e.value);return o&&!a?i(!0):!o&&a&&i(!1),s.createElement(s.Fragment,null,s.createElement(de.a,{id:"post-body",label:Object(E.b)("project_updates.Body")}),s.createElement("span",{className:"block pb1"}),s.createElement(w.a,{placeholder:Object(E.b)("project_updates.Thank_you_all_so_much"),value:e.value,onBlur:e.onChange,attachableAssoc:"body_assets",attachableId:e.postId,hasErrors:Boolean(e.error),hasWarnings:Boolean(o),ToolBar:ue.a,checkForPossiblePII:!0,tracking:{editorToolClicked:t=>{Object(A.c)(e.postType,t)},videoUploaded:()=>{Object(A.t)(e.postType)},piiWarningTriggered:()=>{Object(A.e)("project-update-link-modal",Object(p.a)(e.postId))},piiWarningUntriggered:()=>{Object(A.f)("project-update-link-modal",Object(p.a)(e.postId))},piiWarningLinkToTerms:()=>{Object(A.d)("project-update-link-modal")}}}),e.error&&s.createElement("span",{className:"red-500"},e.error),!e.error&&o&&s.createElement(he.a,{intoView:!0,offset:100},s.createElement(E.a,{atoms:["type-14","orange-500"],i18nKey:"project_updates.Make_sure_your_linked_documents_don’t_contain_any_backer_information",link:s.createElement(le.a,{color:"orange-500",target:"_blank",onClick:()=>Object(A.d)("project-update-body"),href:"https://www.kickstarter.com/terms-of-use#section3"},Object(E.b)("project_updates.Our_terms"))})))},Pe=e=>{const t=[{value:"public",label:Object(E.b)("project_updates.Public_everyone")},{value:"backers",label:Object(E.b)("project_updates.Backers_only")}];return s.createElement(s.Fragment,null,s.createElement(de.a,{id:"post-viewable-by",label:Object(E.b)("project_updates.Visible_to")}),s.createElement("span",{className:"block pb1"}),s.createElement(me.a,{options:t,selectedValue:e.value?t[0].value:t[1].value,onChange:t=>e.onChange("public"===t)}))},xe=e=>{const t=[{value:"all-backers",label:Object(E.b)("project_updates.All_backers")},{value:"select-tiers",label:Object(E.b)("project_updates.Select_tiers")}],n=e.showSelectTiers?"select-tiers":e.value,a="select-tiers"===e.value||e.showSelectTiers;return s.createElement(s.Fragment,null,s.createElement(de.a,{id:"post-notifications",label:Object(E.b)("project_updates.Notifications")}),s.createElement("span",{className:"block pb1"}),s.createElement(me.a,{options:t,selectedValue:n,onChange:e.onChange,disabled:e.isPublished}),s.createElement(Ie,{projectSlug:e.projectSlug,isShowing:a,excludedRewardIds:e.excludedRewardIds,onChangeRewardIdNotification:e.onChangeRewardIdNotification,isPublished:e.isPublished,hasExcludedNoRewardTier:e.hasExcludedNoRewardTier}))};var Ae=n("T8n5");const Fe=e=>s.createElement("div",{className:"flex pb3 pb0-md"},s.createElement(S.a,{size:"20",name:"icon--lightbulb",atoms:["fill-ksr-green-500","shrink0"]}),s.createElement(Ne.a,{horizontal:1}),s.createElement(Ae.a,{color:"ksr-green-500",type:"body-100"},e.text)),Re=e=>s.createElement("div",{className:"flex-md w100p"},s.createElement("div",{className:"flex2"},e.leftCol&&e.leftCol()),s.createElement("div",{className:"flex1 ml3-md"},e.rightCol&&e.rightCol()));class Me extends s.Component{render(){const e=["project-updates-action-bar","fixed","b0","r0","h12","px2","px4-lg","z-modal-3","border-box","bg-grey-300","border-top","w100p"].join(" ");return s.createElement("div",{className:e},s.createElement("div",{className:"h100p flex items-center"},this.props.children))}}var Le=n("pTxv"),Ue=n("v9JK"),Be=n("9jZ4");class Ve extends s.Component{constructor(){super(...arguments),this.state={isDeleting:!1},this.onDelete=async()=>{this.setState({isDeleting:!0}),await this.props.onDelete(),this.setState({isDeleting:!1}),this.props.onComplete()},this.confirmDelete=()=>confirm(Object(E.b)("project_updates.Are_you_sure_you_want_to_delete"))?this.onDelete():null}render(){return s.createElement(s.Fragment,null,s.createElement("div",{className:"hide block-lg"},s.createElement("button",{type:"button",disabled:this.state.isDeleting,className:"block mx-auto mx0-md type-14 mb4 mb0-md red-500 text-underline",onClick:this.confirmDelete},this.state.isDeleting?Object(E.b)("project_updates.Deleting"):this.props.buttonText)),s.createElement("div",{className:"hide-lg"},s.createElement("button",{type:"button",disabled:this.state.isDeleting,className:"bg-transparent p0 no-border",onClick:this.confirmDelete},s.createElement(S.a,{name:"icon--trash",size:"20",atoms:["fill-soft-black"]}))))}}class Ye extends s.Component{constructor(){super(...arguments),this.state={isPreviewing:!1},this.onPreview=async e=>{e.persist(),await this.setState({isPreviewing:!0}),await this.props.onPreviewPost(e),this.setState({isPreviewing:!1})}}componentWillUnmount(){this.setState({isPreviewing:!1})}render(){return s.createElement(Le.d,{theme:"support",disabled:this.state.isPreviewing,onClick:this.onPreview,atoms:["flex1","max-w40","no-wrap","mr1","mr3-md"]},s.createElement("span",{className:"hide block-lg"},this.state.isPreviewing?Object(E.b)("project_updates.Previewing"):Object(E.b)("project_updates.Preview")),s.createElement("span",{className:"hide-lg"},s.createElement(S.a,{name:"icon--eye",size:"large",atoms:["fill-soft-black"]})))}}class qe extends s.Component{constructor(){super(...arguments),this.state={isSaving:!1},this.onSavePublishedPost=async e=>{await this.setState({isSaving:!0}),await this.props.onSavePublishedPost(e),this.setState({isSaving:!1})}}render(){return s.createElement(Le.c,{type:"button",disabled:this.state.isSaving,onClick:this.onSavePublishedPost,atoms:["flex1","max-w40","no-wrap"]},this.state.isSaving?Object(E.b)("project_updates.Saving"):Object(E.b)("project_updates.Save_changes"))}}class He extends s.Component{constructor(){super(...arguments),this.state={isSavingDraft:!1},this.onSaveDraft=async e=>{await this.setState({isSavingDraft:!0}),await this.props.onSaveDraft(e),this.setState({isSavingDraft:!1})}}render(){return s.createElement(Le.d,{theme:"support",disabled:this.state.isSavingDraft,onClick:this.onSaveDraft,atoms:["flex1","max-w40","no-wrap","mr1","mr3-md"]},s.createElement("span",{className:"hide block-lg"},this.state.isSavingDraft?Object(E.b)("project_updates.Saving"):this.props.isDirty?Object(E.b)("project_updates.Save_draft"):Object(E.b)("project_updates.Draft_saved")),s.createElement("span",{className:"hide-lg"},this.state.isSavingDraft?s.createElement(S.a,{name:"icon--circle-loader",size:"large",atoms:["fill-soft-black"]}):this.props.isDirty?s.createElement(S.a,{name:"icon--save",size:"large",atoms:["fill-soft-black"]}):s.createElement(S.a,{name:"icon--saved",size:"large",atoms:["fill-soft-black"]})))}}const We=e=>s.createElement(m.c,{className:"flex1 max-w40 mr1 mr3-md",to:e.editUrl},s.createElement(Le.d,{theme:"support",atoms:["no-wrap","border-box","w100p"]},s.createElement("span",{className:"hide block-lg"},Object(E.b)("project_updates.Edit")),s.createElement("span",{className:"hide-lg"},s.createElement(S.a,{name:"icon--pencil",size:"large",atoms:["fill-soft-black"]}))));class ze extends s.Component{constructor(){super(...arguments),this.state={isModalShowing:!1,isPublishing:!1},this.onShowModal=()=>{this.setState({isModalShowing:!0})},this.onHideModal=()=>{this.setState({isModalShowing:!1})},this.onPublish=async e=>{await this.setState({isPublishing:!0}),await this.props.onPublish(e),this.setState({isPublishing:!1})},this.renderConfirmPublishModal=()=>{if(!this.state.isModalShowing)return null;const e={freeform:Object(E.b)("project_updates.Notifications_will_be_sent"),interview:Object(E.b)("project_updates.Well_send_your_answers_to_backers")};return s.createElement(Ue.a,{size:"small",onClose:this.onHideModal,headerCopy:Object(E.b)("project_updates.Ready_to_publish"),secondaryCloseCopy:Object(E.b)("project_updates.No_Im_not_ready")},s.createElement("p",{className:"mt0 mb3 dark-grey-500"},e[this.props.formType]),s.createElement(Le.c,{type:"submit",theme:"support",atoms:["w100p"],onClick:this.onPublish,disabled:this.state.isPublishing},this.state.isPublishing?Object(E.b)("project_updates.Publishing"):Object(E.b)("project_updates.Yes_publish_now")))}}componentDidUpdate(e){this.props.hasErrors&&!Object(Be.h)(e,this.props)&&this.onHideModal()}render(){return s.createElement(s.Fragment,null,s.createElement(Le.c,{theme:"create",atoms:["flex1","max-w40"],onClick:this.onShowModal},Object(E.b)("project_updates.Publish")),this.renderConfirmPublishModal())}}Object(E.b)("project_updates.Public_everyone"),Object(E.b)("project_updates.All_backers");const Ke=()=>s.createElement(S.a,{name:"icon--plus",size:"20",atoms:["fill-soft-black"]}),Ge=()=>s.createElement("span",{className:"ksr-tooltip","data-tooltip":Object(E.b)("project_updates.Skip_this_question")},s.createElement(S.a,{name:"icon--cross",size:"20",atoms:["fill-soft-black"]})),Je=Object(T.a)(re.c,K,q,ie,Object(P.a)(()=>({primaryText:Object(E.b)("new_creator_interview.Were_having_trouble_loading"),secondaryText:Object(E.b)("new_creator_interview.If_refreshing_this_page")})),x.b,m.j)(class extends s.Component{constructor(){super(...arguments),this.onSubmit=(e,t)=>{const n=this.props,a=n.id,i=n.projectCreator,r=n.projectSlug,o=n.onPublishPost,s=n.isPublished,c=n.history;return(0,n.onUpdateCreatorInterview)({id:a,title:e.title,public:e.isPublic,answers:e.questions.map(e=>{let t=e.answer,n=e.id;return{body:"<br />"===t.body?"":t.body,interviewQuestionId:n,skip:t.skip}})}).then(()=>{const e=b.b.VIEW_POST.url(i,r,Object(p.a)(a));if(t.publish)return o({id:a}).then(()=>{Object(A.o)(A.a.CreatorInterview),window.location.href=e});t.redirectToPost&&(s?(Object(A.p)(A.a.CreatorInterview),window.location.href=e):(Object(A.n)(A.a.CreatorInterview),c.push(b.b.PREVIEW_POST.url(i,r,Object(p.a)(a)))))})},this.onError=(e,t)=>{Object(D.d)(),t&&o.Honeybadger.notify(t,{context:{tags:N.a.POST_UPDATES}})}}renderFormActionsBar(e){const t=this.props,n=t.id,a=t.canDelete,i=t.onDeletePost,r=t.projectCreator,o=t.projectSlug,c=t.isPublished;return s.createElement(Me,null,s.createElement("div",{className:"flex items-center justify-between w100p"},a&&s.createElement(Ve,{buttonText:c?Object(E.b)("project_updates.Delete_update_"):Object(E.b)("project_updates.Delete_draft"),onDelete:()=>(Object(A.l)(A.a.CreatorInterview),i({id:n})),onComplete:()=>{window.location.href=b.a.DRAFT_POSTS.url(r,o)}}),s.createElement("div",{className:"flex flex1 items-center justify-end"},s.createElement("span",{className:"flex1"}),!c&&s.createElement(s.Fragment,null,s.createElement(Ye,{onPreviewPost:e.onSubmitWithExtras({publish:!1,redirectToPost:!0})}),s.createElement(He,{isDirty:e.isDirty,onSaveDraft:e.onSubmitWithExtras({publish:!1,redirectToPost:!1})}),s.createElement(ze,{formType:"interview",hasErrors:Boolean(e.errors),onPublish:e.onSubmitWithExtras({publish:!0,redirectToPost:!1})})),c&&s.createElement(qe,{onSavePublishedPost:e.onSubmitWithExtras({publish:!1,redirectToPost:!0})}))))}renderQuestionsAndAnswers(e,t){return e.questions.map((n,a)=>{const i=n.answer.skip;return s.createElement("div",{className:"test-question pb8",key:n.id},s.createElement("div",{className:"flex items-center justify-between mb2"},s.createElement("h3",{className:"type-21 mb1 ".concat(i?"soft-black_50":"soft-black")},s.createElement("span",{className:"border-bottom border-ksr10-green",style:{borderWidth:"3px",lineHeight:"3.4rem"}},n.body)),s.createElement("button",{className:"test-skip-question keyboard-focusable ml3",onClick:()=>{t(Object(_.a)({},j()("questions[".concat(a,"].answer.skip"),!i,e)))}},i?s.createElement(Ke,null):s.createElement(Ge,null))),s.createElement(R.a,{duration:500,height:i?0:"auto"},s.createElement(I.a,{enter:"fade-in-and-down",leave:"fade-out-and-up",open:!i,duration:700,mountOnEnter:!1,unmountOnExit:!1},s.createElement(w.a,{value:n.answer.body,onBlur:n=>{t(Object(_.a)({},j()("questions[".concat(a,"].answer.body"),n,e)))},attachableAssoc:"body_assets",attachableId:n.answer.id,tracking:{editorToolClicked:e=>{Object(A.c)(A.a.CreatorInterview,e)},videoUploaded:()=>{Object(A.t)(A.a.CreatorInterview)}}}))))})}render(){const e={questions:this.props.questions||[],title:this.props.title||"",isPublic:this.props.isPublic,notifications:"all-backers"};return s.createElement(C.a,{warnBeforeDirtyUnmount:!0,initialValues:e,validate:e=>Boolean(e.title)?{}:{title:Object(E.b)("project_updates.Title_is_required")},onSubmit:this.onSubmit,onError:this.onError},e=>s.createElement("form",{onSubmit:e.onSubmit},this.renderFormActionsBar(e),e.errors&&s.createElement(se,{text:e.errors.base||e.errors.general}),s.createElement(Re,{leftCol:()=>s.createElement(s.Fragment,null,s.createElement(Te,{value:e.values.title,onChange:t=>e.setValues({title:t}),error:Object(C.b)("title",e.errors)}),s.createElement(Ne.a,{vertical:8}),this.renderQuestionsAndAnswers(e.values,e.setValues)),rightCol:()=>s.createElement(s.Fragment,null,s.createElement(Pe,{value:e.values.isPublic,onChange:t=>{e.setValues({isPublic:t}),Object(A.s)(t?"anyone":"backers_only")}}),s.createElement(Ne.a,{vertical:4}),s.createElement(xe,{projectSlug:this.props.projectSlug,value:e.values.notifications,onChange:t=>{e.setValues({notifications:t})},excludedRewardIds:this.props.formattedExcludedRewardIds,hasExcludedNoRewardTier:this.props.hasExcludedNoRewardTier,onChangeRewardIdNotification:(e,t)=>(Object(A.r)(e?"checked":"unchecked"),e?this.props.postIncludeReward({postId:this.props.id,rewardId:t}):this.props.postExcludeReward({postId:this.props.id,rewardId:t})),isPublished:this.props.isPublished,showSelectTiers:this.props.showSelectTiers}),s.createElement(Ne.a,{vertical:5}),s.createElement(Fe,{text:Object(E.b)("project_updates.All_backers_will_be_able_to_view")}))})))}}),$e=e=>{let t=e.id,n=e.projectCreator,a=e.projectSlug;return s.createElement(f.a,null,s.createElement("section",{className:"pt14"},s.createElement("div",{className:"bold type-21 pb6"},Object(E.b)("project_updates.Edit_update"))),s.createElement(Je,{id:t,projectCreator:n,projectSlug:a}))},Qe=n("+VqH"),Ze=(Qe.ComposeFreeformPostFragment,Qe.Post),Xe=Qe.CreateFreeformPost,et=Qe.UpdatePost,tt=Object(T.b)(e=>({onCreateFreeformPost:t=>e.mutate({variables:{input:t}})})),nt=Object(l.c)(Xe,tt),at=Object(T.b)(e=>({onUpdatePost:t=>e.mutate({variables:{input:t}})})),it=Object(l.c)(et,at),rt=Object(T.c)(e=>{if(!e.data||!e.data.post)return Object(T.d)(e.data.error);const t=e.data.post,n=t.title,a=t.body,i=t.isPublic,r=t.publishedAt,o=t.excludedRewards,s=t.hasExcludedNoRewardTier,c=t.actions.destroy,l=Boolean(r);return Object(T.l)(Object(_.a)({title:n,body:a,isPublic:i,isPublished:l,canDelete:c},V(o,s)))}),ot=Object(l.c)(Ze,rt),st=Object(T.a)(ot,re.c,it,ie,m.j)(e=>{if(!Object(T.i)(e))return null;const t=e.id,n=e.isPublished,a=e.onUpdatePost,i=e.onDeletePost,r=e.canDelete,c=e.onPublishPost,l=e.postExcludeReward,d=e.postIncludeReward,u={title:e.title||"",body:e.body||Object(fe.d)()||"",isPublic:e.isPublic,notifications:"all-backers"};return s.createElement(C.a,{warnBeforeDirtyUnmount:!0,initialValues:u,validate:e=>Object(_.a)({},Boolean(e.title)?{}:{title:Object(E.b)("project_updates.Title_is_required")},{},Boolean(e.body)?{}:{body:Object(E.b)("project_updates.Body_is_required")}),onSubmit:(n,i)=>a({id:t,title:n.title,body:n.body,public:n.isPublic}).then(()=>{const n=()=>{window.location.href=b.b.VIEW_POST.url(e.projectCreator,e.projectSlug,Object(p.a)(t))};if(i.publish)return c({id:t}).then(()=>{Object(A.o)(A.a.FreeformPost),n()});i.redirectToPost&&(e.isPublished?(Object(A.p)(A.a.FreeformPost),n()):(Object(A.n)(A.a.FreeformPost),e.history.push(b.b.PREVIEW_POST.url(e.projectCreator,e.projectSlug,Object(p.a)(t)))))}),onError:(e,t)=>{Object(D.d)(),t&&o.Honeybadger.notify(t,{context:{tags:N.a.POST_UPDATES}})}},a=>s.createElement(s.Fragment,null,s.createElement(Me,null,s.createElement("div",{className:"flex items-center justify-between w100p"},r&&s.createElement(Ve,{buttonText:n?Object(E.b)("project_updates.Delete_update_"):Object(E.b)("project_updates.Delete_draft"),onDelete:()=>(Object(A.l)(A.a.FreeformPost),i({id:e.id})),onComplete:()=>{window.location.href=b.a.DRAFT_POSTS.url(e.projectCreator,e.projectSlug)}}),s.createElement("div",{className:"flex flex1 items-center justify-end"},s.createElement("span",{className:"flex1"}),!n&&s.createElement(s.Fragment,null,s.createElement(Ye,{onPreviewPost:a.onSubmitWithExtras({publish:!1,redirectToPost:!0})}),s.createElement(He,{isDirty:a.isDirty,onSaveDraft:a.onSubmitWithExtras({publish:!1,redirectToPost:!1})}),s.createElement(ze,{formType:"freeform",hasErrors:Boolean(a.errors),onPublish:a.onSubmitWithExtras({publish:!0,redirectToPost:!1})})),e.isPublished&&s.createElement(qe,{onSavePublishedPost:a.onSubmitWithExtras({publish:!1,redirectToPost:!0})})))),s.createElement("form",{className:"pb4",onSubmit:a.onSubmit},a.errors&&s.createElement(se,{text:a.errors.base||a.errors.general}),s.createElement("div",{className:"flex-md"},s.createElement("section",{className:"flex2"},s.createElement(Te,{value:a.values.title,onChange:e=>a.setValues({title:e}),error:Object(C.b)("title",a.errors)}),s.createElement(Ne.a,{vertical:4}),s.createElement(De,{postId:t,value:a.values.body,onChange:e=>a.setValues({body:e}),error:Object(C.b)("body",a.errors),postType:A.a.FreeformPost}),s.createElement(Ne.a,{vertical:3})),s.createElement("aside",{className:"flex1 ml3-md"},s.createElement(Pe,{value:a.values.isPublic,onChange:e=>{a.setValues({isPublic:e}),Object(A.s)(e?"anyone":"backers_only")}}),s.createElement(Ne.a,{vertical:4}),s.createElement(xe,{projectSlug:e.projectSlug,value:a.values.notifications,onChange:e=>{a.setValues({notifications:e})},excludedRewardIds:e.formattedExcludedRewardIds,hasExcludedNoRewardTier:e.hasExcludedNoRewardTier,onChangeRewardIdNotification:(e,n)=>(Object(A.r)(e?"checked":"unchecked"),e?d({postId:t,rewardId:n}):l({postId:t,rewardId:n})),isPublished:e.isPublished,showSelectTiers:e.showSelectTiers}),s.createElement(Ne.a,{vertical:5}),s.createElement(Fe,{text:Object(E.b)("project_updates.All_backers_will_be_able_to_view")}))))))}),ct=e=>{let t=e.id,n=e.projectCreator,a=e.projectSlug;return s.createElement(f.a,null,s.createElement("section",{className:"pt14"},s.createElement("div",{className:"bold type-21 pb2"},Object(E.b)("project_updates.Edit_update"))),s.createElement(st,{id:t,projectCreator:n,projectSlug:a}))};var lt=n("ysdo");const dt=e=>{const t=(e=>{let t=e.asyncOperation,n=e.defaultValue,a=e.dependencies;const i=Object(s.useState)({value:n,error:null,isPending:!0}),r=Object(ce.a)(i,2),o=r[0],c=r[1];return Object(s.useEffect)(()=>{const e="function"==typeof t?t():t;let a=!0;return e.then(e=>a?c({value:e,error:null,isPending:!1}):null).catch(e=>a?c({value:n,error:e,isPending:!1}):null),()=>{a=!1}},a),o})(e),n=t.value,a=t.error,i=t.isPending;return e.children({value:n,error:a,isPending:i})};var ut=n("ZCIj"),mt=n("dkkr"),pt=n("mwIZ"),ht=n.n(pt);const bt=n("V+iF").Posts,ft=Object(T.c)(e=>{if(!e.data||!e.data.project)return Object(T.d)(e.data.error);const t=ht()(e,"data.project.posts.edges[0].node.id",null);return Object(T.l)({interviewIdForActivePrompt:t})}),gt=Object(l.c)(bt,ft),vt=e=>{let t=e.error,n=e.suggestionLink;const a=t&&Object(T.e)(t);if(a.base){const e=/already been answered/.test(a.base),t=/No active prompt/.test(a.base);return e?s.createElement(mt.c,{primaryText:Object(E.b)("new_creator_interview.Youve_already_responded"),secondaryText:s.createElement(E.a,{i18nKey:"new_creator_interview.Publish_to_share_more_with_backers",publishLink:s.createElement("a",{className:"ksr-green-500 text-underline",href:n},Object(E.b)("new_creator_interview.Publish_a_freeform_update"))})}):t?s.createElement(mt.c,{primaryText:Object(E.b)("new_creator_interview.Were_fresh_out_of_questions"),secondaryText:s.createElement(E.a,{i18nKey:"new_creator_interview.Publish_while_we_write_more",publishLink:s.createElement("a",{className:"ksr-green-500 text-underline",href:n},Object(E.b)("new_creator_interview.Publish_a_freeform_update"))})}):null}return s.createElement(mt.b,{primaryText:Object(E.b)("new_creator_interview.Were_having_trouble_loading"),secondaryText:Object(E.b)("new_creator_interview.If_refreshing_this_page")})};const kt=Object(T.a)(gt,W,x.b)(class extends s.Component{constructor(){super(...arguments),this.state={showWelcomeOverlay:!1},this.handleShowOverlay=()=>{this.setState({showWelcomeOverlay:!0})},this.handleHideOverlay=()=>{this.setState({showWelcomeOverlay:!1})}}renderNewInterview(){const e=this.props,t=e.onCreateCreatorInterview,n=e.projectId;return ut.b.getItem("seenCreatorInterviewWelcome")||(ut.b.setItem("seenCreatorInterviewWelcome","true"),this.handleShowOverlay()),s.createElement(s.Fragment,null,s.createElement(dt,{asyncOperation:()=>t({projectId:n}),dependencies:[n],defaultValue:{}},e=>{let t=e.value,n=e.error;return e.isPending?s.createElement(x.a,null):Boolean(n)?s.createElement(Re,{leftCol:()=>s.createElement(vt,{error:n,suggestionLink:b.b.NEW_FREEFORM_POST.url(this.props.projectCreator,this.props.projectSlug)})}):s.createElement(s.Fragment,null,s.createElement(A.b,{name:"Update New",properties:{type:A.a.CreatorInterview}}),s.createElement(Je,{id:t.data.createCreatorInterview.creatorInterview.id,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}))}),this.state.showWelcomeOverlay&&s.createElement(lt.a,{onClose:this.handleHideOverlay,headerIcon:s.createElement(S.a,{name:"icon--update-qa-round",atoms:["fill-white"],size:"48"}),buttonText:Object(E.b)("new_creator_interview.Lets_get_started"),headerText:Object(E.b)("new_creator_interview.Welcome_to_qa"),bodyText:Object(E.b)("new_creator_interview.This_question_and_answer_approach"),bodyListItems:[Object(E.b)("new_creator_interview.Answer_only_questions"),Object(E.b)("new_creator_interview.Check_back_for_new_questions")]}))}renderExistingInterview(){const e=this.props,t=e.projectCreator,n=e.projectSlug,a=e.interviewIdForActivePrompt;return a?s.createElement(Re,{leftCol:()=>s.createElement(mt.a,{primaryText:Object(E.b)("new_creator_interview.Youve_already_started"),secondaryText:s.createElement(E.a,{i18nKey:"new_creator_interview.Resume_update_or_visit_drafts",resumeLink:s.createElement(m.c,{className:"ksr-green-500 text-underline spec-resume-update",to:b.b.EDIT_CREATOR_INTERVIEW.url(t,n,Object(p.a)(a))},Object(E.b)("new_creator_interview.Resume_your_update"))})})}):null}render(){return s.createElement(s.Fragment,null,this.props.interviewIdForActivePrompt?this.renderExistingInterview():this.renderNewInterview())}});const yt=nt(class extends s.Component{render(){const e=this.props,t=e.projectId,n=e.projectSlug,a=e.projectCreator,i=e.onCreateFreeformPost;return s.createElement(dt,{asyncOperation:()=>i({projectId:t}),dependencies:[t],defaultValue:{}},e=>{let t=e.value,i=e.error;return e.isPending?s.createElement(x.a,null):s.createElement(s.Fragment,null,s.createElement(A.b,{name:"Update New",properties:{type:A.a.FreeformPost}}),Boolean(i)?s.createElement(Re,{leftCol:()=>s.createElement(mt.b,{primaryText:Object(E.b)("new_project_update.Updates_are_disabled"),secondaryText:Object(E.b)("new_project_update.This_project_is_hidden_suspended")})}):s.createElement(st,{id:t.data.createFreeformPost.post.id,projectSlug:n,projectCreator:a}))})}}),Et=e=>{const t=e.creatorSlug,n=e.projectSlug,a=e.formType,i=((e,t)=>({freeform:{url:b.b.NEW_FREEFORM_POST.url(e,t),header:Object(E.b)("project_updates.Freeform"),subtitle:Object(E.b)("project_updates.Your_story_your_way"),icon:"icon--update-freeform-round",classes:"spec-new-freeform-link"},interview:{url:b.b.NEW_CREATOR_INTERVIEW.url(e,t),header:Object(E.b)("project_updates.QA"),subtitle:Object(E.b)("project_updates.Follow_our_lead"),icon:"icon--update-qa-round",classes:"spec-new-interview-link"}}))(t,n)[a],r=[i.header,i.subtitle,i.url,i.icon,i.classes],o=r[0],c=r[1],l=r[2],d=r[3],u=r[4],p=location.href.includes("posts/".concat(a)),h=p?"fill-ksr-green-500":"fill-soft-black";return s.createElement(m.c,{onClick:e.onClick,className:Object(Oe.a)("p3 w50p soft-black radius2px border block keyboard-focusable",p?"border-soft-black bg-grey-200":"border-grey-500",u),to:l},s.createElement("div",{className:"flex items-center"},s.createElement(S.a,{name:d,size:"48",atoms:[h,"mr1"]}),s.createElement("div",null,s.createElement("div",{className:"bold type-16 mt1",style:{lineHeight:"1.6rem"}},o),s.createElement("div",{className:"soft-black_50 type-14"},c))))},_t=()=>s.createElement(s.Fragment,null,s.createElement(E.a,{atoms:["type-14","dark-grey-500"],i18nKey:"project_updates.Build_trust_with_your_backers",link:s.createElement(le.a,{color:"green",target:"_blank",onClick:()=>Object(A.m)(A.a.FreeformPost),href:"https://help.kickstarter.com/hc/en-us/articles/115005138733-What-are-project-updates-"},Object(E.b)("project_updates.Learn_about_project_updates"))})," ",s.createElement(E.a,{atoms:["type-14","dark-grey-500","bold"],i18nKey:"project_updates.Never_include_your_backers’s_names_addresses_and_other_personal_details_in_your_updates"})),Ot=()=>s.createElement(E.a,{atoms:["type-14","dark-grey-500"],i18nKey:"project_updates.Share_your_creative_process",refreshLink:s.createElement(le.a,{color:"green",target:"_blank",onClick:()=>Object(A.m)(A.a.CreatorInterview),href:"https://help.kickstarter.com/hc/en-us/articles/360022352634"},Object(E.b)("project_updates.Well_refresh_these_questions"))}),jt=e=>{const t=e.creatorSlug,n=e.projectSlug;return s.createElement(Re,{leftCol:()=>s.createElement("div",{className:"mb7"},s.createElement(s.Fragment,null,s.createElement("div",{className:"bold mb3"},Object(E.b)("project_updates.Choose_an_update_style")),s.createElement("div",{className:"flex items-center mb3"},s.createElement(Et,{onClick:()=>Object(A.q)(A.a.FreeformPost),creatorSlug:t,projectSlug:n,formType:"freeform"}),s.createElement("div",{className:"pr2"}),s.createElement(Et,{onClick:()=>Object(A.q)(A.a.CreatorInterview),creatorSlug:t,projectSlug:n,formType:"interview"})),e.postType===A.a.CreatorInterview&&s.createElement(Ot,null)),e.postType===A.a.FreeformPost&&s.createElement(_t,null))})},St=e=>s.createElement("div",{className:"grid-container py14"},s.createElement("header",null,s.createElement("h2",{className:"type-21 pb2 mb0"},Object(E.b)("project_updates.New_update")),s.createElement(jt,{creatorSlug:e.projectCreator,projectSlug:e.projectSlug,postType:e.postType})),s.createElement(m.i,null,s.createElement(m.g,{exact:!0,path:b.b.NEW_FREEFORM_POST.path,render:()=>s.createElement(yt,{projectId:e.projectId,projectSlug:e.projectSlug,projectCreator:e.projectCreator})}),s.createElement(m.g,{exact:!0,path:b.b.NEW_CREATOR_INTERVIEW.path,render:()=>s.createElement(kt,{projectId:e.projectId,projectSlug:e.projectSlug,projectCreator:e.projectCreator})})));var wt=n("qPAc"),Nt=n("d5To");const Ct=e=>s.createElement(Nt.a,{commentableId:e.commentableId,initialCommentId:e.commentId,nextCursor:e.commentCursor,previousCursor:null,first:25,last:null,config:Object(_.a)({},wt.a,{createTrackingEventName:"Update Comment Create"})});var It=n("lX80"),Tt=n("f/gE"),Dt=n("daZV"),Pt=n("NxQb"),xt=n("uBBe"),At=n("5j0V"),Ft=n("1OuE"),Rt=n("zm9w");let Mt,Lt,Ut,Bt;!function(e){e.CANCELED="CANCELED",e.FAILED="FAILED",e.LIVE="LIVE",e.PURGED="PURGED",e.STARTED="STARTED",e.SUBMITTED="SUBMITTED",e.SUCCESSFUL="SUCCESSFUL",e.SUSPENDED="SUSPENDED"}(Mt||(Mt={})),function(e){e.AUD="AUD",e.CAD="CAD",e.CHF="CHF",e.DKK="DKK",e.EUR="EUR",e.GBP="GBP",e.HKD="HKD",e.JPY="JPY",e.MXN="MXN",e.NOK="NOK",e.NZD="NZD",e.PLN="PLN",e.SEK="SEK",e.SGD="SGD",e.USD="USD"}(Lt||(Lt={})),function(e){e.CreatorInterview="CreatorInterview",e.FreeformPost="FreeformPost"}(Ut||(Ut={})),function(e){e.collaborator="collaborator",e.creator="creator"}(Bt||(Bt={}));const Vt=n("t8gO").PostsFeed;var Yt=n("KQqk");const qt=n("DaKc").CreatorInterview,Ht=Object(T.c)(e=>{if(!e.data||!e.data.post)return Object(T.d)(e.data.error);const t=e.data.post.answers.nodes,n=t?t.filter(e=>e):[];return Object(T.l)({answers:n})}),Wt=Object(l.c)(qt,Ht),zt=e=>s.createElement(s.Fragment,null,e.answers.map((e,t)=>s.createElement("div",{key:t,className:"mb8"},s.createElement("h3",{className:"type-24 border-bottom border-ksr10-green display-inline mb0",style:{borderWidth:"3px",lineHeight:"3.8rem"}},e.question.body),s.createElement("div",{className:"pb3"}),s.createElement(Yt.a,{content:e.body})))),Kt=Object(T.a)(Wt,Object(P.a)(()=>({primaryText:Object(E.b)("new_creator_interview.Were_having_trouble_loading"),secondaryText:Object(E.b)("new_creator_interview.If_refreshing_this_page")})),x.b)(zt),Gt=n("iO4+").FreeformPost,Jt=Object(T.c)(e=>{if(!e.data||!e.data.post)return Object(T.d)(e.data.error);const t=e.data.post,n=t.body,a=t.nativeImages,i=a?a.filter(e=>e):[];return Object(T.l)({body:n,nativeImages:i})}),$t=Object(l.c)(Gt,Jt),Qt=e=>{const t=e.body,n=e.nativeImages,a=t||"";return s.createElement("div",{className:"mt4"},s.createElement(Yt.a,{content:a}),n.map(e=>s.createElement("img",{key:e.id,src:e.url,alt:"post image"})))},Zt=Object(T.a)($t,Object(P.a)(()=>({primaryText:Object(E.b)("new_project_update.Were_having_trouble_loading"),secondaryText:Object(E.b)("new_project_update.If_refreshing_this_page")})),x.b)(Qt);var Xt=n("ECYc");const en={incrementPostView(e){Xt.a.increment("post_view,client_type=".concat(e))},incrementPostPin(e,t){Xt.a.increment("post_pin,client_type=".concat(e,",action=").concat(t))}};var tn=n("WSTq");const nn=e=>{const t=an(e.isPinned),n=t.header,a=t.body,i=t.button;return s.createElement(tn.a,{onClose:e.onClose,size:"small",headerCopy:n,secondaryCloseCopy:"No, go back",grabFocus:!1},s.createElement("p",{className:"mt0 mb3 dark-grey-500"},a),s.createElement(Le.c,{theme:"support",atoms:["w100p"],onClick:e.onClick},i))},an=e=>e?{header:Object(E.b)("project_updates.Unpin_this_update?"),body:Object(E.b)("project_updates.Youll_no_longer_see_it_at_the_top"),button:Object(E.b)("project_updates.Yes_unpin_it")}:{header:Object(E.b)("project_updates.Pin_this_update?"),body:Object(E.b)("project_updates.Youll_see_it_at_the_top"),button:Object(E.b)("project_updates.Yes_pin_it")};const rn=e=>e?{pinColor:"ksr-green-500",pinCopy:Object(E.b)("project_updates.Pinned"),trackingFn:A.k,telegrafAction:"unpin"}:{pinColor:"dark-grey-500",pinCopy:Object(E.b)("project_updates.Pin"),trackingFn:A.g,telegrafAction:"pin"},on=Object(T.a)(re.b,re.d)(class extends s.Component{constructor(){super(...arguments),this.state={isPinModalShowing:!1}}render(){const e=this.props,t=e.canPin,n=e.isPinned,a=e.onPinCompletion,i=e.onUnpinPost,r=e.onPinPost,o=e.onRefetch,c=e.relayId,l=e.type,d=e.trackingContext,u=rn(n),m=u.pinColor,p=u.pinCopy,h=u.trackingFn,b=u.telegrafAction,f=n?i:r;return Object(Pt.a)("pinned_posts_on_feed")&&t||!n?Object(Pt.a)("pinned_posts_on_feed")&&t?s.createElement(s.Fragment,null,s.createElement("button",{type:"button",onClick:e=>{e.preventDefault(),this.setState({isPinModalShowing:!0})},className:"".concat(m," hover-ksr-green-500")},s.createElement(S.a,{name:"icon--pin",size:"20",atoms:["fill-".concat(m),"pr1"]}),s.createElement("span",{className:"type-13"},p)),this.state.isPinModalShowing&&s.createElement(nn,{isPinned:n,onClick:e=>{e.preventDefault(),h(l,d),en.incrementPostPin(window.clientType,b),f({id:c}).then(()=>o&&o()).then(a)},onClose:e=>{e.preventDefault(),this.setState({isPinModalShowing:!1})}})):null:s.createElement("div",{className:"flex ksr-green-500"},s.createElement(S.a,{name:"icon--pin",size:"20",atoms:["fill-ksr-green-500","pr1"]}),s.createElement("span",{className:"type-13"},Object(E.b)("project_updates.Pinned")))}}),sn=e=>{const t=e.header,n=e.footer,a=e.body;return s.createElement("article",null,t&&s.createElement("header",null,t),a,n&&s.createElement("footer",null,n))};var cn=n("arGM");const ln=e=>e.canRead?e.children:s.createElement(mt.c,{iconType:"icon--eye",primaryText:Object(E.b)("project_update.This_post_is_for_backers_only"),primaryColor:"cobalt-600",space:1,secondaryText:s.createElement(dn,{isLoggedIn:e.isLoggedIn,isProjectLive:e.isProjectLive,pledgeLink:e.pledgeLink,loginLink:e.loginLink})}),dn=e=>e.isLoggedIn&&!e.isProjectLive?null:e.isLoggedIn?s.createElement(E.a,{i18nKey:"project_update.To_back_this_project_and_view",atoms:["native-hide"],pledgeLink:s.createElement("a",{className:"soft-black text-underline",href:e.pledgeLink},Object(E.b)("project_update.Click_here"))}):s.createElement(E.a,{i18nKey:"project_update.Log_in_to_see_this_post",atoms:["native-hide"],loginLink:s.createElement("a",{className:"soft-black text-underline",href:Object(cn.d)("/login",{then:e.loginLink||window.location.pathname})},Object(E.b)("project_update.Log_in"))});var un=n("L/h+"),mn=n("EoiL");class pn extends s.Component{renderSequenceInfo(){return s.createElement("div",{className:"mb2 flex justify-between"},s.createElement("div",null,s.createElement("span",{className:"type-13 soft-black_50 text-uppercase"},this.props.publishedAt?Object(E.b)("new_project_update.Update")+" #".concat(this.props.sequence):Object(E.b)("new_project_update.Update")+" #"),!this.props.isPublic&&s.createElement("span",{className:"radius2px type-12 ml2 bg-grey-300 cobalt-600",style:{padding:".3rem .75rem"}},Object(E.b)("project_updates.Backers_only"))),this.props.PinningUI)}renderTitle(){return s.createElement(mn.a,{level:2,atoms:["mb3"]},this.props.title)}renderAuthorBadge(){return s.createElement("span",{className:"bg-ksr10-green bold white type-12 align-middle ml1",style:{padding:".2rem .5rem",borderRadius:"3px"}},Object(E.b)("project_update.".concat(this.props.authorRole)))}renderAuthorInfo(){return s.createElement("div",{className:"mb3 flex type-14 items-start border-bottom pb3"},s.createElement("div",{className:"shrink0"},s.createElement(un.a,{size:7,imageUrl:this.props.authorAvatarUrl})),s.createElement("div",{className:"pl2"},s.createElement("div",null,this.props.authorName,this.renderAuthorBadge()),s.createElement("span",{className:"type-13 soft-black_50 block-md"},this.props.publishedAt?Object(Ft.b)("LL",this.props.publishedAt):Object(E.b)("project_update.Not_published"))))}render(){return s.createElement(s.Fragment,null,this.renderSequenceInfo(),this.renderTitle(),this.renderAuthorInfo())}}var hn=n("zjD3");const bn=e=>s.createElement("div",{className:"type-14 dark-grey-400 pb3"},s.createElement("span",{className:"mr4"},s.createElement(S.a,{atoms:["mr1","fill-dark-grey-400"],name:"icon--message",size:"16"}),Object(hn.a)(e.commentsCount,"")),s.createElement("span",{className:"mr4"},s.createElement(S.a,{atoms:["mr1","fill-dark-grey-400"],name:"icon--heart",size:"16"}),Object(hn.a)(e.likesCount,"")));var fn=n("SSiF"),gn=n.n(fn);const vn=e=>{const t=gn()(),n=Object(ce.a)(t,2),a=n[0],i=n[1];return s.createElement("div",{className:"truncated-post-body clip relative"},a,e.children,i.height>=240&&s.createElement("div",{className:"gradient-transparent-to-white-vertical h20 z1 absolute b0 l0 r0"}))},kn=e=>{switch(e){case h.a.FreeformPost:return{icon:"icon--update-freeform-round",color:"ksr10-coral"};case h.a.CreatorInterview:return{icon:"icon--update-qa-round",color:"ksr10-coral"};default:return{icon:"",color:"ksr10-coral"}}};class yn extends s.Component{renderPost(){return s.createElement(sn,{header:s.createElement(pn,{title:this.props.title,sequence:this.props.sequence,publishedAt:this.props.publishedAt,authorAvatarUrl:this.props.authorAvatarUrl,authorName:this.props.authorName,authorRole:this.props.authorRole,isPublic:this.props.isPublic,PinningUI:s.createElement(on,{canPin:this.props.canPin,relayId:this.props.id,type:this.props.type,trackingContext:"feed post",isPinned:this.props.isPinned,onRefetch:this.props.onRefetch,onPinCompletion:()=>{this.props.isPinned&&Object(D.b)("project-post-interface",100)}})}),body:s.createElement(ln,{canRead:this.props.canRead,isLoggedIn:this.props.isLoggedIn,isProjectLive:this.props.isProjectLive,pledgeLink:b.b.PROJECT_PLEDGE.url(this.props.projectCreator,this.props.projectSlug),loginLink:b.b.VIEW_POST.url(this.props.projectCreator,this.props.projectSlug,Object(p.a)(this.props.id))},s.createElement(vn,null,s.createElement(s.Fragment,null,this.props.type===Ut.CreatorInterview&&s.createElement(zt,{answers:this.props.answers}),this.props.type===Ut.FreeformPost&&s.createElement(Qt,{body:this.props.body,nativeImages:this.props.nativeImages}),s.createElement("div",{className:"absolute z1 t0 l0 r0 b0"})))),footer:s.createElement("div",{className:"".concat(this.props.canRead?"mt1":"mt4"," flex justify-between items-baseline")},s.createElement(bn,{commentsCount:this.props.commentsCount,likesCount:this.props.likesCount}),this.props.canRead&&s.createElement(Le.d,{theme:"support"},s.createElement("div",{className:"flex items-center"},Object(E.b)("project_updates.Read_more"),s.createElement(S.a,{atoms:["ml1"],name:"icon--chevron-right",size:"20"}))))})}renderInnerWrapper(){const e=Object(Oe.a)("bg-white","px3","px6-md","py6-md","py3",!this.props.isPinned&&"expanding-post");return this.props.isPinned?s.createElement("div",{className:e},s.createElement(f.a,null,s.createElement(Tt.a,null,s.createElement(It.a,{width:12,mdWidth:8,mdOffset:2},s.createElement("div",{className:"mx-auto relative"},this.renderPost()))))):s.createElement("div",{className:e},this.renderPost())}renderLinkedPost(){const e=b.b.VIEW_POST.url(this.props.projectCreator,this.props.projectSlug,Object(p.a)(this.props.id)),t=Object(Oe.a)("truncated-post soft-black block border",this.props.isPinned?"border-white shadow-2 hover-border-white mb6":"border-grey-500 hover-border-dark-grey-400");return this.props.canRead?window.isNativeAppRequest?s.createElement("a",{href:e,className:t},this.renderInnerWrapper()):s.createElement(m.c,{to:e,className:t},this.renderInnerWrapper()):s.createElement("div",{className:t},this.renderInnerWrapper())}render(){if(this.props.isPinned)return this.renderLinkedPost();const e=kn(this.props.type),t=e.icon,n=e.color;return s.createElement(f.a,null,s.createElement(Tt.a,null,s.createElement(It.a,{width:12,mdWidth:8,mdOffset:2,atoms:["mb6","relative"]},s.createElement("div",{"data-test-id":"project-post-container",className:"absolute t8 t10-md l-1 flex items-center justify-center"},s.createElement("div",{className:"w3 w6-md h3 h6-md radius100p bg-white absolute t1 l1 z0"}),s.createElement(S.a,{name:t,atoms:["fill-".concat(n," relative z1 w5 w8-md h5 h8-md")]})),this.renderLinkedPost())))}}var En=n("t1f3");const _n=e=>{const t={position:"absolute",width:"185px"};return s.createElement(f.a,null,s.createElement(Tt.a,null,s.createElement(It.a,{width:12,mdWidth:8,mdOffset:2,atoms:["mb6"]},s.createElement("div",{className:"relative clip"},s.createElement("div",{style:Object(_.a)({},t,{},e.discPosition)},s.createElement(En.a,{name:"yellow-disc",width:185})),s.createElement("div",{style:Object(_.a)({},t,{},e.cubePosition)},s.createElement(En.a,{name:"coral-cube",width:185})),s.createElement("div",{style:Object(_.a)({},t,{},e.cylinderPosition)},s.createElement(En.a,{name:"coral-hollow-cylinder",width:185})),s.createElement("div",{style:{height:"28rem"},className:"flex justify-center items-center text-center white ".concat(e.bgColor)},s.createElement("div",{className:"flex flex-column items-center justify-center h100p"},s.createElement("div",{className:"type-16 type-24-sm bold pb1"},e.header),e.subHeader&&s.createElement("div",{className:"type-11 type-14-sm pb1"},e.subHeader),s.createElement("div",{className:"type-11 type-14-sm text-uppercase"},e.date)))))))},On=e=>s.createElement(_n,{date:e.date,bgColor:"bg-ksr10-green",header:Object(E.b)("project_updates.Project_funds_successfully"),subHeader:e.subheader,discPosition:{top:"69%",left:"20%"},cubePosition:{top:"-28%",left:"76%"},cylinderPosition:{top:"-33%",left:"-3%"}}),jn=e=>s.createElement(_n,{date:e.date,bgColor:"bg-ksr10-blue",header:Object(E.b)("project_updates.Project_ends"),discPosition:{top:"-36%",left:"50%"},cubePosition:{top:"69%",left:"83%"},cylinderPosition:{top:"71%",left:"-3%"}}),Sn=e=>s.createElement(_n,{date:e.date,bgColor:"bg-dark-grey-500",header:Object(E.b)("project_updates.Project_is_canceled"),discPosition:{top:"69%",left:"20%"},cubePosition:{top:"-28%",left:"82%"},cylinderPosition:{top:"-33%",left:"-3%"}}),wn=e=>s.createElement(_n,{date:e.date,bgColor:"bg-ksr10-green",header:Object(E.b)("project_updates.Project_launches"),discPosition:{top:"72%",left:"50%"},cubePosition:{top:"-28%",left:"-9%"},cylinderPosition:{top:"-28%",left:"83%"}}),Nn=e=>{const t={id:e.id,type:e.type,title:e.title,publishedAt:e.publishedAt,isPinned:Boolean(e.pinnedAt),sequence:e.number,authorRole:e.authorRole,authorName:e.author.name,authorAvatarUrl:e.author.imageUrl,likesCount:e.likesCount,isPublic:e.isPublic,canRead:e.actions.read,canPin:e.actions.pin,commentsCount:e.commentsCount};return e.type===Ut.CreatorInterview?Object(_.a)({},t,{answers:e.answers.nodes}):e.type===Ut.FreeformPost?Object(_.a)({},t,{body:e.body,nativeImages:e.nativeImages}):t},Cn=(e,t)=>{const n=t.fetchMoreResult;return null===n.project||null===n.project.timeline||null===n.project.timeline.edges?e:Object(_.a)({},n,{project:Object(_.a)({},n.project,{timeline:Object(_.a)({},n.project.timeline,{edges:[...ht()(e,"project.timeline.edges",[]),...ht()(n,"project.timeline.edges",[])],pageInfo:n.project.timeline.pageInfo})})})},In=Object(T.c)(e=>{if(!e.data||!e.data.project)return Object(T.d)(e.data.error);const t=e.data,n=t.me,a=t.fetchMore,i=t.project,r=t.refetch,o=i.timeline,s=i.canUserRequestUpdate,c=o&&o.edges||[],l=o&&o.pageInfo.endCursor,d=c.map(e=>e&&e.node).map(t=>{if(!t)return;const a=Object(Ft.b)("LL",t.timestamp);switch(t.type){case"launch":return{Component:wn,data:{date:a}};case"cancellation":return{Component:Sn,data:{date:a}};case"failure":return{Component:jn,data:{date:a}};case"success":{if(!t.data)return{Component:On,data:{date:a}};const e=t.data,n=e.backersCount,i=e.pledged;return{Component:On,data:{date:a,subheader:Object(E.b)("project_updates.x_backers_pledged_y",{count:n,pledgedAmount:Rt.a.money(Number(i.amount),{currency:i.currency||"",precision:0}),formattedBackerCount:Rt.a.format_number(n,{precision:0})})}}}case"update":return{Component:yn,data:Object(_.a)({},Nn(t.data),{isProjectLive:i.state===Mt.LIVE,projectCreator:e.ownProps.projectCreator,projectSlug:e.ownProps.projectSlug,isLoggedIn:Boolean(n&&n.id),onRefetch:r})};default:return null}});return Object(T.l)({projectId:i.id,events:d,hasNextPage:!!o&&o.pageInfo.hasNextPage,totalEvents:o?o.totalCount:0,isFetchingMore:e.data.loading,canUserRequestUpdate:s,eventsShowing:d.length,onFetchMore:()=>a({variables:{projectSlug:i.slug,cursor:l},query:Vt,updateQuery:Cn})})}),Tn=Object(l.c)(Vt,In);const Dn=Object(T.a)(Tn,Object(P.a)(()=>({primaryText:Object(E.b)("project_updates.Were_having_trouble_loading_updates"),secondaryText:Object(E.b)("project_updates.If_refreshing_this_page")})),x.b)(e=>{const t=e.events[0]&&function(e){return e.isPinned||e.isPinned}(e.events[0].data);return s.createElement("div",{className:"bg-grey-100 ".concat(t?"":"pt6")},Object(Pt.a)("project_update_requests")&&e.canUserRequestUpdate&&s.createElement(f.a,null,s.createElement(Tt.a,null,s.createElement(It.a,{width:12,mdWidth:8,mdOffset:2},s.createElement(xt.a,{projectId:e.projectId,className:t?"my6":"mb6",location:At.b.updates})))),e.events.map((e,t)=>{let n=e.Component,a=e.data;return s.createElement(n,Object.assign({key:t},a))}),s.createElement(f.a,null,s.createElement(Tt.a,null,s.createElement(It.a,null,s.createElement(Dt.a,{buttonI18nKey:"project_updates.Load_more",remainingI18nKey:"project_updates.Showing_x_of_y_updates",totalCount:e.totalEvents,showingCount:e.eventsShowing,pageSize:5,onClick:e.onFetchMore,loading:e.isFetchingMore,hasMorePages:e.hasNextPage,atoms:["py6","w25p-md","m-auto","theme--support"]})))))}),Pn=e=>{let t=e.message;return s.createElement("div",{className:"text-center my10 alert type-24"},t)},xn=()=>s.createElement("div",{className:"bg-grey-100"},s.createElement(f.a,null,s.createElement(Tt.a,null,s.createElement(It.a,{width:12,mdWidth:8,mdOffset:2},s.createElement(Pn,{message:An()}))))),An=()=>s.createElement(E.a,{i18nKey:"project_updates.Were_unable_to_load_project_updates_right_now"}),Fn=e=>Object(Pt.a)("show_posts_feed")?s.createElement(Dn,e):s.createElement(xn,null);var Rn=n("2UXI");const Mn=Object(T.c)(e=>{if(!e.data||!e.data.post)return Object(T.d)(e.data.error);const t=e.data,n=t.me,a=t.post,i=a.title,r=a.isPublic,o=a.commentsCount,s=a.likesCount,c=a.isLiked,l=a.number,d=a.author,u=d.name,m=d.imageUrl,b=a.authorRole,f=a.publishedAt,g=a.pinnedAt,v=a.project.state,k=a.actions,y=k.read,E=k.destroy,_=k.edit,O=k.pin,j=a.timeLeftToEdit,S=a.type,w=a.nextPost,N=a.previousPost,C=Boolean(n&&n.id),I=Boolean(n&&n.isKsrAdmin),D=Boolean(f),P=Boolean(g),x=v===h.b.LIVE,A=w&&Object(p.a)(w.id),F=N&&Object(p.a)(N.id);return Object(T.l)({title:i,isPublic:r,sequence:l,authorName:u,authorAvatarUrl:m,authorRole:b,publishedAt:f,canRead:y,canDelete:E,canPin:O,commentsCount:o,likesCount:s,canEdit:_,timeLeftToEdit:j,type:S,isAdmin:I,isLoggedIn:C,isPublished:D,isPinned:P,isProjectLive:x,isLiked:c,nextPostId:A,previousPostId:F})}),Ln=Object(l.c)(h.c,Mn);const Un=Object(T.a)(Ln,re.c,Object(P.a)(()=>({primaryText:Object(E.b)("new_project_update.Were_having_trouble_loading"),secondaryText:Object(E.b)("new_project_update.If_refreshing_this_page")})),x.b)(class extends s.Component{constructor(){super(...arguments),this.state={isPublishing:!1},this.onPublish=async()=>{const e=this.props,t=e.id,n=e.type;await this.setState({isPublishing:!0}),await this.props.onPublishPost({id:Object(p.b)(n,t)}),await Object(Rn.b)("Update Published"),await this.setState({isPublishing:!1}),window.location.href=b.b.VIEW_POST.url(this.props.projectCreator,this.props.projectSlug,this.props.id)}}render(){const e=Object(fe.b)(this.props.projectCreator,this.props.projectSlug,this.props.type,this.props.id);return s.createElement(s.Fragment,null,s.createElement(f.a,null,s.createElement(Tt.a,null,s.createElement(It.a,{mdWidth:9,center:!0,atoms:["py10"]},s.createElement("div",{className:"px6-md"},!window.isIPhoneRequest&&s.createElement("div",{className:"bg-cobalt-600 white flex justify-between items-center p1 pl2 mt3 mb6"},Object(E.b)("project_updates.Preview_mode"),s.createElement(m.c,{to:e},s.createElement(Le.c,{theme:"trust"},s.createElement(S.a,{name:"pencil",size:"16"}),s.createElement("span",{className:"ml1"},Object(E.b)("project_update.Edit"))))),s.createElement(sn,{header:s.createElement(pn,{title:this.props.title,sequence:this.props.sequence,publishedAt:this.props.publishedAt,authorAvatarUrl:this.props.authorAvatarUrl,authorName:this.props.authorName,authorRole:this.props.authorRole,isPublic:this.props.isPublic}),body:s.createElement(s.Fragment,null,this.props.type===h.a.CreatorInterview&&s.createElement(Kt,{id:this.props.id}),this.props.type===h.a.FreeformPost&&s.createElement(Zt,{id:this.props.id}))}))))),!window.isIPhoneRequest&&s.createElement(Me,null,s.createElement("div",{className:"flex items-center justify-between w100p"},this.props.canDelete&&s.createElement(Ve,{buttonText:Object(E.b)("project_updates.Delete_draft"),onDelete:()=>this.props.onDeletePost({id:Object(p.b)(this.props.type,this.props.id)}),onComplete:()=>{window.location.href=b.a.DRAFT_POSTS.url(this.props.projectCreator,this.props.projectSlug)}}),s.createElement("div",{className:"flex flex1 items-center justify-end"},s.createElement("span",{className:"flex1"}),s.createElement(We,{editUrl:e}),!this.props.isPublished&&s.createElement(ze,{formType:"freeform",onPublish:this.onPublish})))))}});var Bn=n("XfPQ");const Vn=Object(T.a)(Ln,re.c,Object(P.a)(()=>({primaryText:Object(E.b)("new_project_update.Were_having_trouble_loading"),secondaryText:Object(E.b)("new_project_update.If_refreshing_this_page")})),x.b)(class extends s.Component{constructor(){super(...arguments),this.state={key:0,isLikersModalShowing:!1}}componentDidMount(){en.incrementPostView(window.clientType)}renderEditBanner(){if(!this.props.canEdit)return null;const e=Object(fe.b)(this.props.projectCreator,this.props.projectSlug,this.props.type,this.props.id);return s.createElement("div",{className:"bg-ksr-green-400 white flex justify-between items-center p2 mt3 mb6"},this.props.isAdmin?s.createElement(E.a,{i18nKey:"project_updates.As_an_admin_you_are_able"}):s.createElement(E.a,{i18nKey:"project_updates.You_have_time_left_to_edit",timeLeft:this.props.timeLeftToEdit}),s.createElement(Le.c,{href:e,atoms:["shrink0 ml2"],theme:"create"},s.createElement(S.a,{name:"pencil",size:"16"}),s.createElement("span",{className:"ml1"},Object(E.b)("project_updates.Edit"))))}renderAllPostsButton(){return s.createElement("div",{className:"pb8 native-hide"},s.createElement(m.c,{to:b.b.POSTS_FEED.url(this.props.projectCreator,this.props.projectSlug)},s.createElement(Le.d,{theme:"support"},s.createElement("div",{className:"flex items-center"},s.createElement(S.a,{name:"icon--chevron-left"}),s.createElement("span",{className:"ml2"},Object(E.b)("project_updates.All_updates"))))))}renderPost(){return s.createElement(sn,{header:s.createElement(pn,{title:this.props.title,sequence:this.props.sequence,publishedAt:this.props.publishedAt,authorAvatarUrl:this.props.authorAvatarUrl,authorName:this.props.authorName,authorRole:this.props.authorRole,isPublic:this.props.isPublic,PinningUI:s.createElement(on,{canPin:this.props.canPin,relayId:Object(p.b)(this.props.type,this.props.id),type:this.props.type,trackingContext:"view post",isPinned:this.props.isPinned,onPinCompletion:()=>Hn.push(b.b.POSTS_FEED.url(this.props.projectCreator,this.props.projectSlug))})}),body:s.createElement(ln,{canRead:this.props.canRead,isLoggedIn:this.props.isLoggedIn,isProjectLive:this.props.isProjectLive,pledgeLink:b.b.PROJECT_PLEDGE.url(this.props.projectCreator,this.props.projectSlug)},s.createElement(s.Fragment,null,this.props.type===Ut.CreatorInterview&&s.createElement(Kt,{id:this.props.id}),this.props.type===Ut.FreeformPost&&s.createElement(Zt,{id:this.props.id}))),footer:this.renderLikePost()})}renderLikePost(){const e=this.props,t=e.isLoggedIn,n=e.isPublished,a=e.canRead,i=e.isLiked,r=e.isPinned,o=e.onLikePost,c=e.onUnlikePost,l=e.likesCount,d=e.type,u=e.id,m=Object(cn.d)("/login",{then:window.location.pathname}),h=t&&n&&a,b=(()=>i?{ButtonComponent:Le.c,onClick:()=>(Object(A.i)(d,!1,r),c({id:Object(p.b)(d,u)})),text:""}:{ButtonComponent:Le.d,onClick:()=>(Object(A.i)(d,!0,r),o({id:Object(p.b)(d,u)})),text:Object(E.b)("project_updates.Like")})(),f=b.ButtonComponent,g=b.onClick,v=b.text;return s.createElement("footer",{className:"flex items-center mt8 py3 border-top border-bottom"},s.createElement(f,Object.assign({theme:"destroy",disabled:!n,atoms:["w21","flex","items-center","justify-center"]},h?{onClick:g}:n?{href:m}:{}),s.createElement(S.a,{name:"icon--heart",size:"20"}),v),l>0&&s.createElement(s.Fragment,null,i?s.createElement(s.Fragment,null,l>1&&s.createElement("span",{className:"pl3 type-12 soft-black_50"},s.createElement(E.a,{i18nKey:"project_updates.Like_this_update",youAndLikers:s.createElement("button",{type:"button",className:"type-12 soft-black_50 text-underline",onClick:()=>{Object(A.j)(d,"post"),this.setState({isLikersModalShowing:!0})}},Object(E.b)("project_updates.You_and_others_like",{count:l-1}))}))):s.createElement("span",{className:"pl3 type-12 soft-black_50"},s.createElement(E.a,{count:l,i18nKey:"project_updates.Likes_this_update",otherLikers:s.createElement("button",{type:"button",className:"type-12 soft-black_50 text-underline",onClick:()=>{Object(A.j)(d,"post"),this.setState({isLikersModalShowing:!0})}},Object(E.b)("project_updates.Others_like",{count:l}))}))),this.state.isLikersModalShowing&&s.createElement(Bn.a,{id:Object(p.b)(d,u),onClose:()=>this.setState({isLikersModalShowing:!1})}))}renderNextPostButton(){return s.createElement(Le.d,{theme:"support"},s.createElement("div",{className:"flex items-center"},s.createElement("span",{className:"mr2"},Object(E.b)("project_updates.Next")),s.createElement(S.a,{name:"icon--chevron-right"})))}renderPreviousPostButton(){return s.createElement(Le.d,{theme:"support"},s.createElement("div",{className:"flex items-center"},s.createElement(S.a,{name:"icon--chevron-left"}),s.createElement("span",{className:"ml2"},Object(E.b)("project_updates.Previous"))))}renderNeighbors(){const e=this.props,t=e.projectCreator,n=e.projectSlug,a=e.nextPostId,i=e.previousPostId;return window.isNativeAppRequest?s.createElement("div",{className:"mt6 flex items-center"},s.createElement("div",{className:"flex1"},i&&s.createElement(le.a,{href:b.b.VIEW_POST.url(t,n,i)},this.renderPreviousPostButton())),s.createElement("div",{className:"flex1 text-right"},a&&s.createElement(le.a,{href:b.b.VIEW_POST.url(t,n,a)},this.renderNextPostButton()))):s.createElement("div",{className:"mt6 flex items-center"},s.createElement("div",{className:"flex1"},i&&s.createElement(m.c,{onClick:()=>this.setState({key:this.state.key+1}),to:b.b.VIEW_POST.url(t,n,i)},this.renderPreviousPostButton())),s.createElement("div",{className:"flex1 text-right"},a&&s.createElement(m.c,{onClick:()=>this.setState({key:this.state.key+1}),to:b.b.VIEW_POST.url(t,n,a)},this.renderNextPostButton())))}renderComments(){if(!this.props.canRead)return null;const e=this.props,t=e.projectCreator,n=e.projectSlug,a=e.id,i=e.type;return s.createElement("div",{id:"comments"},s.createElement("div",{className:"py3 py7-sm hide block-sm"},s.createElement("h4",{className:"mb3"},Object(E.b)("project_updates.Comments")),s.createElement(Nt.a,{commentableId:Object(p.b)(i,a),initialCommentId:this.props.commentId,nextCursor:this.props.commentCursor,previousCursor:null,first:25,last:null,config:Object(_.a)({},wt.a,{createTrackingEventName:"Update Comment Create"})})),s.createElement("div",{className:"hide-sm mt6 mb3"},s.createElement(Le.c,{atoms:["block"],theme:"support",href:b.b.POST_COMMENTS.url(t,n,a)},Object(E.b)("project_updates.Leave_a_comment"))))}render(){return s.createElement(he.a,{key:this.state.key,scrollDuration:1,offset:-100},s.createElement(f.a,{atoms:["py6"]},s.createElement(It.a,{mdWidth:8,center:!0},s.createElement(A.b,{name:"Update Viewed",properties:Object(_.a)({type:this.props.type},this.props.isPinned?{post_state:"pinned"}:{})}),this.renderEditBanner(),this.renderAllPostsButton(),this.renderPost(),this.renderNeighbors(),this.renderComments())))}}),Yn=e=>{const t=e.params.postId.match(/\d+/);return t?t[0]:""},qn=e=>s.createElement(m.i,null,s.createElement(m.g,{exact:!0,path:b.b.VIEW_POST.path,render:t=>{let n=t.match;return s.createElement(Vn,{id:Yn(n),projectSlug:n.params.projectSlug,projectCreator:n.params.projectCreator,commentableId:e.commentableId,commentCursor:e.commentCursor,commentId:e.commentId})}}),s.createElement(m.g,{exact:!0,path:b.b.POST_COMMENTS.path,component:()=>s.createElement(Ct,{commentableId:e.commentableId,commentCursor:e.commentCursor,commentId:e.commentId})}),s.createElement(m.g,{exact:!0,path:b.b.PREVIEW_POST.path,render:e=>{let t=e.match;return s.createElement(Un,{id:Yn(t),projectSlug:t.params.projectSlug,projectCreator:t.params.projectCreator})}}),s.createElement(m.g,{exact:!0,path:b.b.EDIT_FREEFORM_POST.path,render:e=>{let t=e.match;return s.createElement(ct,{id:Object(p.b)("FreeformPost",t.params.postId),projectSlug:t.params.projectSlug,projectCreator:t.params.projectCreator})}}),s.createElement(m.g,{exact:!0,path:b.b.EDIT_CREATOR_INTERVIEW.path,render:e=>{let t=e.match;return s.createElement($e,{id:Object(p.b)("CreatorInterview",t.params.postId),projectSlug:t.params.projectSlug,projectCreator:t.params.projectCreator})}}),[{path:b.b.NEW_FREEFORM_POST.path,type:h.a.FreeformPost},{path:b.b.NEW_CREATOR_INTERVIEW.path,type:h.a.CreatorInterview}].map(t=>{let n=t.path,a=t.type;return s.createElement(m.g,{key:a,path:n,render:t=>{let n=t.match;return s.createElement(St,{projectId:e.projectId,projectSlug:n.params.projectSlug,projectCreator:n.params.projectCreator,postType:a})}})}),s.createElement(m.g,{exact:!0,path:b.b.POSTS_FEED.path,render:e=>{let t=e.match;return s.createElement(Fn,{projectSlug:t.params.projectSlug,projectCreator:t.params.projectCreator})}}),s.createElement(m.g,{exact:!0,path:b.b.PROJECT_PAGE.path,render:e=>{let t=e.match;return s.createElement(Fn,{projectSlug:t.params.projectSlug,projectCreator:t.params.projectCreator})}}),s.createElement(m.g,{path:b.a.POSTS_DASHBOARD.path,component:y}),s.createElement(m.g,{component:()=>s.createElement("h1",null,"not found")}));n.d(t,"history",function(){return Hn}),n.d(t,"initProjectPostInterface",function(){return Wn});const Hn=i()(),Wn=()=>{const e=Object(r.a)(o.Honeybadger.notify.bind(o.Honeybadger)),t=document.getElementById("project-post-interface");if(t){const n=t.dataset.project_relay_id||"",a=t.dataset.commentable_id||null,i=t.dataset.comment_cursor||null,r=t.dataset.comment_id||null;u.a.render(c.a.createElement(l.a,{client:e},c.a.createElement(m.h,{history:Hn},c.a.createElement(qn,{projectId:n,commentableId:a,commentCursor:i,commentId:r}))),t)}};Wn()},g1y3:function(e,t,n){"use strict";var a=n("ijK7"),i=n("bvYH"),r=n("DjBF"),o=n("v83y"),s=n("egyr"),c=n("/IHD"),l=n("X+my"),d=n("q1tI"),u=n.n(d),m=n("v9JK"),p=n("CgNg"),h=n("94td"),b=n("kKlT");class f extends d.Component{constructor(){super(...arguments),this.state={embedUrl:"",isEmbedSubmitting:!1,embedError:""},this.handleAudioUrlChange=e=>{this.setState({embedUrl:e})},this.handleEmbedError=e=>{this.setState({embedError:e})},this.onSubmitAudio=()=>{const e=this.state.embedUrl;Object(b.d)(Object(b.a)(e))?(this.setState({isEmbedSubmitting:!0}),Object(b.b)(e).then(this.handleEmbedSuccess).catch(this.handleEmbedFailure)):this.handleEmbedError(Object(h.b)("rich_editor.Please_enter_a_valid_URL"))},this.handleEmbedSuccess=e=>{const t=this.state.embedUrl;this.setState({isEmbedSubmitting:!1}),this.props.dispatch(Object(i.l)(e,t)),this.props.onClose()},this.handleEmbedFailure=()=>{this.setState({isEmbedSubmitting:!1}),this.handleEmbedError(Object(h.b)("rich_editor.There_was_a_problem_embedding"))}}render(){return d.createElement(m.a,{headerCopy:Object(h.b)("rich_editor.Add_audio"),onClose:this.props.onClose,secondaryCloseCopy:Object(h.b)("rich_editor.Cancel"),size:"large",grabFocus:!1},d.createElement(p.b,{id:"oembedUrlPrompt",inputValue:this.state.embedUrl,hasErrors:Boolean(this.state.embedError),label:Object(h.b)("rich_editor.Paste_a_URL_soundcloud"),onChange:this.handleAudioUrlChange},d.createElement("span",{className:"red"},this.state.embedError)),d.createElement("div",{className:"mt2"},d.createElement(m.c,{onClick:this.onSubmitAudio,theme:this.props.theme.name},Object(h.b)("rich_editor.Upload"))))}}var g=n("T8n5"),v=n("NxQb"),k=n("dZEV");const y=n("/Jws").a.Component;class E extends d.Component{constructor(){super(...arguments),this.state={isFetching:!1,uploadLimit:{bytes:0,megabytes:0,contentTypes:[]}}}componentDidMount(){this.setState(()=>({isFetching:!0}),()=>Object(k.e)({fileType:k.c.PHOTO}).then(e=>{const t=e;this.setState({isFetching:!1,uploadLimit:t})}))}render(){if(this.state.isFetching)return null;const e=this.props,t=e.dispatch,n=e.errors,a=e.imageAltText,r=e.imageCaption,o=e.imageSrc,s=e.imageUrl,c=e.subjectBlock,l=e.uploaderState,u=e.theme,b=e.piiWarning,f=e.onClose,k=["UPLOADING","PROCESSING","SUCCESSFUL"].includes(l.baseUpload.uploaderStatus),E=null!==c||k,_=!c&&!o,O=k||!!a||!!r||!!s,j=!!c,S=b?d.createElement(g.a,{atoms:["type-14","medium","black","mb2","center"]},Object(h.b)("rich_editor.Don’t_upload_anything_that_contains_backer_information")):void 0;return d.createElement(m.a,{headerCopy:j?Object(h.b)("rich_editor.Add_a_caption"):Object(h.b)("rich_editor.Add_image"),subHeaderCopy:S,onClose:()=>{t(Object(i.a)(O)),f()},secondaryCloseCopy:Object(h.b)("rich_editor.Cancel"),size:"large",grabFocus:!1},!c&&d.createElement(y,{dispatch:t,state:l,uploadLimit:this.state.uploadLimit,theme:u}),E&&d.createElement(d.Fragment,null,d.createElement(p.b,{id:"imageCaptionPrompt",inputValue:r,label:Object(h.b)("rich_editor.Image_Caption"),onChange:e=>t(Object(i.s)(e)),atoms:["mb3","mt4"],max:125}),d.createElement(p.b,{currentFocus:"imageUrlPrompt",hasErrors:!!n,id:"imageUrlPrompt",inputValue:s,label:Object(h.b)("rich_editor.Clickthrough_URL"),onChange:e=>t(Object(i.t)(e))},d.createElement("span",{className:"red"},n)),Object(v.a)("image_uploader_alt_text")&&d.createElement(p.b,{id:"imageAltTextPrompt",inputValue:a,label:"Alternate Text (Optional)",onChange:e=>t(Object(i.r)(e)),atoms:["mb3","mt4"],max:125})),!_&&d.createElement(m.c,{onClick:()=>{t(Object(i.n)()),f()},theme:u.name},j?Object(h.b)("rich_editor.Save"):Object(h.b)("rich_editor.Upload")))}}var _=n("lHf8"),O=n("eH4U");class j extends d.Component{constructor(){super(...arguments),this.state={linkText:this.props.linkText||"",linkUrl:this.props.linkUrl||"",error:""},this.handleLinkTextChange=e=>{this.setState({linkText:e})},this.handleLinkUrlChange=e=>{this.setState({linkUrl:e})},this.onSubmitLink=()=>{const e=this.state,t=e.linkUrl,n=e.linkText;Object(b.d)(Object(b.a)(t))?(this.props.dispatch(Object(i.o)(t,n)),this.props.onClose()):this.setState({error:Object(h.b)("rich_editor.Please_enter_a_valid_URL")})}}trackPIIWarningLinkToTerms(){const e=this.props.tracking;e&&"function"==typeof e.piiWarningLinkToTerms&&e.piiWarningLinkToTerms()}trackPIIWarningTriggered(){const e=this.props.tracking;e&&"function"==typeof e.piiWarningTriggered&&e.piiWarningTriggered()}trackPIIWarningUntriggered(){const e=this.props.tracking;e&&"function"==typeof e.piiWarningUntriggered&&e.piiWarningUntriggered()}componentDidUpdate(e,t){t.linkUrl!==this.state.linkUrl&&(Object(O.e)(t.linkUrl)&&!Object(O.e)(this.state.linkUrl)?this.trackPIIWarningTriggered():!Object(O.e)(t.linkUrl)&&Object(O.e)(this.state.linkUrl)&&this.trackPIIWarningUntriggered())}render(){const e=this.props,t=e.onClose,n=e.theme,a=e.checkForPossiblePII&&Object(O.e)(this.state.linkUrl);return d.createElement(m.a,{headerCopy:Object(h.b)("rich_editor.New_link"),secondaryCloseCopy:Object(h.b)("rich_editor.Cancel"),onClose:t,size:"large",grabFocus:!1},d.createElement(p.b,{id:"linkUrlPrompt",currentFocus:"linkUrlPrompt",onChange:this.handleLinkUrlChange,hasErrors:Boolean(this.state.error),inputValue:this.state.linkUrl,label:Object(h.b)("rich_editor.URL"),atoms:["mt4"],warning:a?d.createElement(h.a,{atoms:["type-14","orange-500"],i18nKey:"project_updates.Make_sure_your_linked_documents_don’t_contain_any_backer_information",link:d.createElement(_.a,{color:"orange-500",target:"_blank",onClick:this.trackPIIWarningLinkToTerms,href:"https://www.kickstarter.com/terms-of-use#section3"},Object(h.b)("project_updates.Our_terms"))}):null},d.createElement("span",{className:"red-500 mb2"},this.state.error)),d.createElement(p.b,{id:"linkTextPrompt",inputValue:this.state.linkText,label:Object(h.b)("rich_editor.Link_text_optional"),onChange:this.handleLinkTextChange,atoms:[a?"mt14 mt10-sm":"mt6"]}),d.createElement(m.c,{disabled:!Boolean(this.state.linkUrl),onClick:this.onSubmitLink,theme:n,type:"submit"},Object(h.b)("rich_editor.Add")))}}const S=e=>{let t=e.onConfirm,n=e.onClose;return d.createElement(m.a,{headerCopy:Object(h.b)("rich_editor.Are_you_sure_you_want_to_delete_this"),onClose:n,secondaryCloseCopy:Object(h.b)("rich_editor.Cancel"),size:"small"},d.createElement(m.c,{type:"button",theme:"destroy",onClick:t},Object(h.b)("rich_editor.Delete")))};var w=n("qEcG"),N=n("ZCHx"),C=n("zm9w"),I=n("prSB"),T=n("gN63");let D;!function(e){e.AUD="AUD",e.CAD="CAD",e.CHF="CHF",e.DKK="DKK",e.EUR="EUR",e.GBP="GBP",e.HKD="HKD",e.JPY="JPY",e.MXN="MXN",e.NOK="NOK",e.NZD="NZD",e.PLN="PLN",e.SEK="SEK",e.SGD="SGD",e.USD="USD"}(D||(D={}));const P=n("HKes").RewardModal,x=e=>{let t=e.currentReward,n=e.dispatch,a=e.onClose,o=e.theme;const s=Object(d.useState)(!0),c=Object(r.a)(s,2),l=c[0],p=c[1],b=Object(d.useState)([]),f=Object(r.a)(b,2),v=f[0],k=f[1],y=Object(d.useState)(),E=Object(r.a)(y,2),_=E[0],O=E[1];Object(d.useEffect)(()=>{(async()=>{const e=await(async()=>{var e,t,n;return((null===(e=(await Object(T.d)(P,{slug:window.slug})).data)||void 0===e?void 0:null===(t=e.project)||void 0===t?void 0:null===(n=t.rewards)||void 0===n?void 0:n.nodes)||[]).filter(e=>null!==e).map(e=>Object(I.a)({},e,{id:Object(T.a)(e.id),startsAt:e.startsAt?1e3*e.startsAt:null}))})();e.length>0&&(k(e),O(t||e[0])),p(!1)})()},[]);const j=v.map(e=>{const t=e.amount.amount?C.a.money(e.amount.amount,{currency:e.amount.currency,precision:0}):null;return{label:"".concat(t," - ").concat(e.name),value:e.id}});return u.a.createElement(u.a.Fragment,null,!l&&u.a.createElement(m.a,{headerCopy:Object(h.b)("rich_editor.Embed_reward"),onClose:a,secondaryCloseCopy:Object(h.b)("rich_editor.Cancel"),size:"large",grabFocus:!1},v&&_&&u.a.createElement(u.a.Fragment,null,u.a.createElement(g.a,null,Object(h.b)("rich_editor.Feature_specific_rewards")),u.a.createElement(N.a,{atoms:{enabled:["mb3"]},options:j,selectedValue:null==_?void 0:_.id,onChange:e=>O(v.find(t=>t.id===e))}),u.a.createElement(w.a,{previewMode:!0,reward:_,showSelectRewardButton:!1})),0===v.length&&Object(h.b)("rich_editor.No_available_rewards"),u.a.createElement("div",{className:"mt2"},u.a.createElement(m.c,{disabled:!_,onClick:()=>{_&&(n(Object(i.m)(_)),a())},theme:o.name},Object(h.b)("rich_editor.Embed")))))};var A=n("qAuv"),F=n("MTFr"),R=n("rI0c");const M=e=>{const t=e.encodingState,n=e.encodingError,a=t===k.a.ENCODING,i=t===k.a.FAILED;return a||i?d.createElement(d.Fragment,null,d.createElement(A.a,{height:28,mdHeight:35},a&&d.createElement(F.f,{message:Object(h.b)("uploaders.Encoding"),secondaryMessage:Object(h.b)("uploaders.Please_wait_while_we_encode"),barAtoms:["bg-soft-black","animation-pulse","animation-500"]}),i&&d.createElement(F.f,{barAtoms:["bg-red-400"],message:Object(h.b)("uploaders.Encoding_failed"),secondaryMessage:n||Object(h.b)("uploaders.There_was_a_problem_encoding"),secondaryCTA:{message:Object(h.b)("uploaders.Try_again"),action:e.onReset}})),d.createElement(L,null)):d.createElement(d.Fragment,null,d.createElement(R.a,{onUploadComplete:e.onUploadComplete,attachableAssoc:e.attachableAssoc,attachableId:e.attachableId}),d.createElement(L,null))},L=()=>d.createElement("div",{className:"my5 text-center relative"},d.createElement("span",{className:"border-bottom border-grey-500 absolute l0 r0 w100p t50p"}),d.createElement("span",{className:"dark-grey-400 inline-block bg-white px3 z1 relative"},Object(h.b)("uploaders.Or"))),U=()=>null,B={embedError:"",embedUrl:"",isEmbedSubmitting:!1,encodingState:null,encodingError:""};class V extends d.Component{constructor(){super(...arguments),this.mounted=!1,this.state=B,this.handleEmbedUrlChange=e=>{this.setState({embedUrl:e})},this.handleEmbedError=e=>{this.setState({embedError:e})},this.submitVideoEmbed=()=>{const e=this.state.embedUrl;Object(b.d)(Object(b.a)(e))?(this.setState({isEmbedSubmitting:!0}),Object(b.b)(e).then(this.handleEmbedSuccess).catch(this.handleEmbedFailure)):this.handleEmbedError(Object(h.b)("rich_editor.Please_enter_a_valid_URL"))},this.handleEmbedSuccess=e=>{const t=this.state.embedUrl;this.setState({isEmbedSubmitting:!1}),this.props.dispatch(Object(i.l)(e,t)),this.props.onClose()},this.handleEmbedFailure=()=>{this.setState({isEmbedSubmitting:!1}),this.handleEmbedError(Object(h.b)("rich_editor.There_was_a_problem_embedding"))},this.handleEncodingSuccess=e=>{this.mounted&&this.setState(()=>({encodingState:k.a.ENCODED}),()=>{const t=this.props,n=t.onClose,a=t.dispatch,r=t.onUploadSuccess;a(Object(i.p)(e.id,e.renderedHtml)),r(),n()})},this.handleEncodingFailure=e=>{this.mounted&&this.setState({encodingError:e.message,encodingState:k.a.FAILED})},this.handleAssetPolling=e=>{Object(k.g)(e).then(this.handleEncodingSuccess).catch(this.handleEncodingFailure)},this.handleUploadComplete=e=>{this.setState(()=>({encodingState:k.a.ENCODING}),()=>this.handleAssetPolling(e))},this.isModalDirty=()=>this.state.encodingState===k.a.ENCODING||this.state.encodingState===k.a.ENCODED,this.onReset=()=>{this.setState(B)},this.onBeforeUnload=e=>{if(this.isModalDirty())return e.returnValue="",""},this.onConfirmBeforeClose=()=>{this.isModalDirty()?window.confirm(Object(h.b)("uploaders.Are_you_sure_you_want_to_exit"))?this.props.onClose():U():this.props.onClose()}}componentDidMount(){this.mounted=!0,window.addEventListener("beforeunload",this.onBeforeUnload)}componentWillUnmount(){this.mounted=!1,window.removeEventListener("beforeunload",this.onBeforeUnload)}render(){return d.createElement(m.a,{onClose:this.onConfirmBeforeClose,headerCopy:Object(h.b)("rich_editor.Add_video"),secondaryCloseCopy:Object(h.b)("rich_editor.Cancel"),size:"large",grabFocus:!1},d.createElement(M,{onReset:this.onReset,encodingState:this.state.encodingState,encodingError:this.state.encodingError,onUploadComplete:this.handleUploadComplete,attachableAssoc:this.props.attachableAssoc,attachableId:this.props.attachableId}),d.createElement(p.b,{id:"oembedUrlPrompt",inputValue:this.state.embedUrl,hasErrors:Boolean(this.state.embedError),label:Object(h.b)("rich_editor.Paste_a_URL_youtube"),onChange:this.handleEmbedUrlChange,atoms:["mt4"]},d.createElement("span",{className:"red"},this.state.embedError)),d.createElement("div",{className:"mt2"},d.createElement(m.c,{onClick:this.submitVideoEmbed,theme:this.props.theme.name,disabled:!Boolean(this.state.embedUrl)},this.state.isEmbedSubmitting?Object(h.b)("rich_editor.Adding"):Object(h.b)("rich_editor.Add"))))}}var Y=n("SmhT"),q=n("1uWx");const H=e=>e.keyCode===Y.l?"space":!0===e.metaKey&&e.keyCode===Y.f?"link":Object(o.getDefaultKeyBinding)(e);var W=n("2DJ9"),z=n("RBqt"),K=n("inqH"),G=n("Nz1K");const J=e=>{let t=e.href,n=e.onTrashClick,a=e.onConvertToLink;const i=Object(G.a)(t).innerHTML;return d.createElement(K.a,null,d.createElement("div",{className:"relative"},d.createElement("div",{className:"relative"},d.createElement("div",{dangerouslySetInnerHTML:{__html:i}})),d.createElement("div",{className:"absolute t2 r2 bg-white px2 shadow-2 radius2px flex items-center"},d.createElement("button",{type:"button",className:" px2",onClick:a},d.createElement(W.a,{atoms:["fill-dark-grey-500 hover-item-fill-blue-600"],name:"icon--link",size:"20"})),d.createElement(Z,{onClick:n}))))},$=e=>{const t=e.rawHtml,n=e.onTrashClick,i=Object(a.h)(t);return d.createElement("div",{className:"relative"},d.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),d.createElement("div",{className:"absolute t2 r2 bg-white px2 shadow-2 radius2px flex items-center"},d.createElement(Z,{onClick:n})))},Q=e=>{let t=e.block,n=e.blockProps,a=n.dispatch,r=n.setCurrentModal;const o=t.getData(),s=o.get("type"),c=()=>{r("REMOVE_ASSET"),a(Object(i.h)(t))};switch(s){case"AUDIO":{const e=o.get("sources");return d.createElement(X,{onTrashClick:c,sources:e})}case"OEMBED":{const e=o.get("href");return d.createElement(J,{onTrashClick:c,onConvertToLink:()=>{a(Object(i.h)(t)),a(Object(i.i)()),a(Object(i.o)(e,e))},href:e})}case"IMAGE":const e=o.get("alt"),n=o.get("caption"),l=o.get("href"),u=o.get("src");return d.createElement(ee,{alt:e,caption:n,src:u,href:l,onTrashClick:c,onEditImageClick:()=>{r("IMAGE"),a(Object(i.f)(t))}});case"REWARD":{const e=o.get("reward"),n=()=>d.createElement("div",{className:"shadow-2 radius6px fit-content-height no-wrap ml2"},d.createElement("button",{type:"button",className:"hover-target px2 py1",onMouseDown:()=>{r("REWARD"),a(Object(i.g)(t))}},d.createElement(W.a,{atoms:["fill-dark-grey-500","hover-item-fill-blue-600"],name:"pencil",size:"medium"})),d.createElement("button",{type:"button",className:"hover-target px2 py1",onMouseDown:c},d.createElement(W.a,{atoms:["fill-dark-grey-500","hover-item-fill-blue-600"],name:"trash",size:"medium"})));return d.createElement(w.a,{controls:n(),previewMode:!0,reward:e})}case"VIDEO":{const e=o.get("rawHtml");return d.createElement($,{onTrashClick:c,rawHtml:e})}default:return d.createElement("div",null)}},Z=e=>{let t=e.onClick;return d.createElement("button",{type:"button",className:"hover-target px2 py3",onMouseDown:t},d.createElement(W.a,{atoms:["fill-dark-grey-500","hover-item-fill-blue-600"],name:"trash",size:"medium"}))},X=e=>{let t=e.onTrashClick,n=e.sources;return d.createElement("div",{className:"flex items-center relative w100p bg-grey-300 p2"},d.createElement("audio",{className:"w90p",controls:!0},Object.keys(n).map(e=>d.createElement("source",{key:e,src:n[e],type:e})),"Your browser does not support the audio element."),d.createElement("div",{className:"ml-auto block bg-white px2 shadow-2 radius2px flex items-center"},d.createElement(Z,{onClick:t})))},ee=e=>{let t=e.alt,n=e.caption,a=e.href,i=e.src,r=e.onTrashClick,o=e.onEditImageClick;const s=t||n;return d.createElement("div",{className:"relative"},d.createElement("div",{className:"absolute t2 r2 bg-white px2 shadow-2 radius2px flex items-center"},a&&d.createElement("a",{className:"px2 py3 px2 hover-target",href:a,onMouseDown:()=>window.location.href=a},d.createElement(z.a,{atoms:["hover-item-blue-600"],color:"dark-grey-500",type:"body-100"},a.substring(0,8)+"...")),d.createElement("button",{type:"button",className:"hover-target px2 py3",onMouseDown:o},d.createElement(W.a,{atoms:["fill-dark-grey-500","hover-item-fill-blue-600"],name:"pencil",size:"medium"})),d.createElement("button",{type:"button",className:"hover-target px2 py3",onMouseDown:r},d.createElement(W.a,{atoms:["fill-dark-grey-500","hover-item-fill-blue-600"],name:"trash",size:"medium"}))),d.createElement("img",{alt:s,role:s?void 0:"presentation",src:i}),n&&d.createElement("figcaption",{className:"type-12 type-13-md dark-grey-500"},n))},te=(e,t,n)=>{const a=/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor);return!Object(v.a)("rich_text_embedifier")||a?"not-handled":((e,t,n)=>{const a=[/(^https:\/\/vimeo.com\/\d+)((?!\s).)*$/,/(^https:\/\/www.instagram.com\/p\/)((?!\s).)*$/,/(^https:\/\/www.youtube.com\/watch)((?!\s).)*$/,/(^https:\/\/www.twitch.tv\/videos\/\d+)((?!\s).)*$/,/(^https:\/\/www.facebook.com\/\w+\/videos\/\d+)((?!\s).)*$/,/(^https:\/\/\w+.bandcamp.com\/(album|releases))((?!\s).)*$/,/(^https:\/\/www.scribd.com\/(article|audiobook|book|snapshot|document))((?!\s).)*$/,/(^https:\/\/sketchfab.com\/3d-models)((?!\s).)*$/,/(^https:\/\/twitter.com\/\w+\/status)((?!\s).)*$/,/(^https:\/\/www.twitch.tv\/\w+)((?!\s).)*$/,/(^https:\/\/soundcloud.com)((?!\s).)*$/,/(^https:\/\/youtu.be)((?!\s).)*$/].some(t=>t.test(e)),r=t.getSelection(),s=t.getCurrentContent().getBlockForKey(r.getAnchorKey());return!a||0!==s.getLength()&&" "!==s.getText()?a&&0===r.getStartOffset()&&0!==r.getEndOffset()?(n(Object(i.k)()),o.Modifier.removeRange(t.getCurrentContent(),r,"forward"),Object(b.b)(e).then(t=>{n(Object(i.l)(t,e)),n(Object(i.d)())}),"handled"):"not-handled":(n(Object(i.k)()),Object(b.b)(e).then(t=>{n(Object(i.l)(t,e)),n(Object(i.d)())}),"handled")})(e,t,n)};var ne=n("ZCb5");const ae=e=>{let t=e.dispatch,n=e.placeholder,m=e.state,p=e.theme,h=void 0===p?l.a:p,g=e.ToolBar,v=void 0===g?ne.b:g,k=e.hasErrors,y=e.hasWarnings,_=e.tracking,O=e.maxWidth,w=e.checkForPossiblePII;const N=m.story,C=N.editorState,I=N.errors,T=N.imageAltText,D=N.imageCaption,P=N.imageSrc,A=N.imageUrl,F=N.key,R=N.subjectBlock,M=N.showRemoveLink,L=N.attachableId,U=N.attachableAssoc,B=N.linkText,Y=N.linkUrl,W=N.showLoader,z=Object(d.useState)(null),K=Object(r.a)(z,2),G=K[0],J=K[1],$=()=>J(null);return u.a.createElement("div",{className:Object(c.a)("rte__wrapper",k&&"rte__wrapper--error",y&&"rte__wrapper--warning")},u.a.createElement("div",{className:"relative left-align"},u.a.createElement(v,{dispatch:t,editorState:C,showRemoveLink:M,tracking:_,setCurrentModal:J}),W&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"gradient-transparent-to-white absolute t1 r0 z-toolbar-3 w50p w20p-md h8"}),u.a.createElement("div",{className:"absolute t3 r3 z-toolbar-3"},u.a.createElement(s.a,null))),u.a.createElement("div",{className:"rte__editor rte__content",style:{maxWidth:O?"".concat(O,"px"):"auto"}},u.a.createElement(o.Editor,{blockRendererFn:e=>{if("atomic"===e.getType())return{component:Q,editable:!1,props:{dispatch:t,setCurrentModal:J}}},blockStyleFn:e=>{return"unstyled"===e.getType()?"mb1":""},editorState:C,handleKeyCommand:e=>((e,t,n,r)=>{switch(e){case"space":return n(Object(i.q)(Object(a.b)(t))),"handled";case"split-block":return n(Object(i.q)(Object(a.a)(t))),"handled";case"bold":return n(Object(i.q)(o.RichUtils.toggleInlineStyle(t,q.b.style))),"handled";case"link":return r?(Object(b.c)(n,t,r),"handled"):"not-handled";case"italic":return n(Object(i.q)(o.RichUtils.toggleInlineStyle(t,q.j.style))),"handled";case"underline":default:return"not-handled"}})(e,C,t,J),handlePastedText:e=>te(e,C,t),keyBindingFn:H,key:F,onChange:e=>t(Object(i.q)(e)),placeholder:n,readOnly:!!G,spellCheck:!0,autoCorrect:"off"}))),"IMAGE"===G&&u.a.createElement(E,{onClose:$,dispatch:t,errors:I,imageAltText:T,imageCaption:D,subjectBlock:R,imageUrl:A,uploaderState:m.imageUploader,imageSrc:P,theme:h}),"VIDEO"===G&&u.a.createElement(V,{onClose:$,attachableAssoc:U,attachableId:L,onUploadSuccess:()=>{_&&_.videoUploaded&&_.videoUploaded()},dispatch:t,theme:h}),"AUDIO"===G&&u.a.createElement(f,{theme:h,dispatch:t,onClose:$}),"REWARD"===G&&u.a.createElement(x,{dispatch:t,onClose:$,currentReward:R?R.getData().get("reward"):null,theme:h}),"LINK"===G&&u.a.createElement(j,{onClose:$,theme:h.name,dispatch:t,linkUrl:Y,linkText:B,tracking:_,checkForPossiblePII:w}),"REMOVE_ASSET"===G&&u.a.createElement(S,{onClose:()=>{t(Object(i.b)()),$()},onConfirm:()=>{t(Object(i.i)()),$()}}))};var ie=n("L+5T");n.d(t,"b",function(){return a.c}),n.d(t,"d",function(){return i.c}),n.d(t,"a",function(){return ae}),n.d(t,"c",function(){return ie.a})},g84z:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("DjBF");const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;return e&&""!==e&&"?"!==e&&(e.includes("#")||e.includes("?"))?(e.includes("?")&&(e=e.split("?").pop()),(e=/^[?#]/.test(e)?e.slice(1):e).includes("#")&&(e=e.split("#")[0]),e.split("&").reduce((e,t)=>{let n=t.split("="),i=Object(a.a)(n,2),r=i[0],o=i[1];return e[decodeURIComponent(r)]=o?decodeURIComponent(o.replace(/\+/g," ")):"",e},{})):{}}},gMis:function(e,t,n){"use strict";n.r(t);var a=n("+2Rf"),i=n.n(a),r=n("SmhT");n("JqCU");const o=new Promise(e=>{i()(()=>e(i()("#growl_section")))});var s;function c(e){e.fadeOut("fast"),s&&s.length&&s.focus()}o.then(e=>{e.on("click",function(e){var t;i()(e.target).is(i()(this))&&((t=i()(this)).fadeOut("fast"),t.removeClass("sticky"),t.find("div.jGrowl-notification:parent").each(function(){i()(this).data("jGrowl")&&(i()(this).data("jGrowl").sticky=!1)}))}),i()(document).on("keydown",function(t){t.which===r.d&&e.is(":visible")&&c(e)})});const l=async(e,t)=>{const n=await o;i.a.each(e,function(e,a){void 0===t&&(t={}),"error"===e&&(t.sticky=!0,n.addClass("sticky")),n.jGrowl(a,i.a.extend(t,{theme:e,closeTemplate:'<button class="jGrowl-close-x" aria-label="close notification"><span class="ksr-icon__close" aria-hidden="true"></span></button>',beforeOpen:function(){var e;(e=n).fadeIn("fast"),s=i()(":focus"),e.find(".jGrowl-notification").attr("tabindex",-1).focus()},close:function(){c(n)}}))})};window.growl=l,t.default=l},gN63:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return m}),n.d(t,"e",function(){return p}),n.d(t,"c",function(){return h}),n.d(t,"f",function(){return b}),n.d(t,"g",function(){return f});var a=n("prSB"),i=n("7cf5"),r=n("gCJq"),o=n("n+nq"),s=n("PhMr"),c=n("0RKZ");const l=e=>d(e)[1],d=e=>{const t=Object(c.a)(e).split("-");if(2==t.filter(String).length)return t;throw new Error("Invalid GraphQL RelayId")},u=(e,t)=>Object(c.b)("".concat(e,"-").concat(t)),m=(e,t,n)=>{(e=>e&&"string"!=typeof e&&"Document"===e.kind)(e)&&(e=Object(r.print)(e)),n||(n={});const c=n,l=c.projectShareToken,d=Object(i.a)(c,["projectShareToken"]),u={method:"POST",body:JSON.stringify(Object(a.a)({query:e,variables:t},d)),credentials:"same-origin",headers:{"X-CSRF-Token":Object(o.b)(document),"Content-Type":"application/json"}};return l&&(u.headers["Project-Share-Token"]=l),fetch("/graph",u).then(e=>200==e.status?Promise.resolve(e):(console.error("GraphQL Network Error:",e.statusText),Promise.reject(new Error("Failed to fetch")))).then(Object(s.a)("json"))},p=(e,t)=>new Promise((n,a)=>{m(e,t,{}).then(e=>{e.errors?a(e.errors):n(e.data)}).catch(e=>a(e))}),h=(e,t,n)=>m(e,t,n),b=(e,t)=>{let n=t.retryCount,a=t.onRetry;const i=e.query,r=e.variables,o=e.params;return m(i,r,o).catch(t=>{if(0===n)throw t;return a&&a({error:t,fetchArgs:e,retryCount:n}),b(e,{retryCount:n-1,onRetry:a})})},f=(e,t)=>{if(Array.isArray(e)){const n=e.map(e=>"object"==typeof e&&"message"in e&&"string"==typeof e.message?e.message:t);return n.filter((e,t)=>n.indexOf(e)>=t).join(", ")}return t}},gz5L:function(e,t,n){var a=n("QqLw"),i=n("ExA7"),r="[object WeakMap]";e.exports=function(e){return i(e)&&a(e)==r}},hPy8:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"g",function(){return r}),n.d(t,"f",function(){return o}),n.d(t,"i",function(){return s}),n.d(t,"j",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"h",function(){return d}),n.d(t,"k",function(){return u}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return p}),n.d(t,"e",function(){return h});var a=n("q1tI");const i={header:{atoms:[]},body:{atoms:[]},form:{atoms:[]},link:{atoms:[]}},r={header:{atoms:["maison-book"]},body:{atoms:["cooper-light"]},form:{atoms:["maison-book"]},link:{atoms:["maison-book"]}},o={header:{atoms:["cooper-light"]},body:{atoms:["cooper-light"]},form:{atoms:["maison-book"]},link:{atoms:["maison-book"]}},s={header:{atoms:["maison-book"]},body:{atoms:["maison-book"]},form:{atoms:["maison-book"]},link:{atoms:["maison-book"]}},c=s,l=s,d={header:{atoms:["effra-heavy"]},body:{atoms:["maison-book"]},form:{atoms:["maison-book"]},link:{atoms:["maison-book"]}},u={header:{atoms:["cooper-light"]},body:{atoms:["maison-book"]},form:{atoms:["maison-book"]},link:{atoms:["maison-book"]}},m=n.n(a).a.createContext(i),p=m.Consumer,h=m.Provider},iGAk:function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,a={};for(var i in n){var r=n[i];e.call(a,r)?a[r].push(i):a[r]=[i]}return a}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},"iO4+":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FreeformPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nativeImages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:157}};n.loc.source={body:"query FreeformPost($id: ID!) {\n  post(id: $id) {\n    id\n    ... on FreeformPost {\n      body\n      nativeImages {\n        id\n        url\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.FreeformPost=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"FreeformPost")},ieoY:function(e,t,n){var a=n("EldB"),i=n("Kz5y"),r=1;e.exports=function(e,t,n){var o=t&r,s=a(e);return function t(){return(this&&this!==i&&this instanceof t?s:e).apply(o?n:this,arguments)}}},ijK7:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return m}),n.d(t,"h",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return b});var a=n("prSB"),i=n("Te9D"),r=n.n(i),o=n("v83y");const s=e=>t=>{if(""===t.getText().trim()){const n=t.getKey(),a=e.getCurrentContent().getBlockAfter(n),i=a&&a.getType(),r=e.getCurrentContent().getBlockBefore(n);return[r&&r.getType(),i].includes("atomic")?"":"<br />"}return null},c=e=>({blockRenderers:{atomic:e=>{const t=e.getData().get("type"),n=e.getData().get("href");switch(t){case"OEMBED":return'\n            <div class="template oembed" contenteditable="false" data-href=\''.concat(n,"'>\n              <a href=").concat(n,' target="_blank">').concat(n,"</a>\n            </div>\n          ");case"AUDIO":case"VIDEO":{const t=e.getData().get("id");return'<div class="template asset" contenteditable="false" data-id="'.concat(t,'" />')}case"REWARD":{const t=e.getData().get("reward").id;return'<div class="template reward" contenteditable="false" data-id="'.concat(t,'" />')}case"IMAGE":const a=e.getData().get("id"),i=e.getData().get("alt"),o=e.getData().get("caption"),s=r()(i),c=r()(o),l='<a href="'.concat(n,'">'),d="</a>",u='<div class="template asset" contenteditable="false" data-id="'.concat(a,'" data-alt-text="').concat(s,'" data-caption="').concat(c,'"/>');return n?"".concat(l).concat(u).concat(d):u;default:return""}},unstyled:s(e)}}),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=e.getSelection(),i=e.getCurrentContent(),r=i.getBlockForKey(n.getStartKey()),o=r.getKey(),s=[];let c;return r.findEntityRanges(e=>{if(null!==e.getEntity()){const n=i.getEntity(e.getEntity());if(!t||t&&n.getType()===t)return c={entityKey:e.getEntity(),blockKey:r.getKey(),entity:i.getEntity(e.getEntity())},!0}return!1},(e,t)=>{n.hasEdgeWithin(o,e,t)&&s.push(Object(a.a)({},c,{start:e,end:t}))}),s},d=(e,t)=>e.getCurrentContent().getBlockForKey(t.blockKey).getText().slice(t.start,t.end),u=e=>{const t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getAnchorKey()).getText().slice(t.getStartOffset(),t.getEndOffset())},m=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ";const i=o.Modifier.insertText(e,t," ",void 0,void 0),r=o.Modifier.insertText(i,t,a,void 0,n);return o.Modifier.insertText(r,t," ",void 0,void 0)},p=e=>e.replace(/^[^\S\r\n]+|[^\S\r\n]+$|\n/gm,""),h=e=>{const t=e.getSelection(),n=t.getFocusOffset(),a=e.getCurrentContent(),i=a.getBlockForKey(t.getAnchorKey()),r=new o.SelectionState({anchorKey:i.getKey(),anchorOffset:n,focusKey:i.getKey(),focusOffset:n}),s=o.Modifier.insertText(a,r," "),c=o.EditorState.push(e,s,"insert-characters"),l=r.merge({anchorOffset:n+1,focusOffset:n+1});return o.EditorState.forceSelection(c,l)},b=e=>{const t=e.getCurrentContent(),n=e.getSelection(),a=o.Modifier.splitBlock(t,n),i=o.EditorState.push(e,a,"split-block"),r=o.Modifier.setBlockType(i.getCurrentContent(),i.getSelection(),"unstyled");return o.EditorState.push(e,r,"split-block")}},inqH:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("lSCD"),i=n.n(a),r=n("q1tI");class o extends r.Component{componentDidMount(){this.loadEmbedly()}callEmbedly(){window.embedly("on","card.resize",()=>{"function"==typeof this.props.onResize&&this.props.onResize()})}getScript(){const e=document.createElement("script");e.src="//cdn.embedly.com/widgets/platform.js",e.async=!0,e.onload=()=>{this.callEmbedly()},document.body.appendChild(e)}loadEmbedly(){i()(window.embedly)?this.callEmbedly():this.getScript()}render(){return this.props.children}}},itcf:function(e,t,n){"use strict";var a=n("yQm5"),i=n.n(a);const r=function(e){return"undefined"!=typeof api_oauth_token?i()(e).addQuery("oauth_token",api_oauth_token).toString():e};window.oauth_url=r,t.a=r},jQ3o:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("RBqt"),i=n("94td"),r=n("/IHD"),o=n("q1tI"),s=n.n(o);const c=e=>s.a.createElement("div",null,s.a.createElement(a.a,{type:"caption-100",color:"soft-black",weight:"bold",atoms:["inline-block p2 bg-grey-400",Object(r.a)(e.atoms)]},Object(i.b)("project_page.reward.Reward_no_longer_available")))},jQIB:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var a=n("q1tI"),i=n("TIPN");const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return class extends a.Component{render(){return a.createElement(o,t,a.createElement(e,this.props))}}};class o extends a.Component{constructor(e){super(e),this.domNode=null,this.handleRef=this.handleRef.bind(this)}componentDidMount(){if(null===this.domNode||this.props.disabled)return;const e=this.domNode.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop)+this.props.offset;if(this.props.intoView){const e=window.pageYOffset||document.documentElement.scrollTop,t=window.innerHeight,n=e+t,a=e+this.domNode.getBoundingClientRect().top+this.props.offset,r=e+this.domNode.getBoundingClientRect().bottom+this.props.offset;a<e?Object(i.e)({to:a,duration:this.props.scrollDuration,easing:this.props.scrollEasing}):r>n&&Object(i.e)({to:Math.min(a,r-t),duration:this.props.scrollDuration,easing:this.props.scrollEasing})}else Object(i.e)({to:e,duration:this.props.scrollDuration,easing:this.props.scrollEasing})}handleRef(e){null!==e&&(this.domNode=e)}render(){return a.createElement("div",{ref:this.handleRef},this.props.children)}}o.defaultProps={scrollDuration:300,scrollEasing:"easeInCubic",disabled:!1,offset:0,intoView:!1}},kKlT:function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return m});var a=n("ijK7"),i=n("bvYH"),r=n("n+nq"),o=n("94td");const s=e=>{try{const t=new URL(e);return new RegExp(/\.[A-za-z]/,"i").test(e)&&-1===t.hostname.indexOf("..")&&("https:"===t.protocol||"http:"===t.protocol)}catch(e){return!1}},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=e.trim();return new RegExp(/^[A-za-z0-9]+:\/\//,"i").test(t)?t:"http://".concat(t)},l=Object(o.b)("library.ksr_json.Sorry_something_went_wrong_Weve_been_notified_and_are_looking"),d=e=>{const t=new URL("https://doesntmatter.com");return t.searchParams.append("data[data-href]",e),fetch("/templates/oembed".concat(t.search),{method:"GET",credentials:"same-origin",headers:{"X-CSRF-Token":Object(r.b)(document)}}).then(e=>200===e.status?Promise.resolve(e):Promise.reject(l)).then(e=>e.text()).then(u)},u=e=>{const t=document.createElement("div");t.innerHTML=e;const n=t.firstElementChild;return"template oembed"===n.className&&n.firstElementChild?Promise.resolve(e):Promise.reject(Object(o.b)("rich_editor.There_was_a_problem_embedding"))},m=(e,t,n,r)=>{const o=Object(a.d)(t,"LINK");r&&"function"==typeof r.editorToolClicked&&r.editorToolClicked("link"),o.length>1||(1===o.length?(n("LINK"),e(Object(i.u)(Object(a.e)(t,o[0]),o[0].entity.getData().url))):(n("LINK"),e(Object(i.u)(Object(a.f)(t)))))}},kZzg:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return!!e&&Boolean(e.getElementById("admin-nav"))}},lHf8:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("7cf5"),i=n("9mow"),r=n("/IHD"),o=n("q1tI"),s=n.n(o);const c=e=>{const t=e.atoms,n=e.color,o=void 0===n?"blue":n,c=Object(a.a)(e,["atoms","color"]),l=Object(r.a)(t,"link-".concat(o));return s.a.createElement(i.a,Object.assign({className:l},c))}},lTkF:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("1OuE"),i=n("q1tI"),r=n.n(i);const o=e=>{let t=e.format,n=e.date;return r.a.createElement("time",{dateTime:n},Object(a.a)(t,n))}},lX80:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("/IHD"),i=n("q1tI");const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=["","-sm","-md","-lg"],a=t?"grid-col-offset-":"grid-col-";return e.map((e,t)=>{if(void 0!==e)return"".concat(a).concat(e).concat(n[t])}).filter(e=>void 0!==e)},o=e=>{let t=e.children,n=e.atoms,o=void 0===n?[]:n,s=e.width,c=void 0===s?12:s,l=e.smWidth,d=e.mdWidth,u=e.lgWidth,m=e.offset,p=e.smOffset,h=e.mdOffset,b=e.lgOffset,f=e.center,g=void 0!==f&&f,v=e.style;const k=r([c,l,d,u]),y=r([m,p,h,b],!0),E=Object(a.a)(k,y,o,g?"grid-col-center":"");return i.createElement("div",{className:E,style:v},t)}},mEsB:function(e,t,n){"use strict";var a=n("prSB"),i=n("DjBF"),r=n("EHMl"),o=n("i8i4");const s=e=>(()=>void 0!==window&&!!window.document)()?Object(o.createPortal)(e,document.body):e;var c=n("TP7S"),l=n.n(c),d=n("q1tI"),u=n.n(d),m=n("KFoM"),p=n("rJga"),h=n("9P9J"),b=n("N83F");n.d(t,"a",function(){return v});var f,g;!function(e){e.top="top",e.bottom="bottom",e.left="left",e.right="right"}(f||(f={})),function(e){e.top="bottom",e.bottom="top",e.left="right",e.right="left"}(g||(g={}));const v=e=>{let t=e.children,n=e.placement,o=void 0===n?"bottom":n,c=e.label,f=e.ariaLabel,v=e.open,k=e.style,y=e.hideArrow,E=e.onFocus,_=e.onBlur,O=e.onTouchStart,j=e.onMouseEnter,S=e.onMouseLeave;const w=Object(d.useState)(!1),N=Object(i.a)(w,2),C=N[0],I=N[1],T=l()(v)?C:v,D="".concat(o,"-").concat(y,"-").concat(c);return u.a.createElement(m.c,{key:D},u.a.createElement(p.a,null,e=>{let n=e.ref;return u.a.cloneElement(t,{ref:n,onTouchStart:()=>{I(!0),null==O||O()},onFocus:()=>{I(!0),null==E||E()},onBlur:()=>{I(!1),null==_||_()},onMouseEnter:()=>{I(!0),null==j||j()},onMouseLeave:()=>{I(!1),null==S||S()}})}),s(u.a.createElement(h.a,{placement:o,modifiers:{offset:{offset:"0, ".concat(10)}}},e=>{let t=e.ref,n=e.style,i=e.placement,o=e.arrowProps;const s=g[i];return u.a.createElement("div",{style:Object(a.a)({maxWidth:"".concat(272,"px"),zIndex:10},n)},u.a.createElement(b.a,{open:T,duration:200,direction:s,start:"10%",easing:"ease-in-out"},u.a.createElement("div",{ref:t,"data-test-id":"popper-tooltip","data-placement":i,"aria-label":f||("string"==typeof c?c:void 0),className:"pointer-events-none bg-black white border-none p2 m0",style:k},c,!y&&u.a.createElement(r.a,{"data-test-id":"popper-arrow",hex:"#000",size:"".concat(10,"px"),direction:s,ref:o.ref,style:o.style}))))})))}},mm3F:function(e,t,n){"use strict";n.r(t),n.d(t,"closeDeleteAssetModal",function(){return a}),n.d(t,"deleteAsset",function(){return i}),n.d(t,"fileDragEnded",function(){return r}),n.d(t,"fileDragStarted",function(){return o}),n.d(t,"hydrateAsset",function(){return s}),n.d(t,"noopAction",function(){return c}),n.d(t,"openDeleteAssetModal",function(){return l}),n.d(t,"reloadAsset",function(){return d}),n.d(t,"setImageAssetWidth",function(){return u}),n.d(t,"updateUploadProgress",function(){return m}),n.d(t,"uploadInitialize",function(){return p}),n.d(t,"uploadProcessingStart",function(){return h}),n.d(t,"uploadSuccess",function(){return b}),n.d(t,"uploadFileFailure",function(){return f}),n.d(t,"uploadFileStart",function(){return g}),n.d(t,"uploadFileSuccess",function(){return v}),n.d(t,"uploadReset",function(){return k});const a=()=>({type:"CLOSE_DELETE_ASSET_MODAL"}),i=()=>({type:"DELETE_ASSET"}),r=()=>({type:"FILE_DRAG_ENDED"}),o=()=>({type:"FILE_DRAG_STARTED"}),s=(e,t)=>({type:"HYDRATE_ASSET",asset:e,currentDate:t}),c=()=>({type:"NOOP"}),l=()=>({type:"OPEN_DELETE_ASSET_MODAL"}),d=e=>({type:"RELOAD_ASSET",assetId:e}),u=e=>({type:"SET_IMAGE_ASSET_WIDTH",width:e}),m=e=>({type:"UPDATE_UPLOAD_PROGRESS",progress:e}),p=e=>({type:"UPLOAD_INITIALIZE",effects:e}),h=(e,t)=>({type:"UPLOAD_PROCESSING_START",assetId:e,uploadedAt:t}),b=e=>({type:"UPLOAD_SUCCESS",asset:e}),f=()=>({type:"UPLOAD_FILE_FAILURE"}),g=(e,t,n)=>({type:"UPLOAD_FILE_START",file:e,dispatch:t,uploadLimit:n}),v=e=>({type:"UPLOAD_FILE_SUCCESS",s3Params:e}),k=()=>({type:"UPLOAD_RESET"})},msqZ:function(e,t,n){var a=n("sZCt")("set",n("D1y2"));a.placeholder=n("wuTn"),e.exports=a},mv45:function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"l",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"i",function(){return u}),n.d(t,"c",function(){return m}),n.d(t,"k",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"j",function(){return b}),n.d(t,"a",function(){return f}),n.d(t,"e",function(){return g}),n.d(t,"f",function(){return v});var a=n("prSB"),i=n("4KRT");const r=["variables","refetch","fetchMore","updateQuery","startPolling","stopPolling","subscribeToMore","loading","networkStatus","error"],o=e=>Object.keys(e).length!==r.length,s=e=>({status:"error",error:e}),c=e=>Object(a.a)({status:"ready"},e),l=e=>"loading"===e.status,d=e=>"error"===e.status,u=e=>"ready"===e.status,m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t=>{const n=t.ownProps&&d(t.ownProps);if(!t.data||t.data.error||n)return t.data&&t.data.error?s(t.data.error):s();const a=t.ownProps&&l(t.ownProps),i=o(t.data);return t.data.loading&&!i||a?{status:"loading"}:e(t)};return{props:n,options:Object(a.a)({fetchPolicy:"cache-and-network",ssr:!1},t)}},p=(e,t)=>n=>{const a=m(t);return Object(i.c)(e,a)(n)},h=e=>{return{props:t=>e(t)}},b=(e,t)=>n=>Object(i.c)(e,h(t))(n);function f(e,t,n,a,i,r,o,s){return c=>e(t(n?n(a?a(i?i(r?r(o?o(s?s(c):c):c):c):c):c):c))}const g=e=>{const t=v(e),n=t?{}:{general:e.message};return Object(a.a)({},t,{},n)},v=e=>e.graphQLErrors?e.graphQLErrors.map(e=>{let t=e.details;return t?Object.keys(t).reduce((e,n)=>(e[n]=t[n].join(" "),e),{}):null})[0]:null},"n+nq":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});const a=e=>{const t=e.querySelector('meta[name="csrf-token"]');if(!t){return n("pj8f").Honeybadger.notify("CSRF meta tag missing from page"),""}const a=t.getAttribute("content");if(!a){return n("pj8f").Honeybadger.notify('CSRF meta tag did not have "content"'),""}return a},i=e=>({"X-CSRF-Token":a(e)})},nU83:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return m});var a=n("7cf5"),i=n("WjpJ"),r=n.n(i),o=n("pTxv"),s=n("2DJ9"),c=n("94td"),l=n("q1tI"),d=n("/IHD");const u=e=>{const t=e.size,n=void 0===t?"large":t,i=e.theme,r=void 0===i?"trust":i,s=e.atoms,c=Object(a.a)(e,["size","theme","atoms"]),u=[Object(d.a)("w100p mt4",s)];return l.createElement(o.c,Object.assign({size:n,theme:r,atoms:u},c))},m=e=>{const t=e.renderNavigationButtons,n=void 0===t||t,a=e.currentPage===e.totalPages,i=1===e.currentPage;return l.createElement("div",{className:"flex"},l.createElement("div",{className:"flex flex2 order2 justify-center"},l.createElement(p,{currentPage:e.currentPage,totalPages:e.totalPages})),n&&l.createElement(l.Fragment,null,l.createElement("div",{className:"flex flex2 order1"},!i&&l.createElement(o.c,{dataTestId:"paginator-previous-page",theme:"create",onClick:()=>e.onPageChange(e.currentPage-1)},l.createElement(s.a,{name:"arrow-point-left",label:Object(c.b)("modals.paginator.Previous_page")}))),l.createElement("div",{className:"flex flex2 order3 justify-end"},l.createElement(o.c,{dataTestId:a?"paginator-finish-page":"paginator-next-page",theme:"create",onClick:a?e.onFinish:()=>e.onPageChange(e.currentPage+1)},l.createElement(s.a,{name:a?"check":"arrow-point-right",label:a?Object(c.b)("modals.paginator.Finish"):Object(c.b)("modals.paginator.Next_page")})))))},p=e=>{let t=e.currentPage,n=e.totalPages;return l.createElement("span",{"aria-label":Object(c.b)("modals.paginator.Page_n_of_m",{currentPage:t,totalPages:n})},r()(1,n+1).map(e=>l.createElement("span",{key:e,className:"lh4 py0 px1"},l.createElement("span",{className:"inline-block w1 h1 radius100p ".concat(e===t?"bg-navy-700":"bg-grey-500")}))))}},o3IG:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l});var a=n("DjBF"),i=n("MgNI");const r=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return["".concat(e,"=").concat(encodeURIComponent(t)),o(n),"path=/"].filter(e=>e).join("; ")},o=e=>i.maybe.fromNullable(e).map(e=>"expires=".concat(e.toGMTString())).getOrElse(null),s=e=>((e,t)=>t.split(/; */).map(e=>e.split("=")).reduce((t,n)=>{let i=Object(a.a)(n,2),r=i[0],o=i[1];return r==e?decodeURIComponent(o):t},null))(e,(()=>"undefined"==typeof document?"":document.cookie)()),c=(e,t,n)=>document.cookie=r(e,t||"",n?new Date(n):null),l=e=>document.cookie=(e=>r(e,"",new Date(0)))(e);"undefined"!=typeof window&&(window.read_cookie=s,window.write_cookie=c,window.destroy_cookie=l)},o65o:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostIncludeExcludeRewardFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"excludedRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasExcludedNoRewardTier"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PostIncludeReward"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PostIncludeRewardInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postIncludeReward"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostIncludeExcludeRewardFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PostExcludeReward"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PostExcludeRewardInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postExcludeReward"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostIncludeExcludeRewardFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:470}};n.loc.source={body:"fragment PostIncludeExcludeRewardFragment on Postable {\n  id\n  excludedRewards {\n    nodes {\n      id\n    }\n  }\n  hasExcludedNoRewardTier\n}\n\nmutation PostIncludeReward($input: PostIncludeRewardInput!) {\n  postIncludeReward(input: $input) {\n    post {\n      ...PostIncludeExcludeRewardFragment\n    }\n  }\n}\n\nmutation PostExcludeReward($input: PostExcludeRewardInput!) {\n  postExcludeReward(input: $input) {\n    post {\n      ...PostIncludeExcludeRewardFragment\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function r(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.PostIncludeReward=r(n,"PostIncludeReward"),e.exports.PostExcludeReward=r(n,"PostExcludeReward")},oMXI:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i});const a=()=>!(!window.location||!window.location.hostname)&&/(ksr|drip)\.test|localhost/.test(window.location.hostname),i=()=>!(!window.location||!window.location.hostname)&&/^(staging\.kickstarter\.com|staging\.d\.rip)$/.test(window.location.hostname),r=()=>!(!window.location||!window.location.hostname)&&/^(www\.kickstarter\.com|d\.rip)$/.test(window.location.hostname)},ocnG:function(e,t,n){"use strict";var a=n("prSB"),i=n("7cf5"),r=n("q1tI"),o=n.n(r),s=n("dRu9");const c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object(a.a)({},e,{},t),i="".concat((e.transform||"").trim()," ").concat((t.transform||"").trim()).trim();return i?Object(a.a)({},n,{transform:i}):n};n.d(t,"a",function(){return l});const l=e=>{let t=e.open,n=void 0===t||t,l=e.keepMounted,d=void 0!==l&&l,u=e.duration,m=void 0===u?300:u,p=e.delay,h=void 0===p?0:p,b=e.easing,f=void 0===b?"ease-in-out":b,g=e.transitionProperty,v=void 0===g?"all":g,k=e.children,y=e.transitions,E=Object(i.a)(e,["open","keepMounted","duration","delay","easing","transitionProperty","children","transitions"]);const _=m+h,O={transitionDuration:"".concat(m,"ms"),transitionDelay:"".concat(h,"ms"),transitionTimingFunction:f,transitionProperty:v},j=Object(r.useMemo)(()=>(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>({entering:c(e.entering,t.entering),entered:c(e.entered,t.entered),exiting:c(e.exiting,t.exiting),exited:c(e.exited,t.exited)}),{})})(...y),y);return o.a.createElement(s.a,Object.assign({appear:!0,mountOnEnter:!d,unmountOnExit:!d},E,{in:n,timeout:_}),e=>{const t=Object(a.a)({},O,{},j[e]);return"function"==typeof k?k(t):o.a.cloneElement(k,{style:Object(a.a)({},t,{},k.props.style)})})}},pTxv:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return m}),n.d(t,"g",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return f});var a=n("7cf5"),i=n("2DJ9"),r=n("9mow"),o=n("/IHD"),s=n("q1tI"),c=n.n(s);const l=e=>{const t=e.atoms,n=e.children,s=e.fullWidth,l=e.iconName,d=e.iconClassName,u=e.iconLabel,m=e.kind,p=e.loading,h=e.size,b=void 0===h?"medium":h,f=e.theme,g=e.type,v=void 0===g?"button":g,k=Object(a.a)(e,["atoms","children","fullWidth","iconName","iconClassName","iconLabel","kind","loading","size","theme","type"]),y=Object(o.a)("bttn keyboard-focusable","bttn-".concat(b),m?"bttn-".concat(m):"",f?"theme--".concat(f):"",s&&"flex w100p",d,t);return c.a.createElement(r.a,Object.assign({className:y,type:v},k),p?c.a.createElement(i.a,{name:"icon--circle-loader",size:"20",atoms:[Object(o.a)("pb1px")]}):c.a.createElement(()=>c.a.createElement(c.a.Fragment,null,l&&c.a.createElement(i.a,{name:l,size:"20",atoms:[Object(o.a)("mr1")],label:u}),n),null))},d=e=>{const t=e.atoms,n=Object(a.a)(e,["atoms"]),i=[Object(o.a)(t,"fill-bttn-icon hover-fill-bttn-icon")];return c.a.createElement(l,Object.assign({kind:"primary",atoms:i},n))},u=e=>{const t=e.atoms,n=Object(a.a)(e,["atoms"]),i=[Object(o.a)(t,"fill-bttn-icon hover-fill-bttn-icon")];return c.a.createElement(l,Object.assign({kind:"secondary",atoms:i},n))},m=e=>{const t=e.atoms,n=Object(a.a)(e,["atoms"]),i=[Object(o.a)(t,"fill-bttn-icon hover-fill-bttn-icon")];return c.a.createElement(l,Object.assign({kind:"tertiary",atoms:i},n))},p=e=>{const t=e.atoms,n=Object(a.a)(e,["atoms"]),i=[Object(o.a)(t,"fill-bttn-icon hover-fill-bttn-icon")];return c.a.createElement(l,Object.assign({atoms:i},n))},h=e=>{const t=e.atoms,n=Object(a.a)(e,["atoms"]),i=[Object(o.a)(t,"fill-white")];return c.a.createElement(l,Object.assign({kind:"twitter",iconName:"icon--twitter",atoms:i},n))},b=e=>{const t=e.atoms,n=Object(a.a)(e,["atoms"]),i=[Object(o.a)(t,"fill-white")];return c.a.createElement(l,Object.assign({kind:"facebook",iconName:"icon--facebook",atoms:i},n))},f=e=>{e.className;const t=Object(a.a)(e,["className"]),n=Object(o.a)("bttn keyboard-focusable",e.className);return c.a.createElement(r.a,Object.assign({className:n},t))}},pj8f:function(e,t,n){"use strict";let a;n.r(t),n.d(t,"Honeybadger",function(){return a}),a="undefined"!=typeof document?n("dvPR").Honeybadger:()=>void 0},poNw:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("prSB"),i=n("mm3F");const r=e=>({activeDragCounter:0,asset:null,effects:Object(a.a)({create:()=>Promise.resolve(Object(i.noopAction)()),read:()=>Promise.resolve(Object(i.noopAction)()),destroy:()=>Promise.resolve(Object(i.noopAction)()),onSuccess:()=>Promise.resolve(Object(i.noopAction)())},e),errors:[],isDeleting:!1,isDisabled:!1,isShowingDeleteAssetModal:!1,progress:0,uploadedAt:null,uploaderStatus:"EMPTY",imageAssetWidth:null})},pzgU:function(e,t,n){var a=n("Q1l4"),i=n("wJg7"),r=Math.min;e.exports=function(e,t){for(var n=e.length,o=r(t.length,n),s=a(e);o--;){var c=t[o];e[o]=i(c,n)?s[c]:void 0}return e}},q3TU:function(e,t,n){var a=n("y4QH"),i=n("MMiu"),r=n("6KkN"),o="__lodash_placeholder__",s=1,c=2,l=4,d=8,u=128,m=256,p=Math.min;e.exports=function(e,t){var n=e[1],h=t[1],b=n|h,f=b<(s|c|u),g=h==u&&n==d||h==u&&n==m&&e[7].length<=t[8]||h==(u|m)&&t[7].length<=t[8]&&n==d;if(!f&&!g)return e;h&s&&(e[2]=t[2],b|=n&s?0:l);var v=t[3];if(v){var k=e[3];e[3]=k?a(k,v,t[4]):v,e[4]=k?r(e[3],o):t[4]}return(v=t[5])&&(k=e[5],e[5]=k?i(k,v,t[6]):v,e[6]=k?r(e[5],o):t[6]),(v=t[7])&&(e[7]=v),h&u&&(e[8]=null==e[8]?t[8]:p(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=b,e}},qAuv:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n("q1tI"),i=n.n(a);const r=600,o=900,s=1100,c=e=>"".concat(.6*e,"rem"),l=(e,t,n,a)=>{const i=[t&&"width: ".concat(c(t)),n&&"height: ".concat(c(n))].filter(Boolean);if(0===i.length)return null;const r="#".concat(e,"{").concat(i.join(";"),"}");return a?"@media (min-width:".concat(a,"px){").concat(r,"}"):r},d={counter:0},u=e=>{let t=e.id,n=void 0===t?"__size_".concat(++d.counter):t,a=e.width,c=e.smWidth,u=e.mdWidth,m=e.lgWidth,p=e.height,h=e.smHeight,b=e.mdHeight,f=e.lgHeight,g=e.children;const v=[l(n,a,p),l(n,c,h,r),l(n,u,b,o),l(n,m,f,s)].filter(Boolean).join("\n");return i.a.createElement("div",{id:n},i.a.createElement("style",null,v),g)}},qEcG:function(e,t,n){"use strict";var a=n("KBQY"),i=n("39MV"),r=n("RBqt"),o=n("94td"),s=n("1OuE"),c=n("/IHD"),l=n("q1tI"),d=n.n(l),u=n("pTxv"),m=n("jQ3o"),p=n("arGM");const h=e=>{let t=e.buttonDisplayable,n=e.isBackingProject,a=e.previewMode,r=e.projectState,s=e.projectUrl,c=e.reward;const l=c.available&&!Object(i.c)(c.startsAt);return t&&!n&&l?d.a.createElement(u.c,{atoms:["text-decoration-none-important"],theme:"create",href:b({previewMode:a,projectState:r,projectUrl:s,rewardId:c.id})},Object(o.b)("project_page.reward.Select_this_reward")):n||c.available?null:d.a.createElement(m.a,{atoms:["text-center","text-left-md","w100p","w-auto-md"]})},b=e=>{let t=e.previewMode,n=e.projectState,a=e.projectUrl,i=e.rewardId;if(!t&&"live"===n)return Object(p.d)("".concat(a,"/pledge/new"),{"backing[backer_reward_id]":i,ref:"embedded_reward"})};var f=n("uT+I");const g=e=>{let t=e.preface,n=e.info,a=e.containerAtoms;return d.a.createElement(f.a,{atoms:a},d.a.createElement(r.a,{color:"dark-grey-500",atoms:["block","text-uppercase","type-12","ls1px","ls0_5px"]},t),d.a.createElement(r.a,{color:"soft-black",atoms:["type-14"]},n))};var v=n("7cf5");const k=e=>{let t=e.name,n=Object(v.a)(e,["name"]);return t?d.a.createElement(r.a,Object.assign({type:"body-200",weight:"normal",color:"soft-black"},n),t):null},y=e=>{let t=e.amount,n=e.currency,a=e.isMaxPledge,o=Object(v.a)(e,["amount","currency","isMaxPledge"]);return d.a.createElement(r.a,Object.assign({type:"body-200",weight:"normal",color:"soft-black"},o),t&&n&&Object(i.e)(a,Object(i.b)(t,n)))},E=()=>d.a.createElement(r.a,{atoms:["absolute","bg-trust-700","lh3","px3","py4px","t0","type-12","white"]},Object(o.b)("project_page.reward.You_selected"));var _=n("W6lR");n.d(t,"a",function(){return O});const O=e=>{var t;let n=e.backing,d=void 0===n?Object(_.b)():n,u=e.controls,m=e.previewMode,p=e.projectUrl,b=void 0===p?Object(_.d)():p,f=e.reward,v=e.projectState,O=void 0===v?Object(_.c)():v,j=e.showSelectRewardButton,S=void 0===j||j;const w="pledged"===(null==d?void 0:d.status),N=w&&(null==d?void 0:null===(t=d.reward_id)||void 0===t?void 0:t.toString())===f.id,C=S&&["started","submitted","live"].includes(O||"");return l.createElement("div",{className:Object(c.a)(N?"border-trust-700 pt8":"border-grey-400","mb3","relative","p5","border","native-hide")},N&&l.createElement(E,null),l.createElement("div",{className:"flex justify-between"},l.createElement("div",null,l.createElement(y,{amount:f.amount.amount,currency:f.amount.currency,isMaxPledge:f.isMaxPledge,type:"body-200",atoms:["block","mb2"]}),l.createElement(k,{name:f.name,atoms:["block","mb6"]})),u),l.createElement("div",{className:"mb5 relative"},f.description&&l.createElement(r.a,{type:"body-100",color:"dark-grey-500",atoms:["block lh3 text-prewrap"]},f.description),f.startsAt&&Object(i.c)(f.startsAt)&&l.createElement(r.a,{color:"celebrate-700","data-test-id":"reward-not-unlocked",atoms:["block","mt1","type-14"]},Object(o.b)("project_page.reward.Reward_unlocks_on",{date:Object(s.a)("LL",new Date(f.startsAt))}))),l.createElement("div",{className:"flex flex-column flex-row-md justify-between"},l.createElement("div",{className:"flex mb3 mb0-md"},f.estimatedDeliveryOn&&l.createElement(g,{preface:Object(o.b)("project_page.reward.Estimated_delivery"),info:Object(a.a)("MMM YYYY",f.estimatedDeliveryOn),containerAtoms:["mr6"]}),f.shippingSummary&&l.createElement(g,{preface:Object(o.b)("project_page.reward.Ships_to"),info:f.shippingSummary,containerAtoms:["mr6"]})),l.createElement(h,{buttonDisplayable:C,isBackingProject:w,previewMode:m,projectState:O,projectUrl:b,reward:f})))}},qPAc:function(e,t,n){"use strict";var a=n("94td");const i={createTrackingEventName:"Comment Create",pollUrlFactory:()=>null,submitButtonText:Object(a.b)("project_page.comments.Post_Comment"),placeholderText:Object(a.b)("project_page.comments.What_would_you"),showCommentsWithoutPledges:!1,isReplyingEnabled:!0,showNonBackerMessage:!0,hideBackground:!1};t.a=i},qYa2:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l});var a=n("prSB"),i=n("94td"),r=n("MTFr");const o=e=>!(!e.dataTransfer.types||-1===e.dataTransfer.types.indexOf("Files")),s=(e,t)=>{let n=[];return e.size>t.bytes&&(n=[...n,Object(i.b)("uploaders.This_file_is_too_big",{megabytes:t.megabytes})]),t.contentTypes.includes(e.type)||(n=[...n,Object(i.b)("uploaders.This_file_has_an_invalid_filetype")]),n},c=e=>Object(a.a)({},r.g,{},e),l=(e,t,n,a,i,r,o)=>{const s=new XMLHttpRequest;s.open("POST",e),s.onload=()=>{204===s.status?r({s3Key:t,fileName:encodeURIComponent(n.name),contentType:n.type,updatedAt:(n.lastModifiedDate||new Date).getTime(),fileSize:n.size}):i()},s.onerror=i,s.upload.onprogress=e=>{if(e.lengthComputable){const t=e.loaded/e.total*100;o(t)}},s.send(a)}},qcI4:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return p});var a=n("a+N5"),i=n.n(a),r=n("itcf"),o=n("XLBa");let s=n("qtWx").a.extend();s.on_initialize(function(){this.data.id&&(this.constructor.records[this.data.id]=this)}),i.a.extend(s,{records:{},find:function(e){var t=this;return i.a.isArray(e)?i.a.compact(i.a.map(e,function(e){return t.records[e]})):this.records[e]},every:function(e){i.a.each(this.records,e),this.listen("new",function(t){e.call(this,t.new)})},has:function(e,t){if(void 0===this.prototype["has_"+e]){var n=t.through;this.prototype[e]=[],this.on_initialize(function(){this.on_change(e+"_fetched",function(t){var a=t[e+"_fetched"]||[],r=this[e],o=i.a.compact(i.a.map(a,function(e){if(e&&e.id&&!i.a.include(r,e.id))return new window[n](e).get("id")}));this["set_"+e](i.a.union(r,o))})}),this.prototype["get_"+e]=function(){return window[n].find(this[e])},this.prototype["has_"+e]=function(t){return(t=a(t)).length&&0===i()(this[e]).difference(t).length},this.prototype["add_"+e]=function(t){t=a(t),(t=i()(t).difference(this[e])).length&&this["set_"+e](i.a.union(this[e],t))},this.prototype["remove_"+e]=function(t){t=a(t),(t=i()(t).intersection(this[e])).length&&this["set_"+e](i()(this[e]).difference(t))},this.prototype["set_"+e]=function(t){if(t=a(t),!i.a.isEqual(i.a.clone(t).sort(),i.a.clone(this[e]).sort())){this[e]=t;var n={};n[e]=t,this._broadcast(n)}}}function a(e){return"object"!=typeof e?e=[e]:e.get&&(e=[e.get("id")]),e}}});let c=s.extend(),l=s.extend(),d=s.extend(),u=s.extend(),m=s.extend(),p=s.extend();u.on_initialize(function(){"function"==typeof o.a&&this.on_change(function(){Object(o.a)("Project",this.get())})}),u.has("creator",{through:"User"}),u.has("backers",{through:"User"}),u.set_computed_value("usd_pledged",function(){return this.pledged*this.static_usd_rate},{changes_on:["pledged"]}),u.set_computed_value("convert_pledged",function(){return this.pledged*this.fx_rate},{changes_on:["pledged"]}),m.has("created_projects",{through:"Project"}),m.has("backed_projects",{through:"Project"}),m.has("backings",{through:"Backing"}),m.prototype.api_url=function(e,t){var n=this.get("urls").api.user;if(n)return"string"==typeof e&&(n=n.replace(/([^\?]*)(.*)/,function(t,n,a){return n+"/"+e+a})),(t||void 0===t&&!0===e)&&api_oauth_token&&(n=Object(r.a)(n).replace(/http:/,"https:")),n},d.on_initialize(function(){"function"==typeof o.a&&this.on_change(function(){Object(o.a)("Comment",this.get())})}),l.set_computed_value("net_amount",function(){return this.amount-this.shipping_amount},{changes_on:["shipping_amount","amount"]})},qn6j:function(e,t,n){"use strict";let a;n.d(t,"a",function(){return a}),function(e){e.INCREMENT="increment",e.GAUGE="gauge",e.TIME="time"}(a||(a={}))},qtWx:function(e,t,n){"use strict";var a=n("a+N5"),i=n.n(a),r=n("+2Rf"),o=n.n(r);function s(){}s.prototype.initialize=function(){},s.extend=function(e){var t=function(){this.initialize.apply(this,arguments)};for(var n in this)this.hasOwnProperty(n)&&(i.a.isFunction(this[n])?t[n]=this[n]:t[n]=i.a.clone(this[n]));function a(){this.constructor=t}return a.prototype=this.prototype,t.prototype=new a,t.__super__=this.prototype,e&&(t.prototype.initialize=e),t};var c=s.extend(function(e){var t=this,n=arguments;this.data={},e&&this.set(e),i.a.each(this.constructor.initializers,function(e){e.apply(t,n)}),this.data.id&&this.constructor.records&&(this.constructor.records[this.data.id]=this),this.constructor._broadcast({new:this.data})});c._computed_values={},i.a.extend(c,{listen:function(e,t){var n=this;if(i.a.isObject(e)&&i.a.each(e,function(e,t){n.listen(t,e)}),void 0===this.listeners&&(this.listeners={}),void 0===this.listeners._global&&(this.listeners._global=[]),"function"!=typeof e)return void 0===this.listeners[e]&&(this.listeners[e]=[]),this.listeners[e].push(t),this;this.listeners._global.push(e)},_broadcast:function(e,t,n){var a;void 0===this.listeners&&(this.listeners={}),void 0===this.listeners._global&&(this.listeners._global=[]);var r=this;if(t=t||"",i.a.each(i.a.keys(e),function(a){"object"!=typeof e[a]||null===e[a]||i.a.isArray(e[a])||r._broadcast(e[a],t+a+".",n),void 0!==r.listeners[t+a]&&i.a.each(r.listeners[t+a],function(t){t.call(r,e,n)})}),!t)for(a=0;a<this.listeners._global.length;a+=1)this.listeners._global[a].call(this,e,n)},on_initialize:function(e){void 0===this.initializers&&(this.initializers=[]),this.initializers.push(e)},get_computed_values:function(){return this._computed_values},set_computed_value:function(e,t,n){var a=this;this._computed_values[e]=t,n&&i.a.isArray(n.changes_on)&&i.a.each(n.changes_on,function(t){a.prototype.on_change(t,function(){var t={};t[e]=this.get(e),this._broadcast(t)})})}}),c.prototype.on_change=c.prototype.listen=c.listen,c.prototype.change=function(){this._broadcast({})},c.prototype._broadcast=c._broadcast,c.prototype.set=function(e,t,n){var a,r;return"object"==typeof e?(a=e,n=t):a="string"==typeof e?function e(t,n){var a={},i=t.shift();return t.length?a[i]=e(t,n):a[i]=n,a}(e.split("."),t):{},n||(n={}),r=function e(t,n){var a={};for(var i in n)n.hasOwnProperty(i)&&("object"==typeof n[i]&&null!==n[i]?a[i]=t?e(t[i],n[i]):n[i]:t&&t[i]===n[i]||(a[i]=n[i]));return a}(this.data,a),n.overwrite?this.data=i.a.extend(this.data,a):this.data=o.a.extend(!0,this.data,a),void 0!==n.silent&&n.silent||this._broadcast(r,void 0,n),this},c.prototype.replace=function(e,t,n){return(n=n||{}).silent=!0,this.set(e,null,n),delete n.silent,this.set(e,t,n)},c.prototype.get=function(e){if("string"==typeof e){if("function"==typeof this.constructor.get_computed_values()[e])return this.constructor.get_computed_values()[e].call(this.data);var t=e.split("."),n=this.data;return i.a.each(t,function(e){n=n[e]}),i.a.clone(n)}return o.a.extend(!0,{},this.data,this.compute_values())},c.prototype.compute_values=function(){var e=this.data,t={};return i.a.each(this.constructor.get_computed_values(),function(n,a){t[a]=n.call(e)}),t};t.a=c},rI0c:function(e,t,n){"use strict";var a=n("dZEV"),i=n("prSB"),r=n("MTFr"),o=n("qYa2"),s=n("X+my"),c=n("q1tI");const l=(e,t)=>{const n=new FormData;return Object.keys(t).forEach(e=>{n.append(e,t[e])}),n.append("file",e),n};let d;!function(e){e.FAILED="FAILED",e.PROCESSING="PROCESSING",e.SUCCESSFUL="SUCCESSFUL",e.UPLOADING="UPLOADING",e.INVALID="INVALID",e.EMPTY="EMPTY"}(d||(d={}));const u={activeDragCounter:0,asset:null,errors:[],isDeleting:!1,isDisabled:!1,isShowingDeleteAssetModal:!1,progress:0,uploaderStatus:d.EMPTY},m=(e,t)=>{switch(t.type){case"STARTED_UPLOAD":return Object(i.a)({},e,{uploaderStatus:d.UPLOADING,isDisabled:!0,progress:0});case"PROCESSING_UPLOAD":return Object(i.a)({},e,{uploaderStatus:d.PROCESSING});case"COMPLETED_UPLOAD":return Object(i.a)({},e,{uploaderStatus:d.SUCCESSFUL,isDisabled:!1,progress:100});case"INVALID_UPLOAD":return Object(i.a)({},e,{uploaderStatus:d.INVALID,errors:[t.error]});case"FAILED_UPLOAD":return Object(i.a)({},e,{uploaderStatus:d.FAILED,isDisabled:!1,errors:[t.error]});case"RESET":return Object(i.a)({},u);case"OPENED_MODAL":return Object(i.a)({},e,{isShowingDeleteAssetModal:!0});case"CLOSED_MODAL":return Object(i.a)({},e,{isShowingDeleteAssetModal:!1});case"DRAG_OVER":return Object(i.a)({},e,{activeDragCounter:1});case"DRAG_LEAVE":return Object(i.a)({},e,{activeDragCounter:0});case"UPDATE_PROGRESS":return Object(i.a)({},e,{progress:t.progress});default:return e}};let p;class h extends c.Component{constructor(e){super(e),this.reduce=e=>new Promise(t=>{this.setState(m(this.state,e),()=>t(null))}),this.handleReset=()=>this.reduce({type:"RESET"}),this.handleDrop=e=>{e.preventDefault(),this.reduce({type:"DRAG_LEAVE"}),Object(o.a)(e)&&this.handleFileSelect(e.dataTransfer.files[0])},this.handleFileSelect=e=>{this.handleUpload(e)},this.handleUpload=async e=>{const t=Object(a.f)(e,this.props.allowedFileTypes);if(t&&t.length>0)return this.reduce({type:"INVALID_UPLOAD",error:t});await this.reduce({type:"STARTED_UPLOAD"});const n={params:JSON.parse(window.s3_upload.params),s3_upload_url:window.s3_upload.url},i=l(e,n.params);try{Object(o.c)(n.s3_upload_url,n.params.key,e,i,this.handleUploadFailure,this.handleUploadSuccess,this.handleUploadProgress)}catch(t){this.reduce({type:"FAILED_UPLOAD",error:t})}},this.handleUploadSuccess=e=>{const t=e.s3Key,n=e.fileName,i=e.contentType,r=e.updatedAt,o=e.fileSize,s=this.props,c=s.attachableAssoc,l=s.attachableId;this.reduce({type:"PROCESSING_UPLOAD"}),Object(a.d)({s3Key:t,fileName:n,fileSize:o,contentType:i,updatedAt:r,attachableAssoc:c,id:l}).then(e=>this.handleUploadComplete(e.upload.asset.id)).catch(this.handleUploadFailure)},this.handleUploadComplete=e=>{this.props.onUploadComplete(e)},this.handleUploadFailure=e=>this.reduce({type:"FAILED_UPLOAD",error:e}),this.handleUploadProgress=e=>this.reduce({type:"UPDATE_PROGRESS",progress:e}),this.handleDragEnter=()=>this.reduce({type:"DRAG_OVER"}),this.handleDragLeave=()=>this.reduce({type:"DRAG_LEAVE"}),this.handleCloseDeleteAssetModal=()=>this.reduce({type:"CLOSED_MODAL"}),this.handleOpenDeleteAssetModal=()=>this.reduce({type:"OPENED_MODAL"}),this.state=u;const t=e.iconName,n=e.maxFileSizeText,i=e.copyOverrides,s=e.fileAccept;p=Object(r.e)({UploadSuccess:e=>{let t=e.onDeleteAsset,n=e.onFileSelect,a=e.onCloseDeleteAssetModal,o=e.onOpenDeleteAssetModal,s=e.state;return c.createElement(r.c,{onDeleteAsset:t,onFileSelect:n,onCloseDeleteAssetModal:a,onOpenDeleteAssetModal:o,state:s,copyOverrides:i})},EmptyState:e=>{let a=e.activeDragCounter,o=e.onDragLeave,l=e.onDragEnter,d=e.onDrop,u=e.onFileSelect,m=e.theme,p=e.uploadLimit;return c.createElement(r.a,{activeDragCounter:a,onDragLeave:o,onDragEnter:l,onDrop:d,onFileSelect:u,theme:m,uploadLimit:p,iconName:t,maxFileSizeText:n,copyOverrides:i,fileAccept:s})},ProcessingState:e=>{let t=e.isDeleting,n=e.onFileSelect,a=e.theme,o=e.timeElapsed;return c.createElement(r.b,{isDeleting:t,onFileSelect:n,theme:a,timeElapsed:o,copyOverrides:i})}})}render(){return c.createElement(p,{state:this.state,uploadLimit:this.props.uploadLimit,onDeleteAsset:this.handleReset,onUploadReset:this.handleReset,onDragLeave:this.handleDragLeave,onDragEnter:this.handleDragEnter,onDrop:this.handleDrop,onFileSelect:this.handleFileSelect,onCloseDeleteAssetModal:this.handleCloseDeleteAssetModal,onOpenDeleteAssetModal:this.handleOpenDeleteAssetModal,theme:s.a})}}var b=n("94td");n.d(t,"a",function(){return g});const f={changeFile:Object(b.b)("uploaders.Change_video"),deleteFile:Object(b.b)("uploaders.Delete_video"),deletingFile:Object(b.b)("uploaders.Deleting_video"),uploadCta:Object(b.b)("uploaders.Drag_or_drop_video_here"),uploadCtaMobile:Object(b.b)("uploaders.Upload_a_video"),feelFreeToMoveOn:Object(b.b)("uploaders.Please_wait_while_we_process_your_file")};class g extends c.Component{constructor(){super(...arguments),this.state={isFetching:!1,uploadLimit:{bytes:0,megabytes:0,contentTypes:[]}}}componentDidMount(){this.setState(()=>({isFetching:!0}),()=>Object(a.e)({fileType:a.c.ASSET_VIDEO}).then(e=>{this.setState({isFetching:!1,uploadLimit:e})}))}render(){if(this.state.isFetching)return null;const e=Object(b.b)("uploaders.It_must_be_a_valid_video_file_type")+" "+Object(b.b)("uploaders.no_larger_than_file_size",{megabytes:this.state.uploadLimit.megabytes});return c.createElement(h,{iconName:"icon--video",copyOverrides:f,attachableId:this.props.attachableId,attachableAssoc:this.props.attachableAssoc,onUploadComplete:this.props.onUploadComplete,uploadLimit:this.state.uploadLimit,maxFileSizeText:e,fileAccept:this.state.uploadLimit.contentTypes.join(","),allowedFileTypes:[a.b.VIDEO]})}}},rMRV:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("q1tI"),i=n("Nz1K");const r=e=>{const t=Object(i.b)((e=>e.replace(/<(b\b|strong\b).*?>/g,'<span class="bold">').replace(/<em\b.*?>/g,'<span class="text-italic">').replace(/<\/(b|strong|em)>/g,"</span>"))(e));return a.createElement("div",{dangerouslySetInnerHTML:{__html:t}})}},rcUh:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("q1tI");const i=e=>{const t=e.vertical?"pt".concat(e.vertical):"",n=e.horizontal?"pl".concat(e.horizontal):"";return a.createElement("span",{className:"block ".concat(t," ").concat(n)})}},"s0N+":function(e,t,n){var a=n("zZ0H"),i=n("a5q3"),r=i?function(e,t){return i.set(e,t),e}:a;e.exports=r},sZCt:function(e,t,n){var a=n("ttrC"),i=n("Ig5p");e.exports=function(e,t,n){return a(i,e,t,n)}},sett:function(e,t,n){"use strict";n.d(t,"f",function(){return d}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return p}),n.d(t,"e",function(){return h}),n.d(t,"d",function(){return b});var a=n("Ds2b"),i=n("g1y3"),r=n("2gvo"),o=n("7LsF"),s=n("0AyS"),c=n("q1tI"),l=n.n(c);const d={name:"create","primary-light":"ksr-green-500","primary-dark":"ksr-green-700","primary-accent":"ksr-green-500"},u=e=>l.a.createElement(o.a,Object.assign({theme:d},e)),m=e=>l.a.createElement(a.a,Object.assign({theme:d},e)),p=e=>l.a.createElement(i.a,Object.assign({theme:d},e)),h=e=>l.a.createElement(s.a,Object.assign({theme:d},e)),b=e=>l.a.createElement(r.a,Object.assign({theme:d},e))},srCT:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ViewPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isKsrAdmin"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pinnedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publish"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"destroy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"read"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pin"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"120"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"authorRole"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isPublic"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isLiked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likesCount"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"timeLeftToEdit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nextPost"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"previousPost"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:616}};n.loc.source={body:"query ViewPost($id: ID!) {\n  me {\n    id\n    isKsrAdmin\n  }\n  post(id: $id) {\n    id\n    type\n    title\n    publishedAt\n    pinnedAt\n    number\n    actions {\n      publish\n      destroy\n      update\n      read\n      edit\n      pin\n    }\n    author {\n      name\n      imageUrl(width: 120)\n    }\n    authorRole\n    project {\n      state\n    }\n    isPublic\n    isLiked\n    likesCount\n    ... on CreatorInterview {\n      commentsCount(withReplies: true)\n    }\n    ... on FreeformPost {\n      commentsCount(withReplies: true)\n    }\n    timeLeftToEdit\n    nextPost {\n      id\n    }\n    previousPost {\n      id\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.ViewPost=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"ViewPost")},t1f3:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("94td"),i=n("q1tI");const r=e=>{let t=e.name,n=e.atoms,r=e.width;const o=(e=>{switch(e){case"book":return{url:"https://ksr-static.imgix.net/neijqbvs-open.png?ixlib=rb-2.1.0&auto=compress%2Cformat&w=1000&fit=min&s=5827719540e6d5aa0f4f2e7412fe6a86",altText:Object(a.b)("illustrations.A_book")};case"blue-stairs":return{url:"https://ksr-static.imgix.net/FINAL_KSR_10_BLUE-STAIRS_01.png?ixlib=rb-1.1.0&auto=compress&w=1000&fit=min&s=f48bab4809a7ae558f768f1d0f17b38e",altText:Object(a.b)("illustrations.Blue_stairs")};case"camera":return{url:"https://ksr-static.imgix.net/fzezqniu-camera.png?ixlib=rb-2.1.0&auto=compress%2Cformat&w=1000&fit=min&s=8b520c322b6438b4fcff9ca77615c02e",altText:Object(a.b)("illustrations.A_camera")};case"coral-cube":return{url:"https://ksr-static.imgix.net/FINAL_KSR_10_CORAL-CUBE_01.png?ixlib=rb-1.1.0&auto=compress&w=1000&fit=min&s=ff76fadeacdfdc77476b4571aab17dd9",altText:Object(a.b)("illustrations.A_coral_colored_cube")};case"coral-hollow-cylinder":return{url:"https://ksr-static.imgix.net/FINAL_KSR_10_CORAL-TUBE_01.png?ixlib=rb-1.1.0&auto=compress&w=1000&fit=min&s=b9d06ac1f74686b326d06511ef47ee81",altText:Object(a.b)("illustrations.A_coral_colored_cylinder")};case"coral-sphere":return{url:"https://ksr-static.imgix.net/FINAL_KSR_10_CORAL-SPHERE_01.png?ixlib=rb-1.1.0&auto=compress&w=1000&fit=min&s=6dd141b981c74b33b0ebd88a0cbc76b7",altText:Object(a.b)("illustrations.A_coral_colored_sphere")};case"film-roll":return{url:"https://ksr-static.imgix.net/h0mqnt9o-film_reel.png?ixlib=rb-2.1.0&auto=compress%2Cformat&w=1000&fit=min&s=9369934c88335f212ae4d4e32bacbfd5",altText:Object(a.b)("illustrations.A_film_roll")};case"film-slate":return{url:"https://ksr-static.imgix.net/fjxhzezi-film_slate.png?ixlib=rb-2.1.0&auto=compress%2Cformat&w=1000&fit=min&s=79857cd93546f82da49d66e2632ba64a",altText:Object(a.b)("illustrations.A_film_slate")};case"geometric-shape":return{url:"https://ksr-static.imgix.net/llmd9vvt-geometric_shape.png?ixlib=rb-2.1.0&auto=compress%2Cformat&w=1000&fit=min&s=09f81c072ca414bdd544fa43794b6af0",altText:Object(a.b)("illustrations.A_geometric_shape")};case"paintbrush":return{url:"https://ksr-static.imgix.net/k7mir4uc-paintbrush.png?ixlib=rb-2.1.0&auto=compress%2Cformat&w=1000&fit=min&s=6dd72d713fe7f11b5ffd8ed5218e2dad",altText:Object(a.b)("illustrations.A_paintbrush")};case"teeth-chattering":return{url:"https://ksr-static.imgix.net/FINAL_KSR_10_CHATTERING_TEETH_02.png?ixlib=rb-1.1.0&auto=compress&w=1000&fit=min&s=92fe42183b82b169d1453bb94ac300ba",altText:Object(a.b)("illustrations.Teeth_chattering")};case"yellow-disc":return{url:"https://ksr-static.imgix.net/FINAL_KSR_10_YELLOW-DISC_01.png?ixlib=rb-1.1.0&auto=compress&w=1000&fit=min&s=39dcbd5cac8d508b0646822b20ab6677",altText:Object(a.b)("illustrations.A_yellow_colored_disc")};case"yellow-stairs":return{url:"https://ksr-static.imgix.net/lt35ik9d-Stairs_8.png?ixlib=rb-2.1.0&s=1e3f1c7713730b0ab2dc527225711d18",altText:Object(a.b)("illustrations.A_yellow_colored_staircase")};default:return{url:"",altText:""}}})(t);return i.createElement("img",{className:n&&n.join(" "),src:o.url,alt:o.altText,width:r})}},t2dP:function(e,t){e.exports=function(e,t){for(var n=e.length,a=0;n--;)e[n]===t&&++a;return a}},t8gO:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostsFeed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isKsrAdmin"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canUserRequestUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timeline"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Project"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"goal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pledged"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"backersCount"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pinnedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"read"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pin"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"120"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"authorRole"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPublic"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likesCount"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"answers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"question"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nativeImages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1645}};n.loc.source={body:"query PostsFeed($projectSlug: String!, $cursor: String) {\n  me {\n    id\n    isKsrAdmin\n  }\n  project(slug: $projectSlug) {\n    id\n    slug\n    state\n    canUserRequestUpdate\n    timeline(first: 10, after: $cursor) {\n      totalCount\n      pageInfo {\n        hasNextPage\n        endCursor\n      }\n      edges {\n        node {\n          type\n          timestamp\n          data {\n            ... on Project {\n              goal {\n                currency\n                amount\n              }\n              pledged {\n                currency\n                amount\n              }\n              backersCount\n            }\n            ... on Postable {\n              id\n              type\n              title\n              publishedAt\n              pinnedAt\n              number\n              actions {\n                read\n                pin\n              }\n              author {\n                name\n                imageUrl(width: 120)\n              }\n              authorRole\n              isPublic\n              likesCount\n              ... on CreatorInterview {\n                commentsCount(withReplies: true)\n                answers {\n                  nodes {\n                    id\n                    body\n                    question {\n                      id\n                      body\n                    }\n                  }\n                }\n              }\n              ... on FreeformPost {\n                commentsCount(withReplies: true)\n                body\n                nativeImages {\n                  id\n                  url\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.PostsFeed=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"PostsFeed")},tr1H:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a={PROCOMM:"procomm",SYSINT:"sysint",POST_UPDATES:"post_updates",REWARDS_FULFILLMENT:"rewards_fulfillment"}},ttrC:function(e,t,n){var a=n("iGAk"),i=n("wuTn"),r=Array.prototype.push;function o(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function c(e,t){return function(){var n=arguments.length;if(n){for(var a=Array(n);n--;)a[n]=arguments[n];var i=a[0]=t.apply(void 0,a);return e.apply(void 0,a),i}}}e.exports=function e(t,n,l,d){var u="function"==typeof n,m=n===Object(n);if(m&&(d=l,l=n,n=void 0),null==l)throw new TypeError;d||(d={});var p={cap:!("cap"in d)||d.cap,curry:!("curry"in d)||d.curry,fixed:!("fixed"in d)||d.fixed,immutable:!("immutable"in d)||d.immutable,rearg:!("rearg"in d)||d.rearg},h=u?l:i,b="curry"in d&&d.curry,f="fixed"in d&&d.fixed,g="rearg"in d&&d.rearg,v=u?l.runInContext():void 0,k=u?l:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},y=k.ary,E=k.assign,_=k.clone,O=k.curry,j=k.forEach,S=k.isArray,w=k.isError,N=k.isFunction,C=k.isWeakMap,I=k.keys,T=k.rearg,D=k.toInteger,P=k.toPath,x=I(a.aryMethod),A={castArray:function(e){return function(){var t=arguments[0];return S(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],a=e(t,n),i=a.length;return p.cap&&"number"==typeof n?(n=n>2?n-2:1,i&&i<=n?a:o(a,n)):a}},mixin:function(e){return function(t){var n=this;if(!N(n))return e(n,Object(t));var a=[];return j(I(t),function(e){N(t[e])&&a.push([e,n.prototype[e]])}),e(n,Object(t)),j(a,function(e){var t=e[1];N(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]}),n}},nthArg:function(e){return function(t){var n=t<0?1:D(t)+1;return O(e(t),n)}},rearg:function(e){return function(t,n){var a=n?n.length:0;return O(e(t,n),a)}},runInContext:function(n){return function(a){return e(t,n(a),d)}}};function F(e,t){if(p.cap){var n=a.iterateeRearg[e];if(n)return function(e,t){return B(e,function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(T(o(e,n),t),n)})}(t,n);var i=!u&&a.iterateeAry[e];if(i)return function(e,t){return B(e,function(e){return"function"==typeof e?o(e,t):e})}(t,i)}return t}function R(e,t,n){if(p.fixed&&(f||!a.skipFixed[e])){var i=a.methodSpread[e],o=i&&i.start;return void 0===o?y(t,n):function(e,t){return function(){for(var n=arguments.length,a=n-1,i=Array(n);n--;)i[n]=arguments[n];var o=i[t],s=i.slice(0,t);return o&&r.apply(s,o),t!=a&&r.apply(s,i.slice(t+1)),e.apply(this,s)}}(t,o)}return t}function M(e,t,n){return p.rearg&&n>1&&(g||!a.skipRearg[e])?T(t,a.methodRearg[e]||a.aryRearg[n]):t}function L(e,t){for(var n=-1,a=(t=P(t)).length,i=a-1,r=_(Object(e)),o=r;null!=o&&++n<a;){var s=t[n],c=o[s];null==c||N(c)||w(c)||C(c)||(o[s]=_(n==i?c:Object(c))),o=o[s]}return r}function U(t,n){var i=a.aliasToReal[t]||t,r=a.remap[i]||i,o=d;return function(t){var a=u?v:k,s=u?v[r]:n,c=E(E({},o),t);return e(a,i,s,c)}}function B(e,t){return function(){var n=arguments.length;if(!n)return e();for(var a=Array(n);n--;)a[n]=arguments[n];var i=p.rearg?0:n-1;return a[i]=t(a[i]),e.apply(void 0,a)}}function V(e,t,n){var i,r=a.aliasToReal[e]||e,o=t,l=A[r];return l?o=l(t):p.immutable&&(a.mutate.array[r]?o=c(t,s):a.mutate.object[r]?o=c(t,function(e){return function(t){return e({},t)}}(t)):a.mutate.set[r]&&(o=c(t,L))),j(x,function(e){return j(a.aryMethod[e],function(t){if(r==t){var n=a.methodSpread[r],s=n&&n.afterRearg;return i=s?R(r,M(r,o,e),e):M(r,R(r,o,e),e),i=function(e,t,n){return b||p.curry&&n>1?O(t,n):t}(0,i=F(r,i),e),!1}}),!i}),i||(i=o),i==t&&(i=b?O(i,1):function(){return t.apply(this,arguments)}),i.convert=U(r,t),i.placeholder=t.placeholder=n,i}if(!m)return V(n,l,h);var Y=l,q=[];return j(x,function(e){j(a.aryMethod[e],function(e){var t=Y[a.remap[e]||e];t&&q.push([e,V(e,t,Y)])})}),j(I(Y),function(e){var t=Y[e];if("function"==typeof t){for(var n=q.length;n--;)if(q[n][0]==e)return;t.convert=U(e,t),q.push([e,t])}}),j(q,function(e){Y[e[0]]=e[1]}),Y.convert=function(e){return Y.runInContext.convert(e)(void 0)},Y.placeholder=Y,j(I(Y),function(e){j(a.realToAlias[e]||[],function(t){Y[t]=Y[e]})}),Y}},uBBe:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n("DjBF"),i=n("lHf8"),r=n("2DJ9"),o=n("mv45"),s=n("94td"),c=n("q1tI"),l=n.n(c),d=n("wdXr"),u=n("2UXI"),m=n("5j0V");const p=Object(o.j)(m.a,e=>{const t=e.ownProps,n=t.projectId,a=t.className,i=t.location;return{className:a,makeRequest:()=>e.mutate({variables:{projectId:n,location:i}}),location:i}})(e=>{let t=e.makeRequest,n=e.className,o=void 0===n?"":n,m=e.location;const p=Object(c.useState)(!1),h=Object(a.a)(p,2),b=h[0],f=h[1],g=Object(c.useState)(!1),v=Object(a.a)(g,2),k=v[0],y=v[1],E=Object(d.a)({rootMargin:"0%"}),_=E.targetRef,O=E.didIntersect;Object(c.useEffect)(()=>{O&&Object(u.d)("Viewed Request Update",{context:m})},[O]);return k?null:l.a.createElement("div",{"data-test-id":"project-update-request-form",className:"p2 bg-trust-100 trust-700 type-16 flex justify-between items-center ".concat(o)},b?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{"data-test-id":"project-update-request-success-message"},l.a.createElement(r.a,{name:"icon--check",size:"20",atoms:["fill-trust-700","mr2"]}),Object(s.b)("project_page.project_update_request.Thanks_we_will_request")),l.a.createElement("div",{className:"flex justify-end"},l.a.createElement(i.a,{"data-test-id":"project-update-request-dismiss",atoms:["mx3","text-underline","type-16"],color:"trust-blue",onClick:()=>y(!0)},Object(s.b)("project_page.project_update_request.Ok")))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"mr2 flex2",ref:_},Object(s.b)("project_page.project_update_request.Would_you_like_to_request")),l.a.createElement("div",{className:"flex justify-end flex1"},l.a.createElement(i.a,{"data-test-id":"project-update-request-submit",atoms:["mr4","text-underline","type-16"],color:"trust-blue",onClick:e=>{e.preventDefault(),t(),f(!0)}},Object(s.b)("project_page.project_update_request.Yes_request")),l.a.createElement(i.a,{"data-test-id":"project-update-request-no",atoms:["text-underline","type-16"],color:"trust-blue",onClick:()=>{Object(u.d)("Dismissed Request Update",{context:m}),y(!0)}},Object(s.b)("project_page.project_update_request.No_request")))))})},uM7l:function(e,t,n){var a=n("OBhP"),i=4;e.exports=function(e){return a(e,i)}},"uT+I":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("8Np1"),i=n("/IHD"),r=n("hPy8"),o=n("q1tI");const s=e=>o.createElement(r.c,null,t=>o.createElement(a.a,Object.assign({},e,{atoms:Object(i.b)(e.atoms,t.body.atoms),tag:"div"}),e.children))},udTa:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a=(e,t)=>(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return new Promise(n=>setTimeout(()=>n(t(...a)),e))})},ulEd:function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,a=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(a):[]}},v8vJ:function(e,t,n){var a=n("6T1N"),i=128;e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,a(e,i,void 0,void 0,void 0,void 0,t)}},v9JK:function(e,t,n){"use strict";var a=n("WSTq");n.d(t,"a",function(){return a.a});var i=n("nU83");n.d(t,"c",function(){return i.b}),n.d(t,"b",function(){return i.a})},vXqN:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("prSB"),i=n("q1tI"),r=n.n(i),o=n("RK67"),s=n("/MKj");class c extends r.a.Component{constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e,t){this.setState(()=>({hasError:!0})),this.props.onComponentError(e,t,this.props.tags)}render(){return this.state.hasError?this.props.fallbackRender?this.props.fallbackRender():r.a.createElement("div",null):this.props.children}}const l=e=>t=>{const n=Object(a.a)({},e,{},t);return r.a.createElement(c,n)};t.b=Object(s.c)(null,e=>({onComponentError:(t,n,a)=>e(Object(o.c)(t,n,a))}))(c)},vtU4:function(e,t,n){"use strict";n.d(t,"b",function(){return r});var a=n("8ZZx");n.d(t,"a",function(){return a.a});const i="/projects/:projectCreator/:projectSlug/posts",r={POSTS_FEED:{path:i,url:(e,t)=>"/projects/".concat(e,"/").concat(t,"/posts")},PROJECT_PAGE:{path:"/projects/:projectCreator/:projectSlug/",url:(e,t)=>"/projects/".concat(e,"/").concat(t)},VIEW_POST:{path:"".concat(i,"/:postId"),url:(e,t,n)=>"/projects/".concat(e,"/").concat(t,"/posts/").concat(n)},POST_COMMENTS:{path:"".concat(i,"/:postId/comments"),url:(e,t,n)=>"/projects/".concat(e,"/").concat(t,"/posts/").concat(n,"/comments")},PREVIEW_POST:{path:"".concat(i,"/:postId/preview"),url:(e,t,n)=>"/projects/".concat(e,"/").concat(t,"/posts/").concat(n,"/preview")},NEW_FREEFORM_POST:{path:"".concat(i,"/freeform/new"),url:(e,t)=>"/projects/".concat(e,"/").concat(t,"/posts/freeform/new")},EDIT_FREEFORM_POST:{path:"".concat(i,"/freeform/:postId/edit"),url:(e,t,n)=>"/projects/".concat(e,"/").concat(t,"/posts/freeform/").concat(n,"/edit")},NEW_CREATOR_INTERVIEW:{path:"".concat(i,"/interview/new"),url:(e,t)=>"/projects/".concat(e,"/").concat(t,"/posts/interview/new")},EDIT_CREATOR_INTERVIEW:{path:"".concat(i,"/interview/:postId/edit"),url:(e,t,n)=>"/projects/".concat(e,"/").concat(t,"/posts/interview/").concat(n,"/edit")},PROJECT_PLEDGE:{path:"/projects/:projectCreator/:projectSlug/pledge/new",url:(e,t)=>"/projects/".concat(e,"/").concat(t,"/pledge/new")},USER_PROFILE:{path:"/profile/:userSlug",url:e=>"/profile/".concat(e)}}},"w/TO":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l});var a=n("prSB"),i=n("cDWt");const r=e=>{const t=c(e());return t.isSuccess?{}:o(t.value)},o=e=>{const t=e.errors;return Object.keys(t).reduce((e,n)=>{const i=t[n];return Object(a.a)({},e,{[n]:i.value})},{})},s=e=>c(e()).isSuccess,c=e=>e.reduce((e,t)=>e.concat(t),Object(i.b)()),l=e=>t=>{let n=t.state,a=t.fields;const i=n.touched,r=n.errors,o=a.filter(e=>!(!i[e]||!r[e])).map(e=>r[e]).reduce((e,t)=>e.concat(t),[]).map(t=>e[t]||t);return o.length>0?o:null}},wdXr:function(e,t,n){"use strict";var a=n("prSB"),i=n("DjBF"),r=n("q1tI");const o=(e,t)=>{const n=Object.keys(t);for(const i of n){if(e[i]!==t[i])return Object(a.a)({},e,{},t)}return e},s=e=>Object(r.useReducer)(o,e);n.d(t,"a",function(){return c});const c=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Object(r.useRef)(null),o=s({isIntersecting:!1,didIntersect:!1}),c=Object(i.a)(o,2),l=c[0],d=c[1];return Object(r.useEffect)(()=>{const e=n.current;if(!(e instanceof Element))return;const a=new IntersectionObserver(e=>{let t=Object(i.a)(e,1)[0];t.isIntersecting?d({isIntersecting:t.isIntersecting,didIntersect:!0}):d({isIntersecting:t.isIntersecting})},t);return a.observe(e),()=>a.unobserve(e)},[n.current,t.rootMargin,null===(e=t.threshold)||void 0===e?void 0:e.join(",")]),Object(a.a)({targetRef:n},l)}},wpot:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var a=n("NmtT"),i=n.n(a),r=n("bgw5"),o=n.n(r),s=n("Us+F"),c=n.n(s),l=n("/S0t"),d=n.n(l),u=n("LKA2"),m=n.n(u);const p={de:o(),en:c(),es:d(),fr:m()},h=(e,t)=>((e,t,n)=>i()(t,n,{addSuffix:!0,locale:p[e]}))(window.I18n.locale,e,t)},wuTn:function(e,t){e.exports={}},xFI3:function(e,t,n){var a=n("Yoag"),i=n("6ae/"),r=n("Q1l4");e.exports=function(e){if(e instanceof a)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=r(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},xwT8:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("2DJ9"),i=n("q1tI"),r=n.n(i);const o=e=>{let t=e.disabled,n=void 0!==t&&t,i=e.label,o=e.on,s=void 0!==o&&o,c=e.onClick,l=e.small,d=void 0!==l&&l;const u=d?["ml2"]:["ml3"],m=d?["mr2"]:["mr3"],p=["flex items-center radius200px py0 px3px transition-all keyboard-focusable-black"].concat(n?["not-allowed o20p"]:[]).concat(s?["bg-ksr-green-400"]:["bg-grey-500"]).concat(d?["w6 h4"]:["w8 h5"]).join(" "),h=["bg-white radius100p inline-block shadow-2 transition-all flex items-center justify-center"].concat(s?u:m).concat(d?["w3 h3"]:["w4 h4"]).join(" "),b=s?"icon--check":"icon--cross",f=s?"fill-ksr-green-400":"fill-grey-500";return r.a.createElement("button",{"aria-checked":s,"aria-label":i,className:p,disabled:n,onClick:c,role:"checkbox"},r.a.createElement("div",{className:h},r.a.createElement(a.a,{atoms:[f],name:b,size:"16"})))}},y4QH:function(e,t){var n=Math.max;e.exports=function(e,t,a,i){for(var r=-1,o=e.length,s=a.length,c=-1,l=t.length,d=n(o-s,0),u=Array(l+d),m=!i;++c<l;)u[c]=t[c];for(;++r<s;)(m||r<o)&&(u[a[r]]=e[r]);for(;d--;)u[c++]=e[r++];return u}},ysdo:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var a=n("pTxv"),i=n("Wwun"),r=n("t1f3"),o=n("2DJ9"),s=n("EoiL"),c=n("T8n5"),l=n("UUNB"),d=n("SmhT"),u=n("/IHD"),m=n("q1tI"),p=n.n(m);const h=["fixed","t0","b0","l0","r0","z-modal-3","scroll-y","py12","px3","flex","pointer","bg-white_80"].join(" "),b=e=>{const t=e.onClose,n=e.headerIcon,b=e.headerText,f=e.bodyText,g=e.buttonText,v=e.bodyListItems,k=e.listItemArrowFillColor,y=void 0===k?"fill-make100-yellow":k,E=e.dialogBgColor,_=void 0===E?"bg-ksr10-blue":E;return Object(m.useEffect)(()=>(document.documentElement.classList.add("clip"),()=>{document.documentElement.classList.remove("clip")})),p.a.createElement(p.a.Fragment,null,Object(l.a)(d.d)&&t(),p.a.createElement("div",{className:h,onClick:t,role:"presentation"},p.a.createElement(i.a,{"aria-label":"Modal",className:"relative m-auto w100p",focusTrapOptions:{clickOutsideDeactivates:!0,fallbackFocus:!0}},p.a.createElement("div",{role:"dialog",onClick:e=>e.stopPropagation(),className:Object(u.a)("cursor-default relative z3 max-w75 white mx-auto p4 p6-md clip",_)},p.a.createElement("div",{className:"relative z1"},n,p.a.createElement(s.a,{level:3,type:"subhead-600",atoms:["mt4"]},b),p.a.createElement(c.a,{atoms:["mt4","mb5"]},f),v&&p.a.createElement("ul",{className:"mb10"},v.map((e,t)=>p.a.createElement("li",{key:t,className:"flex mb3 type-16"},p.a.createElement(o.a,{name:"icon--chevron-right",atoms:[y,"mx2"],size:"large"}),p.a.createElement("span",{className:"flex1"},e)))),p.a.createElement(a.d,{theme:"support",fullWidth:!0,onClick:t},g)),p.a.createElement(r.a,{name:"coral-cube",atoms:["absolute","b-18","l-6","pointer-events-none"],width:200}),p.a.createElement(r.a,{name:"coral-hollow-cylinder",atoms:["absolute","t-18","r-6","pointer-events-none"],width:200})))))}},"z+X6":function(e,t,n){"use strict";n.d(t,"a",function(){return o});n("prSB");var a=n("ANjH"),i=n("0fse");const r=e=>"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(e):a.compose,o=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Kickstarter",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return o=[Object(i.d)(),...o].filter(Boolean),Object(a.createStore)(e,t,r({name:n})(...o))}},z0kN:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});const a=e=>t=>"".concat(e).concat(t),i=e=>e.replace(/[^\w\-]+/g,"-").replace(/-{2,}/g,"-").replace(/^-|-$/g,"").toLowerCase()},zjD3:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return 0===e?t:e}},zm9w:function(e,t,n){"use strict";var a=n("prSB"),i=n("4Toj"),r=n.n(i),o=n("4LGs");const s={"'":"&#39;","`":"&#96;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};var c=e=>Object(o.a)(s,e),l=n("1OuE"),d=n("0VSk");const u=["de","es","fr","it"],m="undefined"!=typeof window?window.formatters:{};let p=Object(a.a)({},m,{is_right_adjusted_locale:function(e){return u.includes(e)},currency_symbol:function(e,t){let n="";return n="USD"==e&&t&&"international"==t.usd_type?"US"+this.currency_symbol_mappings[e]+" ":this.currency_symbol_mappings[e],t&&t.withoutSpace?n.trim():n},currency_symbol_mappings:{AUD:"AU$ ",CAD:"CA$ ",CHF:"CHF ",DKK:"DKK ",EUR:"€",GBP:"£",HKD:"HK$ ",JPY:"¥",MXN:"MX$ ",NOK:"NOK ",NZD:"NZ$ ",PLN:"PLN ",SEK:"SEK ",SGD:"S$ ",USD:"$"},money:function(e,t){return t=Object(a.a)({separator:d.default.t("number.currency.format.separator"),delimiter:d.default.t("number.currency.format.delimiter"),format:d.default.t("number.currency.format.format")},t),isNaN(t.precision)&&(t.precision=d.default.t("number.currency.format.precision")),"truncate_zeros"===t.type&&(t.precision=parseFloat(e)%1==0?0:2),this.interpolate(t.format,{n:this.format_number(e,t),u:this.currency_symbol(t.currency,t)})},shorter_money:function(e,t){return void 0===t&&(t={}),e<100?t.precision=2:(t.precision=0,e=Math.floor(e)),this.money(e,t)},percent:function(e,t){return t=Object(a.a)({delimiter:d.default.t("number.percentage.format.delimiter"),format:d.default.t("number.percentage.format.format")},t),this.interpolate(t.format,{n:this.format_number(e,t)})},format_number:function(e,t){var n,i,r;return t=Object(a.a)({separator:d.default.t("number.format.separator"),delimiter:d.default.t("number.format.delimiter")},t),isNaN(t.precision)?t.precision=d.default.t("number.format.precision"):t.precision=Math.abs(t.precision),n=t.precision||t.round?Math.abs(e).toFixed(t.precision):parseInt(Math.abs(e),10).toString(),r=(i=String(parseInt(n,10))).split("").reverse().join("").replace(/(\d{3})(?=\d)/g,"$1"+t.delimiter.split("").reverse().join("")).split("").reverse().join(""),e<0&&(r="-"+r),t.precision&&(r+=t.separator+Math.abs(n-i).toFixed(t.precision).slice(2)),r},interpolate:function(e,t){return e.replace(/\%([\w]+)/g,function(e,n){return t[n]||""})},pluralize:function(e,t){var n,a=e,i=["zombie","zombies","cow()","ki(i?)ne","move","moves","sex","sexes","child","children","man","men","person","people","database","databases","quiz","quizzes","matrix","matrices","(vert|ind)ex","(vert|ind)ices","(^ox)","(^ox)en","(alias|status)","(alias|status)es","(octop|vir)us","(octop|vir)i","(cris|ax|test)is","(cris|ax|test)es","shoe","shoes","o","oes","bus","buses","(m|l)ouse","(m|l)ice","(x|ch|ss|sh)","(x|ch|ss|sh)es","movie","movies","series","series","([^aeiouy]|qu)y","([^aeiouy]|qu)ies","([lr])f","([lr])ves","tive","tives","hive","hives","([^f])fe","([^f])ves","(analy|ba|diagno|parenthe|progno|synop|the)sis","(analy|ba|diagno|parenthe|progno|synop|the)ses","([ti])um","([ti])a","news","news","([^s])","()s"],r=i.map(e=>new RegExp(e+"$","i")),o=!1,s=0;function c(e,n){var a=i[s+(1===t?0:1)-s%2];return void 0!==n&&(a=a.replace(/\(.*\)/,n)),a}function l(e,t){return t.toUpperCase()}for(;!o&&s<i.length;)n=r[s+=1],e.match(n)&&(o=!0,a=e.replace(n,c),e.match(/^[A-Z][^A-Z]+$/)?a=a.replace(/^([a-z])/,l):e.match(/^[A-Z]+$/)&&(a=a.toUpperCase()));return a},capitalize:function(e){return"string"!=typeof e?"":e.replace(/^(\w)|\s(\w)/g,function(e){return e.toUpperCase()})},to_sentence:function(e,t){switch(t=Object(a.a)({words_connector:d.default.t("support.array.words_connector"),two_words_connector:d.default.t("support.array.two_words_connector"),last_word_connector:d.default.t("support.array.last_word_connector")},t),e.length){case 0:return"";case 1:return String(e[0]);case 2:return e[0]+t.two_words_connector+e[1];default:return e.slice(0,-1).join(t.words_connector)+t.last_word_connector+e[e.length-1]}},paragraphize:function(e){return(e=(e=(e=c(e)).replace(/\r\n?/g,"\n")).trim()).length>0&&(e="<p>"+(e=(e=e.replace(/\n{2,}/g,"</p><p>")).replace(/\n/g,"<br />"))+"</p>"),e},time_ago_in_words:function(e){if(!e)return"?";("number"==typeof e||"string"==typeof e&&e.match(/^\d+$/))&&(e=parseInt(1e3*e,10));const t=e,n=r()(Date.now(),e);void 0===p.distance_date_intervals&&(p.distance_date_intervals=[{min:5,i18n_key:"schwamm.just_now"},{min:29,i18n_key:"schwamm.less_than_a_minute_ago"},{min:2640,i18n_key:"schwamm.m_minutes_ago",count_key:"m"},{min:82800,i18n_key:"schwamm.about_h_hours_ago",count_key:"h"},{min:604800,i18n_key:"schwamm.d_days_ago",count_key:"d"},{min:15552e3,i18n_key:"schwamm.on_datetime",count_key:"t"},{min:0,i18n_key:"schwamm.on_year",count_key:"y"}]);const a=p.distance_date_intervals.sort((e,t)=>e.min-t.min),i=a[a.length-1],o=a.reduce((e,t)=>t.min>n&&e===i?t:e,i),s={m:Math.round(n/60),h:Math.round(n/3600),d:Math.round(n/86400),t:Object(l.a)("MMMM D",t),y:Object(l.a)("LL",t)},c=d.default.t(o.i18n_key,{count:s[o.count_key]});return c.match(/NaN|undefined/)?"":c}});"undefined"!=typeof window&&(window.formatters=p);t.a=p}},[[62,1,0]]]);