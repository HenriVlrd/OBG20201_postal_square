(window.KSR_webpackjsonp=window.KSR_webpackjsonp||[]).push([[105],{"+DSo":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return d}),n.d(e,"e",function(){return l});const i={zero:[0],one:[1],two:[2],few:[3],many:[],other:[]},a=/\{\{\{\s*(\w+)\s*\}\}\}/g,o=/\{\{\s*(\w+)\s*\}\}/g,r=(t,e)=>t.split(".").reduce(function(t,e){var n=typeof t;return"function"===n||"object"===n&&!!t?t[e]:t},e),s=(t,e)=>{let n,a;return"number"!=typeof(n="number"==typeof e?e:parseInt(e.count,10))||isNaN(n)||0===(a=Object.keys(i).filter(function(t){if(-1!==i[t].indexOf(n))return t})).length&&(a="other"),t[a]},c=t=>{const e=t.split(".");return e[e.length-1].replace(/_/g," ").replace(/(\w+)/g,t=>t.charAt(0).toUpperCase()+t.slice(1))},d=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.locale,a=t.defaultLocale,o=t.translations||{};let c=r(e,o[i])||n.default;return void 0===c&&(c=r(e,o[a])),"object"==typeof c&&(c=s(c,n)),c},l=t=>!!d(window.I18n,t)},"/AD1":function(t,e,n){"use strict";var i=n("60hy");const a=Object(i.b)(window.current_project);window.current_project=a,e.a=a},"/gmP":function(t,e,n){var i=n("+2Rf");n("+2Rf");!function(t){t.fn.term_form=function(){return this.each(function(){var e=t(this);e.find(".text").on("input keydown paste cut",function(){t.trim(t(this).val())?t("form.term .ss-delete").show():t("form.term .ss-delete").hide()}).trigger("input").on("blur",function(){e.submit()}),e.find(".ss-delete").on("click",function(){t("form.term .text").val("").trigger("input").focus(),e.submit()}),e.find(".text").on("focus",function(){t(this).addClass("focused")}),e.find(".text").on("blur",function(){var e=t(this);e.val()||e.removeClass("focused")})}),this}}(i)},"0VSk":function(t,e,n){"use strict";n.r(e);var i=n("XM0S");const a="undefined"!=typeof window?window.I18n=window.I18n||{}:{};let o=!1;try{o=1===parseInt(localStorage.getItem("i18n_debug"),10)}catch(t){}a.t=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object(i.a)({translations:a.translations,locale:a.locale,defaultLocale:a.default_locale,debug:o},...e)},e.default=a},"1OuE":function(t,e,n){"use strict";n.d(e,"c",function(){return j}),n.d(e,"a",function(){return x}),n.d(e,"b",function(){return S});var i=n("cPJV"),a=n.n(i),o=n("2hq0"),r=n("bgw5"),s=n.n(r),c=n("Us+F"),d=n.n(c),l=n("/S0t"),u=n.n(l),_=n("LKA2"),f=n.n(_),h=n("uAXs"),p=n.n(h),m=n("hmb4"),g=n.n(m),v=n("QPlQ"),b=n.n(v);const y={de:s(),en:d(),es:u(),fr:f(),ja:p(),it:g(),zh:b()},w={"MMM YYYY":{de:"MMM YYYY",en:"MMM YYYY",es:"MMM YYYY",fr:"MMM YYYY",it:"MMM YYYY",ja:"YYYY年 MMM",zh:"MMM YYYY"},LTS:{de:"HH:mm:ss",en:"h:mm:ss A",es:"H:mm:ss",fr:"HH:mm:ss",it:"HH:mm:ss",ja:"HH:mm:ss",zh:"h:mm:ss aa"},LT:{de:"HH:mm",en:"h:mm A",es:"H:mm",fr:"HH:mm",it:"HH:mm",ja:"HH:mm",zh:"h:mm aa"},L:{de:"DD.MM.YYYY",en:"MM/DD/YYYY",es:"DD/MM/YYYY",fr:"DD/MM/YYYY",it:"DD/MM/YYYY",ja:"YYYY/MM/DD",zh:"MM/DD/YYYY"},l:{de:"D.M.YYYY",en:"M/D/YYYY",es:"D/M/YYYY",fr:"D/M/YYYY",it:"D/M/YYYY",ja:"YYYY/MM/DD",zh:"MM/DD/YYYY"},"l LT":{de:"D.M.YYYY HH:mm",en:"M/D/YYYY h:mm A",es:"D/M/YYYY HH:mm",fr:"D/M/YYYY HH:mm",it:"D/M/YYYY HH:mm",ja:"YYYY/MM/DD HH:mm",zh:"MM/DD/YYYY h:mm aa"},LL:{de:"D. MMMM YYYY",en:"MMMM D, YYYY",es:"D [de] MMMM [de] YYYY",fr:"D MMMM YYYY",it:"D MMMM YYYY",ja:"YYYY年M月D日",zh:"MMMM D YYYY"},ll:{de:"D. MMM YYYY",en:"MMM D YYYY",es:"D [de] MMM [de] YYYY",fr:"D MMM YYYY",it:"D MMM YYYY",ja:"YYYY年M月D日",zh:"MMM D YYYY"},LLL:{de:"D. MMMM YYYY HH:mm",en:"MMMM D, YYYY h:mm A",es:"D [de] MMMM [de] YYYY H:mm",fr:"D MMMM YYYY HH:mm",it:"D MMMM YYYY HH:mm",ja:"YYYY年M月D日 のHH:mm",zh:"MMMM D YYYY h:mm aa"},lll:{de:"D. MMM YYYY HH:mm",en:"MMM D, YYYY h:mm A",es:"D [de] MMM [de] YYYY H:mm",fr:"D MMM YYYY HH:mm",it:"D MMM YYYY HH:mm",ja:"YYYY年M月D日 のHH:mm",zh:"MMM D, YYYY h:mm A"},LLLL:{de:"dddd, D. MMMM YYYY HH:mm",en:"dddd, MMMM D YYYY h:mm A",es:"dddd, D [de] MMMM [de] YYYY H:mm",fr:"dddd D MMMM YYYY HH:mm",it:"dddd D MMMM YYYY HH:mm",ja:"YYYY年M月D日 (dddd) のHH:mm",zh:"dddd, MMMM D YYYY h:mm aa"},llll:{de:"ddd, D. MMMM YYYY HH:mm",en:"ddd, MMMM D YYYY h:mm A",es:"ddd, D [de] MMMM [de] YYYY H:mm",fr:"ddd D MMMM YYYY HH:mm",it:"ddd D MMMM YYYY HH:mm",ja:"YYYY年M月D日 (ddd) のHH:mm",zh:"ddd, MMMM D YYYY h:mm A"}},k=Object.keys(w).map(t=>"".concat(t," z")),j=(t,e,n)=>((t,e,n)=>{if(k.indexOf(e)>=0){const i=w[e.replace(/ z$/,"")][t],r=a()(n,i,{locale:y[t]});return"".concat(r," ").concat(Object(o.a)(n))}return a()(n,e,{locale:y[t]})})(t,((t,e)=>Object.keys(w).indexOf(e)>=0?w[e][t]:e)(t,e),n),x=(t,e)=>j(window.I18n.locale||window.I18n.default_locale,t,e),S=(t,e)=>{return x(t,1e3*e)}},"2UXI":function(t,e,n){"use strict";var i=n("prSB"),a=n("+2Rf"),o=n.n(a),r=n("S1QU"),s=n("CjI4"),c=n("/AD1"),d=n("WjF9"),l=n("0VSk");const u=window.device_attributes||{},_=()=>u.browserName,f=()=>u.browserVersion,h=()=>u.deviceName,p=()=>u.isBot,m=()=>u.osName,g=()=>u.osVersion;var v=n("aNAf");"true"===n("ZCIj").b.getItem("koala_debug")&&(window.koala_debug=!0);const b=t=>{const e=t.split("/");return e.length>=3?e[2]:""},y=()=>{const t=navigator.userAgent,e={is_ua_bot:p()},n=(t=>Object.keys(t).reduce((e,n)=>{const a=t[n];return"string"==typeof a&&0!=a.length?Object(i.a)({},e,{[n]:a}):e},{}))({$os:m(),os_version:g(),$browser:_(),browser_version:f(),$referrer:document.referrer,$referring_domain:b(document.referrer),$device:h(),user_agent:t}),a={$screen_height:screen.height,$screen_width:screen.width};return Object(i.a)({},n,{},a,{},e)},w=(t,e)=>{const n={event:t,properties:Object(i.a)({},y(),{},{distinct_id:Object(v.a)()},{},e)},a=JSON.stringify(n);return window.koala_debug&&(window.console.log("KOALA REQUEST:"),window.console.log(n)),o.a.ajax({type:"POST",url:window.koala_endpoint,data:a,contentType:"text/plain; charset=UTF-8"})};var k=w,j=(t,e,n)=>{o()(t).click(function(t){const i=this.href,a=2===t.which||t.metaKey||t.ctrlKey||"_blank"===this.target;let o;o="function"==typeof n?n(this):n;const r=new Promise(function(t){window.setTimeout(t,300),w(e,o).then(t)});a||(r.then(function(){window.location=i}),t.preventDefault())})},x=n("MgNI"),S=n("o3IG"),M=n("yQm5"),Y=n.n(M),$=n("c6/r");n.d(e,"a",function(){return z}),n.d(e,"c",function(){return I}),n.d(e,"d",function(){return P}),n.d(e,"e",function(){return L}),n.d(e,"b",function(){return F});const O=t=>1e3*t.valueOf(),T=t=>t/36e5,C=t=>T(t)/24,D=t=>{if(t&&"function"==typeof t.get){const e=Object(S.b)("ref_"+t.get("id"));if(e)return Object($.a)(e).split("?")[0]}return!1},R=x.maybe.fromNullable(Object(S.b)("user_analytics_properties")).map(JSON.parse).getOrElse({}),N=t=>{let e=t.user,n=t.referrerCredit,a=t.ip,r=t.ipDatacenter,s=t.iosAppUUID,c=t.enabledFeatures,d=t.windowAndScreenData;return Object(i.a)({},d,{referrer_credit:n,client_type:o()("body.native-app-request").length?"native":"web",client_platform:o()("body.ios").length?"ios":o()("body.android").length?"android":void 0,device_format:o()("body.phone").length?"phone":o()("body.tablet").length?"tablet":"desktop",apple_pay_capable:o()("body.apple-pay-capable").length>0,android_pay_capable:o()("body.android-pay-capable").length>0,ip_address:a||null,ip_datacenter:r||null,user_logged_in:void 0!==e,user_chosen_currency:e?e.data.chosen_currency:null,user_uid:e&&"function"==typeof e.get?e.get("id"):null,iphone_uuid:s||void 0,enabled_features:Object.keys(c||{}),browser_language:l.default.browser_language,chosen_language:l.default.chosen_language,calculated_language:l.default.calculated_language,display_language:l.default.display_language},R,{mp_lib:"js"})},A=()=>({window_inner_width:window.innerWidth,window_inner_height:window.innerHeight,screen_width:screen.width,screen_height:screen.height,screen_avail_width:screen.availWidth,screen_avail_height:screen.availHeight}),I=(t,e)=>e?Object.keys(e).reduce((n,a)=>Object(i.a)({},n,{["".concat(t,"_").concat(a)]:e[a]}),{}):{},E=t=>{let e=t.user,n=t.project,a=t.currentTime,o=void 0===a?new Date:a;if(!n||"string"==typeof n)return{};const r="function"==typeof n.get?n.get():n,s=x.maybe.fromNullable(r.deadline).map(O).getOrElse(void 0),c=T(s-o)>0?T(s-o):0,d=r.pledged/r.goal,l={backers_count:r.backers_count,country:r.country,currency:r.currency,deadline:r.deadline,goal:r.goal,last_update_published_at:r.last_update_published_at,launched_at:r.launched_at,name:r.name,pid:r.id,pledged:r.pledged,profile_state:r.profile.state,state:r.state,updates_count:r.updates_count,hours_remaining:c,percent_raised:d,has_video:null!==r.video,duration:C(x.maybe.fromNullable(r.launched_at).map(O).getOrElse(0)-x.maybe.fromNullable(r.launched_at).map(O).getOrElse(0)),rewards_count:r.rewards?r.rewards.count:void 0,location:r.location?r.location.name:void 0,category_name:r.category?r.category.name:void 0,parent_category:x.maybe.fromNullable(r.category).map(t=>t.parent?t.parent.name:t.name).getOrElse(void 0)},u=I("project",l),_={user_is_backer:r.is_backing,user_has_starred:r.is_starred,user_is_project_creator:e&&"function"==typeof e.get&&e.get("id")===r.creator.id},f={display_currency:r.current_currency,display_exchange_rate:r.fx_rate};return Object(i.a)({},u,{},_,{},f)},H=t=>{if(!t||"string"==typeof t||"function"==typeof t.get&&(!t.get("amount")||!t.get("reward")))return{};const e="function"==typeof t.get?t.get():t,n={amount:e.amount,shipping_amount:e.shipping_amount,location_id:e.location_id},a=e.reward,o=a.estimated_delivery_on,r=a.id,s=a.minimum,c=a.reward,d=a.shipping_preference,l=a.shipping_enabled,u=I("reward",{estimated_delivery_on:o,id:r,minimum:s,reward:c,shipping_preference:d,shipping_enabled:l}),_=Object(i.a)({},n,{},u);return I("checkout",_)},z=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=o()("body").attr("id"),n=Y()().query(!0).ref,a=document.URL,l=d.a||window.current_user,u=r.a,_=s.a,f=window.current_ip,h=window.current_ip_datacenter,p=window.ios_app_uuid,m=window.enabled_features,g=t.withoutCurrentProject?null:c.a,v=window.current_variants&&"string"!=typeof window.current_variants?{current_variants:window.current_variants}:{},b=D(g);return Object(i.a)({page_id:e,ref_tag:n,landing_page_url:a},E({user:l,project:g,currentTime:t.currentTime}),{},H(u),{},v,{},N({user:l,location:_,referrerCredit:b,ip:f,ipDatacenter:h,iosAppUUID:p,enabledFeatures:m,windowAndScreenData:A()}))},P=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=Object(i.a)({},z(n),{},e);k(t,a)},L=function(t,e,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=d.a,l=a.withoutCurrentProject?null:c.a,u=s.a,_=window.current_ip,f=window.current_ip_datacenter,h=window.ios_app_uuid,p=window.enabled_features,m=D(l);window.setTimeout(function(){j(t,e,function(t){let e=o()(t);return Object(i.a)({selected_link:e.attr("data-original_text")?e.data("original_text"):o.a.trim(e.text()),page_id:o()("body").attr("id")},E({user:r,project:l}),{},N({user:r,location:u,referrerCredit:m,ip:_,ipDatacenter:f,iosAppUUID:h,enabledFeatures:p,windowAndScreenData:A()}),{},n)})},1)},F=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Promise(t=>{setTimeout(()=>{P(...e),t()},300)})};window&&(window.track=P)},"2hq0":function(t,e,n){"use strict";var i=n("cPJV"),a=n.n(i),o=n("OBTA"),r=n.n(o),s=n("fupu"),c=n.n(s);const d=t=>parseInt(a()(t,"ZZ"),10);n.d(e,"a",function(){return _});const l={"+02:00T":"CEST","+01:00F":"CET","+01:00T":"BST","-00:00F":"GMT","-03:00T":"ADT","-04:00F":"AST","-04:00T":"EDT","-05:00F":"EST","-05:00T":"CDT","-06:00F":"CST","-06:00T":"MDT","-07:00F":"MST","-07:00T":"PDT","-08:00F":"PST","-08:00T":"AKDT","-09:00F":"AKST","-09:00T":"HADT","-10:00F":"HAST","+11:00T":"AEDT","+10:00F":"AEST","+10:30T":"ACDT","+09:30F":"ACST","+09:00T":"AWDT","+08:00F":"AWST"},u=t=>{const e=a()(t,"Z")+(function(t){if(!c()(new Date(t)))throw"input is invalid";const e=d(t),n=d(r()(new Date(t),0)),i=d(r()(new Date(t),5));return e>n||e>i}(t)?"T":"F");if(void 0!==l[e])return l[e]},_=t=>(t=>{const e=t.toString().match(/\(([a-z]{3,4})\)/i);if(e)return e[1].toUpperCase()})(t)||u(t)||a()(t,"UTC Z")},"2sRD":function(t,e,n){"use strict";n("Mk9X");var i=n("KKf6"),a=n("0VSk"),o=n("2hq0");n("+2Rf");!function(t){function e(e,n){this.$div=e,this.options=t.extend({previous_month_text:"< Prev",next_month_text:"Next >",month_texts:[a.default.t("library.calendar_date_picker.January"),a.default.t("library.calendar_date_picker.February"),a.default.t("library.calendar_date_picker.March"),a.default.t("library.calendar_date_picker.April"),a.default.t("library.calendar_date_picker.May"),a.default.t("library.calendar_date_picker.June"),a.default.t("library.calendar_date_picker.July"),a.default.t("library.calendar_date_picker.August"),a.default.t("library.calendar_date_picker.September"),a.default.t("library.calendar_date_picker.October"),a.default.t("library.calendar_date_picker.November"),a.default.t("library.calendar_date_picker.December")],day_of_week_texts:[a.default.t("library.calendar_date_picker.Sunday_short"),a.default.t("library.calendar_date_picker.Monday_short"),a.default.t("library.calendar_date_picker.Tuesday_short"),a.default.t("library.calendar_date_picker.Wednesday_short"),a.default.t("library.calendar_date_picker.Thursday_short"),a.default.t("library.calendar_date_picker.Friday_short"),a.default.t("library.calendar_date_picker.Saturday_short")]},n),this._extract_options(),this._attach(),this._redraw()}var n;function r(t){return n?n.firstChild.nodeValue=t:(n=document.createElement("div")).appendChild(document.createTextNode(t)),n.innerHTML}t.fn.calendar_date_picker=function(n){return this.each(function(){var i=new e(t(this),n);t(this).data("calendar_date_picker",i)})},t.extend(e.prototype,{_copy_date:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},_copy_date_with_time:function(t,e){if(!t)return t;var n=this._copy_date(t),i=(e||"").split(":");return n.setHours(+i[0]||0),n.setMinutes(+i[1]||0),n},_copy_time:function(t){if(!t)return null;var e=""+t.getHours();1===e.length&&(e="0"+e);var n=""+t.getMinutes();return 1===n.length&&(n="0"+n),e+":"+n},_copy_month:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},_next_year:function(t){return new Date(t.getFullYear()+1,t.getMonth(),1)},_previous_year:function(t){return new Date(t.getFullYear()-1,t.getMonth(),1)},_next_month:function(t){return new Date(t.getFullYear(),t.getMonth()+1,1)},_previous_month:function(t){return new Date(t.getFullYear(),t.getMonth()-1,1)},_next_date:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+1,t.getHours(),t.getMinutes())},_previous_date:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()-1,t.getHours(),t.getMinutes())},_same_year:function(t,e){return t.getFullYear()===e.getFullYear()},_same_month:function(t,e){return this._same_year(t,e)&&t.getMonth()===e.getMonth()},_last_date_of_month:function(t){return new Date(t.getFullYear(),t.getMonth()+1,0)},_selected_date_date_in_focus_month:function(){return this.selected_date&&this._same_month(this.selected_date,this.focus_date)?this.selected_date.getDate():void 0},_extract_options:function(){this.today_date=this._copy_date(this.options.today_date||new Date),this.options.selected_date&&(this.selected_date=this._copy_date(this.options.selected_date)),this.focus_date=this._copy_month(this.options.focus_date||this.selected_date||this.today_date),this.time=!!this._does_datetime()&&this._copy_time(this.options.selected_date||this.options.today_date||new Date)},_refresh_calendar_table_classes:function(t){var e=this._selected_date_date_in_focus_month(),n=t.children("tbody"),i=n.find("a.selected");i.removeClass("selected"),i.parent().removeClass("selected");var a=n.find("a:eq("+(e-1)+")");a.addClass("selected"),a.parent().addClass("selected")},_attach:function(){var t=this;this.$div.bind("calendar_date_picker:select_date",function(e,n){t.select_date(n)})},_bind_dom_table_events:function(){var e=this,n=this.$div.children().children("table"),a=n.children(":eq(0)").children().children(),o=a.children("a.previous_month");o.text(this.options.previous_month_text),o.click(function(t){t.preventDefault(),e._on_previous_month_clicked()});var r=a.children("a.next_month");r.text(this.options.next_month_text),r.click(function(t){t.preventDefault(),e._on_next_month_clicked()}),a.children("a.previous_year").click(function(t){t.preventDefault(),e._on_previous_year_clicked()}),a.children("a.next_year").click(function(t){t.preventDefault(),e._on_next_year_clicked()}),a.children(".month, .year").on("click",function(){e.focus_date=new Date,e._refresh_calendar()}),n.children("tbody").click(function(n){var a;a=i.a.msie?n.srcElement:n.target;var o=t(a);if(o[0]&&"A"===o[0].nodeName){n.preventDefault();var r=e._copy_date_with_time(e.focus_date,e.time);r.setDate(+o.text());var s=e._copy_date_with_time(e.selected_date,e.time);e.options.allow_deselect&&s&&r-s==0?e.select_date(void 0):e.select_date(r)}})},_bind_dom_time_events:function(){if(this._does_datetime()){var t=this,e=this.$div.children().children("div.time").find("input");e.time_field(this.options.time),e.trigger("time_field:set_time",this.time),e.bind("time_field:time_changed",function(e,n){t.selected_date||(t.selected_date=new Date);var i=t._copy_date_with_time(t.selected_date,n);t.select_date(i)})}},_does_datetime:function(){return void 0!==this.options.time_text},_on_previous_year_clicked:function(){this.focus_date=this._previous_year(this.focus_date),this._refresh_calendar()},_on_next_year_clicked:function(){this.focus_date=this._next_year(this.focus_date),this._refresh_calendar()},_on_previous_month_clicked:function(){this.focus_date=this._previous_month(this.focus_date),this._refresh_calendar()},_on_next_month_clicked:function(){this.focus_date=this._next_month(this.focus_date),this._refresh_calendar()},_redraw:function(){this.$div.empty(),this.$div.append('<div class="calendar_date_picker">'+this._table_html()+this._time_div_html()+"</div>"),this._bind_dom_table_events(),this._bind_dom_time_events()},_refresh_calendar:function(){this.$div.children().children("table").replaceWith(this._table_html()),this._bind_dom_table_events()},select_date:function(t,e){var n=t?this._copy_date(t):void 0,i=e||(t?this._copy_time(t):void 0);(this.selected_date?this.selected_date.valueOf():void 0)===(n?n.valueOf():void 0)&&i===this.time||(this.selected_date=n,this._does_datetime()&&(this.time=i,i&&this.$div.find("input").trigger("time_field:set_time",i)),this.$div.trigger("calendar_date_picker:date_selected",[this._copy_date_with_time(this.selected_date,this.time)]),this.focus_date=this._copy_month(this.selected_date||this.today_date),this._refresh_calendar(),this._refresh_calendar_table_classes(this.$div.find("table")))},_table_html:function(){return"<table>"+this._thead_month_year_html()+this._thead_days_of_week_html()+this._tbody_html()+"</table>"},_thead_month_year_html:function(){return'\n        <thead class="month maison-book">\n          <tr>\n            <th><a class="previous_month white ss-icon ss-navigateleft" href="#" /></th>\n            <th colspan="5"><span class="month">\n              '.concat(r(this.options.month_texts[this.focus_date.getMonth()]),'\n              </span></th>\n            <th><a class="next_month white ss-icon ss-navigateright" href="#" /></th>\n          </tr>\n          <tr>\n            <th colspan="2"><a class="previous_year white" href="#"><span class="ss-icon ss-navigateleft"/>\n            <span class="type-10">\n              ').concat(this._previous_year(this.focus_date).getFullYear(),'\n            </span></a></th>\n            <th colspan="3"><span class="year">').concat(this.focus_date.getFullYear(),'</span></th>\n            <th colspan="2"><a class="next_year white" href="#"><span class="type-10">\n              ').concat(this._next_year(this.focus_date).getFullYear(),'\n              </span><span class="ss-icon ss-navigateright" /></a>\n            </th>\n          </tr>\n        </thead>\n        ')},_thead_days_of_week_html:function(){return'<thead class="days_of_week"><tr><th>'+this._days_of_week_ths().join("</th><th>")+"</th></tr></thead>"},_tbody_html:function(){var t=this._copy_month(this.focus_date).getDay(),e=1,n=this._last_date_of_month(this.focus_date).getDate(),i=this._selected_date_date_in_focus_month(),a=this._same_month(this.focus_date,this.today_date)&&this.today_date.getDate(),o=[];for(o.push(this._date_tds(t,i,a,e,n)),e=8-t;e<=n;e+=7)o.push(this._date_tds(0,i,a,e,n));return"<tbody><tr>"+o.join("</tr><tr>")+"</tr></tbody>"},_date_tds:function(t,e,n,i,a){for(var o=[],r=0;r<t;r+=1)o.push("<td></td>");for(var s=i;o.length<7&&s<=a;s+=1){var c,d=[];s===e&&d.push("selected"),s===n&&d.push("today");var l="<td"+(c=d.length?' class="'+d.join(" ")+'"':"")+'><a href="#"'+c+">"+s+"</a></td>";o.push(l)}for(var u=a+1;u<i+7;u+=1)o.push("<td></td>");return o.join("")},_days_of_week_ths:function(){return t.map(this.options.day_of_week_texts,r)},_time_div_html:function(){return this._does_datetime()?'<div class="time"><label>'+r(this.options.time_text)+'<input type="text" /></label>'+r(Object(o.a)(new Date))+"</div>":""}})}(n("+2Rf"))},"38sE":function(t,e,n){"use strict";var i=n("KHPI");Object(i.a)(function(){i.a.videos_changed=function(){Object(i.a)(".video-player:visible").each(function(){var t;t=this,Object(i.a)(t).ksr_video()})},Object(i.a)(document).on("ksr_video:pause_all_videos",function(){Object(i.a)(".video-player").trigger("ksr_video:pause")}),Object(i.a)(document).on("click",".video-player:visible",function(){const t=Object(i.a)(this).find(".play_button_big");Object(i.a)(this).hasClass("has_played")||(Object(i.a)(this).ksr_video(),setTimeout(()=>{t.trigger("click")}))})})},"4LGs":function(t,e,n){"use strict";function i(t,e){const n="(?:".concat(Object.keys(t).join("|"),")"),i=RegExp(n),a=RegExp(n,"g");return i.test(e)?e.replace(a,e=>t[e]):e}n.d(e,"a",function(){return i})},"60hy":function(t,e,n){"use strict";var i=n("MgNI"),a=n("K+Nk");const o=(t,e)=>(t=>"string"==typeof t?i.result.Ok(t):i.result.Error(t))(e).chain(t=>i.result.try(()=>Object(a.a)(t))).map(t).getOrElse(e);var r=n("qcI4");n.d(e,"c",function(){return l}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return _});const s=t=>new r.c(t),c=t=>new r.e(t),d=t=>new r.f(t),l=t=>o(d,t),u=t=>o(c,t),_=t=>o(s,t)},94:function(t,e,n){n("bZMm"),n("LSZE"),n("ls82"),n("3Siy"),n("Wr5T"),n("U3M1"),n("GeBq"),n("0VSk"),t.exports=n("O2rH")},CjI4:function(t,e,n){"use strict";var i=n("60hy");const a=Object(i.b)(window.current_location);window.current_location=a,e.a=a},Ck6Y:function(t,e,n){"use strict";var i=n("a+N5"),a=n.n(i),o=n("+2Rf"),r=n("+2Rf");r.fn.validate=function(){var t=!0;return!this.length||(this.is(":input")?(this.each(function(){var e,n=r(this),i=!1,o=n.data("validations");o&&o.length&&(a.a.each(o,function(a){var o=a[0],r=a[1]||{};if("function"!=typeof r.when||r.when.call(n))return o.call(n,n.val())?void 0:(t=!1,i=!0,"string"==typeof r.error&&(e=r.error),!1)}),i?r.each(r.fn.validate.defaults.on_invalid,function(t,i){i(n,e)}):r.each(r.fn.validate.defaults.on_valid,function(t,e){e(n)}))}),t):this.find(":input").validate())},r.fn.validate.defaults={on_valid:[function(t){r(t).trigger("validate:valid")}],on_invalid:[function(t,e){r(t).trigger("validate:invalid",[e])}]},function(t){function e(e,n){var i=t(this);i.data("validations")||i.data("validations",[]),i.data("validations").push([e,n])}function n(t){return function(n){return this.each(function(){e.call(this,t,n)}),this}}t.fn.validates_custom=function(t,n){return this.each(function(){e.call(this,t,n)}),this},t.fn.validates_format=n(function(e){return e.match(new RegExp(t(this).data("format")))}),t.fn.validates_min_length=n(function(e){return e.length>=parseInt(t(this).data("minlength"),10)}),t.fn.validates_max_length=n(function(e){return e.length<=parseInt(t(this).data("maxlength"),10)}),t.fn.validates_presence=n(function(e){return!!t.trim(e)}),t.fn.validates_email=n(function(t){return t.match(/^.+@.+\..{2,}$/)}),t.fn.validates_luhn_check=n(function(t){var e,n,i,a=String(t).replace(/[^\d]/g,""),o=0;for(n=a.length-1;n>=0;n-=1)i=n%2+1,o+=(e=parseInt(a[n],10))>4&&2===i?e*i%10+1:e*i;return o%10==0}),t.fn.validates_routing_number=n(function(e){var n,i,a,o=String(e).replace(/[^\d]/g,""),r=t(this).closest("form").attr("data-country"),s=(o+"").split(""),c=0,d=[0,3,6];switch(r){case"US":for(i=0,a=d.length;i<a;i+=1)n=d[i],c+=3*parseInt(s[n],10),c+=7*parseInt(s[n+1],10),c+=parseInt(s[n+2],10);return 0!==c&&c%10==0;case"CA":return 8===o.length;case"AU":case"NZ":return 6===o.length;default:return!0}}),t.fn.validates_vat_format=n(function(t){var e=String(t).toUpperCase();switch(e.substr(0,2)){case"NL":return/^\w{2}\d{9}B\d{2}$/.test(e);default:return/^\w{2}[\w\d]{6}/.test(e)}}),t.fn.validates_postal_code=n(function(e){var n=t(this).closest("form").data("country"),i=!1,a={US:[/(^\d{5}$)|(^\d{5}-\d{4}$)/]};return void 0===a[n]||(t.each(a[n],function(t,n){n.test(e)&&(i=!0)}),i)}),t.fn.validates_business_id=n(function(e){var n=String(e).toUpperCase().replace(/\s+/g,""),i=t(this).closest("form").attr("data-country"),a=!1,o={AU:[/^\d{9}$/,/^\d{11}$/],BE:[/^(BE)?[A-Z0-9]{12}$/],CA:[/^\d{9,10}$/],CH:[/^(CHE-?)?[0-9]{3}\.?[0-9]{3}(\.?[0-9]{3})?(TVA|MWST|IVA|VAT)?$/],ES:[/^[ABCDEFGHJNPQRSUVW][0-9]{7}[A-Z0-9]$/],FI:[/^\d{7}\-\d$/],FR:[/^\d{14}$/],GB:[/^\d{7,8}$/,/^(AC|E[NS]|FC|G[ENS]|I[CP]|LP|N[ACFILOPRVZ]|OC|R[0C]|S[ACEFILOPRZ]|ZC)\d{5,6}[A-Z]?$/i],IE:[/^\d{5,6}$/,/^[A-Z]{2}\d{5,6}$/i,/^R\d{3}$/i,/^\d{2,4}(?:SAL|F|R|T|SA)$/],LU:[/^\d{4,8}$/,/^B\d{4,8}$/i,/^F\d{3,8}$/i],NL:[/^\d{8}$/],US:[/^\d{2}-?\d{7}$/]};return""===n||(void 0===o[i]||(t.each(o[i],function(t,e){e.test(n)&&(a=!0)}),a))})}(o)},D6l6:function(t,e,n){"use strict";var i=n("+2Rf"),a=n.n(i),o=n("GRmu"),r=n("0VSk"),s=n("U98V");let c={get:function(t,e,n,i){return!n.hasClass("loading")&&(n.trigger("before_ksrjson",[n,i]),a.a.ajax({url:t,type:e||"GET",data:{format:"json"},dataType:"json",beforeSend:function(){n.addClass("loading")},success:function(t){c.parse_response(t,n)},complete:function(){n.removeClass("loading")}}),!1)},enable_form:function(t,e){t.on("submit",function(n){n.preventDefault(),t.trigger("ajaxForm:beforeSerialize"),a.a.ajax({url:t.attr("action"),type:t.attr("method"),data:t.serialize(),dataType:"json",beforeSend:function(){var n=t.find("input.confirmation");return t.is(".submitting")?(Object(o.a)({error:r.default.t("library.ksr_json.Sorry_still_waiting_for_a_response_Please_try_refreshing_if")}),!1):!(n.length&&!n.prop("checked"))&&(e.addClass("loading"),void t.addClass("submitting"))},success:function(n){c.parse_response(n,e,t),e.trigger("ksr_json:afterSuccess",n)},error:function(n){c.parse_error(n,e,t),e.trigger("ksr_json:afterError")},complete:function(){e.removeClass("loading"),t.removeClass("submitting"),e.trigger("ksr_json:afterComplete")}})})},parse_response:function(t,e,n){var i,c,d,l={open:function(){a()(n).trigger("jGrowl.open_"+t.status)},close:function(){a()(n).trigger("jGrowl.close_"+t.status)}};switch(e.trigger("ksr_json:complete",t),a.a.isArray(t.flash)&&a.a.isArray(t.flash[0])?Object(o.a)(a.a.map(t.flash,function(t){return t[t.length-1]}),l):t.flash&&Object(o.a)(t.flash,l),parseInt(t.status,10)){case 200:case 406:if(i=a()(t.data),t.data&&t.data.length>0){if(t.send_message_modal){var u=a()(".NS_messages__new");if(u.length){var _=u.last();_.html(t.data),Object(s.a)(_)}}t.modal?((d=a.a.create_modal_dialog("",t.data)).data("modal_dialog").open(),"undefined"!=typeof FB&&FB.XFBML.parse(d.find(".modal_dialog_body")[0])):(i.find("a.cancel").length>0?(c=e.contents().detach(),i.find("a.cancel").one("click",function(){return e.contents().remove(),c.appendTo(e),!1})):e.contents().remove(),e.html(i),e.trigger("size_change"),"undefined"!=typeof FB&&FB.XFBML.parse(e[0]))}a()('meta[name="csrf-token"]').attr("content",t.auth_token);break;case 204:e.remove();break;case 302:window.location.href=t.data.replace(/.json$/,"");break;case 303:e.load(t.data,function(){a()('meta[name="csrf-token"]').attr("content",t.auth_token)});break;case 304:break;case 500:Object(o.a)({error:r.default.t("library.ksr_json.Sorry_something_went_wrong_Weve_been_notified_and_are_looking")});break;case 422:Object(o.a)({error:r.default.t("library.ksr_json.Sorry_something_went_wrong_Your_form_may_have_explired")})}return t},parse_error:function(t,e,n){c.parse_response({flash:{},status:t.status,data:t.body},e,n)}};e.a=c},DQv1:function(t,e,n){"use strict";var i=n("+2Rf"),a=n.n(i),o=n("a+N5"),r=n.n(o),s=n("0VSk"),c=n("nbsC"),d=n.n(c),l=n("zm9w"),u=n("yQm5"),_=n.n(u),f=n("/AD1"),h=n("WjF9");var p=n("1OuE"),m=n("ioZw"),g=n("tmAf"),v=n("/Tkk"),b=n.n(v);var y=function(t){var e=[];return t.creator_name=t.creator.name,t.percent_raised=t.pledged/t.goal*100,t.percent_raised_rounded=Math.round(t.percent_raised),t.percent_raised_to_100=Math.min(100,t.percent_raised),t.formatted_percent_raised=l.a.percent(t.percent_raised,{precision:0}),t.formatted_money=l.a.money(t.pledged,{precision:0,currency:t.currency}),t.formatted_goal=l.a.money(t.goal,{precision:0,currency:t.currency}),t.formatted_backers_count=l.a.format_number(t.backers_count,{precision:0}),t.count=t.backers_count,t.javascript_deadline=1e3*t.deadline,t.javascript_state_changed_at=1e3*t.state_changed_at,t.formatted_deadline=Object(p.a)("ll",t.javascript_deadline),t.formatted_state_changed_at=Object(p.a)("ll",t.javascript_state_changed_at),t.raw_score=t.recommendations_raw_score,t.weighted_score=t.recommendations_score,t.model_name=t.recommendations_model_name,t.project_state=t.state,t.section=t.ref||t.url_ref||"refined_search",function(t,e){e.blurb||(e.blurb=t.blurb),e.name||(e.name=t.name),e.feature_image_url=e.feature_image_attributes.image_urls.baseball_card,e["has_background_image?"]=!r.a.isEmpty(e.background_image_attributes),e["hide_background_black?"]=e["has_background_image?"]||e.background_color,e.border_color="",e.text_color&&(e.border_color="background-color: #"+e.text_color+";"),e.text_color_style="",e.text_color&&(e.text_color_style="color: #"+e.text_color+";"),e.background_color_style="",e.background_color&&(e.background_color_style="background-color: #"+e.background_color+";"),e.card_style="",e.card_style+=e.text_color_style,e.card_style+=e.background_color_style,e.card_background_style="",e["has_background_image?"]&&(e.card_background_style="background-image: url("+e.background_image_attributes.image_urls.baseball_card+"); opacity: "+e.background_image_opacity+";")}(t,t.profile),a.a.each(["live","successful","canceled","failed"],function(){var e=String(this);t[e+"?"]=t.state===e}),t.url_ref?t.url_with_ref=_()(t.urls.web.project).setSearch("ref",t.url_ref).toString():t.url_with_ref=t.urls.web.project,t["live_or_successful?"]="live"===t.state||"successful"===t.state,t["video?"]=null!==t.video&&void 0!==t.video,t["potd_today?"]=b()(1e3*t.potd_at,new Date),t["staff_pick?"]=t.staff_pick,t["friends_backing?"]=t.friends&&t.friends.length>0,t["friends_backing?"]&&(t.truncated_friends=t.friends.slice(0,2),(e=r.a.map(t.truncated_friends,function(t){return"<strong>"+r.a.escape(t.name.split(" ")[0])+"</strong>"})).length<t.friends.length&&e.push("<strong>"+s.default.t("presenters.projects.baseball_card_tall.amount_more",{count:t.friends.length-e.length})+"</strong>"),t.escaped_sentence=s.default.t("presenters.projects.baseball_card_tall.friends_are_backers",{friends:l.a.to_sentence(e),count:e.length})),t.json=JSON.stringify(t),t.location_json=JSON.stringify(t.location),t.baseball_card_size||(t.baseball_card_size="tall"),t},w=n("MgNI"),k=function(t){return t.formatted_created_at=Object(p.a)("ll",1e3*t.created_at),t.is_recipient=void 0!==h.a&&h.a.get("id")===t.recipient_id,t.sender_is_registered=t.sender.is_registered,t},j=n("P0CJ");var x={"assets/_uploaded_item":function(t){return t.short_filesize=l.a.number_to_human_size(t.data_file_size,{precision:1}),t},"backer_report/_index":function(t){return t.filters={},(t=function(t){return r.a.each(r.a.keys(t.aggregations),function(e){r.a.each(r.a.keys(t.aggregations[e]),function(n){var i=t.aggregations[e][n];t.aggregations[e][n]={count:i}})}),t}(t=function(t){return t.project.disputed>0&&(t.filters.disputed={true:{count:t.project.disputed}}),t}(t))).aggregations.must_have_creator_note={true:{},false:{}},t.not_filtered=!0,"successful"===(t=function(t){return t.params&&(r.a.each(r.a.keys(t.params),function(e){r.a.has(t.aggregations,e)?(t.aggregations[e][t.params[e]]||(t.aggregations[e][t.params[e]]={}),t.aggregations[e][t.params[e]].selected=!0):r.a.has(t.filters,e)?t.filters[e][t.params[e]].selected=!0:(t.aggregations[e]={})[t.params[e]]={selected:!0}}),t.params.sort_by&&(t.params["sort_by_"+t.params.sort_by]=" "+(t.params.asc_or_desc||"asc")),t.actual_reward_selected=!1,t.params.reward_id&&(t.actual_reward_selected=!0,t.selected_reward=r.a.findWhere(t.rewards,{id:parseInt(t.params.reward_id,10)}),t.selected_reward||(t.actual_reward_selected=!1,t.selected_reward=r.a.findWhere(t.rewards,{id:"none"})),t.selected_reward.selected=!0),r.a.each(["survey_answered","completed","must_have_creator_note","status","backer_banned","disputed"],function(e){t.params[e]&&(t.not_filtered=!1)})),t}(t)).project.state&&(t.project.is_successful=!0),(t=function(t){return t.show_aggregations=t.total_entries>0||!(t.params&&t.params.term&&!t.params.creator_note&&!t.params.creator_note_not),t}(t)).formatted_total_entries=l.a.format_number(t.total_entries,{precision:0}),t.count=t.total_entries,(t=function(t){return r.a.each(t.rewards,function(t){t.formatted_minimum=l.a.money(t.minimum,{currency:f.a.get("currency"),precision:0}),t.reward.length>35?t.truncated_description=t.reward.substring(0,35)+"…":t.truncated_description=t.reward}),t}(t)).message_url=_()(t.urls.web.message_batches).segment("new").query(t.params),t.isCreator=f.a.get("creator.id")===h.a.get("id"),t.showMessages=t.isCreator||t.showMessages,t},"backer_report/_row":function(t){return t.formatted_pledged_at=Object(p.a)("ll",1e3*t.pledged_at),t.formatted_survey_answered_at=Object(p.a)("ll",1e3*t.survey_answered_at),t.formatted_amount=l.a.money(t.amount,{precision:2,currency:f.a.get("currency")}),t.name=t.is_registered?t.is_deleted?s.default.t("backer_report.row.Deleted_backer_name"):t.name:s.default.t("backer_report.row.Guest",{backer_uid:t.backer_uid}),t.is_deleted&&(t.name_hover=s.default.t("backer_report.row.Deleted_backer_explanation")),t.isCreator=f.a.get("creator.id")===h.a.get("id"),t.showMessages=t.isCreator||t.showMessages,t},"backings/_row":m.a,"backings/_table":g.a,"discover/_location_li":function(t){return t.json=JSON.stringify(t),t},"discover/_location_options":function(t){return t.ancestor_locations=t.ancestor_locations||[],t.ancestor_locations=t.ancestor_locations.reverse(),t.nearby_locations=t.nearby_locations||[],t},"discover/_project_baseball_card_li":function(t){return y(t)},"discover/_search_location_li":function(t){return t.json=JSON.stringify(t),t},"message_threads/_show":function(t){return t.is_creator=t.project.creator.id===h.a.get("id"),t.project.is_live="live"===t.project.state,t.backing&&(t.backing.reward.formatted_estimated_delivery_on=w.maybe.fromNullable(t.backing.reward.estimated_delivery_on).map(t=>Object(p.a)("ll",Object(j.a)(1e3*t))).getOrElse(null),t.backing.is_creator=t.is_creator,t.backing.formatted_amount=l.a.money(t.backing.amount,{currency:t.backing.project.currency,precision:0})),t.messages=r.a.map(t.messages,function(e){return e.sender=r.a.findWhere(t.participants,{id:e.sender_id}),k(e)}),t},"messages/_show":k,"projects/_baseball_card_grid":function(t){var e=a.a.extend({},t);return e.projects=e.projects.map(function(t){return t.map(function(t){return y(t)})}),e},"projects/_baseball_card_tall":y};function S(t){var e=a()("#template-"+t.replace(/\//g,"_"));if(!e.length)throw"Could not find template: "+t;return a.a.trim(e.html())}function M(){return function(t,e){return e(s.default.t(t,this))}}function Y(t,e,n){var i=x[t]||function(t){return t},o=S(t),s=function(t){var e={};if(r.a.isString(t)&&(t=[t]),r.a.isArray(t))return r.a.each(t,function(t){e[t]=S(t)}),e}(n);return d.a.render(o,a.a.extend({t:M},i(e)),s)}e.a=Y;window.render=Y},ECYc:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n("n+nq"),a=n("pj8f"),o=n("qn6j");const r=async t=>{try{await fetch("/telegraf_requests",{method:"POST",body:JSON.stringify({authenticity_token:Object(i.b)(document),data:t}),credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-Token":Object(i.b)(document)}})}catch(t){a.Honeybadger.notify(t)}};let s=[],c=-1;function d(t,e,n){["increment","gauge","time"].includes(t)&&r([{method:t,name:e,value:n}])}d.batch=async t=>{const e=[],n={increment:async t=>{e.push({method:o.a.INCREMENT,name:t})},gauge:async(t,n)=>{e.push({method:o.a.GAUGE,name:t,value:n})},time:async(t,n)=>{const i=Date.now(),a=await n(),r=Date.now();return e.push({method:o.a.TIME,name:t,value:r-i}),a}},i=await t(n);return(t=>{clearTimeout(c),s=s.concat(t),c=window.setTimeout(()=>{r(s),s=[]},50)})(e),i},d.increment=t=>d.batch(e=>e.increment(t)),d.gauge=(t,e)=>d.batch(n=>n.gauge(t,e)),d.time=(t,e)=>d.batch(n=>n.time(t,e))},FbRb:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("0VSk"),a=n("IWkz");const o={seconds:119,minutes:119,hours:72,days:0},r=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.ksr_page_clock||new a.a;t instanceof Date||(t=d(t));const n=c(t,e),o=Math.floor(s(t,e)/n[1]),r=i.default.t("onloads.page_timer.".concat(n[0],"_count"),{count:o});return isNaN(o)?{remainingUnit:null,remainingNumber:"...",remainingString:i.default.t("onloads.page_timer.default")}:{remainingUnit:n,remainingNumber:o,remainingString:r}},s=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.ksr_page_clock||new a.a;return Math.max(t-e.get_remote_time(),0)},c=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.ksr_page_clock||new a.a;const n=e.time_units.slice(1);let i;for(let a=0;a<n.length&&(i=n[a],!(s(t,e)<=o[i[0]]*i[1]));a+=1);return i},d=t=>{if(t)return"string"==typeof t&&t.match(/^\d+$/)?(new Date).setTime(t):"number"==typeof t?new Date(t):new Date(Date.parse(t))}},GRmu:function(t,e,n){"use strict";(function(t){let i;i=void 0!==t?n("gMis").default:()=>void 0,e.a=i}).call(this,n("+2Rf"))},GeBq:function(t,e,n){"use strict";n.r(e);var i=n("+2Rf"),a=n.n(i),o=(n("/Su4"),n("0VSk")),r=(n("h4vE"),n("l+V7"),n("QrAi"),n("gY5S"),n("bbO9"),n("QfO9"),n("a+N5")),s=n.n(r),c=n("1OuE"),d=n("fupu"),l=n.n(d),u=n("DjBF"),_=n("yNUO"),f=n.n(_);const h=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["day","month","year"];const i=e.split(t),a=n.reduce((t,e,n)=>(t[e]=i[n],t),{}),o=a.day,r=a.month,s=a.year;return"".concat(r,"/").concat(o,"/").concat(s)},p={l:{de:t=>h(".",t),en:t=>t,es:t=>h("/",t),fr:t=>h("/",t),ja:t=>h("/",t,["year","month","day"])},"l LT":{de:t=>{const e=t.split(" "),n=Object(u.a)(e,2),i=n[0],a=n[1],o=h(".",i);return"".concat(o," ").concat(a)},en:t=>t,es:t=>{const e=t.split(" "),n=Object(u.a)(e,2),i=n[0],a=n[1],o=h("/",i);return"".concat(o," ").concat(a)},fr:t=>{const e=t.split(" "),n=Object(u.a)(e,2),i=n[0],a=n[1],o=h("/",i);return"".concat(o," ").concat(a)},ja:t=>{const e=t.split(" "),n=Object(u.a)(e,2),i=n[0],a=n[1],o=h("/",i,["year","month","day"]);return"".concat(o," ").concat(a)}}},m=(t,e)=>((t,e,n)=>f()(p[e][t](n)))(window.I18n.locale,e,t);n("RIhn"),n("LIwG"),n("HW2X"),n("NQrx"),n("4cFS"),n("WbKZ"),n("cgaT");a()(".field.search.location-search").livequery(function(){var t=a()(this);t.on("livesearch_selector:select",function(){a()(this).siblings("span.input-tip").hide(),a()(this).parent().siblings("span.input-tip").hide(),a()(this).trigger("shifted")}),t.on("livesearch_selector:unselect",function(){a()(this).siblings("span.input-tip").show(),a()(this).parent().siblings("span.input-tip").show(),a()(this).trigger("shifted")}),t.livesearch_selector({url:t.data("searchUrl"),cancel_copy:"",process_data:function(){return{term:this.$elem.val()}},process_results:function(t){return s.a.map(t.locations,function(t){return[t.short_name,t.id]})}})}),a()("input.date:not(.js-cancel-jquery-calendar)").livequery(function(){let t=a()(this),e=t.val(),n=t.closest(".js-date-field").find(".js-hidden-calendar-input");n.val(e?Object(c.a)("YYYY-MM-DD",e):""),t.datetime_picker_field({calendar:{allow_deselect:!1,previous_month_text:"<",next_month_text:">"},class_name:"absolute z_top",parse_callback:function(t){var e=m(t,"l");return l()(e)?e:void 0},format_callback:function(t){return n.val(t?Object(c.a)("YYYY-MM-DD",t):""),t?Object(c.a)("l",t):""}})}),a()("input.datetime").livequery(function(){var t=a()(this),e=t.data("options")||{};t.datetime_picker_field(a.a.extend(!0,{calendar:{allow_deselect:!1,previous_month_text:"<",next_month_text:">",time_text:o.default.t("onloads.initializers.forms.Time")},class_name:"absolute z_top",position:t.is(".position_calendar_below")?"bottom":"right",parse_callback:function(t){var e=m(t,"l LT");return l()(e)?e:void 0},format_callback:function(e){return t.closest(".js-datetime-field").find(".js-hidden-calendar-input").val(e?Object(c.c)("en","YYYY-MM-DD HH:mm:ss Z",e):""),e?Object(c.a)("l LT",e):""}},e))}),a()(".js-calendar-picker").livequery(function(){var t,e=a()(this),n=e.find('input[type="hidden"]'),i=e.find(".calendar"),r=i.data("options")||{};i.on("calendar_date_picker:date_selected",function(t,e){e?n.val(Object(c.a)("YYYY-MM-DD HH:mm:ss Z",e)):n.val(""),n.trigger("change")}),""!==n.val()&&(t=new Date(n.val())),i.calendar_date_picker(s.a.extend({allow_deselect:!1,previous_month_text:"<",next_month_text:">",time_text:o.default.t("onloads.initializers.forms.Time"),selected_date:t},r)).data("calendar_date_picker")}),a()("form ul.js-sortable, form ol.js-sortable, form tbody.js-sortable").livequery(function(){var t=a()(this),e=!1;t.find(".move").length&&(e=".move"),t.find(".move").click(function(t){t.preventDefault()}),t.sortable({containment:"document",axis:"y",handle:e,update:function(){t.find("input.position").each(function(t){a()(this).val(t+1)})}}),t.closest("form").submit(function(){t.find("input.position").each(function(t){a()(this).val(t+1)})})});var g,v,b=n("gbQM"),y=n.n(b),w=n("aNAf"),k=(n("Ld+T"),n("WjF9"));function j(){return s.a.map(navigator.mimeTypes,function(t){return[t.type,t.description].join("|")})}function x(t){return(new y.a.SHA256).hex(t)}g=s.a.memoize(function(){var t,e,n,i,a,o,r,c,d,l,u=(t=["AdobeReader","Flash","Quicktime","RealPlayer","Shockwave","Silverlight","VLC","WindowsMediaPlayer"],s.a.chain(t).zip(s.a.map(t,function(t){try{return window.PluginDetect.getVersion(t)}catch(t){return t.description}})).filter(s.a.last).value()),_=s.a.map(navigator.plugins,function(t){return[t.name,t.description,t.filename,t.length].join("|")}),f=j(),h=(e=navigator.getGamepads?navigator.getGamepads():[],s.a.chain(e).filter(s.a.identity).map(function(t){return[t.index,t.id].join("|")}).value()),p=function(){var t=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Garamond","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"],e=["monospace","sans-serif","serif"],n=function(t){var e=document.createElement("span");e.style.fontFamily=t,e.style.fontSize="72px";var n=document.createTextNode("mmmmmmmmmmlli");return e.appendChild(n),e},i=s.a.map(e,n),a=s.a.map(t,function(t){return s.a.map(e,function(e){return n(t+","+e)})}),o=document.createElement("div");o.style.position="absolute",o.style.visibility="hidden",s.a.forEach(s.a.flatten(a).concat(i),function(t){o.appendChild(t)});var r=document.getElementsByTagName("body")[0];r.appendChild(o);var c=function(t){var e=t.offsetHeight;return[t.offsetWidth,e]},d=s.a.map(i,c),l=s.a.map(a,function(t){return s.a.map(t,c)});return r.removeChild(o),s.a.filter(t,function(t,n){var i,a,o;for(o=0;o<e.length;o+=1)if(i=l[n][o],a=d[o],i[0]!==a[0]||i[1]!==a[1])return!0;return!1})}(),m={pdc:u.length,pds:u.toString(),npc:_.length,nps:_.toString(),mtc:f.length,mts:f.toString(),fnc:p.length,fns:p.toString(),gpc:h.length,gps:h.toString(),tzo:(o=new Date,r=o.getTimezoneOffset(),o.setDate(1),o.setMonth(1),i=o.getTimezoneOffset(),o.setMonth(6),(a=i-o.getTimezoneOffset())?r+"DST"+a:r.toString()),uas:navigator.userAgent,lan:[navigator.language,navigator.userLanguage,navigator.systemLanguage,navigator.languages].join("|"),cpu:[navigator.platform,navigator.hardwareConcurrency].join("|"),mpi:Math.PI.toString()};return l=[screen.height===screen.availHeight,screen.height===window.innerHeight,0===j().length,0===(new Date).getTimezoneOffset()],s.a.filter(l,s.a.identity).length/l.length<.75&&(n=function(){var t=document.createElement("canvas");if(t.getContext&&t.getContext("2d")){var e=t.getContext("2d"),n="a1b2,#3<!xy> 456.Z";return e.textBaseline="top",e.font='14px "Arial"',e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(125,1,62,20),e.fillStyle="#069",e.fillText(n,2,15),e.fillStyle="rgba(102, 204, 0, 0.7)",e.fillText(n,4,17),t.toDataURL()}}(),m.cnv=[n.substr(0,32),n.length,x(n)].join("|"),m.res=(c=[screen.availWidth,screen.availHeight],"object"==typeof(d=screen.orientation||screen.mozOrientation||screen.msOrientation)&&(d=d.type),d?d.match("portrait")&&c.reverse():c.sort().reverse(),c.push(screen.colorDepth),c.join("x"))),m}),v=s.a.memoize(function(){var t=g();return x(s.a.chain(["pds","nps","mts","fns","gps","tzo","uas","lan","cpu","cnv","mpi","res"]).map(function(e){return t[e]}).map(function(t){return void 0===t?"":t}).map(function(t){return t.toString()}).value().join("\n"))});window.log_device=function(){s.a.defer(function(){!function(){var t,e,n;if(window.koala_device_endpoint){try{e=v()}catch(t){e=null}t={partition_key:Object(w.a)(),device_id2:e,visitor_id:Object(w.a)(),ip_address:window.current_ip,user_uid:(n=k.a,null==n||""===n||"object"!=typeof n?null:"function"==typeof n.get?n.get("id")||null:n.id&&n.id||null)},window.enabled_features&&window.enabled_features.device_components&&(t.components=g()),a.a.ajax({type:"POST",url:window.koala_device_endpoint,data:JSON.stringify(t),contentType:"text/plain; charset=UTF-8"})}}()})};n("GRmu"),n("g/nJ"),n("KvHV"),n("2UXI"),n("IvES");var S=n("MgNI"),M=n("JC/v");window.request_id=(t=>{return S.maybe.fromNullable(t.documentElement.dataset).chain(Object(M.a)("requestId")).chain(t=>S.maybe.fromNullable("__REQUEST_ID_MIDDLEWARE_SWAP_TOKEN__"===t?null:t)).getOrElse(null)})(document);n("qKHs"),n("LKre");var Y,$,O=n("S1QU"),T=n("/AD1");a()(document).on("livesearch:results",function(t,e){var n,i=a()(t.target).val();n=e.projects?e.projects.length:e.length,Y=a()(t.target).attr("data-tracker-name"),"undefined"!=typeof ga&&ga("send","event",Y,"Term",i,parseInt(n,10))}),a()(document).on("livesearch:searching",function(){$=!0}),a()(document).on("livesearch:cancel",function(){$&&("undefined"!=typeof ga&&ga("send","event",Y,"Cancels"),$=!1)}),a()(document).ready(function(){a()(".home-editorial-title").on("click",function(){var t=a()(this).html();"undefined"!=typeof ga&&ga("send","event","Faux-Category on Homepage Clicks",t)})}),a()(document).ready(function(){a()(".export").find("a").on("click",function(){"undefined"!=typeof ga&&ga("send","event","Export Reward Report","Download Click")})}),a()(document).ready(function(){a()("#results_properties").livequery(function(){var t=a()(this).children("#number_of_results").text(),e=a()(this).children("#term").text();"undefined"!=typeof ga&&ga("send","event","Search Results","Term",e,parseInt(t,10))})}),a()(document).ready(function(){a()("#pledges_login_or_signup #growl_section .error").livequery(function(){var t=a()(this).children(".message").html(),e=a()(document).attr("URL");"undefined"!=typeof ga&&ga("send","event","Checkout Login Errors",t,e)}),a()("#checkout-signup .fieldset-errors").livequery(function(){var t=a()(this).children("ul").children(),e=a()(document).attr("URL");a.a.each(t,function(t,n){n=n.innerHTML,"undefined"!=typeof ga&&ga("send","event","Checkout Signup Errors",n,e)})}),a()("#sessions_new #growl_section .error").livequery(function(){var t=a()(this).children(".message").html(),e=a()(document).attr("URL");"undefined"!=typeof ga&&ga("send","event","Regular Login Errors",t,e)}),a()("#new_user .fieldset-errors").livequery(function(){var t=a()(this).children("ul").children(),e=a()(document).attr("URL");a.a.each(t,function(t,n){n=n.innerHTML,"undefined"!=typeof ga&&ga("send","event","Regular Signup Errors",n,e)})})}),a()(document).ready(function(){a()(".share-box").on("click","a",function(){var t=a()(this).attr("data-tracker-name");"undefined"!=typeof ga&&ga("send","event","Sharing",t)}),a()("#checkout-project-share").on("click","a",function(){var t=a()(this).attr("data-tracker-name");"undefined"!=typeof ga&&ga("send","event","Sharing",t)}),a()(document).on("click",".clipster",function(){"undefined"!=typeof ga&&ga("send","event","Sharing","Copied Link")})}),a()(function(){var t;a()("#video-section object").livequery(function(){t=a()(this)[0],a()(document).attr("URL")}),a()(document).on("click","#video-section",function(){a()(document).attr("URL"),t&&("Project Page Video",function(t){t.addModelListener("TIME","timeStats"),t.addModelListener("STATE","getState")}(t))}),a()(window).on("beforeunload",function(){0})}),a()(document).on("modal_dialog:opened",function(t){var e=a()(t.target).find(".modal_dialog_head h4").text();"undefined"!=typeof ga&&ga("send","event","Modal Dialog","Opened",e)}),a()(document).ready(function(){a()(".faq-question a").click(function(){var t=a()("body[id]").length?a()("body").attr("id"):"No ID",e=a()(this).closest(".faq"),n=a()(this).find(".question").text();"undefined"==typeof ga||e.hasClass("expanded")||ga("send","event","FAQ","Expanded - "+t,n)})}),a()(document).ready(function(){a()(document).on("click","a#edit_survey_response",function(){"undefined"!=typeof ga&&ga("send","event","Surveys","Click","Edit Survey Response")})}),a()(document).ready(function(){a()(document).on("click","ul#admin-menu > li > a",function(){"undefined"!=typeof ga&&ga("send","event","Admin","Nav Click",a()(this).text())})}),a()(document).ready(function(){var t=0;a()(".scissors").on("click",function(){t<2?("undefined"!=typeof ga&&ga("send","event","Scissors","Clicks"),t+=1):"undefined"!=typeof ga&&ga("send","event","Scissors","Chops")})}),a()(document).ready(function(){if(a()("#checkouts_thanks").length&&"undefined"!=typeof ga&&O.a&&T.a){ga("require","ecommerce"),ga("ecommerce:addTransaction",{id:O.a.get("id"),affiliation:T.a.get("slug"),revenue:O.a.get("net_amount"),shipping:O.a.get("shipping"),currency:T.a.get("currency")});var t=[T.a.get("name"),O.a.get("reward").title_for_backing_tier||"No Reward"].join("-");ga("ecommerce:addItem",{id:O.a.get("id"),name:t,sku:O.a.get("reward").id,category:T.a.get("category").name,price:O.a.get("reward").minimum,quantity:"1",currency:T.a.get("currency")}),ga("ecommerce:send"),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"Completed Checkout",tags:{revenue:O.a.get("usd_amount_in_cents")}})}}),a()(document).ready(function(){var t=1;a()(document).on("infinite_scroll:scrolled_to",function(e,n){if(n>t){var i=window.location.pathname+window.location.search+window.location.hash;"undefined"!=typeof ga&&ga("send","pageview",i),t=n}})});n("MRng"),n("rV3q"),n("WJbx");window.$=window.$||a.a},IWkz:function(t,e,n){"use strict";n.d(e,"a",function(){return a});const i=[["milliseconds",1],["seconds",1e3],["minutes",6e4],["hours",36e5],["days",864e5]];class a{constructor(){this.local_start_time=new Date,this.cookie_name="request_time",this.time_units=i,this.set_remote_offset()}set_remote_offset(){this.cookie_value=this.read_cookie();const t=new Date(this.cookie_value);this.cookie_value&&"Invalid Date"!==t.toString()?this.remote_offset=t-this.local_start_time:(this.remote_offset=this.read_cookie("local_offset"),this.remote_offset&&(this.remote_offset=parseInt(this.remote_offset,10))),void 0===this.remote_offset||isNaN(this.remote_offset)?this.is_set=!1:(document.cookie="local_offset="+this.remote_offset+"; path=/",this.is_set=!0)}get_units_in_interval(t,e){return e[t.replace(/^\w/,t=>"get"+t.toUpperCase())]()}milliseconds_in_day(t){void 0===t&&(t=new Date);let e=0;for(let n=i.length-2;n>=0;n-=1)e+=this.get_units_in_interval(i[n][0],t)*i[n][1];return e}milliseconds_in_interval(t,e){return this.milliseconds_in_day(e)%t}milliseconds_to_next_interval(t,e){return t-this.milliseconds_in_interval(t,e)}pluralize(t,e){return 1===e&&(t=t.replace(/s$/,"")),t}read_cookie(t){if(window.document&&window.document.cookie){let e=window.document.cookie.split(";");const n=(t||this.cookie_name)+"=";for(let t=0;t<e.length;t+=1){let i=e[t];for(;" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(n)){const t=i.substring(n.length,i.length);return decodeURIComponent(t).replace(/\+/g," ")}}}}destroy_cookie(t){const e=new Date;t||(t=this.cookie_name),e.setTime(e.getTime()-864e5),window.document.cookie=t+"=; expires="+e.toGMTString()+"; path=/"}get_remote_time(){let t=new Date;const e=t.getTime()+(this.remote_offset||0);return t=t.setTime(e)}}},Ijdr:function(t,e,n){"use strict";var i=n("0VSk"),a=n("+2Rf");n("+2Rf");!function(t){function e(e,n){this.$elem=e,this.xhr=!1,this.paused=n.paused||!1,this.options=t.extend({threshold:500,trigger_next:"scroll",load_next_after:!1,prepend_next:!1,dataType:"html",extra_params:{},$context:t(window),default_page:1,page_by:function(t){return void 0!==t?t+1:this.default_page},page_param:"page",url:!1},n),this.current_page=this.options.page_by(),this.bind_events()}t.fn.mobius=function(n){return n=n||{},t(this).each(function(){var i=t(this).data("mobius");i||(i=new e(t(this),n),t(this).data("mobius",i))})},t.extend(e.prototype,{bind_events:function(){var e=this;"string"==typeof this.options.trigger_next?(this.options.$context.on(this.options.trigger_next,function(){e.check_for_more()}),e.check_for_more()):this.options.trigger_next.jquery&&this.options.trigger_next.click(function(n){n.preventDefault(),t(this).addClass("loading_next"),e.load_next()})},clear_extra_params:function(){this.options.extra_params={}},add_param:function(t,e){this.options.extra_params[t]=e},set_extra_params:function(t){this.options.extra_params=t},pause:function(){this.paused=!0},play:function(){this.paused=!1},check_for_more:function(){this.paused||this.options.$context.scrollTop()+this.options.$context.height()-this.$elem.offset().top>this.$elem.get(0).scrollHeight-this.options.threshold&&this.load_next()},load_next:function(){this.load_page(this.options.page_by(this.current_page),this.options.load_next_after,!0)},load_page:function(e,n,a){var o=parseInt(e,10),r=this;isNaN(o)||(n&&n.length||(n=!1),this.xhr||(this.$elem.trigger("mobius:loading_page"),this.xhr=t.ajax({type:"get",dataType:this.options.dataType,url:this.build_paged_url(o),success:function(e){if(r.xhr=!1,"html"===r.options.dataType){var s=t("<div>"+e+"</div>").find(".mobius").children();if(!s.length)return void r.$elem.trigger("mobius:error",[i.default.t("library.mobius.No_mobius_found_in_page",{page:o})]);n?n.after(s):r.options.prepend_next?r.$elem.prepend(s):r.$elem.append(s),r.options.trigger_next.jquery&&r.options.trigger_next.removeClass("loading_next"),r.$elem.trigger("mobius:loaded_page",[o,s])}else r.$elem.trigger("mobius:loaded_page",[o,e]);!a&&n||(r.current_page=o)},error:function(){r.xhr=!1}})))},build_paged_url:function(e){var n=window.location.toString().replace(window.location.search,"").replace(window.location.hash,""),i=void 0===this.options.extra_params?"":"string"==typeof this.options.extra_params?this.options.extra_params:t.param(this.options.extra_params),a=/(.*)#$/;a.test(n)&&(n=a.exec(n)[1]),i&&(i="&"+i),this.options.url&&(n=this.options.url);var o=-1!==n.indexOf("?")?"&":"?";return n.toString()+o+this.options.page_param+"="+e+i}})}(a)},Irv6:function(t,e,n){"use strict";n("gNPL"),n("+2Rf");var i=n("+2Rf");i.fn.client_side_asset_uploader=function(){var t=i(this),e=["data-asset-attachable-type","data-asset-method"].map(function(e){return"["+e+'="'+t.attr(e)+'"]'}).join("");t.adhoc_fileuploader({url:t.data("url"),paramsUrl:t.data("params-url"),done:function(t,n){var a=n.files[0],o={file:a,s3_key:n.formData.filter(function(t){return"key"===t.name})[0].value,data_file_name:a.name,data_file_size:a.size,data_content_type:a.type,signed_preview_url:"umm"};i(".js-assets-list"+e).trigger("assets_list:item_added",o)}})}},IvES:function(t,e,n){"use strict";var i=n("+2Rf"),a=n.n(i),o=(n("RIhn"),n("IWkz")),r=n("FbRb");class s{constructor(t,e){t&&(this.count_down=t.getAttribute("data-dynamic")||!1,this.clock=e,this.time_units=this.clock.time_units.slice(1),this.element=t,this.clock.is_set&&this.attach())}update_element(){const t=Object(r.a)(this.remote_end_time,this.clock),e=t.remainingNumber,n=t.remainingString;this.number_element.innerHTML=e,this.text_element.innerHTML=n}valid(){return!(!this.number_element||!this.text_element)}attach(){const t=()=>{this.update_element();const e=Object(r.a)(this.remote_end_time,this.clock),n=e.remainingUnit,i=e.remainingNumber;this.count_down&&i>0&&(this.timeout=window.setTimeout(t,this.clock.milliseconds_to_next_interval(n[1])))};this.remote_end_time=this.element.getAttribute("data-end_time"),this.number_element=this.element.querySelectorAll(".js-num")[0],this.text_element=this.element.querySelectorAll(".js-text")[0],this.element.ksr_page_timer=!0,this.valid()&&t()}cancel(){this.timeout&&clearTimeout(this.timeout)}}var c=n("rm+a");class d{constructor(){this.elements=[],this.loading=!0,this.number_of_tries=0,this.attach()}bind_ready(){Object(c.a)(()=>{this.attach_timers(),this.loading=!1})}attach_timers(){const t=window.document.querySelectorAll(".ksr_page_timer");for(let e=0;e<t.length;e+=1)t[e].ksr_page_timer||(new s(t[e],window.ksr_page_clock),this.elements.push(t[e]))}attach(){this.bind_ready(),(()=>{this.attach_timers(),this.loading&&(window.setTimeout(()=>{this.attach_timers()},Math.min(Math.pow(10,this.number_of_tries),100)),this.number_of_tries+=1)})()}}window.ksr_page_clock=new o.a,new d,a()(document).on("timer_added",".ksr_page_timer",function(){new s(this,window.ksr_page_clock)}),a()(".ksr_page_timer").livequery(function(){this.ksr_page_timer||a()(this).trigger("timer_added")})},"JC/v":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return o});var i=n("v53p");
/*!
 * Utility functions for the `Maybe` type!
 *
 * See: http://origamitower.github.io/folktale/api/en/folktale.src.data.maybe.html
 */
const a=t=>e=>Object(i.fromNullable)(e[t]),o=t=>{try{return Object(i.Just)(t())}catch(t){return Object(i.Nothing)()}}},"K+Nk":function(t,e,n){"use strict";var i=n("eEls"),a=n("c6/r");const o=Object(i.a)(JSON.parse,a.a);e.a=o,window.parseEscapedJSON=o},KHPI:function(t,e,n){"use strict";var i,a=n("+2Rf"),o=n.n(a),r=(n("/Su4"),n("LIwG"),n("HW2X"),n("NQrx"),n("4cFS"),n("nv4A"),n("gNPL"),n("a9CO"),n("2sRD"),n("Irv6"),n("OT5S"),n("0VSk")),s=(n("uJlH"),n("+2Rf"));n("+2Rf");(i=s).fn.confirm_submit=function(t){return t=t||{},i(this).each(function(){var e=i(this);e.on("submit.confirm_submit",function(n){n.preventDefault();var a='<div class="modal_delete_confirmation"><p class="copy">'+(t.copy||r.default.t("library.confirm_submit.Really_buddy"))+'</p><div class="buttons"><a href="#" class="yes btn btn--green">'+(t.yes_copy||r.default.t("library.confirm_submit.Yes"))+'</a><a href="#" class="no btn btn--gray">'+(t.no_copy||r.default.t("library.confirm_submit.No_Thanks"))+"</a></div></div>",o=i.create_modal_dialog(t.title||"Are you sure?",a);e.removeClass("submitting-non-ajax"),o.find("a.yes").on("click",function(n){n.preventDefault(),e.off("submit.confirm_submit"),t.on_confirm_submit&&t.on_confirm_submit(),e[0].submit()}),o.find("a.no").on("click",function(t){t.preventDefault(),i(this).trigger("close")}),o.data("modal_dialog").open()})})};n("WbKZ"),n("gtN/"),n("Tuxz");var c=n("GRmu"),d=(n("+2Rf"),n("+2Rf"));d.fn.in_place_editor=function(){return d(this).each(function(){var t=d(this),e=t.next("form.in_place_editor"),n=e.find(".js-in-place-editor-cancel"),i=t.siblings(".trigger_editor")||t,a=e.find("input.text"),o=!1;function s(){e.addClass("inactive"),t.show()}i.on("click",function(){a.css("fontSize",t.css("fontSize")),t.hide(),e.removeClass("inactive"),a.focus()}),n.on("click",function(){a.val(t.text()),s()}),e.on("submit",function(n){n.preventDefault(),o||(e.addClass("submitting"),o=!0,d.ajax({url:e.attr("action").replace(/(\.\w+)?$/,".js"),data:e.serialize(),type:"POST",complete:function(){e.removeClass("submitting"),o=!1},success:function(){var n=a.val();t.html(n),s(),o=!1,e.siblings(".clipster").data("text",n)},error:function(t){var n=JSON.parse(t.responseText),i="<p>"+r.default.t("library.in_place_editor.Oops_there_was_a_problem_with_your_submission");e.removeClass("submitting"),o=!1,n.errors?(i+=":<br/>"+d.map(n.errors,function(t,e){return e+": "+t}),i+="</p>"):i+=". "+r.default.t("library.in_place_editor.Please_refresh_the_page_before_trying_again")+"</p>",Object(c.a)({error:d(i).html()})}}))})})},d("span.in_place_editor").in_place_editor();n("hL3N"),n("TO/6"),n("nGRn"),n("cgaT"),n("+2Rf");var l=n("+2Rf");!function(){function t(t){return t.html}function e(t){return t.data("href")||t.prop("href")}l.fn.loadMore=function(n){l(this).each(function(){var i=l(this),a=i.find(".js-load-more--appendable"),o=i.find(".js-load-more--removable"),s=i.find(".js-load-more--button");o.length||(o=s),function(n,i,a,o,s){var c=n.mobius(l.extend({url:e(i),dataType:"json",trigger_next:i,load_next_after:a},s)).data("mobius");n.on("mobius:loading_page",function(){var t=n.attr("data-exclude-ids"),e=c.options.perPage||6;t&&c.add_param("exclude_ids[]",t.split(",")),e&&c.add_param("per_page",e),i.prop("disabled",!0),i.data("previousHTML",i.html()),i.html(r.default.t("library.load_more.Loading"))}),n.on("mobius:loaded_page",function(e,n,r){var s=(c.options.responseToHTML||t)(r),d=l(s).hide();a.append(d),d.slideDown(),i.html(i.data("previousHTML")),i.prop("disabled",!1),"has_more"in r&&!r.has_more&&o.remove()})}(i,s,a,o,n)})}}();n("Ijdr"),n("ksT7"),n("fpXP"),n("PTfn"),n("fBlF");var u=n("a+N5"),_=n.n(u),f=(n("+2Rf"),n("+2Rf"));f.fn.option_values=function(t){var e=f(this).first().find("option").map(function(e,n){var i=n.value;return!("function"==typeof t&&!t(i))&&i});return _()(e).without(!1)},f.fn.select_machine=function(t,e){var n={default_control:function(t){t.hide()}};return f(this).each(function(){!function(t,e,n){var i=f(t),a=_.a.map(_.a.keys(e),function(t){return"#"+t}).join(", ");i.delegate(a,"change",function(){f(this).trigger("state_change")}),i.delegate(a,"state_change",function(){var t=f(this),i=t.val();_.a.each(e[t[0].id],function(t,e){var a,o=f("#"+e),r=o.add(o.prev("label")),s=o.val(),c=_.a.result(t,i);void 0===o.data("options")&&o.data("options",o.find("option")),_.a.isRegExp(c)&&(c=o.option_values(function(t){return t.match(c)})),_.a.isArray(c)&&(c=_.a.map(c,function(t){return'[value="'+t+'"]'}).join(", ")),c?(a=f(o.data("options")),_.a.isString(c)&&(a=a.filter(c)),n.include_blank&&(a=f("<option>").add(a)),o.html(a),r.show(),o.val()!==s&&o.trigger("change")):(n.default_control(r),o.trigger("change"))})})}(this,t,f.extend(n,e))}),this};var h=n("+2Rf");n("+2Rf");!function(t){t.fn.serialize_without_blank=function(){var e,n=[];return this.find(":input").each(function(){""!==t.trim(this.value)||this.disabled||(n.push(this),this.disabled=!0)}),e=this.serialize(),_.a.each(n,function(t){t.disabled=!1}),e}}(h);n("W2lQ"),n("qtVb"),n("hqPT"),n("j4ny"),n("/gmP");var p=n("zm9w"),m=n("+2Rf");n("+2Rf");!function(t){function e(e,n){var i;for(this.$elem=e,this.val=0,this.options=t.extend({},{frame_count:10,frame_step:40,frame_duration:30,format_numbers:!0,max_digits:5,keyframes:["","0","1","2","3","4","5","6","7","8","9",","],framesets:null},n),this.val=this.$elem.attr("rel"),this.keyframes=this.options.keyframes,this.framesets=this.options.framesets,this.framesets||this.init_framesets(),i=0;i<this.options.max_digits;i+=1)this.init_digit(i);this.write(this.val,!0)}t.fn.ticker=function(n){return n=n||{},t(this).each(function(){var i=t(this).data("ticker");i||(i=new e(t(this),n),t(this).data("ticker",i))})},t.extend(e.prototype,{read:function(){return this.val},write:function(e,n){this.val=String(e||""),this.$elem.attr("rel",this.val);var i,a,o,r,s,c,d,l,u=(this.options.format_numbers?p.a.format_number(this.val,{precision:0}):this.val).split(""),_=this.$elem.find(".ticker_digit");for(l=0;l<u.length-_.length;l+=1)this.init_digit(l+_.length);for(_=this.$elem.find(".ticker_digit"),l=0;l<_.length;l+=1){if(a=(i=t(_[l])).html(),o=u[l]?String(u[l]):"",r=t.inArray(o,this.keyframes),s=this.framesets[r][0],c=t.inArray(i.html(),this.keyframes),d=[],i.html(o).data("tween_id",i.data("tween_id")+1),!o||o===a||n)d=d.concat(s);else for(;c!==r;)d=d.concat(this.framesets[c]),c=(c+=1)>=this.keyframes.length?1:c;this.tween(i.data("tween_id"),i,d)}},init_framesets:function(){var t,e;for(this.framesets=[],t=0;t<this.keyframes.length;t+=1)for(this.framesets.push([]),e=0;e<this.options.frame_count;e+=1)this.framesets[t].push(t*this.options.frame_count*this.options.frame_step+e*this.options.frame_step)},init_digit:function(e){var n=t(this.$elem.find(".ticker_digit").get(e));n.length||(n=t('<span class="ticker_digit">&nbsp;</span>').prependTo(this.$elem)),n.data("tween_id",1)},digit_count:function(){return this.$elem.find(".ticker_digit").length},remove_digit:function(t){t.remove(),this.pad_digits()},tween:function(t,e,n){if(n.length){if(e.data("tween_id")!==t)return!1;var i=this;setTimeout(function(){var a=n.shift();e.css({"background-position":"0px "+-1*a+"px"}),i.tween(t,e,n)},this.options.frame_duration)}}})}(m);n("Mk9X"),n("SiTU"),n("Ck6Y"),n("c48Q"),n("OUkx"),n("ggHp"),n("GrIj"),n("BKXR"),n("COUM"),n("yzew"),n("LtuN"),n("IREc"),n("7O0U"),n("RIhn"),n("POwR"),n("1uyb"),n("NNfo");const g=o.a;e.a=g},KKf6:function(t,e,n){"use strict";var i,a={};(i=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}}(navigator.userAgent)).browser&&(a[i.browser]=!0,a.version=i.version),a.chrome?a.webkit=!0:a.webkit&&(a.safari=!0),e.a=a},KZo6:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"c",function(){return r}),n.d(e,"d",function(){return d}),n.d(e,"a",function(){return s});var i=n("/AD1"),a=n("WjF9");function o(){return{user_id:a.a&&a.a.get?a.a.get("id"):null,project_id:i.a&&i.a.get?i.a.get("id"):null}}const r=t=>btoa("".concat(t.name,": ").concat(t.message).substring(0,50)),s=/^file:\/\/|^http:\/\/localhost\/|^https:\/\/www\.optimizelyedit\.com\/|^https:\/\/translate\.googleusercontent\.com\/|^https:\/\/www\.translatoruser-int\.com\//,c=/Baidu|Chrome\/([1-6][0-9]|[7][0-4])|Firefox\/([1-5][0-9]|[6][0-7])\.|Edg|MSIE|SamsungBrowser|SogouMobileBrowser|Windows Phone OS|rv:11.0/,d=()=>!c.test(navigator.userAgent)},KvHV:function(t,e,n){"use strict";var i=n("+2Rf"),a=n.n(i),o=n("o3IG");function r(t,e){const n=new Date;n.setHours(n.getHours()+24),Object(o.c)(t,e,n)}a()(function(){a()(document).on("mouseover","li.menu-dropdown",function(){a()(this).find(".menu-submenu").show()}),a()(document).on("mouseout","li.menu-dropdown",function(){a()(this).find(".menu-submenu").hide()}),a()(document).on("click",".hit-list li",function(){var t=a()(this).find("a.target");t.length&&(window.location=t.attr("href"))}),a()(document).on("click",".js-feature-clear-all",function(){JSON.parse(this.dataset.cookies).forEach(o.a),window.location.reload()}),a()(document).on("click",".js-feature-clear",function(){Object(o.a)(this.dataset.cookie),window.location.reload()}),a()(document).on("click",".js-feature-toggle",function(){r(this.dataset.cookie,this.dataset.enabled),window.location.reload()}),a()(document).on("click",".js-experiment-toggle",function(){r(this.dataset.cookie,this.dataset.variant),window.location.reload()}),a()(document).ready(function(){a()("#feature-search").bind("keydown keypress keyup change",function(t){var e=t.target.value;a()("#feature-search-data li#feature-search-data-item").hide().filter(function(){return a()(this).text().indexOf(e)>=0}).show()})})})},LKre:function(t,e,n){"use strict";var i=n("+2Rf"),a=n.n(i),o=n("h4vE"),r=n("itcf");Object(o.a)(".NS_banners__social_prompt",function(t){var e=t.data("url");e&&a.a.ajax({url:Object(r.a)(e),type:"get",success:function(e){var n=e.remotely_followed_count;n>0&&(t.find(".js-friend-count").html(n),t.removeClass("banner--is-hidden"))}})})},MRng:function(t,e,n){"use strict";var i=n("+2Rf"),a=n.n(i),o=(n("g/nJ"),n("2UXI"));a()(function(){var t,e,n,i,r,s=a()(".js-mega-footer");s.length&&(e=0,n=["icon-scissors-1","icon-scissors-2","icon-scissors-3"],i=0,(r=a()("span.scissors",s)).click(function(){t||(t=a()(".js-mega-footer__content").width()/3),e+=1,function t(e){e>9||(r.removeClass(n[i]),(i+=1)===n.length&&(i=0),r.addClass(n[i]),setTimeout(function(){t(e+1)},100))}(0),r.animate({marginLeft:t*e},1e3,function(){3===e&&(r.hide(),s.height(s.height()),s.addClass("gone"),a()("html").addClass("gone"),a()(".js-mini-footer").hide(),s.find(".js-mega-footer__content").animate({marginTop:[s.height(),"easeInOutExpo"],opacity:0},1e3,function(){a()(".js-mega-footer__newsletter-signup").fadeIn()}))})}),a()(document).on("change",".js-change-language",function(t){var e=t.target.value,n=a()("body").attr("id");Object(o.d)("Selected Chosen Language",{property:e,context:n}),a()(this).submit()}),a()(document).on("change",".js-change-currency",function(t){var e=a()(this),n=t.target.value,i=a()("body").attr("id");a()("#currency-modal").modal_dialog({event:t}),a()(".currency-submit").on("click",function(){Object(o.d)("Selected Chosen Currency",{property:n,context:i}),e.submit()})}))})},Mk9X:function(t,e,n){n("+2Rf");!function(t){function e(e,n){this.$field=e,this.options=t.extend({on_invalid:null,format:"%H:%M %z",am:"am",pm:"pm"},n),this._value=this._current_time_from_field(),this._attach()}t.fn.time_field=function(n){return t(this).each(function(){new e(t(this),n)})},t.extend(e.prototype,{_attach:function(){var t=this;t.$field.bind("blur",function(){t._handle_edit()}),this.$field.bind("time_field:set_time",function(e,n){t.set_time(n)})},_s_to_time:function(t){if("object"==typeof Date.Parsing){var e=Date.parse(t);return e?e.toString("HH:mm"):this.options.on_invalid}var n,i=t.match(/^\s*(\d\d?)(:(\d\d))?\s*([ap]m?)?\s*$/i),a=!i;if(!a){var o=+i[1]%12,r=+i[3]||0,s=(i[4]||"").match(/p/i);i[4]||(s=+i[1]>=12),+i[1]>23&&(a=!0),+i[1]>12&&i[4]&&(a=!0),r>59&&(a=!0),+i[1]<1&&i[4]&&(a=!0);var c=""+(o+(s?12:0));1===c.length&&(c="0"+c);var d=""+r;1===d.length&&(d="0"+d),n=c+":"+d}return a?this.options.on_invalid:n},_time_to_s:function(e){if("object"==typeof Date.Parsing){var n=Date.parse(e);return n?n.toString("h:mm tt"):this.options.on_invalid}var i=e&&e.match(/(\d\d):(\d\d)/);if(i){var a=this.options.format,o=+i[1],r=+i[2],s=o>=12?this.options.pm:this.options.am,c=""+(o%12?o%12:12),d=""+r;return 1===d.length&&(d="0"+d),t([["%Hh",o],["%H",c],["%M",d],["%z",s]]).each(function(t,e){a=a.replace(e[0],e[1])}),a}return""},_current_time_from_field:function(){return this._s_to_time(this.$field.val())},_reset_field_value:function(){this._value!==this._current_time_from_field()&&this.$field.val(this._time_to_s(this._value))},set_time:function(t){t!==this._value&&(this._value=t,this.$field.trigger("time_field:time_changed",this._value)),this._reset_field_value()},_handle_edit:function(){var t=this._current_time_from_field();this.set_time(t)}})}(n("+2Rf"))},NxQb:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.enabled_features;return"string"==typeof e&&(e=JSON.parse(e)),!(!e||!e[t])}},O2rH:function(t,e,n){"use strict";n.r(e);n("bxGQ"),n("4ST8"),n("SiTU"),n("nGRn"),n("qtWx"),n("qcI4"),n("38sE"),n("dw72"),n("aNAf"),n("2UXI")},OT5S:function(t,e,n){n("+2Rf");var i=n("+2Rf");i.fn.composed=function(t,e){var n=i(this);return void 0===n.data("topics")&&n.data("topics",{}),(n.data("topics")[t]||[]).reduce(function(t,e){return e.call(i,t)},e)},i.fn.composable=function(t,e){var n=i(this);return void 0===n.data("topics")&&n.data("topics",{}),n.data("topics")[t]||(n.data("topics")[t]=[]),n.data("topics")[t].push(e),[t,e]}},OUkx:function(t,e,n){"use strict";var i=n("a+N5"),a=n.n(i),o=n("+2Rf");n("+2Rf");!function(t){t.fn.whenNear=function(e,n){const i=t(window),o=e||0;let r=this;function s(){const e=a.a.filter(r,function(e){const n=t(e);if(n.is(":hidden"))return;const a=i.scrollTop(),r=a+i.height(),s=n.offset().top;return s+n.height()>=a-o&&s<=r+o});r=r.not(e),a.a.each(e,n)}return i.on("scroll.whenNear resize.whenNear",a.a.throttle(s,25)),s(),this}}(o)},P0CJ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>new Date(t).toISOString().replace("Z","")},PTfn:function(t,e,n){var i=n("+2Rf");n("+2Rf");!function(t){var e={};t.publish=function(){var n=Array.prototype.slice.call(arguments),i=n.shift();e[i]&&t.each(e[i],function(){this.apply(t,n)})},t.subscribe=function(t,n){return e[t]||(e[t]=[]),e[t].push(n),[t,n]},t.unsubscribe=function(){var n=arguments[0];e[n]&&t.each(e[n],function(t){this===arguments[1]&&e[n].splice(t,1)})}}(i)},QfO9:function(t,e,n){"use strict";var i=n("+2Rf"),a=n.n(i),o=n("GRmu"),r=n("ese3");a()(document).on("click",".js-facebook-login, a.facebook-link",function(t){const e=a()(this);t.preventDefault(),"undefined"!=typeof FB?FB.login(function(t){t.authResponse&&a.a.post(e.attr("href"),{fbsr:t.authResponse.signedRequest}).done(function(t){t.data&&Object(r.a)(t.data,window.location.href)?window.location.reload(!0):t.data?window.location=t.data:t.flash&&(a.a.isArray(t.flash)&&a.a.isArray(t.flash[0])?Object(o.a)(a.a.map(t.flash,function(t){return t[t.length-1]})):t.flash&&Object(o.a)(t.flash))})},{scope:"email,user_friends,public_profile"}):Object(o.a)({error:"Sorry, we weren't able to connect to Facebook"})})},QrAi:function(t,e,n){"use strict";var i=n("+2Rf"),a=n.n(i),o=(n("RIhn"),n("1OuE"));a()(".js-adjust-time").livequery(function(){var t=a()(this);t.text(Object(o.a)(t.data("format"),t.attr("datetime"))),t.removeClass("invisible-if-js")})},S1QU:function(t,e,n){"use strict";var i=n("60hy"),a=n("2UXI");const o=Object(i.a)(window.current_checkout);o&&o.on_change(t=>{t.reward?Object(a.d)("Checkout Reward Changed"):void 0!==t.location_id?Object(a.d)("Checkout Location Changed"):t.shipping_amount?Object(a.d)("Checkout Shipping Amount Changed"):t.amount&&Object(a.d)("Checkout Amount Changed")}),window.current_checkout=o,e.a=o},SiTU:function(t,e,n){var i=n("+2Rf");n("+2Rf");i.support.transitionEvent=function(){return void 0!==window.TransitionEvent}},SmhT:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return r}),n.d(e,"g",function(){return s}),n.d(e,"k",function(){return c}),n.d(e,"l",function(){return d}),n.d(e,"m",function(){return l}),n.d(e,"n",function(){return u}),n.d(e,"i",function(){return _}),n.d(e,"e",function(){return f}),n.d(e,"f",function(){return h}),n.d(e,"h",function(){return p}),n.d(e,"o",function(){return m}),n.d(e,"j",function(){return g});const i=8,a=40,o=13,r=27,s=37,c=39,d=32,l=9,u=38,_=2,f=74,h=75,p=[65,66,67,68,69,70,71,72,73,f,h,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],m=t=>t>=66&&t<=90,g=[18,91,93,17,a,o,r,s,c,16,l,u,91,92,93,17,224]},"TO/6":function(t,e,n){"use strict";n.r(e);var i=n("a+N5"),a=n.n(i),o=n("GRmu"),r=n("0VSk"),s=n("2UXI"),c=n("yQm5"),d=n.n(c),l=(n("q+rZ"),n("/AD1")),u=(n("+2Rf"),n("+2Rf"));u.fn.ksr_uploader=function(t){function e(e,n,i){return u.pollster(e,function(e){return!!e.image_src&&(n.find(".success img.preview").attr("src",e.image_src).removeAttr("data-status_url"),u(".js-subs-preview").removeClass("o0p"),n.removeClass("encoding"),i.trigger("ksr_uploader:uploaded",[e]),t.after_encode&&t.after_encode(),!0)},{delay:5e3})}return t=t||{},u(this).each(function(){var n,i,c=u(this),_=new RegExp(window.location.host+"|^/"),f=!c.attr("url").match(_),h=f?a.a.map(c.data("params"),(t,e)=>({name:e,value:t})):[{name:"new_style",value:!0}],p=c.siblings(".progress"),m=c.parent(),g=m.parent(),v=c.closest("form"),b=g.find(".success img.preview"),y=v.find("input[type=submit]"),w=y.map(function(){return u(this).val()}).get(),k=!1;function j(t){k=t,c.data("uploading",t)}function x(t){var i=t,a=v.find(".success");if("string"==typeof i)try{i=u.parseJSON(i)||{}}catch(t){i={}}j(!1),i.image_src&&a.find("img.preview").attr("src",i.image_src),i.id&&a.find("input.asset_id").val(i.id),b.attr("data-status_url",i.status_url),c.trigger("file_added",[i]),y.val(function(t){return w[t]}),g.removeClass("uploading"),g.addClass("has_file"),u(".js-subs-percentage").addClass("hide"),u(".js-subs-preview").addClass("o0p"),u(".js-subs-uploader-icon").addClass("hide"),i.status_url?n=e(i.status_url,g,c):c.trigger("ksr_uploader:uploaded",[i])}function S(t,e,n){var i=u.map(e.messages,function(t){return t}),a=v.find(".js-asset-upload").attr("class");void 0===a&&(a=v.closest(".js-asset-upload").attr("class")),u.each(i,function(e,i){Object(s.d)(t,{project_pid:l.a.data.id,type:n.type,file_size:n.size,context:a,error_description:i})})}c.siblings("label").hide(),c.fileupload({dataType:"text",dropZone:m,pasteZone:null,url:c.attr("url"),type:"POST",replaceFileInput:!1,add:function(t,e){e.files[0].size<1?e.files=[]:(n&&n.stop(),i=e.submit(),j(!0),p.removeClass("finished"),g.addClass("uploading"),c.trigger("file_queued"),window.onbeforeunload=function(){if(k)return r.default.t("library.ksr_uploader.Your_upload_has_not_completed_yet_Click_Stay")})},submit:function(t,e){f?h.push({name:"success_action_redirect",value:u.support.xhrFormDataFileUpload?"":d()().path("/iframe_upload_catcher.html").fragment("").toString()}):h.push({name:"authenticity_token",value:u('meta[name="csrf-token"]').attr("content")}),e.formData=h},done:function(e,n){f?function(e){if("function"==typeof t.remote_upload_success)return void t.remote_upload_success.apply(c,arguments);var n=e.files[0];u.ajax({url:c.data("assetPath"),data:{file_name:encodeURIComponent(n.name),content_type:n.type,updated_at:(n.lastModifiedDate||new Date).getTime(),file_size:n.size,s3_key:a.a.findWhere(h,{name:"key"}).value},type:"POST",success:function(t){x(t)},error:function(){v.trigger("ksr_file_upload:reset"),j(!1),Object(o.a)({error:r.default.t("library.ksr_uploader.Could_not_upload_this_file")}),g.removeClass("uploading"),void 0!==l.a&&0===l.a.get("launched_at")&&S("Errored Project Asset Upload",e,n)}})}(n):x(n.result)},progress:function(t,e){var n=parseInt(e.loaded/e.total*100,10);p.find(".bar").css("width",n+"%"),p.find(".percentage").text(n+"%"),u(".js-subs-percentage").text(n+"%"),100===n&&(p.addClass("finished"),p.find(".percentage").text(r.default.t("library.ksr_uploader.Processing")),y.val(r.default.t("library.ksr_uploader.Processing_please_wait")),u(".js-subs-percentage").text("Processing..."))},fail:function(t,e){c.trigger("error"),v.trigger("ksr_file_upload:reset"),j(!1),Object(o.a)({error:r.default.t("library.ksr_uploader.There_was_an_error_with_this_file_Please_try_a_different")}),y.val(function(t){return w[t]}),g.removeClass("uploading"),void 0!==l.a&&0===l.a.get("launched_at")&&S("Failed Project Asset Upload",e,e.files[0])}}),b.data("status_url")&&(n=e(b.data("status_url"),g,c),b.removeAttr("status_url")),m.on("pollster:stop",function(){n&&n.stop()}),m.on("ksr_file_upload:cancel cancel",function(){i&&i.abort(),v.trigger("ksr_file_upload:reset"),c.trigger("error"),j(!1)}),m.on("destroy",function(){m.trigger("ksr_file_upload:cancel")}),m.on("resize",function(){m.find("object").attr("width",m.outerWidth()).attr("height",m.outerHeight())})})}},Tuxz:function(t,e,n){var i=n("+2Rf");n("+2Rf");!function(t){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t(document).on("click","a[data-method]",function(i){var a=t(this),o=a.prop("href"),r=a.data("method"),s=a.prop("target"),c=t('<form method="post" action="'+o+'"></form>'),d='<input name="_method" value="'+r+'" type="hidden" />';void 0!==n&&void 0!==e&&(d+='<input name="'+n+'" value="'+e+'" type="hidden" />'),s&&c.prop("target",s),c.hide().append(d).appendTo("body"),c[0].submit(),i.preventDefault()}),e&&t.ajaxPrefilter(function(t,n,i){t.crossDomain||i.setRequestHeader("X-CSRF-Token",e)})}(i)},U98V:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("+2Rf"),a=n.n(i);const o=t=>{((t,e)=>{const n=a()(t).find("#"+e);!a()(t).find("iframe").length&&(n.length&&(n.empty(),window.grecaptcha.ready(function(){window.grecaptcha.render(e,{sitekey:window.recaptcha_v2_site_key})})))})(t,"g-recaptcha-container-v2"),((t,e,n)=>{const i=a()(t).find("#"+e);i.length&&window.grecaptcha.ready(function(){return i.empty(),window.grecaptcha.execute(window.recaptcha_v3_site_key,{action:n}).then(function(t){i[0].value=t}),!0})})(t,"g-recaptcha-response-v3","send_message")}},W2lQ:function(t,e,n){"use strict";n("bxGQ");var i=n("+2Rf");n("+2Rf");!function(t){function e(e){this.$container=t(e),this.embed()}t.fn.sound_player=function(){return t(this).each(function(){var n=t(this).data("ksr_video");n||(n=new e(t(this)),t(this).data("sound_player",n))})},t.extend(e.prototype,{embed:function(e){var n="v"+parseInt(1e8*Math.random(),10),i=this;this.$container.find("span").attr("id",n),swfobject.embedSWF("https://d3mlfyygrfdi2i.cloudfront.net/321f/kickplayer.swf",n,this.$container.width(),this.$container.height(),"9.0.115","https://d3mlfyygrfdi2i.cloudfront.net/7b65/expressInstall.swf",{displayheight:this.$container.height(),file:encodeURI(this.$container.attr("data-file")),backcolor:"000000",screencolor:"000000",controlbar:"bottom","controlbar.idlehide":"false",autostart:e,audioonly:!0,skin:"https://d3mlfyygrfdi2i.cloudfront.net/cc3a/kickskin.swf"},{allowscriptaccess:"always",wmode:"opaque",menu:"false"},{id:"sound_player_"+n,class:"ksr_player",name:"sound_player_"+n},function(n){if(n.success)i.jwplayer=jwplayer(n.ref);else{var a=t("<audio />",{src:i.$container.attr("data-file"),controls:!0,autoplay:e});i.$container.html(a),i.$audio=a}}),this.initialized=!0}})}(i)},WJbx:function(t,e,n){"use strict";var i=n("+2Rf"),a=n.n(i),o=n("0VSk"),r=n("ZCIj"),s=n("2UXI");a()(function(){var t,e=a()(".NS_layouts__user_dropdown"),n=!1,i=!1;function c(){e.find("#menu-me-backed").length&&e.find(".user-dropdown").addClass("backer"),e.find("#menu-me-created").length&&e.find(".user-dropdown").addClass("creator")}function d(t){var n=e.find("#menu-me-children");r.b.setItem("user_dropdown_backer_creator_columns_html",t),n.children(".NS_layouts__user_dropdown_backer_creator_columns").remove(),n.append(t),c()}function l(t){i||(i=a.a.ajax({url:e.data("user_dropdown_backer_creator_columns_path"),type:"get",dataType:"html",data:{i18n:o.default.enabled},beforeSend:function(t){t.setRequestHeader("Accept","text/javascript, */*")},success:function(t){d(t),n=!0},complete:function(){t&&t(),i=!1}}))}(t=r.b.getItem("user_dropdown_backer_creator_columns_html"))&&(d(t),n=!0),c(),a()(".js-user-menu-tab").on("user_dropdown:open",function(){var t=a()(this);n?t.addClass("selected"):l(function(){t.addClass("selected")})}),a()(".js-user-menu-tab, .js-user-menu-tab > a").one("click",function(){Object(s.d)("Account Menu Dropdown",{new_indicator_visible:a()(this).find(".indicator").is(":visible")}),l()}),a()(document).on("user_dropdown:refresh_from_remote",function(){l()}),a()("body").is(".just_logged_out")&&r.b.removeItem("user_dropdown_backer_creator_columns_html")})},WbKZ:function(t,e,n){"use strict";n("2sRD"),n("+2Rf");!function(t){function e(e,n){this.$field=e,this.$calendar=void 0,this.options=t.extend({calendar:{},position:"right"},n),this._in_manual_edit=!1,this._blurs_to_ignore=-1,this._attach()}t.fn.datetime_picker_field=function(n){return this.each(function(){new e(t(this),n)})},t.extend(e.prototype,{_attach:function(){var t=this;this.$field.focus(function(){t._in_time_field=!1,t._ensure_calendar()}),this.$field.blur(function(){t._hide_calendar_or_refocus(),t._blurs_to_ignore-=1}),t.$field.bind("keypress cut paste input",function(){t._handle_edit()})},_ensure_calendar:function(){if(this.$calendar)return this.$calendar;var e=this,n=t("<div></div>"),i=t.extend({selected_date:this.get_selected_datetime()},this.options.calendar);return this.options.class_name?n.addClass(this.options.class_name):(n.css("position","absolute"),n.css("z-index",1e3)),"bottom"===this.options.position?(n.css("left",this.$field.offset().left),n.css("top",this.$field.offset().top+this.$field.outerHeight()+20)):(n.css("left",this.$field.offset().left+this.$field.width()+20),n.css("top",this.$field.offset().top)),n.hide(),this._get_surrounding_element().append(n),n.calendar_date_picker(i),n.mousedown(function(){e._in_time_field=!1,e._blurs_to_ignore+=1}),n.find("label").mousedown(function(t){e._in_time_field=!0,e._blurs_to_ignore+=1,t.stopPropagation()}),n.find("input").blur(function(){e._hide_calendar_or_refocus(),e._blurs_to_ignore-=1}),e._blurs_to_ignore=0,n.bind("calendar_date_picker:date_selected",function(t,n){if(!e._in_manual_edit){var i=e.options.format_callback(n);i!==e.$field.val()&&(e.$field.val(i),e.$field.trigger("input"),e.options.calendar.time_text||(e._hide_calendar(),e._focus_next()))}}),n.find(".time input").bind("keydown",function(n){13===n.keyCode&&(t(this).blur(),e._hide_calendar())}),this.$calendar=n,n.fadeIn(),this.options.open_calendar_callback&&this.options.open_calendar_callback(),this.$calendar},_hide_calendar:function(){this.$calendar&&(this.$calendar.fadeOut(function(){t(this).remove()}),this.$calendar=void 0,this.options.close_calendar_callback&&this.options.close_calendar_callback())},_focus_next:function(){var t=this.$field.parents("form:eq(0)").find(":input"),e=t.index(this.$field);e>-1&&e+1<t.length&&t.eq(e+1).focus()},_reformat_value:function(){this.$field.val(this.options.format_callback(this.get_selected_datetime()))},_hide_calendar_or_refocus:function(){var t=this;this._blurs_to_ignore<=0?(this._hide_calendar(),this._reformat_value()):window.setTimeout(function(){t._in_time_field?t.$calendar&&t.$calendar.length&&t.$calendar.find("input").focus():t.$field.focus()})},_handle_edit:function(){this._in_manual_edit=!0,this.$calendar&&this.$calendar.trigger("calendar_date_picker:select_date",this.get_selected_datetime()),this._in_manual_edit=!1},get_selected_datetime:function(){var t=this.$field.val();return this.options.parse_callback(t)},_get_surrounding_element:function(){return this.options.surrounding_element?t(this.options.surrounding_element):t("body")}})}(n("+2Rf"))},WjF9:function(t,e,n){"use strict";var i=n("60hy");const a=Object(i.c)(window.current_user);window.current_user=a,e.a=a},XLBa:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i,a=n("prSB"),o=n("+2Rf"),r=n.n(o),s=n("a+N5"),c=n.n(s),d=n("zm9w");function l(t,e){if(c.a.isArray(t)){var n=c()(t).map(function(t){return function(t,e){var n,i;return n=c()(t).map(function(t,n){var a=!1;return n.match(/^\!/)&&(a=!0,n=n.replace(/^\!/,"")),c.a.isArray(t)||(t=[t]),t=c()(t).map(function(t){return t+""}),i=c()(t).include(e[n]+""),a?!i:i}),c()(n).inject(function(t,e){return t||e},n[0])}(t,e)});return c()(n).inject(function(t,e){return t&&e},n[0])}}i={number:function(t){return t=Object(a.a)({precision:0},t),d.a.format_number(t.value,c.a.omit(t,"format","value"))},distance_date:function(t){return d.a.time_ago_in_words(t.value)}};const u=function(t){var e,n=t.data("format");e=(n=t.data("format"))&&"function"==typeof i[n]?i[n](t.data()):t.data("value"),t.html(e)};function _(t,e,n){r()(t).find("."+e+n.id).each(function(t,e){!function(t,e){var n,i,a="",o=r()(t),s=o.data("conditions"),c=o.attr("itemprop");void 0!==c?a=c.match(/\[(\w*)\]/)[1]:o.data("attr")&&(a=o.data("attr")),void 0!==s?("string"==typeof s&&(s=JSON.parse(s)),n=(i=l(s,e))?JSON.parse(o.data("render")):"",o.data("evaluation")!==i&&(o.html(n),o.data("evaluation",i),n.length&&_(o,"Project",e))):void 0!==a&&void 0!==e[a]&&(o.data("value",e[a]),o.attr("data-value",e[a]),u(o))}(e,n)})}const f=function(t,e){_(document,t,e)};function h(t){this.template=t,this.conditions=[]}function p(t){var e;return"string"==typeof t&&((e={})[t]=!0,t=e),t}h.prototype.if=function(t){return this.condition("and",!0,t),this},h.prototype.and=h.prototype.if,h.prototype.if_not=function(t){return this.condition("and",!1,t),this},h.prototype.unless=h.prototype.if_not,h.prototype.and_not=h.prototype.if_not,h.prototype.or=function(t){return this.condition("or",!0,t),this},h.prototype.or_not=function(t){return this.condition("or",!1,t),this},h.prototype.then=function(){var t=this;return function(){return function(e,n){return t.value=n(e),t.html()}}},h.prototype.condition=function(t,e,n){var i,a;return c.a.isObject(n)||((i={})[n]=!0,n=i),!1===e&&c.a.each(c()(n).keys(),function(t){n["!"+t]=n[t],delete n[t]}),"or"===t?(a=p(this.conditions[this.conditions.length-1]),n=p(n),this.conditions[this.conditions.length-1]=r.a.extend(!0,a,n)):"and"===t&&this.conditions.push(n),this},h.prototype.evaluation=function(){return void 0===this.cached_evaluation&&(this.cached_evaluation=l(this.conditions,this.template.proxy)),this.cached_evaluation},h.prototype.content=function(){return this.evaluation()?this.value:""},h.prototype.html=function(){var t=r()("<data>");return t.attr(this.html_options()),t.html(this.content()),t[0].outerHTML},h.prototype.html_options=function(){return{class:this.template.class_name,"data-conditions":JSON.stringify(this.conditions),"data-render":JSON.stringify(this.value),"data-evaluation":l}}},XM0S:function(t,e,n){"use strict";var i=n("+DSo");const a=(t,e)=>t.replace(i.a,function(t,n){return null==e[n]?t:e[n]}).replace(i.b,function(t,n){return null==e[n]?t:e[n]});e.a=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object(i.c)(t,e,n);return void 0===o&&(o=Object(i.d)(e),console.warn("I18n key is missing: ",e)),"string"==typeof o&&(o=a(o,n)),o}},YEaP:function(t,e,n){"use strict";var i={pageX:function(t){return t.originalEvent&&t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX}};e.a=i},ZCIj:function(t,e,n){"use strict";n.d(e,"a",function(){return o});const i={},a=()=>"undefined"!=typeof window?(void 0===window.__KSR_IN_MEMORY_STORAGE_CACHE__&&(window.__KSR_IN_MEMORY_STORAGE_CACHE__=i),window.__KSR_IN_MEMORY_STORAGE_CACHE__):i;const o=(()=>{if(!window)return!1;if(void 0!==window.__KSR_LOCAL_STORAGE_SUPPORTED__)return window.__KSR_LOCAL_STORAGE_SUPPORTED__;if(void 0===window.localStorage)return!1;try{const t=window.localStorage,e="__KSR_storagetest__";return t.setItem(e,"1"),t.removeItem(e),window.__KSR_LOCAL_STORAGE_SUPPORTED__=!0,!0}catch(t){return window.__KSR_LOCAL_STORAGE_SUPPORTED__=!1,!1}})()?new class{constructor(){this.isPersisted=!0,this.getItem=window.localStorage.getItem.bind(window.localStorage),this.setItem=window.localStorage.setItem.bind(window.localStorage),this.removeItem=window.localStorage.removeItem.bind(window.localStorage),this.key=window.localStorage.key.bind(window.localStorage),this.clear=window.localStorage.clear.bind(window.localStorage)}get length(){return window.localStorage.length}}:new class{constructor(){this.isPersisted=!1,this.cache=void 0,this.cache=a()}getItem(t){return t in this.cache?this.cache[t]:null}setItem(t,e){this.cache[t]=String(e)}removeItem(t){delete this.cache[t]}key(t){const e=Object.keys(this.cache);return t in e?e[t]:null}clear(){Object.keys(this.cache).forEach(t=>{delete this.cache[t]})}get length(){return Object.keys(this.cache).length}};e.b=o},a9CO:function(t,e,n){"use strict";var i=n("KKf6"),a=n("+2Rf");n("+2Rf");a.browser=i.a},aNAf:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("o3IG");function a(){return Object(i.b)("ios_mp_distinct_id")||Object(i.b)("vis")||Object(i.c)("vis",[Math.floor(1e20*Math.random()).toString(16).slice(0,16),Math.floor(1e20*Math.random()).toString(16).slice(0,16),Math.floor(1e20*Math.random()).toString(16).slice(0,16)].join("-")+"v1",new Date(2025,12,31),"/")}},bbO9:function(t,e,n){"use strict";var i=n("+2Rf"),a=n.n(i),o=n("0VSk");a()(function(){if("undefined"==typeof ga)return;var t;ga("set","customTask",(t=[{name:"EMAIL",regex:/.{4}@.{4}/g}],function(e){window._ga_originalSendHitTask=window._ga_originalSendHitTask||e.get("sendHitTask"),e.set("sendHitTask",function(e){var n=e,i=window._ga_originalSendHitTask;try{if(void 0!==t&&t.length){for(var a=e.get("hitPayload").split("&"),o=0;o<a.length;o++){var r,s=a[o].split("=");try{r=decodeURIComponent(decodeURIComponent(s[1]))}catch(t){r=decodeURIComponent(s[1])}t.forEach(function(t){r=r.replace(t.regex,"[REDACTED "+t.name+"]")}),s[1]=encodeURIComponent(r),a[o]=s.join("=")}e.set("hitPayload",a.join("&"),!0)}i(e)}catch(t){i(n)}})})),ga("create",analytics_vars.google_analytics_id,"auto");let e=null,n=null,i=null,a=!1,r=!1,s=null;try{void 0!==window.current_project&&(e=window.current_project.data.category.parent_name,n=window.current_project.data.category.name,i=window.current_project.data.state,s=window.current_project.data.id,"true"===analytics_vars.logged_in&&(a=window.current_project.data.is_backing)),void 0!==window.current_user&&(r=window.current_user.data.is_superbacker)}catch(t){}var c={dimension1:e,dimension2:analytics_vars.logged_in,dimension3:analytics_vars.social_user,dimension4:i,dimension5:o.default.browser_language,dimension6:o.default.chosen_language,dimension7:o.default.calculated_language,dimension8:o.default.display_language,dimension10:a?a.toString():"false",dimension11:r?r.toString():"false",dimension12:s,dimension13:n};if(ga("set",c),"undefined"==typeof ga_pageview_sent){window.ga_pageview_sent=!0;try{ga("send","pageview")}catch(t){}}})},c48Q:function(t,e,n){"use strict";var i=n("GRmu"),a=n("0VSk"),o=n("+2Rf");n("+2Rf");!function(t){function e(e){var n=e.data("status-url");n&&t.pollster(n,function(n){var o,r=e.data("track-label");return n.ok?(o=t(n.html),e.replaceWith(o),Object(i.a)({success:a.default.t("library.video_tracks_editor.Successfully_imported_label",{label:r})}),!0):!!n.error&&(o=t(n.html),e.replaceWith(o),Object(i.a)({error:a.default.t("library.video_tracks_editor.Something_went_wrong_while_importing_label",{label:r,error:n.error})}),!0)},{delay:1e3})}t.fn.videoTracksEditor=function(){var n=t(this);n.on("click",".js-add-track",function(e){var n=t(e.currentTarget),i=n.closest(".js-subtitles"),a=i.find(".js-language-select"),o=i.find(".js-track-list"),r=a.find("option:selected").val();t.ajax({method:"POST",url:n.data("create-track-path"),data:{language:r,captionable_type:n.data("captionable-type"),captionable_id:n.data("captionable-id")},dataType:"json"}).success(function(t){o.append(t.html),a.find('option[value="'+r+'"]').prop("disabled",!0),a.ksr_val(a.find("option").not("[disabled]").first().val())}),e.preventDefault()}),n.on("click",".js-captionable--destroy-track",function(e){var n=t(e.currentTarget),i=n.closest(".js-subtitles").find(".js-language-select"),o=n.data("path");e.preventDefault(),confirm(a.default.t("library.video_tracks_editor.Are_you_sure_you_want_to_delete_this_track"))&&t.ajax({method:"DELETE",url:o}).success(function(t){var e=n.data("language");t.ok&&(i.find('option[value="'+e+'"]').prop("disabled",!1),n.closest(".js-captionable--track-item").remove())})}),n.on("change",".js-importer--input",function(){var n,o=t(this),r=o.closest(".js-importer"),s=o.closest(".js-captionable--track-item"),c=r.find(".js-importer--text"),d=this.files&&this.files[0],l=new FormData;d&&(o.hide(),c.text(a.default.t("library.video_tracks_editor.Uploading")),l.append("track[file]",d),(n=t.ajax({url:o.data("url"),type:"PUT",processData:!1,contentType:!1,data:l})).success(function(n){var a;n.ok?(a=t(n.html),s.replaceWith(a),e(a)):Object(i.a)({error:n.error})}),n.error(function(){Object(i.a)({error:a.default.t("library.video_tracks_editor.Something_went_wrong_while_uploading_file",{file:d.name})}),o.show()}))}),n.find(".js-captionable--track-item").each(function(){e(t(this))})}}(o)},"c6/r":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("4LGs");const a={"&#39;":"'","&#96;":"`","&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`","&#x2F;":"/","\u2028":" ","\u2029":" "},o=t=>Object(i.a)(a,t)},cgaT:function(t,e,n){"use strict";n("Q5rT"),n("M7Yo"),n("QUFf"),n("LYY6"),n("eQoz"),n("z+4m"),n("jRr9"),n("+2Rf"),n("+2Rf")},dvPR:function(t,e,n){"use strict";n.r(e);var i=n("UB5X"),a=n.n(i),o=n("QHKZ"),r=n.n(o);n.d(e,"Honeybadger",function(){return r.a});var s=n("KZo6"),c=n("oMXI");if(window.honeybadgerConfiguration){const t=window.honeybadgerConfiguration;Object(c.b)()||Object(c.c)()||(t.disabled=!0),r.a.configure(t)}if("function"==typeof r.a.setContext&&r.a.setContext(Object(s.b)()),"function"==typeof r.a.beforeNotify){const t=.01;r.a.beforeNotify(e=>{if(e.fingerprint=Object(s.c)(e),Object(c.a)())return console.error("Honeybadger in development",e),!1;if(!Object(s.d)())return!1;if(s.a.test(window.location.href))return!1;if("production"===e.environment){const n=a()(e.__RATE_LIMIT__)?e.__RATE_LIMIT__:t;if(Math.random()>n)return!1}})}},dw72:function(t,e,n){"use strict";var i=n("+2Rf"),a=n.n(i),o=n("2UXI"),r=n("/AD1");!function(){function t(t,e){if(void 0!==t){var n="internal";a()("body").is(".widget")&&(n="external"),a.a.ajax({url:t,type:"post",data:{event_type:e,location:n}})}}function e(t){return a()("body").is(".widget")||t.closest("#projects_show").length?"Project":t.closest(".school").length?"School":t.closest(".NS_site__homepage_staff_picks").length?"Homepage Editorial":t.closest("#projects_start").length?"Start Project":t.closest("body.posts").length?"Project Post":t.closest("#projects_edit").length?"Project Edit":t.closest("#jobs_index").length?"Jobs Page":t.closest(".activity").length?"Activity":"Other"}var n;function i(t){window.koala_video_progress_endpoint&&(n=setInterval(function(){var e=t.current_position();!function(t){a.a.ajax({type:"POST",url:window.window.koala_video_progress_endpoint,data:JSON.stringify({project_name:r.a.data.name,project_pid:r.a.data.id,backers_count:r.a.data.backers_count,blurb:r.a.data.blurb,category_name:r.a.data.category.name,comments_count:r.a.data.comments_count,creator_name:r.a.data.creator.name,currency_symbol:r.a.data.currency_symbol,goal:r.a.data.goal,launched_at:r.a.data.launched_at,photo_full:r.a.data.photo.full,photo_thumb:r.a.data.photo.thumb,project_url:r.a.data.urls.web.project,usd_pledged:r.a.data.usd_pledged,video:r.a.data.video,video_playhead_position:t}),contentType:"text/plain; charset=UTF-8"})}(Math.floor(e))},1e3))}function s(t){return function(n){var i=a()(n.target),r=e(i),s=i.attr("data-video-name");Object(o.d)(r+" "+t,{video_name:s})}}a()(document).on("ksr_video:playing",function(n,r){var s=a()(n.target),c=e(s),d=s.data("ksr_video"),l=d.current_position(),u=s.closest(".video-player").attr("data-video-tracker-url"),_=s.attr("data-video-name");i(d),r?(t(u,"start"),Object(o.d)(c+" Video Start",{track_count:s.find("track").length,track_language:s.data("language"),video_name:_})):Object(o.d)(c+" Video Resume",{position:l,video_name:_})}).on("ksr_video:paused",function(t){var i=a()(t.target),r=i.data("ksr_video"),s=e(i),c=r.current_position(),d=i.attr("data-video-name");clearInterval(n),Object(o.d)(s+" Video Pause",{position:c,video_name:d})}).on("ksr_video:ended",function(n){var i=a()(n.target),r=i.data("ksr_video"),s=e(i),c=r.duration(),d=i.closest(".video-player").attr("data-video-tracker-url"),l=i.attr("data-video-name");t(d,"complete"),Object(o.d)(s+" Video Complete",{duration:c,video_name:l})}).on("ksr_video:change_track",function(t,n){var i=a()(t.target),r=e(i),s=i.attr("data-video-name");Object(o.d)(r+" Video Change Track",{track_language:n,video_name:s})}).on("ksr_video:muted",s("Video Mute")).on("ksr_video:unmuted",s("Video Unmute")).on("ksr_video:volume_adjusted",s("Video Volume Adjustment"))}()},eEls:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return r});const i=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((t,e)=>(function(){return t(e(...arguments))}))},a=t=>()=>t,o=t=>t,r=()=>void 0},ese3:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("yQm5"),a=n.n(i);function o(t,e,n){var i=a()(t).absoluteTo(window.location),o=a()(e).absoluteTo(window.location);return(n=n||{}).ignore_query&&(i.search({}),o.search({})),n.ignore_hash&&(i.hash(""),o.hash("")),i.equals(o)}},fBlF:function(t,e,n){var i=n("+2Rf");n("+2Rf");!function(t){t.fn.render=function(e){return t(this).each(function(){t(this).data("renderer")(e)}),this},t.fn.define_renderer=function(e){return t(this).data("renderer",e),this}}(i)},fpXP:function(t,e,n){var i=n("+2Rf");n("+2Rf");!function(t){t.fn.preload_background_image=function(){return this.each(function(){var e=function(t){var e=t.css("backgroundImage");try{return/[("]([^()"]+)[")]/.exec(e)[1]}catch(t){return!1}}(t(this));e&&((new Image).src=e)})}}(i)},"g/nJ":function(t,e,n){"use strict";var i=n("+2Rf"),a=n.n(i);n("hL3N");a()(function(){a()(document).ksrSelect()})},gMis:function(t,e,n){"use strict";n.r(e);var i=n("+2Rf"),a=n.n(i),o=n("SmhT");n("JqCU");const r=new Promise(t=>{a()(()=>t(a()("#growl_section")))});var s;function c(t){t.fadeOut("fast"),s&&s.length&&s.focus()}r.then(t=>{t.on("click",function(t){var e;a()(t.target).is(a()(this))&&((e=a()(this)).fadeOut("fast"),e.removeClass("sticky"),e.find("div.jGrowl-notification:parent").each(function(){a()(this).data("jGrowl")&&(a()(this).data("jGrowl").sticky=!1)}))}),a()(document).on("keydown",function(e){e.which===o.d&&t.is(":visible")&&c(t)})});const d=async(t,e)=>{const n=await r;a.a.each(t,function(t,i){void 0===e&&(e={}),"error"===t&&(e.sticky=!0,n.addClass("sticky")),n.jGrowl(i,a.a.extend(e,{theme:t,closeTemplate:'<button class="jGrowl-close-x" aria-label="close notification"><span class="ksr-icon__close" aria-hidden="true"></span></button>',beforeOpen:function(){var t;(t=n).fadeIn("fast"),s=a()(":focus"),t.find(".jGrowl-notification").attr("tabindex",-1).focus()},close:function(){c(n)}}))})};window.growl=d,e.default=d},gNPL:function(t,e,n){"use strict";var i=n("a+N5"),a=n.n(i),o=n("GRmu"),r=n("0VSk"),s=(n("huWg"),n("y9ho"),n("q+rZ"),n("+2Rf"),n("+2Rf")),c=function(t,e){var n=this;this.options=s.extend({},this.default_options,e),Object.keys(this.constructor.decorator).forEach(function(t){var i=[n.constructor.decorator[t]];"function"==typeof e[t]&&i.push(e[t]),n.options[t]=function(){for(var t=0;t<i.length;t+=1)i[t].apply(n,arguments)}}),this.$input=t,this.$form=t.closest("form"),this.$container=t.closest(".js-asset-upload"),this.uploading_files=[]};c.prototype.raise=function(t){this.$input.trigger("error"),this.$form.trigger("ksr_file_upload:reset"),Object(o.a)({error:t}),this.$container.removeClass("uploading")},c.prototype.default_options={type:"POST",dataType:"text",mimeTypes:[],paramsUrl:null},c.prototype.identifier_for_file=function(t){return t.name+t.size+t.type+t.lastModified},(c.decorator={}).add=function(t,e){var n=this,i=e.files[0],o=i.name.replace(/\s+/g,"_"),c=this.identifier_for_file(i);if(this.options.mimeTypes&&this.options.mimeTypes.length>0&&this.options.mimeTypes.indexOf(i.type)<0)return this.raise(r.default.t("library.adhoc_fileuploader.This_is_not_a_valid_file_type")),!1;this.options.paramsUrl?s.ajax({url:this.options.paramsUrl,type:"GET",data:{filename:o,filetype:i.type},success:function(t){e.paramName="file",e.formData=a.a.map(t.params,function(t,e){return{name:e,value:t}}),e.submit(),n.uploading_files.push(c)},error:function(){n.raise(r.default.t("library.adhoc_fileuploader.Theres_something_wrong_with_the_filename_Please",{file_name:i.name}))}}):(e.submit(),this.uploading_files.push(c))},c.decorator.done=function(t,e){var n=e.files[0],i=this.identifier_for_file(n);this.uploading_files=this.uploading_files.filter(function(t){return t!==i}),this.uploading_files.length||(this.$container.removeClass("uploading"),window.onbeforeunload=this.previous_onbeforeunload)},c.decorator.submit=function(){this.$container.addClass("uploading"),this.previous_onbeforeunload=window.onbeforeunload;var t=this;window.onbeforeunload=function(){if(t.$container.hasClass("uploading"))return r.default.t("library.adhoc_fileuploader.Your_upload_has_not_completed_yet_Click_Stay")}},c.decorator.progress=function(t,e){var n=this.$container.find(".progress"),i=n.filter(".tmpl");if(i.length){var a=e.formData[2].value.replace(/[^\w-_+]/g,"_");(n=this.$container.find("."+a)).length||(n=i.clone().addClass(a).removeClass("tmpl"),s(".progress:last").after(n))}var o=parseInt(e.loaded/e.total*100,10);n.find(".bar").css("width",o+"%"),n.find(".percentage").text(o+"%"),100===o&&(n.addClass("finished"),n.find(".percentage").text(r.default.t("library.adhoc_fileuploader.Processing")))},c.decorator.fail=function(){this.raise(r.default.t("library.adhoc_fileuploader.There_was_an_error_with_this_file_Please_try_a_different"))},s.fn.adhoc_fileuploader=function(t){s(this).each(function(){var e=new c(s(this),t);s(this).fileupload(e.options)})}},gY5S:function(t,e,n){"use strict";var i=n("+2Rf"),a=n.n(i),o=n("D6l6"),r=n("yQm5"),s=n.n(r);n("RIhn");a()(function(){a()(document).ajaxSend(function(t,e,n){var i,o;"GET"!==n.type&&(i=n.url,""===(o=new s.a(i).domain())||o===new s.a(window.location.href).domain())&&e.setRequestHeader("X-CSRF-Token",a()('meta[name="csrf-token"]').attr("content"))}),a()("form[data-ksrjson]").livequery(function(){var t=a()([]);a()(this).attr("data-target")?t=a()(a()(this).attr("data-target")):a()(this).closest(".ajax-container").length?t=a()(this).closest(".ajax-container"):a()(this).closest(".modal_dialog").length>0&&(t=a()(this)),t.length>0&&o.a.enable_form(a()(this),t)}),a()(document).on("click","a[data-ksrjson]",function(t){var e=a()(this),n=a()(e.attr("data-target"));return t.preventDefault(),0===n.length&&(n=e.closest(".ajax-container")),0===n.length||o.a.get(e.attr("href"),e.attr("data-ksrmethod"),n,this)})})},"gtN/":function(t,e,n){"use strict";var i=n("YEaP"),a=n("+2Rf");n("+2Rf");!function(t){function e(t,e){return i.a.pageX(t)-e.offset().left}t.fn.draggable_bar=function(n,i){return i||(i=n,n=null),this.each(function(){var a=t(this),o=null,r=0;a.on("mousedown touchstart",n,function(n){var i=t(n.target);o=n.target,r=e(n,i)}),a.on("mousedown touchstart mousemove touchmove",n,function(t){var n;o&&(n=e(t,a)/a.width())>0&&n<1&&i(n,o,r)}),t(document).on("mouseup touchend",function(){o=null})})}}(a)},h4vE:function(t,e,n){"use strict";var i=n("+2Rf"),a=n.n(i),o=n("ECYc"),r=n("NxQb");const s=["#NS__discover_advanced_sentence","#NS_discover__categories","#NS_discover__filters","#NS_discover__landing","#NS_discover__locations","#NS_discover__sorts","#admin-menu","#backings_index","#credit_cards_new","#discover_advanced","#help_stats","#navbar","#pledges_new","#projects_learn_refresh","#projects_show","#users_edit_account",".NS-admin_submissions__edit",".NS-features__toggle",".NS-friends",".NS-projects__admin_keyboard_control",".NS_admin_projects__review_panel_user",".NS_backings__info",".NS_layouts__admin_navigation",".NS_layouts__notifications",".NS_pledges__shipping_select",".NS_project_profiles__project_link",".NS_projects__content",".NS_projects__creator_nav",".NS_projects__description_section",".NS_projects__hero_spotlight",".NS_projects__project_share",".NS_projects__spotlight_onboarding",".NS_site__about_subnav",".NS_site__founding_story",".NS_survey_questions__address",".NS_users__profile",".blog_posts_show",".js-nav--subnav",".js-project-community-content",".js-project-description-content",".js-project-faqs-content",".pledges__checkout_faqs",".pledges__checkout_rewards","body#activity_index","body#backer_report_index","body#jobs_index","body#mobile_index","body#pledges_edit","body#pledges_new","body#posts_edit","body#projects_dashboard","body#site_about","body#site_press","body#survey_responses_new","body#surveys_form","body#users_edit_profile","body.discover","body.mobile","body.profile","body.survey_responses","div.NS_admin_submissions__macro_controls"].reduce((t,e)=>(t[e]=!0,t),{});function c(t,e){a()(function(){const n=a()(t),i=n.length>0;i&&e(n),i&&Object(r.a)("track_define_namespace")&&!0!==s[t]&&o.a.increment("define_namespace,selector=".concat(JSON.stringify(t),",present=").concat(i))})}window.define_namespace=c,e.a=c},hL3N:function(t,e,n){"use strict";var i=n("SmhT"),a=n("+2Rf");n("+2Rf");!function(t){function e(e){e.each(function(){var e=t(this),n=e.find("option:selected");e.siblings(".js-title, .title").text(n.text().trim()||n.data("altLabel"))})}t.fn.ksrSelect=function(){var n=t(this);n.find(".js-ksr-select").livequery(function(){e(t(this).find("select"))}),n.on("focus blur",".js-ksr-select select",function(){t(this).parent().toggleClass("is-focus")}),n.on("change",".js-ksr-select select",function(){e(t(this))}),n.on("keydown",".ksr-icon__arrow-down, .ss-delete, .js-filter-arrow, .js-filter-delete",function(e){var n=t(this),a=e.keyCode;a!==i.c&&a!==i.l||(e.preventDefault(),(n.hasClass("ss-delete")||n.hasClass("js-filter-delete"))&&n.parent().find(".ksr-icon__arrow-down, .js-filter-arrow").focus(),n.click())})},t.fn.ksr_val=function(n){var i=t(this);if(void 0!==n){var a=i.val(n);return e(i),a}return i.val()}}(a)},hqPT:function(t,e,n){n("+2Rf");var i=n("+2Rf");
/*!
 * sync_form plugin by Sam
 *
 * Examples:
 *
 *  $('form').sync_form({ success: function(data) { ... reload form ... } });
 *
 *
 */
i(function(){i.fn.sync_form=function(t){var e=i(this),n=function(){};t=t||{},e.data("updating")?e.data("dirty",(e.data("dirty")||[]).concat(t)):(e.data("updating",!0),i.ajax({type:t.type||e.attr("method"),url:t.url||e.attr("action"),data:t.data||e.serialize(),dataType:"json",global:!1,context:e,beforeSend:t.beforeSend,success:function(a){(t.success||n).apply(this,arguments),e.trigger("form_synced",[a]),e.data("dirty")&&e.data("dirty").length&&setTimeout(function(){for(var t={};i.isEmptyObject(t)&&e.data("dirty").length;)t=e.data("dirty").shift();e.sync_form(t)},100),a.url&&e.attr("action",a.url)},error:t.error,complete:function(){(t.complete||n).apply(this,arguments),e.data("updating",!1)}}))}})},ioZw:function(t,e,n){"use strict";var i=n("zm9w"),a=n("1OuE"),o=n("0VSk"),r=n("P0CJ");e.a=function(t){var e;if(t.completed=!!t.backer_completed_at,t["is_"+t.status]=!0,t.formatted_deadline=Object(a.a)("ll",1e3*t.project.deadline),t.formatted_money=i.a.money(t.amount,{currency:t.project.currency}),t.formatted_status=o.default.t("presenters.backings.row.status."+t.display_status),t.project_state=function(t){switch(t.project.state){case"canceled":return o.default.t("presenters.backings.row.Canceled");case"failed":return o.default.t("presenters.backings.row.Unsuccessful");case"live":return o.default.t("presenters.backings.row.In_progress");case"successful":return o.default.t("presenters.backings.row.Successful");case"suspended":return o.default.t("presenters.backings.row.Suspended");default:return""}}(t),t.pledge_url=(e=t.project,"/projects/".concat(e.creator.slug,"/").concat(e.slug,"/pledge")),t.reward){var n=t.reward.reward;if(t.formatted_reward=n.length>57?n.substring(0,57)+"…":n,t.reward.estimated_delivery_on){const e=1e3*t.reward.estimated_delivery_on;t.formatted_estimated_delivery_on=Object(a.a)("MMM YYYY",Object(r.a)(e))}}return t["is_".concat(t.last_sentiment_answer)]=!0,t.is_last_sentiment_null=null===t.last_sentiment_answer,t.messages&&(t.formatted_messages_count=o.default.t("presenters.backings.row.messages_count",{count:t.messages.count,formatted_count:i.a.format_number(t.messages.count,{precision:0})}),t.formatted_messages_last_activity_at=Object(a.a)("ll",1e3*t.messages.last_activity_at)),t}},itcf:function(t,e,n){"use strict";var i=n("yQm5"),a=n.n(i);const o=function(t){return"undefined"!=typeof api_oauth_token?a()(t).addQuery("oauth_token",api_oauth_token).toString():t};window.oauth_url=o,e.a=o},j4ny:function(t,e,n){n("+2Rf");var i=n("+2Rf");i.fn.tabs=function(){return i(this).each(function(){var t=i(this);t.on("activate",function(e,n){var a=i(n),o=i("#"+a.data("pane"));t.data("pane")&&t.data("pane").trigger("deactivated"),t.data("pane",o.trigger("activated"))}),t.children().on("click",function(){i(this).parent().trigger("activate",i(this))})})},i.fn.panes=function(){var t=i(this);return t.each(function(){t.children().on("activated",function(){i(this).show()}).on("deactivated",function(){i(this).hide()})})}},ksT7:function(t,e,n){"use strict";n("Ijdr");var i=n("+2Rf");n("+2Rf");!function(t){t.fn.persistent_paging=function(){return t(this).each(function(){var e=t(this),n=[[1,0,e.find(".page")]],i=[],a=!1,o=e.data("mobius"),r=/^#p(\d*)/.exec(window.location.hash);r&&1!==parseInt(r[1],10)&&(e.one("mobius:loaded_page",function(e,n,i){t.scrollTo(i.offset().top+70)}),o.load_page(parseInt(r[1],10))),e.on("mobius:loaded_page",function(i,a,r){var s,c,d,l=[];function u(){if(this[0]===c)return s=!0,!1}for(n.push([a,!1,r]),d=[],t.each(n,function(){d.push([this[0],this[2].offset().top,this[2]])}),n=d,c=1;c<=n[n.length-1][0];c+=1)s=!1,t.each(n,u),s||l.push(c);l.length?t.each(l,function(){var i=n[0],a=parseInt(this,10),r=t([]),s=[],c=t([]),d=t([]);t.each(n,function(){this[0]>i[0]&&this[0]<a&&(i=this)}),(r=i[2].next(".missing")).length?(s=r.data("missing_pages"),-1===t.inArray(a,s)&&(s.push(a),r.data("missing_pages",s))):(c=(r=e.siblings(".missing").clone()).find(".loading"),d=r.find(".load_more"),r.data("missing_pages",[a]),r.find("a").click(function(t){var n=r.data("missing_pages"),i=n.pop();t.preventDefault(),n.length&&r.data("missing_pages",n),d.addClass("loading"),o.load_page(i,r),e.one("mobius:loaded_page",function(){d.removeClass("loading")})}),i[2].after(r),c.hide(),r.show())}):e.find("div.missing").remove()}),t(document).scroll(function(){var e,o=t(window).scrollTop();t.each(n,function(){var t=this[1];o>t&&(i=this)}),i[0]!==a&&(e="#p"+i[0],window.history&&window.history.replaceState?history.replaceState(null,null,e):window.location.replace(e),t(document).trigger("infinite_scroll:scrolled_to",[i[0]]),a=i[0])})})}}(i)},"l+V7":function(t,e,n){"use strict";var i=n("+2Rf"),a=n.n(i),o=n("SmhT");n("+ZuA");a()(function(){a.a.fn.aria_set_visible=function(){return a()(this).attr("aria-expanded","true").attr("aria-hidden","false"),this},a.a.fn.aria_set_hidden=function(){return a()(this).attr("aria-expanded","false").attr("aria-hidden","true"),this},a.a.fn.aria_find_focusable_items=function(){return a()(this).find(":focusable")},a.a.fn.aria_focus_first_element=function(){var t=a()(this).aria_find_focusable_items();return t.length&&t[0].focus(),this},a.a.fn.aria_activate_keyboard_tabindex=function(){var t=a()(this),e=t.aria_find_focusable_items();return e.length&&t.on("keydown.aria_keyboard",function(n){t.aria_focus_next(n,e)}),this},a.a.fn.aria_deactivate_keyboard_tabindex=function(){return a()(this).unbind("keydown.aria_keyboard"),this},a.a.fn.aria_focus_next=function(t,e){var n=t.keyCode,i=n===o.n||n===o.b,r=a()(":focus")[0],s=a.a.inArray(r,e);if(-1!==s&&("textarea"!==r.tagName.toLowerCase()||!i)){var c;if(n===o.m||i)t.preventDefault(),void 0!==(c=t.shiftKey||n===o.n?a()(e[s-1]):a()(e[s+1]))&&c.focus();return this}}})},"n+nq":function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return a});const i=t=>{const e=t.querySelector('meta[name="csrf-token"]');if(!e){return n("pj8f").Honeybadger.notify("CSRF meta tag missing from page"),""}const i=e.getAttribute("content");if(!i){return n("pj8f").Honeybadger.notify('CSRF meta tag did not have "content"'),""}return i},a=t=>({"X-CSRF-Token":i(t)})},nGRn:function(t,e,n){"use strict";var i=n("a+N5"),a=n.n(i),o=n("KKf6"),r=n("SmhT"),s=n("2UXI"),c=n("0VSk"),d=n("ZCIj"),l=(n("+ZuA"),n("gtN/"),n("4ST8"),n("bxGQ"),n("+2Rf"));n("+2Rf");!function(t){function e(e){this.$c=t(e),this.video_data=this.$c.data("video")||{},this.autostarting=!1;var n=this.$c.find("video");n.get(0)&&n.get(0).canPlayType&&(n.get(0).canPlayType("video/mp4")||n.hasClass("has_hls"))&&(this.$video=n,this.video=n.get(0),o.a.chrome&&this.$video.attr("controls","controls").removeAttr("controls")),this.initialize(),(window.location.search.match("play="+(this.$c.attr("id")||this.video_data.id))||this.$c.hasClass("autoplay"))&&(this.autostarting=!0,this.play()),this.$c.hasClass("muted")&&this.mute(),this.add_size_class(),this.bind_events()}t.fn.ksr_video=function(){return t(this).each(function(){var n=t(this).data("ksr_video");n||(n=new e(t(this)),t(this).data("ksr_video",n))})},t.extend(e.prototype,{overlay:function(){var e=this;this.$c.children(":not(video)").hide(),this.$overlay=t('<div class="overlay"><span class="button-playvideo"></span></div>'),this.$overlay.on("click",function(t){e.initialize_flash(),e.$overlay.remove(),t.preventDefault()}),this.$c.append(this.$overlay)},bind_events:function(){var t=this;this.$c.on("ksr_video:play",function(){t.play()}),this.$c.on("ksr_video:pause",function(){t.pause()}),this.$c.on("ksr_video:mute",function(){t.mute()}),this.$c.on("ksr_video:unmute",function(){t.unmute()}),this.$c.on("ksr_video:destroy",function(){t.destroy()}),this.$c.on("ksr_video:seek",function(e,n,i){t.seek(n,i)})},add_size_class:function(){this.$c.removeClass("small medium large"),this.$c.width()>600?this.$c.addClass("large"):this.$c.width()>400?this.$c.addClass("large"):this.$c.addClass("small")},bind_video_element:function(){var t=this,e=this.$video,n=!0;this.$video.on("loadedmetadata",function(){t.$c.trigger("ksr_video:loaded")}),e.bind("ended",function(){t.$c.trigger("ksr_video:ended")}),e.on("play",function(){t.$c.trigger("ksr_video:playing",[n]),t.$c.addClass("has_played"),t.autostarting?t.autostarting=!1:t.focus_playpause_button(),n=!1}),e.on("pause",function(){t.$c.trigger("ksr_video:paused"),t.focus_playpause_button()}),e.on("progress",function(){var e,n,i,o=t.video.buffered,r=[];if(o.length)for(e=0;e<o.length;e+=1)r.push(o.end(e));i=(n=a.a.max(r))/t.video.duration*100,t.$c.trigger("ksr_video:buffer_change",[n,i])}),e.on("timeupdate",function(){t.$c.trigger("ksr_video:time_update",[t.video.currentTime])})},bind_controls:function(){var e=this,n=this.$c.find(".player_controls"),i=n.find(".progress_container .progress_bg"),o=i.find(".buffer"),l=i.find(".progress"),u=i.find(".progress_handle"),_=n.find(".volume_container .progress_bg"),f=_.find(".progress"),h=_.find(".progress_handle"),p=n.find(".current_time"),m=n.find(".volume"),g=n.find(".playpause"),v=n.find(".video_track_list"),b=n.find(".js-caption-dropdown"),y={x:0,y:0},w=!1;function k(t){var e=Math.floor(t/60),n=Math.floor(t-60*e);return e+":"+(n<10?"0":"")+n}function j(){n.is(":hover")?M():(n.removeClass("visible"),n.trigger("ksr_video:controls_hidden"))}function x(){n.addClass("visible"),n.trigger("ksr_video:controls_shown")}function S(){clearTimeout(w)}function M(){S(),w=setTimeout(j,2e3)}function Y(){var t=e.video.duration;t&&(e.$c.find(".total_time").text(k(t)).attr("datetime","PT"+Math.floor(t)+"S"),u.attr("aria-valuenow",e.video.currentTime).attr("aria-valuemin","0").attr("aria-valuemax",t))}function $(t){return t.which===r.g?-1:t.which===r.k?1:null}function O(t,n){var i=n.delta,a=n.direction,o=n.max,r=e.video[t];a&&(r=function(t,e,n){return Math.min(n,Math.max(e,t))}(r+i*a,0,o),e.video[t]=r,x(),M())}function T(){var t=e.video.volume;d.b.setItem("ksr_video_volume",t),e.video.muted?(t=0,m.addClass("muted").attr("aria-label",c.default.t("library.ksr_video.Unmute"))):m.removeClass("muted").attr("aria-label",c.default.t("library.ksr_video.Mute"));var n=100*t+"%";f.width(n),h.css("left",n),h.attr("aria-valuenow",t)}this.$c.on("mousemove touchstart touchmove",function(t){var n={x:t.pageX,y:t.pageY};e.playing()&&("touchstart"===t.type||Math.abs(n.x-y.x)+Math.abs(n.y-y.y)>20)&&(x(),M(),y=n)}),Y(),this.$video.on("click",function(){e.playpause()}),this.$c.find(".play_button_big, img.poster").on("click",function(t){e.play(),t.preventDefault()}),this.$c.on("focus click",":tabbable",function(){e.playing()&&(x(),M())}),this.$c.on("keydown",'[role="button"]',function(e){e.which!==r.c&&e.which!==r.l||(t(this).click(),e.preventDefault())}),this.$c.on("keydown",'.progress_container [role="slider"]',function(t){O("currentTime",{delta:.05*e.video.duration,direction:$(t),max:e.video.duration})}),this.$c.on("keydown",'.volume_container [role="slider"]',function(t){O("volume",{delta:.05,direction:$(t),max:1})}),this.$c.on("ksr_video:loaded",function(){Y(),h.attr("aria-valuemin","0").attr("aria-valuemax","1"),T()}),this.$video.on("volumechange",function(){T()}).on("play",function(){g.removeClass("play").addClass("pause").attr("aria-label",c.default.t("library.ksr_video.Pause")),M()}).on("pause",function(){g.removeClass("pause").addClass("play").attr("aria-label",c.default.t("library.ksr_video.Play")),x(),S()}),g.on("click",function(t){e.playpause(),t.preventDefault()}),n.on("mouseenter focus",".video_dropdown",function(e){var i=t(e.currentTarget);i.addClass("open"),n.on("mouseleave.leave_dropdown blur.leave_dropdown",".video_dropdown",function(){i.removeClass("open"),n.off(".leave_dropdown")})});var C=function(t){a.a.each(t.textTracks,function(e,n){e.language===t.language?(e.mode="showing",t.hls&&(t.hls.subtitleTrack=n)):e.mode="hidden"})};function D(i){var a=b.find(".js-track"),o=i?a.filter('[data-language="'+i+'"]'):t();0===o.length&&(o=a.filter(".js-captions-off"),i=void 0),a.removeClass("selected"),o.addClass("selected"),o.is(".js-captions-off")?n.find(".ksr-icon__closed-caption").removeClass("is-on"):n.find(".ksr-icon__closed-caption").addClass("is-on"),e.$c.data("language",i),C({hls:e.hls,language:i,textTracks:e.video.textTracks})}v.on("click","li",function(){var n=t(this).data("language");b.removeClass("open"),n?d.b.setItem("last_track_language",n):d.b.removeItem("last_track_language"),D(n),e.$c.trigger("ksr_video:change_track",n)}),e.video.textTracks&&0!==e.video.textTracks.length?D(d.b.getItem("last_track_language")):this.$c.find(".js-remove-unless-text-tracks").remove();var R=null;function N(){e.$c.trigger("ksr_video:volume_adjusted")}t(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange",function(){!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)&&R&&e.$c.css("height",R)}),n.find(".fullscreen").on("click",function(t){if(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled){var n=e.$c.get(0);document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?document.cancelFullscreen?document.cancelFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():(R=e.$c.css("height"),e.$c.css("height","auto"),n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen())}else e.$c.toggleClass("fullscreen");t.preventDefault()}),i.draggable_bar(function(t){var n=e.video.duration*t;"number"==typeof n&&isFinite(n)&&(e.video.currentTime=n)}),_.draggable_bar(function(t){e.video.muted&&e.unmute(),e.video.volume=t}),_.find(".progress_bar_bg").on("mouseup",N),f.on("mouseup",N),h.on("mouseup",N),t("body").is(".touchable")?f.hide():m.on("click",function(){e.mute_toggle()}),this.$c.on("ksr_video:buffer_change",function(t,e,n){o.width(n+"%")});var A=0,I=t=>{const e=this.$c.data("context");e&&Object(s.d)("Watched Video",{videoLength:this.duration(),context:e,type:t})};this.$c.on("ksr_video:time_update",function(t,n){var i=n/e.video.duration*100;l.width(i+"%"),u.css("left",i+"%"),p.text(k(n)).attr("datetime","PT"+Math.floor(n)+"S"),u.attr("aria-valuenow",n),i>25&&i<50&&25!==A&&(A=25,I("25%")),i>50&&i<75&&50!==A&&(A=50,I("50%")),i>75&&75!==A&&(A=75,I("75%"))})},play:function(){this.video?(this.$video.show(),this.hls&&this.hls.startLoad(),this.video.play()):this.jwplayer&&this.jwplayer.play()},pause:function(){this.playing()&&(this.video?this.video.pause():this.jwplayer&&this.jwplayer.pause())},playpause:function(){return this.playing()?this.pause():this.play(),this.playing()},focus_playpause_button:function(){var e=this.$c.find(".playpause"),n=t(window),i=e[0].getBoundingClientRect();i.top>=0&&i.left>=0&&i.bottom<=n.height()&&i.right<=n.width()&&e.focus()},seek:function(t,e){var n=this;if(void 0===e&&(e=!1),this.video){if(this.video.readyState<1)return this.video.load(),void this.$c.one("ksr_video:loaded",function(){n.seek(t,e)});this.video.currentTime=t,e?this.pause():this.play()}else this.jwplayer&&(this.jwplayer.seek(t),this.jwplayer.pause(e))},mute_toggle:function(){return this.video&&(this.video.muted?this.unmute():this.mute()),this.video.muted},mute:function(){this.$c.trigger("ksr_video:muted"),this.jwplayer?this.jwplayer.setMute(!0):this.video.muted=!0},unmute:function(){this.$c.trigger("ksr_video:unmuted"),this.jwplayer?this.jwplayer.setMute(!1):this.video.muted=!1},destroy:function(){this.$c.empty(),this.$c.removeData("ksr_video")},current_position:function(){return this.video?this.video.currentTime:this.jwplayer?this.jwplayer.getPosition():void 0},duration:function(){return this.jwplayer?this.jwplayer.getDuration():this.video.duration},playing:function(){return this.video?!this.video.paused:this.jwplayer?"playing"===this.jwplayer.getState().toLowerCase():void 0},initialize_flash:function(){var t="v"+parseInt(1e8*Math.random(),10),e=this.$c.data("external_flashvars")||{},n=this;this.$c.append('<div id="'+t+'"></div>'),"undefined"!=typeof swfobject&&swfobject.embedSWF("https://d3mlfyygrfdi2i.cloudfront.net/321f/kickplayer.swf",t,this.$c.data("dimensions").width,this.$c.data("dimensions").height,"9.0.115","/swf/expressInstall.swf",a.a.extend(e,{displayheight:this.$c.height(),file:encodeURI(this.$c.attr("data-video-url")),image:encodeURI(this.$c.attr("data-image")),backcolor:"000000",screencolor:"000000",controlbar:"over","controlbar.idlehide":"true",autostart:!0,skin:"https://d3mlfyygrfdi2i.cloudfront.net/cc3a/kickskin.swf"}),{allowscriptaccess:"always",allowfullscreen:"true",wmode:"opaque",menu:"false"},{id:"ksr_player_"+t,class:"ksr_player",name:"ksr_player_"+t},function(t){var e=!0;window.player_reference=t.ref,t.success?(n.$c.find("video").remove(),n.jwplayer=jwplayer(t.ref),n.jwplayer.onReady(function(){n.$c.trigger("ksr_video:loaded")}),n.jwplayer.onPlay(function(){n.$c.trigger("ksr_video:playing",[e]),e=!1}),n.jwplayer.onPause(function(){n.$c.trigger("ksr_video:paused")}),n.jwplayer.onComplete(function(){n.$c.trigger("ksr_video:ended")}),n.jwplayer.onBufferChange(function(t){var e=t.duration*(t.bufferPercent/100);isNaN(e)||n.$c.trigger("ksr_video:buffer_change",[e,t.bufferPercent])})):(n.$video=n.$c.find("video"),n.video=n.$video.get(0),n.$overlay.remove(),n.$c.children().show(),n.$c.find(".play_button_big").removeAttr("style"),n.video&&(n.initialize(),n.play()))})},initialize_hls:function(t){this.hls=new t({autoStartLoad:this.$video.hasClass("preload")}),this.hls.loadSource(this.$video.find('source[type="application/x-mpegURL"]').attr("src")),this.hls.on(t.Events.MANIFEST_PARSED,()=>{this.hls.attachMedia(this.video),this.$c.trigger("ksr_video:loaded")})},async initialize(){const t=(await n.e(103).then(n.t.bind(null,"ulZh",7))).default;this.video?(this.$video.hasClass("has_hls")&&t.isSupported()&&this.initialize_hls(t),this.bind_controls(),this.bind_video_element(),d.b.getItem("ksr_video_volume")&&(this.video.volume=d.b.getItem("ksr_video_volume")),this.$video.css({height:"100%"}).removeAttr("style")):this.overlay()}})}(l)},nuFJ:function(t,e,n){"use strict";n.d(e,"a",function(){return _});var i=n("prSB"),a=n("+2Rf"),o=n.n(a),r=n("a+N5"),s=n.n(r);let c=[];const d=t=>{const e=t.element,n=t.offsets,i=void 0===n?[]:n,a=t.styles,r=void 0===a?()=>({onLock:{},offLock:{}}):a,s=o()(e);return s.length?{styles:r,options:t,element:s,offsetTop:s.parent().offset().top,eventName:"scroll.".concat(s.selector),offset:u(i)}:null},l=t=>{let e=t.element,n=t.eventName,a=t.offsetTop,r=t.offset,s=t.styles,c=!1;const d=s();o()(window).off(n).on(n,function(){const t=this.scrollY;!c&&t>=a-r?(e.addClass("fixed").css(Object(i.a)({top:"".concat(r,"px")},d.onLock)),c=!0):c&&t<a-r&&(e.removeClass("fixed").css(Object(i.a)({top:""},d.offLock)),c=!1)}).trigger(n)},u=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map(t=>o()(t).height()).reduce((t,e)=>t+e)},_=()=>c.forEach(t=>l(d(t.options)));o()(window).on("resize",s.a.debounce(_,250))},o3IG:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"a",function(){return d});var i=n("DjBF"),a=n("MgNI");const o=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return["".concat(t,"=").concat(encodeURIComponent(e)),r(n),"path=/"].filter(t=>t).join("; ")},r=t=>a.maybe.fromNullable(t).map(t=>"expires=".concat(t.toGMTString())).getOrElse(null),s=t=>((t,e)=>e.split(/; */).map(t=>t.split("=")).reduce((e,n)=>{let a=Object(i.a)(n,2),o=a[0],r=a[1];return o==t?decodeURIComponent(r):e},null))(t,(()=>"undefined"==typeof document?"":document.cookie)()),c=(t,e,n)=>document.cookie=o(t,e||"",n?new Date(n):null),d=t=>document.cookie=(t=>o(t,"",new Date(0)))(t);"undefined"!=typeof window&&(window.read_cookie=s,window.write_cookie=c,window.destroy_cookie=d)},oMXI:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a});const i=()=>!(!window.location||!window.location.hostname)&&/(ksr|drip)\.test|localhost/.test(window.location.hostname),a=()=>!(!window.location||!window.location.hostname)&&/^(staging\.kickstarter\.com|staging\.d\.rip)$/.test(window.location.hostname),o=()=>!(!window.location||!window.location.hostname)&&/^(www\.kickstarter\.com|d\.rip)$/.test(window.location.hostname)},pj8f:function(t,e,n){"use strict";let i;n.r(e),n.d(e,"Honeybadger",function(){return i}),i="undefined"!=typeof document?n("dvPR").Honeybadger:()=>void 0},qKHs:function(t,e,n){"use strict";var i=n("+2Rf"),a=n.n(i),o=n("a+N5"),r=n.n(o),s=n("DQv1");n("RIhn");a()(function(){a()(".render_mustache").livequery(function(){var t=a()(this),e=r.a.extend(t.data("data"),t.data("extend")),n=t.data("partials")?t.data("partials").split(","):void 0,i=t.data("template");t.append(Object(s.a)(i,e,n))})})},qcI4:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return _}),n.d(e,"g",function(){return f});var i=n("a+N5"),a=n.n(i),o=n("itcf"),r=n("XLBa");let s=n("qtWx").a.extend();s.on_initialize(function(){this.data.id&&(this.constructor.records[this.data.id]=this)}),a.a.extend(s,{records:{},find:function(t){var e=this;return a.a.isArray(t)?a.a.compact(a.a.map(t,function(t){return e.records[t]})):this.records[t]},every:function(t){a.a.each(this.records,t),this.listen("new",function(e){t.call(this,e.new)})},has:function(t,e){if(void 0===this.prototype["has_"+t]){var n=e.through;this.prototype[t]=[],this.on_initialize(function(){this.on_change(t+"_fetched",function(e){var i=e[t+"_fetched"]||[],o=this[t],r=a.a.compact(a.a.map(i,function(t){if(t&&t.id&&!a.a.include(o,t.id))return new window[n](t).get("id")}));this["set_"+t](a.a.union(o,r))})}),this.prototype["get_"+t]=function(){return window[n].find(this[t])},this.prototype["has_"+t]=function(e){return(e=i(e)).length&&0===a()(this[t]).difference(e).length},this.prototype["add_"+t]=function(e){e=i(e),(e=a()(e).difference(this[t])).length&&this["set_"+t](a.a.union(this[t],e))},this.prototype["remove_"+t]=function(e){e=i(e),(e=a()(e).intersection(this[t])).length&&this["set_"+t](a()(this[t]).difference(e))},this.prototype["set_"+t]=function(e){if(e=i(e),!a.a.isEqual(a.a.clone(e).sort(),a.a.clone(this[t]).sort())){this[t]=e;var n={};n[t]=e,this._broadcast(n)}}}function i(t){return"object"!=typeof t?t=[t]:t.get&&(t=[t.get("id")]),t}}});let c=s.extend(),d=s.extend(),l=s.extend(),u=s.extend(),_=s.extend(),f=s.extend();u.on_initialize(function(){"function"==typeof r.a&&this.on_change(function(){Object(r.a)("Project",this.get())})}),u.has("creator",{through:"User"}),u.has("backers",{through:"User"}),u.set_computed_value("usd_pledged",function(){return this.pledged*this.static_usd_rate},{changes_on:["pledged"]}),u.set_computed_value("convert_pledged",function(){return this.pledged*this.fx_rate},{changes_on:["pledged"]}),_.has("created_projects",{through:"Project"}),_.has("backed_projects",{through:"Project"}),_.has("backings",{through:"Backing"}),_.prototype.api_url=function(t,e){var n=this.get("urls").api.user;if(n)return"string"==typeof t&&(n=n.replace(/([^\?]*)(.*)/,function(e,n,i){return n+"/"+t+i})),(e||void 0===e&&!0===t)&&api_oauth_token&&(n=Object(o.a)(n).replace(/http:/,"https:")),n},l.on_initialize(function(){"function"==typeof r.a&&this.on_change(function(){Object(r.a)("Comment",this.get())})}),d.set_computed_value("net_amount",function(){return this.amount-this.shipping_amount},{changes_on:["shipping_amount","amount"]})},qn6j:function(t,e,n){"use strict";let i;n.d(e,"a",function(){return i}),function(t){t.INCREMENT="increment",t.GAUGE="gauge",t.TIME="time"}(i||(i={}))},qtVb:function(t,e,n){var i=n("+2Rf");n("+2Rf");!function(t){function e(e,n){this.$elem=e,this.options=t.extend({},{adjust_on:"mobius:loaded_page scroll resize sticky_bar:position load hashchange",parent:e.parent(),attach_to:"top",lock_to_bottom:!0},n),this.paused=!1,this.last_scroll_top=0,this.last_up=!1,this.fixed=!1,this.original_top=e.offset().top,this.original_bottom=this.original_top+e.height(),this.update_window_larger_then_elem(),this.attach_to_top="top"===this.options.attach_to,this.attach_to_bottom=!this.attach_to_top,this.bind_events(),this.reposition()}function n(e,n){this.$elem=e,this.options=t.extend({},{adjust_on:"shifted scroll resize load hashchange"},n),this.original_top=e.offset().top,this.bind_events(),this.reposition()}t.fn.sticky_bar=function(n){return n=n||{},t(this).each(function(){var i=t(this).data("stickybar");i?t(this).trigger("shifted"):(i=new e(t(this),n),t(this).data("stickybar",i))})},t.fn.simple_sticky_bar=function(e){return e=e||{},t(this).each(function(){var i=t(this).data("simple_stickybar");i?t(this).trigger("shifted"):(i=new n(t(this),e),t(this).data("simple_stickybar",i))})},t.extend(n.prototype,{bind_events:function(){var e=this;t(window).on(this.options.adjust_on,function(t){e.reposition(t)})},reposition:function(){t(window).scrollTop()<this.original_top?(this.$elem.css("position","static"),this.$elem.css("top","auto")):(this.$elem.css("position","fixed"),this.$elem.css("top",0))}}),t.extend(e.prototype,{bind_events:function(){var e=this;t(window).resize(function(t){t.target===window&&e.update_window_larger_then_elem()}),t(document).on("shifted",function(){e.fixed=!1,e.$elem.css("position","static"),e.$elem.css("top","auto"),e.$elem.css("bottom","auto"),e.original_top=e.$elem.offset().top,e.original_bottom=e.original_top+e.$elem.height(),e.reposition()}),t(window).on(this.options.adjust_on,function(t){e.paused||e.reposition(t)}),this.$elem.on("sticky_bar:fix_to_bottom",function(){e.fixed=!0,e.$elem.css("position","fixed"),e.$elem.css("top",-(e.$elem.height()-t(window).height()))}),this.$elem.on("sticky_bar:pause",function(){e.paused=!0}),this.$elem.on("sticky_bar:unpause",function(){e.paused=!1})},update_window_larger_then_elem:function(){this.window_larger_then_elem=t(window).height()>this.$elem.height()},lockToBottom:function(t){this.fixed=!1,this.$elem.css("position","absolute"),this.$elem.css("top",t-this.$elem.outerHeight()-this.$elem.offsetParent().offset().top)},reposition:function(e){var n=t(window).scrollTop(),i=n+t(window).height(),a=this.$elem.offset().top,o=a+this.$elem.height(),r=this.options.parent,s=r.offset().top+r.outerHeight(),c=e&&"scroll"===e.type,d=!(n>this.last_scroll_top),l=d!==this.last_up;t("body").width()<640||this.attach_to_top&&n<this.original_top||this.attach_to_bottom&&i>this.original_bottom?(this.fixed=!1,this.$elem.css("position","static"),this.$elem.css("top","auto"),this.$elem.css("bottom","auto")):this.options.lock_to_bottom&&!this.window_larger_then_elem&&i>s?this.lockToBottom(s):this.options.lock_to_bottom&&this.window_larger_then_elem&&n+this.$elem.height()>s?this.lockToBottom(s):l&&c?this.window_larger_then_elem||(this.fixed=!1,this.$elem.css("position","absolute"),this.$elem.css("top",a),this.$elem.css("bottom","auto")):this.fixed||(this.attach_to_top?this.window_larger_then_elem||(!c||d)&&n<a?(this.fixed=!0,this.$elem.css("position","fixed"),this.$elem.css("top",0)):c&&d||!(i>o)||(this.fixed=!0,this.$elem.css("position","fixed"),this.$elem.css("top",-(this.$elem.height()-t(window).height()))):(this.window_larger_then_elem||(!c||!d)&&i>o)&&(this.fixed=!0,this.$elem.css("position","fixed"),this.$elem.css("bottom",0))),this.was_fixed!==this.fixed&&this.$elem.trigger("sticky_bar:fixed_changed",[this.fixed]),this.last_scroll_top=n,this.last_up=d}})}(i)},qtWx:function(t,e,n){"use strict";var i=n("a+N5"),a=n.n(i),o=n("+2Rf"),r=n.n(o);function s(){}s.prototype.initialize=function(){},s.extend=function(t){var e=function(){this.initialize.apply(this,arguments)};for(var n in this)this.hasOwnProperty(n)&&(a.a.isFunction(this[n])?e[n]=this[n]:e[n]=a.a.clone(this[n]));function i(){this.constructor=e}return i.prototype=this.prototype,e.prototype=new i,e.__super__=this.prototype,t&&(e.prototype.initialize=t),e};var c=s.extend(function(t){var e=this,n=arguments;this.data={},t&&this.set(t),a.a.each(this.constructor.initializers,function(t){t.apply(e,n)}),this.data.id&&this.constructor.records&&(this.constructor.records[this.data.id]=this),this.constructor._broadcast({new:this.data})});c._computed_values={},a.a.extend(c,{listen:function(t,e){var n=this;if(a.a.isObject(t)&&a.a.each(t,function(t,e){n.listen(e,t)}),void 0===this.listeners&&(this.listeners={}),void 0===this.listeners._global&&(this.listeners._global=[]),"function"!=typeof t)return void 0===this.listeners[t]&&(this.listeners[t]=[]),this.listeners[t].push(e),this;this.listeners._global.push(t)},_broadcast:function(t,e,n){var i;void 0===this.listeners&&(this.listeners={}),void 0===this.listeners._global&&(this.listeners._global=[]);var o=this;if(e=e||"",a.a.each(a.a.keys(t),function(i){"object"!=typeof t[i]||null===t[i]||a.a.isArray(t[i])||o._broadcast(t[i],e+i+".",n),void 0!==o.listeners[e+i]&&a.a.each(o.listeners[e+i],function(e){e.call(o,t,n)})}),!e)for(i=0;i<this.listeners._global.length;i+=1)this.listeners._global[i].call(this,t,n)},on_initialize:function(t){void 0===this.initializers&&(this.initializers=[]),this.initializers.push(t)},get_computed_values:function(){return this._computed_values},set_computed_value:function(t,e,n){var i=this;this._computed_values[t]=e,n&&a.a.isArray(n.changes_on)&&a.a.each(n.changes_on,function(e){i.prototype.on_change(e,function(){var e={};e[t]=this.get(t),this._broadcast(e)})})}}),c.prototype.on_change=c.prototype.listen=c.listen,c.prototype.change=function(){this._broadcast({})},c.prototype._broadcast=c._broadcast,c.prototype.set=function(t,e,n){var i,o;return"object"==typeof t?(i=t,n=e):i="string"==typeof t?function t(e,n){var i={},a=e.shift();return e.length?i[a]=t(e,n):i[a]=n,i}(t.split("."),e):{},n||(n={}),o=function t(e,n){var i={};for(var a in n)n.hasOwnProperty(a)&&("object"==typeof n[a]&&null!==n[a]?i[a]=e?t(e[a],n[a]):n[a]:e&&e[a]===n[a]||(i[a]=n[a]));return i}(this.data,i),n.overwrite?this.data=a.a.extend(this.data,i):this.data=r.a.extend(!0,this.data,i),void 0!==n.silent&&n.silent||this._broadcast(o,void 0,n),this},c.prototype.replace=function(t,e,n){return(n=n||{}).silent=!0,this.set(t,null,n),delete n.silent,this.set(t,e,n)},c.prototype.get=function(t){if("string"==typeof t){if("function"==typeof this.constructor.get_computed_values()[t])return this.constructor.get_computed_values()[t].call(this.data);var e=t.split("."),n=this.data;return a.a.each(e,function(t){n=n[t]}),a.a.clone(n)}return r.a.extend(!0,{},this.data,this.compute_values())},c.prototype.compute_values=function(){var t=this.data,e={};return a.a.each(this.constructor.get_computed_values(),function(n,i){e[i]=n.call(t)}),e};e.a=c},rV3q:function(t,e,n){"use strict";var i=n("+2Rf"),a=n.n(i),o=n("a+N5"),r=n.n(o),s=n("h4vE"),c=n("zm9w"),d=n("nuFJ"),l=n("0VSk");Object(s.a)(".NS_layouts__notifications",function(t){function e(e){const n=a()(".js-banner-text",t);if(0===n.length)return;const i=r.a.pairs(r.a.countBy(a()(".js-alert-box",t).map(function(){return a()(this).data("category")}).get(),t=>t)),o=r.a.reduce(i,(t,e)=>t+e[1],0),s=a()(".js-cta",t),d=a()(".js-banner-dismiss",t),u=a()(".js-banner-toggle-button",t);if(1===o&&e){n.html(a()(".js-alert-body",t).html()),n.has("a")&&a()(".js-banner-text a").addClass("white text-underline");const e=a()(".js-alert-cta")[0];e?(s.html(e),s.show()):(s.html(""),s.hide());const i=a()(".js-alert-dismiss",t);i.length?(d[0].setAttribute("href",i.attr("href")),d.show()):d.hide(),u.hide()}else{const e=r.a.map(i,t=>t[0]).sort().map(t=>"<span class='bold'>".concat(l.default.t(t),"</span>")),_="<span class='bold'>".concat(l.default.t("banners.title.alerts",{count:o}),"</span>"),f=c.a.to_sentence(e);n.html(l.default.t("banners.title.text",{alerts:_,categories:f})),a()(".js-alert-title--urgent",t).text(l.default.t("banners.subtitles.urgent")),a()(".js-alert-title--nonurgent",t).text(2===a()(".js-alert-section",t).length?l.default.t("banners.subtitles.nonurgent.more"):l.default.t("banners.subtitles.nonurgent.less")),s.hide(),d.hide(),u.show()}a()(".js-banner-buttons-container",t).show()}e(!0),a()(".js-alert-body").has("a")&&a()(".js-alert-body a").addClass("text-underline"),t.on("click",".js-alert-dismiss, .js-banner-dismiss",function(){function t(t){t.slideUp(200,function(){a()(this).remove(),e(!1),Object(d.a)()})}const n=a()(this),i=n.closest(".js-banner-wrap"),o=n.closest(".js-alert-wrap"),r=".js-alert-box";return 1===i.find(r).length?t(i):1===o.find(r).length?t(o):t(n.closest(r)),a.a.post(n.attr("href"),{_method:"delete"}),!1}),t.on("click",".js-banner-toggle, .js-banner-toggle-button",()=>{a()(".js-banner-wrap",t).toggleClass("bg-red-400 bg-grey-200",500),a()(".js-banner-text",t).toggleClass("o0p",500).toggleClass("pointer-events-none",500),a()(".alert-container",t).toggleClass("alert-container--open",500),a()(".js-banner-toggle-icon",t).toggleClass("rotate-180",500),setTimeout(()=>{Object(d.a)()},501)})})},"rm+a":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>{"loading"===document.readyState?setTimeout(()=>i(t),10):t()}},tmAf:function(t,e,n){"use strict";var i=n("ioZw");e.a=function(t){return t.show_more_backings=t.total>t.backings.length,t.count=t.total,t.backings=t.backings.map(t=>Object(i.a)(Object.assign(t.get()))),t}},uJlH:function(t,e,n){"use strict";var i=n("ese3"),a=n("KKf6"),o=n("0VSk"),r=n("2UXI"),s=n("+2Rf");n("+2Rf");!function(t){function e(e,n){this.$elem=e,this.$close_a=e.find("a.modal_dialog_close");var i=e.children(),a=i.children(),o=a.children(),r=e.add(i).add(a).add(o).add(this.$close_a);this.options=t.extend({close_link:r,scroll_margin:20,ignore_parent:!1,prevent_close:!1},n),this.prevent_close=this.options.prevent_close,this.prevent_close&&this.$close_a.hide(),this.options.ignore_parent||this._bind_parent_modal(),this._remember_original_css(),this._attach()}t.fn.modal_dialog=function(n){return n=n||{},t(this).each(function(){var i=t(this).data("modal_dialog");i||(i=new e(t(this),n),t(this).data("modal_dialog",i)),i.open()})};var s={};t.create_modal_dialog=function(n,i,a){a=a||{},n.length&&(n="<h4>"+n+"</h4>");var o,r=t('<div class="modal_dialog '+(void 0!==a.theme?a.theme:"dark")+(void 0!==a.class_name?" "+a.class_name:"")+'"'+(void 0!==a.id?' id="'+a.id+'" ':" ")+'style="display: none;"><div class="modal_dialog_outer"><div class="modal_dialog_sizer"><div class="modal_dialog_inner"><div class="modal_dialog_content"><div class="modal_dialog_head">'+n+'<a class="modal_dialog_close" href="#"><span class="ss-icon ss-delete"></span></a></div><div class="modal_dialog_body">'+i+'</div></div></div><span class="modal_dialog_ie_hack"></span></div></div></div>');return t("body").append(r),o=new e(r,a),r.data("modal_dialog",o),r},t.create_login_modal=function(e,n){Object(r.d)("Application Login or Signup",{context:"Login",type:"modal",intent:n});var i=t.create_modal_dialog("",e);i.data("modal_dialog").open(),"undefined"!=typeof FB&&FB.XFBML.parse(i.find(".modal_dialog_body")[0])},t.open_remote_modal_dialog=function(e,n){var a=t(".modal_dialog:visible");if(!a.data("modal_dialog")||a.data("modal_dialog").remote_url!==e){var o=function(e,n){var a,o=t([]);return t.each(s,function(t){Object(i.a)(e,t,{include_query:!0})&&(a=this)}),a||((o=t.create_modal_dialog(n.title||"","spinner",n)).addClass("spinning"),(a=o.data("modal_dialog")).remote_url=e,a.remote_xhr=t.ajax({url:e,type:"get",dataType:n.dataType,beforeSend:n.beforeSend,success:function(i){var a=t(i);n.remote_modal_dialog_contents_loaded&&n.remote_modal_dialog_contents_loaded.apply(this,[a,n,e]),o.find(".modal_dialog_body").html(a),o.removeClass("spinning"),o.trigger("size_change"),o.trigger("modal_dialog:remote_dialog_loaded")},error:function(){o.trigger("modal_dialog:errored",arguments),o.remove(),delete s[e]}}),n.do_not_cache||(s[e]=a)),a}(e,n=n||{});return o.open(),o}},t.extend(e.prototype,{_attach:function(){if(this._attached)return;var e=this,i=t(this.options.close_link);this._attached=!0,this.overflow_scroll="scroll"===this.$elem.css("overflow"),this.$elem.on("close.modal_dialog",function(){e.close()}),this.$elem.on("size_change.modal_dialog",function(){e._on_size_changed()}),this.$elem.on("prevent_close.modal_dialog",function(){e._set_prevent_close(!0)}),this.$elem.on("allow_close.modal_dialog",function(){e._set_prevent_close(!1)}),t(window).on("resize.modal_dialog",function(){e._on_size_changed()}),i.on("click.modal_dialog",function(t){-1!==i.index(t.target)&&(e.close(t),t.preventDefault())});const a=this.$elem.find(".modal_dialog_content")[0];a&&n.e(104).then(n.bind(null,"bdgK")).then(t=>{new(0,t.default)(()=>{e._on_size_changed()}).observe(a)}),this.$elem.keydown(function(t){27===t.keyCode&&(e.close(t),t.preventDefault())})},_detach:function(){this._attached=!1,t(this.options.close_link).off("click.modal_dialog"),this.$elem.off("size_change.modal_dialog"),t(window).off("resize.modal_dialog")},_bind_parent_modal:function(){this.$parent_modal=t([]),this.$elem.on("before_close.modal_dialog",function(){var e=t(this).data("modal_dialog").$parent_modal;e.show(),e=t([])})},_on_size_changed:function(t){var e=this.$elem.find("div.modal_dialog_inner");!this.overflow_scroll&&e.height()>this._get_viewport_height()?this._resize_to_position_absolute(t):this._resize_to_position_fixed()},_resize_to_position_fixed:function(){this._apply_original_css()},_resize_to_position_absolute:function(e){var n=t(document).height(),i=document.documentElement&&document.documentElement.scrollTop||t("body")[0].scrollTop+t("html")[0].scrollTop,a=this.$elem.find("div.modal_dialog_inner"),o=a.height(),r=this.options.scroll_margin,s=i+o+2*r,c=(s>n?s:n)-i-o-2*r,d="absolute"===this.$elem.css("position");this.$elem.css("position","absolute"),this.$elem.css("top","0"),this.$elem.css("height",n),d&&!e||(a.css("margin-top",i+r),a.css("margin-bottom",c))},_remember_original_css:function(){this._elem_original_css={},this._inner_original_css={};var e=this.$elem.find("div.modal_dialog_inner"),n=["position","top"],i=["margin-top","margin-bottom"],a=this;t.each(n,function(t){var e=n[t];a._elem_original_css[e]=a.$elem.css(e)}),t.each(i,function(t){var n=i[t];a._inner_original_css[n]=e.css(n)})},_get_viewport_height:function(){return a.a.msie?window.document.documentElement.clientHeight:window.innerHeight},_apply_original_css:function(){var t,e,n=this.$elem.find("div.modal_dialog_inner");for(t in this._elem_original_css)this._elem_original_css.hasOwnProperty(t)&&(e=this._elem_original_css[t],this.$elem.css(t,e));for(t in this._inner_original_css)this._inner_original_css.hasOwnProperty(t)&&(e=this._inner_original_css[t],n.css(t,e));this.$elem.css("height","100%")},_set_prevent_close:function(t){this.prevent_close=t,t?this.$close_a.hide():this.$close_a.show()},open:function(){var e=this.$elem.parents("body");e.length&&e.append(this.$elem),this.options.ignore_parent||(this.$parent_modal=t(".modal_dialog:visible"),this.$parent_modal.hide()),this.$elem.show(),this._on_size_changed(!0),this.overflow_scroll&&t("html").css("overflow","hidden"),this.$elem.trigger("modal_dialog:opened",[this]),this._attach()},close:function(e){this.prevent_close||(this.$elem.trigger("before_close.modal_dialog",[e]),e&&e.isDefaultPrevented()||(this._detach(),this.options.do_not_cache?this.$elem.remove():this.$elem.hide(),this.overflow_scroll&&t("html").css("overflow","scroll"),this.$elem.trigger("closed.modal_dialog",[e])))}}),t.modal_confirm=function(e,n){var i,a,r,s={message:o.default.t("library.modal_dialog.Do_you_really_want_to_do_this"),confirm_text:o.default.t("library.modal_dialog.Confirm"),cancel_text:o.default.t("library.modal_dialog.Cancel"),title:o.default.t("library.modal_dialog.Are_you_sure")};i='<div style="max-width:600px;">'+(n=t.extend({},s,n)).message+'<p class="clearfix"><a class="confirm btn btn--blue left" href="#">'+n.confirm_text+'</a><a class="cancel button-space left ml1 lh40 grey-dark" href="#">'+n.cancel_text+"</a></p></div>",a=t.create_modal_dialog(n.title,i),r=a.data("modal_dialog"),a.find(".cancel").click(function(t){t.preventDefault(),r.close()}),a.find(".confirm").click(function(t){t.preventDefault(),e.call(a),r.close()}),r.open()}}(s)},zm9w:function(t,e,n){"use strict";var i=n("prSB"),a=n("4Toj"),o=n.n(a),r=n("4LGs");const s={"'":"&#39;","`":"&#96;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};var c=t=>Object(r.a)(s,t),d=n("1OuE"),l=n("0VSk");const u=["de","es","fr","it"],_="undefined"!=typeof window?window.formatters:{};let f=Object(i.a)({},_,{is_right_adjusted_locale:function(t){return u.includes(t)},currency_symbol:function(t,e){let n="";return n="USD"==t&&e&&"international"==e.usd_type?"US"+this.currency_symbol_mappings[t]+" ":this.currency_symbol_mappings[t],e&&e.withoutSpace?n.trim():n},currency_symbol_mappings:{AUD:"AU$ ",CAD:"CA$ ",CHF:"CHF ",DKK:"DKK ",EUR:"€",GBP:"£",HKD:"HK$ ",JPY:"¥",MXN:"MX$ ",NOK:"NOK ",NZD:"NZ$ ",PLN:"PLN ",SEK:"SEK ",SGD:"S$ ",USD:"$"},money:function(t,e){return e=Object(i.a)({separator:l.default.t("number.currency.format.separator"),delimiter:l.default.t("number.currency.format.delimiter"),format:l.default.t("number.currency.format.format")},e),isNaN(e.precision)&&(e.precision=l.default.t("number.currency.format.precision")),"truncate_zeros"===e.type&&(e.precision=parseFloat(t)%1==0?0:2),this.interpolate(e.format,{n:this.format_number(t,e),u:this.currency_symbol(e.currency,e)})},shorter_money:function(t,e){return void 0===e&&(e={}),t<100?e.precision=2:(e.precision=0,t=Math.floor(t)),this.money(t,e)},percent:function(t,e){return e=Object(i.a)({delimiter:l.default.t("number.percentage.format.delimiter"),format:l.default.t("number.percentage.format.format")},e),this.interpolate(e.format,{n:this.format_number(t,e)})},format_number:function(t,e){var n,a,o;return e=Object(i.a)({separator:l.default.t("number.format.separator"),delimiter:l.default.t("number.format.delimiter")},e),isNaN(e.precision)?e.precision=l.default.t("number.format.precision"):e.precision=Math.abs(e.precision),n=e.precision||e.round?Math.abs(t).toFixed(e.precision):parseInt(Math.abs(t),10).toString(),o=(a=String(parseInt(n,10))).split("").reverse().join("").replace(/(\d{3})(?=\d)/g,"$1"+e.delimiter.split("").reverse().join("")).split("").reverse().join(""),t<0&&(o="-"+o),e.precision&&(o+=e.separator+Math.abs(n-a).toFixed(e.precision).slice(2)),o},interpolate:function(t,e){return t.replace(/\%([\w]+)/g,function(t,n){return e[n]||""})},pluralize:function(t,e){var n,i=t,a=["zombie","zombies","cow()","ki(i?)ne","move","moves","sex","sexes","child","children","man","men","person","people","database","databases","quiz","quizzes","matrix","matrices","(vert|ind)ex","(vert|ind)ices","(^ox)","(^ox)en","(alias|status)","(alias|status)es","(octop|vir)us","(octop|vir)i","(cris|ax|test)is","(cris|ax|test)es","shoe","shoes","o","oes","bus","buses","(m|l)ouse","(m|l)ice","(x|ch|ss|sh)","(x|ch|ss|sh)es","movie","movies","series","series","([^aeiouy]|qu)y","([^aeiouy]|qu)ies","([lr])f","([lr])ves","tive","tives","hive","hives","([^f])fe","([^f])ves","(analy|ba|diagno|parenthe|progno|synop|the)sis","(analy|ba|diagno|parenthe|progno|synop|the)ses","([ti])um","([ti])a","news","news","([^s])","()s"],o=a.map(t=>new RegExp(t+"$","i")),r=!1,s=0;function c(t,n){var i=a[s+(1===e?0:1)-s%2];return void 0!==n&&(i=i.replace(/\(.*\)/,n)),i}function d(t,e){return e.toUpperCase()}for(;!r&&s<a.length;)n=o[s+=1],t.match(n)&&(r=!0,i=t.replace(n,c),t.match(/^[A-Z][^A-Z]+$/)?i=i.replace(/^([a-z])/,d):t.match(/^[A-Z]+$/)&&(i=i.toUpperCase()));return i},capitalize:function(t){return"string"!=typeof t?"":t.replace(/^(\w)|\s(\w)/g,function(t){return t.toUpperCase()})},to_sentence:function(t,e){switch(e=Object(i.a)({words_connector:l.default.t("support.array.words_connector"),two_words_connector:l.default.t("support.array.two_words_connector"),last_word_connector:l.default.t("support.array.last_word_connector")},e),t.length){case 0:return"";case 1:return String(t[0]);case 2:return t[0]+e.two_words_connector+t[1];default:return t.slice(0,-1).join(e.words_connector)+e.last_word_connector+t[t.length-1]}},paragraphize:function(t){return(t=(t=(t=c(t)).replace(/\r\n?/g,"\n")).trim()).length>0&&(t="<p>"+(t=(t=t.replace(/\n{2,}/g,"</p><p>")).replace(/\n/g,"<br />"))+"</p>"),t},time_ago_in_words:function(t){if(!t)return"?";("number"==typeof t||"string"==typeof t&&t.match(/^\d+$/))&&(t=parseInt(1e3*t,10));const e=t,n=o()(Date.now(),t);void 0===f.distance_date_intervals&&(f.distance_date_intervals=[{min:5,i18n_key:"schwamm.just_now"},{min:29,i18n_key:"schwamm.less_than_a_minute_ago"},{min:2640,i18n_key:"schwamm.m_minutes_ago",count_key:"m"},{min:82800,i18n_key:"schwamm.about_h_hours_ago",count_key:"h"},{min:604800,i18n_key:"schwamm.d_days_ago",count_key:"d"},{min:15552e3,i18n_key:"schwamm.on_datetime",count_key:"t"},{min:0,i18n_key:"schwamm.on_year",count_key:"y"}]);const i=f.distance_date_intervals.sort((t,e)=>t.min-e.min),a=i[i.length-1],r=i.reduce((t,e)=>e.min>n&&t===a?e:t,a),s={m:Math.round(n/60),h:Math.round(n/3600),d:Math.round(n/86400),t:Object(d.a)("MMMM D",e),y:Object(d.a)("LL",e)},c=l.default.t(r.i18n_key,{count:s[r.count_key]});return c.match(/NaN|undefined/)?"":c}});"undefined"!=typeof window&&(window.formatters=f);e.a=f}},[[94,1,0]]]);