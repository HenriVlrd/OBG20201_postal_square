(window.KSR_webpackjsonp=window.KSR_webpackjsonp||[]).push([[9],{"+DSo":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return d});const a={zero:[0],one:[1],two:[2],few:[3],many:[],other:[]},i=/\{\{\{\s*(\w+)\s*\}\}\}/g,r=/\{\{\s*(\w+)\s*\}\}/g,o=(e,t)=>e.split(".").reduce(function(e,t){var n=typeof e;return"function"===n||"object"===n&&!!e?e[t]:e},t),s=(e,t)=>{let n,i;return"number"!=typeof(n="number"==typeof t?t:parseInt(t.count,10))||isNaN(n)||0===(i=Object.keys(a).filter(function(e){if(-1!==a[e].indexOf(n))return e})).length&&(i="other"),e[i]},c=e=>{const t=e.split(".");return t[t.length-1].replace(/_/g," ").replace(/(\w+)/g,e=>e.charAt(0).toUpperCase()+e.slice(1))},l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.locale,i=e.defaultLocale,r=e.translations||{};let c=o(t,r[a])||n.default;return void 0===c&&(c=o(t,r[i])),"object"==typeof c&&(c=s(c,n)),c},d=e=>!!l(window.I18n,e)},"+QRC":function(e,t,n){"use strict";var a=n("E9nw"),i={"text/plain":"Text","text/html":"Url",default:"Text"},r="Copy to clipboard: #{key}, Enter";e.exports=function(e,t){var n,o,s,c,l,d,u=!1;t||(t={}),n=t.debug||!1;try{if(s=a(),c=document.createRange(),l=document.getSelection(),(d=document.createElement("span")).textContent=e,d.style.all="unset",d.style.position="fixed",d.style.top=0,d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",d.addEventListener("copy",function(a){if(a.stopPropagation(),t.format)if(a.preventDefault(),void 0===a.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=i[t.format]||i.default;window.clipboardData.setData(r,e)}else a.clipboardData.clearData(),a.clipboardData.setData(t.format,e)}),document.body.appendChild(d),c.selectNodeContents(d),l.addRange(c),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(a){n&&console.error("unable to copy using execCommand: ",a),n&&console.error("unable to copy using clipboardData: ",a),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:r),window.prompt(o,e)}finally{l&&("function"==typeof l.removeRange?l.removeRange(c):l.removeAllRanges()),d&&document.body.removeChild(d),s()}return u}},"+VqH":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ComposeFreeformPostFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publish"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"destroy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"update"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isPublic"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"excludedRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasExcludedNoRewardTier"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Post"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ComposeFreeformPostFragment"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateFreeformPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateFreeformPostInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createFreeformPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePostInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ComposeFreeformPostFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:613}};n.loc.source={body:"fragment ComposeFreeformPostFragment on Postable {\n  id\n  title\n  actions {\n    publish\n    destroy\n    update\n  }\n  isPublic\n  publishedAt\n  excludedRewards {\n    nodes {\n      id\n    }\n  }\n  hasExcludedNoRewardTier\n  ... on FreeformPost {\n    body\n  }\n}\n\nquery Post($id: ID!) {\n  post(id: $id) {\n    ...ComposeFreeformPostFragment\n  }\n}\n\nmutation CreateFreeformPost($input: CreateFreeformPostInput!) {\n  createFreeformPost(input: $input) {\n    post {\n      id\n    }\n  }\n}\n\nmutation UpdatePost($input: UpdatePostInput!) {\n  updatePost(input: $input) {\n    post {\n      ...ComposeFreeformPostFragment\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function r(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.Post=r(n,"Post"),e.exports.CreateFreeformPost=r(n,"CreateFreeformPost"),e.exports.UpdatePost=r(n,"UpdatePost")},"+lZ5":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE"),o=n("2UXI");Object(r.a)(".NS_survey_questions__address",function(e){i()(".saved-addresses select").change(function(){var e=i()(this).find("option:selected").data("address");i()(".address-fields").find(".country select").val(e.country).trigger("change");var t={name:".name input",line_1:".address_1 input",line_2:".address_2 input",city:".city input",state:".js-state input:not(:disabled), .js-state select:enabled",zip:".zip input",phone_number:".js-phone-number input"};Object.keys(e).map(n=>{var a=t[n];i()(".address-fields").find(a).val(e[n])}),i()(".address-fields").find(".js-delivery-notes input").val(""),Object(o.d)("Shipping Address Selected",{context:"surveys"})}),e.find(".country select").change(function(){if(!e.hasClass("js_is_preview")){var t=i()(this).closest(".country"),n=t.data("original_country"),a=t.data("original_shipping_amount"),r=i()(this).val(),s=i()(this).find("option:selected").html(),c=i()(this).find("option:selected").data("cost"),l=i()("body").attr("id"),d=t.find(".shipping_changed_message"),u=i()(".js-state .select"),m=i()(".js-state .text"),p=i()(".js-state .text_container");u.prop("disabled",!0).addClass("hidden"),m.prop("disabled",!0),p.addClass("hidden"),r&&u.hasClass(r)?i.a.each(u,function(){var e=i()(this);e.hasClass(r)&&e.prop("disabled",!1).removeClass("hidden")}):(m.prop("disabled",!1),p.removeClass("hidden")),n&&(c>a?(d.show(),d.find(".country-name").html(s),Object(o.d)("Survey Address for Backing with Restricted Shipping",{original_country:n,country:r,original_shipping_amount:a,shipping_amount:c,survey_context:l})):d.hide())}}),e.find(".country select").trigger("change")})},"/A7b":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE");Object(r.a)(".NS_projects__project_nav .js-load-project-help_wanted",function(){i()(document).on("click",".js-btn",function(){let e=i()(this).closest(".js-skill");e.find(".js-skill-textarea").toggle(),e.find(".js-btn").toggle()})})},"/AD1":function(e,t,n){"use strict";var a=n("60hy");const i=Object(a.b)(window.current_project);window.current_project=i,t.a=i},"/IHD":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return s});var a=n("xk4V"),i=n.n(a);const r=function(){return[].concat(...arguments).filter(Boolean).join(" ")},o=()=>i()().split("-").join(""),s=(e,t)=>(e||[]).concat(t)},"/Jws":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("7LsF");const i=Object(a.b)("editorImageUploader",{Component:a.a,reducer:Object(a.d)("Story Image")})},"/MMT":function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a={canceled:"CANCELED",live:"LIVE",failed:"FAILED",successful:"SUCCESSFUL",started:"STARTED",submitted:"SUBMITTED",suspended:"SUSPENDED",purged:"PURGED"}},"/SyX":function(e,t,n){"use strict";n.d(t,"b",function(){return c});var a=n("prSB"),i=n("94td"),r=n("arGM");const o=e=>{let t=e.name,n=e.creator,a=e.url;const o=Object(r.f)({ref:"project_tweet"})(a),s=Object(i.b)("projects.share_icons.twitter.Check_out_project_by_creator_on_Kickstarter",{project_name:t,creator_name:n.name}),c=encodeURIComponent(s);return"https://twitter.com/intent/tweet?text=".concat(c,"&url=").concat(o)},s=e=>{let t=e.name,n=e.emailShortLink;const a=Object(i.b)("projects.share_icons.mail.Project_on_Kickstarter"),r="".concat(t," ").concat(a);return encodeURI("mailto:?subject=".concat(r,"&body=").concat(n))},c=e=>{let t=e.url;return"".concat(t,"/widget")};t.a=e=>Object(a.a)({},e,{twitterShareUrl:o(e),facebookShareUrl:Object(r.f)({ref:"project_facebook"})(e.url),mailToUrl:s(e),embedUrl:c(e),showModal:!1,campaignLaunched:e.isLaunched,isBacking:!!e.backing})},"/gmP":function(e,t,n){var a=n("+2Rf");n("+2Rf");!function(e){e.fn.term_form=function(){return this.each(function(){var t=e(this);t.find(".text").on("input keydown paste cut",function(){e.trim(e(this).val())?e("form.term .ss-delete").show():e("form.term .ss-delete").hide()}).trigger("input").on("blur",function(){t.submit()}),t.find(".ss-delete").on("click",function(){e("form.term .text").val("").trigger("input").focus(),t.submit()}),t.find(".text").on("focus",function(){e(this).addClass("focused")}),t.find(".text").on("blur",function(){var t=e(this);t.val()||t.removeClass("focused")})}),this}}(a)},"/j8J":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("q1tI"),i=n.n(a);const r=e=>{let t=e.children,n=e.isWatched,a=e.watchCopy,r=e.onClick;const o=i.a.Children.only(t),s=i.a.cloneElement(o,{onClick:r,isWatched:n,watchCopy:a});return i.a.createElement(i.a.Fragment,null,s)}},"/lCS":function(e,t,n){var a=n("gFfm"),i=n("jbM+"),r=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return a(r,function(n){var a="_."+n[0];t&n[1]&&!i(e,a)&&e.push(a)}),e.sort()}},"0ADi":function(e,t,n){var a=n("heNW"),i=n("EldB"),r=n("Kz5y"),o=1;e.exports=function(e,t,n,s){var c=t&o,l=i(e);return function t(){for(var i=-1,o=arguments.length,d=-1,u=s.length,m=Array(u+o),p=this&&this!==r&&this instanceof t?l:e;++d<u;)m[d]=s[d];for(;o--;)m[d++]=arguments[++i];return a(p,c?n:this,m)}}},"0AyS":function(e,t,n){"use strict";var a=n("prSB"),i=n("q1tI"),r=n.n(i),o=n("94td"),s=n("RBqt"),c=n("X+my"),l=n("xwT8"),d=n("MTFr"),u=n("mm3F"),m=n("qYa2"),p=n("Tge+"),h=n("lHf8"),f=n("2DJ9"),g=n("v9JK");const b=e=>e.code,_=e=>e.name,v=e=>"/video_tracks/".concat(e.tid,"/edit"),k=e=>{let t=e.track,n=e.importTrack,a=e.confirmDeleteCaption;const r=t.cues,c=t.language,l="IMPORTING"===t.importStatus,d="FAILURE"===t.importStatus,u=!!r.totalCount,m="caption-management-".concat(t.id);let p;return p=l?i.createElement(s.a,null,"Importing file..."):u?i.createElement(s.a,null,"Track added."):d?i.createElement(s.a,null,"Import failed."):i.createElement(o.a,{i18nKey:"uploaders.captions.Create_or_import_a_track",create:i.createElement(h.a,{atoms:["pointer"],href:v(t),target:"blank"},Object(o.b)("uploaders.captions.Create"))}),i.createElement("div",{className:"border-top border-grey-400 py3 flex"},i.createElement("div",{className:"grow1"},i.createElement("div",{className:"block"},l&&i.createElement(f.a,{name:"loading-spin",atoms:["mr1"]}),i.createElement(s.a,{type:"body-200",color:"soft-black",atoms:["book"]},c.name)),i.createElement(s.a,{type:"caption-200",color:"dark-grey-500"},p)),i.createElement("div",{className:"grow1 text-right pt1"},i.createElement(j,{hasCues:u,isImporting:l,track:t}),i.createElement("button",{className:"bttn bttn-tertiary theme--support bttn-small ml1 ksr-tooltip tooltip-small p0","data-tooltip":"Import .vtt",disabled:l},i.createElement("label",{className:"px2",htmlFor:m},i.createElement(f.a,{name:"icon--download",label:"Import .vtt caption file"}))),i.createElement("input",{type:"file",accept:".vtt",id:m,disabled:l,onChange:n(m,t.tid),className:"hide"}),i.createElement("button",{className:"bttn bttn-tertiary theme--support bttn-small ml1 ksr-tooltip tooltip-small","data-tooltip":"Delete",disabled:l,onClick:a(t.id)},i.createElement(f.a,{name:"trash",label:"Delete caption track"}))))},y=e=>{let t=e.languages,n=e.tracks,a=e.captionSelectState,r=e.updateCaptionSelect,c=e.captionCreated,l=e.videoId;const d=((e,t)=>{const n=t.map(e=>e.language.code);return e.filter(e=>!n.includes(e.code))})(t,n),u=d.length>0;return i.createElement("div",null,i.createElement(s.a,{type:"body-100",color:"soft-black",weight:"medium"},Object(o.b)("uploaders.Add_captions")),u&&i.createElement("div",{className:"flex mt1 mb4"},i.createElement("div",{className:"grow1"},i.createElement(p.a,{placeholder:"Select a language",state:a,onStateChange:r,toLabel:_,toId:b,options:d,small:!0})),i.createElement("button",{className:"bttn bttn-primary theme--create bttn-medium ml1",onClick:c(d,l),disabled:null==a.currentIndex},Object(o.b)("uploaders.Add_track"))))},j=e=>{let t=e.hasCues,n=e.isImporting,a=e.track;const r=t?"bttn-tertiary theme--support":"bttn-primary theme--create",o=t?"pencil":"plus",s=t?"Edit":"Create";return i.createElement("a",{href:v(a),className:"bttn ".concat(r," bttn-small ksr-tooltip tooltip-small"),"data-tooltip":s,disabled:n,target:"blank"},i.createElement(f.a,{name:o,label:"".concat(s," caption track")}))};var E=e=>{let t=e.state,n=e.videoOptions;const a=t.confirmDeleteCaptionId,r=n.updateCaptionSelect,o=n.captionCreated,s=n.cancelDeleteCaption,c=n.captionDeleted,l=n.importTrack,d=n.confirmDeleteCaption,u=n.videoId,m=t.tracks.map(e=>i.createElement(k,{key:e.tid,track:e,importTrack:l,confirmDeleteCaption:d}));return i.createElement("div",null,i.createElement(y,{languages:t.allCaptionLanguages,captionSelectState:t.captionSelectState,updateCaptionSelect:r,captionCreated:o,tracks:t.tracks,videoId:u}),m,a&&i.createElement(g.a,{onClose:s,headerCopy:"Are you sure?",size:"small"},i.createElement("p",{className:"center"},"This can’t be undone."),i.createElement(g.c,{theme:"destroy",onClick:c},"Delete track.")))},w=n("3Hbt");n.d(t,"a",function(){return O});const S={changeFile:Object(o.b)("uploaders.Change_video"),deleteFile:Object(o.b)("uploaders.Delete_video"),deletingFile:Object(o.b)("uploaders.Deleting_video"),uploadCta:Object(o.b)("uploaders.Drop_a_video_here_or_select_a_file"),uploadCtaMobile:Object(o.b)("uploaders.Upload_a_video"),feelFreeToMoveOn:Object(o.b)("uploaders.Feel_free_to_move_on_video"),validFileTypes:Object(o.b)("uploaders.It_must_be_a_valid_video_file_type")},O=e=>{let t=e.state,n=e.dispatch,i=e.supportsCaptions,o=e.theme,s=void 0===o?c.a:o,l=e.uploadLimit;const d=Object(a.a)({},t.videoUpload,{},t.baseUpload),p={supportsCaptions:i,onCloseShowingCaptions:()=>n(Object(w.closeShowingCaptions)()),onOpenShowingCaptions:()=>n(Object(w.openShowingCaptions)()),importTrack:(e,t)=>()=>n(Object(w.importTrack)(e,t)),confirmDeleteCaption:e=>()=>n(Object(w.confirmDeleteCaption)(e)),updateCaptionSelect:e=>n(Object(w.updateCaptionSelect)(e)),captionCreated:(e,t)=>()=>n(Object(w.captionCreated)(e,t)),cancelDeleteCaption:()=>n(Object(w.cancelDeleteCaption)()),captionDeleted:()=>n(Object(w.captionDeleted)()),videoId:t.baseUpload.asset?t.baseUpload.asset.id:null};return r.a.createElement(C,{state:d,onDeleteAsset:()=>n(Object(u.deleteAsset)()),onDragLeave:()=>n(Object(u.fileDragEnded)()),onDragEnter:()=>n(Object(u.fileDragStarted)()),onDrop:e=>{n(Object(u.fileDragEnded)()),Object(m.a)(e)&&(e.preventDefault(),n(Object(u.uploadFileStart)(e.dataTransfer.files[0],n,l)))},onFileSelect:e=>n(Object(u.uploadFileStart)(e,n,l)),onUploadReset:()=>n(Object(u.uploadReset)()),onCloseDeleteAssetModal:()=>n(Object(u.closeDeleteAssetModal)()),onOpenDeleteAssetModal:()=>n(Object(u.openDeleteAssetModal)()),theme:s,uploadLimit:l,videoOptions:p})},C=Object(d.e)({EmptyState:e=>{let t=e.activeDragCounter,n=e.onDragLeave,a=e.onDragEnter,i=e.onDrop,s=e.onFileSelect,c=e.theme,l=e.uploadLimit;return r.a.createElement(d.a,{activeDragCounter:t,iconName:"icon--video",maxFileSizeText:Object(o.b)("uploaders.no_larger_than_file_size",{megabytes:l.megabytes}),onDragLeave:n,onDragEnter:a,onDrop:i,onFileSelect:s,theme:c,copyOverrides:S})},ProcessingState:e=>{let t=e.isDeleting,n=e.onFileSelect,a=e.theme,i=e.timeElapsed;return r.a.createElement(d.b,{isDeleting:t,onFileSelect:n,theme:a,timeElapsed:i,copyOverrides:S})},UploadSuccess:e=>{let t=e.state,n=e.onFileSelect,a=e.onDeleteAsset,i=e.onCloseDeleteAssetModal,c=e.onOpenDeleteAssetModal,u=e.videoOptions,m=e.theme;const p=t.asset,h=t.isDisabled,f=t.isShowingCaptions,g=u.supportsCaptions,b=u.onCloseShowingCaptions,_=u.onOpenShowingCaptions,v=g&&r.a.createElement(s.a,{type:"body-100",atoms:["soft-black"]},r.a.createElement("label",{className:"flex flex-row items-center"},r.a.createElement(l.a,{label:Object(o.b)("uploaders.Add_captions"),disabled:h,on:f,onClick:f?b:_}),r.a.createElement("span",{className:"ml2"},Object(o.b)("uploaders.Add_captions")))),k=g&&f&&r.a.createElement("div",{className:"mt3"},r.a.createElement(E,{state:t,videoOptions:u,theme:m}));return r.a.createElement(d.c,{onCloseDeleteAssetModal:i,onOpenDeleteAssetModal:c,displayImageUrl:p.previewImageUrl,onFileSelect:n,onDeleteAsset:a,state:t,SupplementalComponent:k,SupplementalComponentControl:v,copyOverrides:S})}})},"0Bgb":function(e,t,n){var a=n("eUgh"),i=n("Q1l4"),r=n("Z0cm"),o=n("/9aa"),s=n("GNiM"),c=n("9Nap"),l=n("dt0z");e.exports=function(e){return r(e)?a(e,c):o(e)?[e]:i(s(l(e)))}},"0RKZ":function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});const a=t=>{if(t)return window.btoa?window.btoa(t):e.from(t).toString("base64")},i=t=>t?window.atob?window.atob(t):e.from(t,"base64").toString():t}).call(this,n("tjlA").Buffer)},"0Ugc":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("2UXI");n("RIhn");i()(function(){i()(".js-score-tracking a","click").livequery(function(e){var t=i()(this),n=t.data("score"),a=t.data("version"),o=t.data("pid"),s=2===e.which||e.metaKey||e.ctrlKey||"_blank"===t.target;a&&(s||e.preventDefault(),Object(r.d)("Rec BBall Card Score click",{"rec-score":n,"rec-version":a,pid:o}),s||setTimeout(function(){window.location=t.attr("href")},50))})})},"0VSk":function(e,t,n){"use strict";n.r(t);var a=n("XM0S");const i="undefined"!=typeof window?window.I18n=window.I18n||{}:{};let r=!1;try{r=1===parseInt(localStorage.getItem("i18n_debug"),10)}catch(e){}i.t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(a.a)({translations:i.translations,locale:i.locale,defaultLocale:i.default_locale,debug:r},...t)},t.default=i},"0ycM":function(e,t,n){"use strict";var a=n("jmLK"),i=n("law3"),r=n("q1tI"),o=n.n(r),s=n("pe0Q"),c=n("aaNh"),l=n("RwCH"),d=n("ocnG"),u=n("Qbqs");const m=e=>{let t=e.children,n=e.delay,a=e.open;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"hide-lg"},t),o.a.createElement("div",{className:"hide block-lg"},o.a.createElement(d.a,{open:a,delay:n,duration:200,transitions:[Object(u.a)()],keepMounted:!0},t)))};n.d(t,"a",function(){return p});const p=e=>{let t=e.initialIsDisliked,n=void 0!==t&&t,r=e.initialIsLiked,d=void 0!==r&&r,u=e.initialIsWatched,p=void 0!==u&&u,h=e.interactionsVisibility,f=e.onWatchToggle,g=e.pid,b=e.trackingContext;return o.a.createElement("div",{className:"flex items-center justify-between px3 flex-column-lg px0-lg"},o.a.createElement(m,{open:h,delay:0},o.a.createElement(s.a,{pid:g,initialIsWatched:p,onWatchToggle:f,trackingContext:b},o.a.createElement(c.a,null))),o.a.createElement("div",{className:"flex items-center flex-column-lg"},o.a.createElement("div",{className:"pl2 pl0-lg"},o.a.createElement(m,{open:h,delay:35},o.a.createElement(i.a,{pid:g,initialIsLiked:d,trackingContext:b},o.a.createElement(l.a,{interaction:"like"})))),o.a.createElement("div",{className:"pl2 pl0-lg"},o.a.createElement(m,{open:h,delay:70},o.a.createElement(a.a,{pid:g,initialIsDisliked:n,trackingContext:b},o.a.createElement(l.a,{interaction:"dislike"}))))))}},"109u":function(e,t,n){"use strict";n.r(t),n.d(t,"projectFlaggingInit",function(){return c});var a=n("q1tI"),i=n.n(a),r=n("i8i4"),o=n.n(r),s=n("UNyc");const c=()=>{const e=document.getElementById("react-flag-project");e&&o.a.render(i.a.createElement(s.a,null),e)};c()},"1I1t":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("2UXI"),o=n("a+N5"),s=n.n(o),c=n("GRmu"),l=n("DQv1");i()(function(){var e=".NS_message_threads__show";function t(e){return e.closest("#preview, .render_mustache, .js-message-thread").data("data")}i()(document).on("click",e+" .pledge_details_link",function(t){i()(e).find(".pledge_details").toggleClass("visible"),i()(document).trigger("resize"),i()(this).toggleClass("selected"),Object(r.d)("Message Info Toggle",{text:i.a.trim(i()(this).text())}),t.preventDefault()}),i()(e+":visible").livequery(function(){var n=i()(this),a=t(n);function o(e){i.a.ajax({url:a.urls.web.read,type:"put"}),n.trigger("message_thread_read",[a]),e&&e.preventDefault()}a.unread_messages_count>0&&o(),i()(e+" .mark_as_unread").on("click",function(e){i.a.ajax({url:a.urls.web.unread,type:"put"}),n.trigger("message_thread_unread",[a]),e&&e.preventDefault(),Object(r.d)("Message Read Toggle",{toggled_to:"unread"})}),i()(e+" .mark_as_read").on("click",o)}),i()(document).on("submit",e+" form.reply",function(n){var a=i()(this);a.find('[name="message[body]"]').val()?a.is(".submitting")||(function(e){var t=e.find('input[type="submit"]');e.addClass("submitting"),t.addClass("btn--disabled")}(a),function(n){var a="messages";"undefined"!=typeof current_project&&(a="project_messages");n.closest(".modal_dialog").length&&(a="backer_modal");"backers_show"===i()("body").attr("id")&&(a="backer_page");"backings_show"!==i()("body").attr("id")&&"backings_index"!==i()("body").attr("id")||(a="backings_show");i.a.ajax({url:n.attr("action"),type:n.attr("method"),dataType:"json",data:n.serialize()+"&"+i.a.param({"mp[message_context]":a}),success:function(a){var r=t(n),o=n.closest(e).find("ul.messages");a.errors?s.a.each(s.a.keys(a.errors),function(e){Object(c.a)({error:e+": "+a.errors[e]})}):(o.append(Object(l.a)("messages/_show",a)).trigger("message_sent",r?[r.backing?r.backing.id:void 0,o.children().length]:[]),i()(document).trigger("resize")),n.get(0).reset(),function(e){var t=e.find('input[type="submit"]');e.removeClass("submitting"),t.removeClass("btn--disabled")}(n)}})}(a)):Object(c.a)({error:"Please add a message"}),n.preventDefault()}),i()(document).on("focus",e+" form.reply textarea",function(){var e=i()(this);e.closest("form.reply").addClass("replying"),e.removeAttr("placeholder")}),i()(document).on("click",e+" .respond_link",function(t){i()(e+" form.reply textarea").focus(),Object(r.d)("Message Reply Click"),t.preventDefault()})})},"1OuE":function(e,t,n){"use strict";n.d(t,"c",function(){return E}),n.d(t,"a",function(){return w}),n.d(t,"b",function(){return S});var a=n("cPJV"),i=n.n(a),r=n("2hq0"),o=n("bgw5"),s=n.n(o),c=n("Us+F"),l=n.n(c),d=n("/S0t"),u=n.n(d),m=n("LKA2"),p=n.n(m),h=n("uAXs"),f=n.n(h),g=n("hmb4"),b=n.n(g),_=n("QPlQ"),v=n.n(_);const k={de:s(),en:l(),es:u(),fr:p(),ja:f(),it:b(),zh:v()},y={"MMM YYYY":{de:"MMM YYYY",en:"MMM YYYY",es:"MMM YYYY",fr:"MMM YYYY",it:"MMM YYYY",ja:"YYYY年 MMM",zh:"MMM YYYY"},LTS:{de:"HH:mm:ss",en:"h:mm:ss A",es:"H:mm:ss",fr:"HH:mm:ss",it:"HH:mm:ss",ja:"HH:mm:ss",zh:"h:mm:ss aa"},LT:{de:"HH:mm",en:"h:mm A",es:"H:mm",fr:"HH:mm",it:"HH:mm",ja:"HH:mm",zh:"h:mm aa"},L:{de:"DD.MM.YYYY",en:"MM/DD/YYYY",es:"DD/MM/YYYY",fr:"DD/MM/YYYY",it:"DD/MM/YYYY",ja:"YYYY/MM/DD",zh:"MM/DD/YYYY"},l:{de:"D.M.YYYY",en:"M/D/YYYY",es:"D/M/YYYY",fr:"D/M/YYYY",it:"D/M/YYYY",ja:"YYYY/MM/DD",zh:"MM/DD/YYYY"},"l LT":{de:"D.M.YYYY HH:mm",en:"M/D/YYYY h:mm A",es:"D/M/YYYY HH:mm",fr:"D/M/YYYY HH:mm",it:"D/M/YYYY HH:mm",ja:"YYYY/MM/DD HH:mm",zh:"MM/DD/YYYY h:mm aa"},LL:{de:"D. MMMM YYYY",en:"MMMM D, YYYY",es:"D [de] MMMM [de] YYYY",fr:"D MMMM YYYY",it:"D MMMM YYYY",ja:"YYYY年M月D日",zh:"MMMM D YYYY"},ll:{de:"D. MMM YYYY",en:"MMM D YYYY",es:"D [de] MMM [de] YYYY",fr:"D MMM YYYY",it:"D MMM YYYY",ja:"YYYY年M月D日",zh:"MMM D YYYY"},LLL:{de:"D. MMMM YYYY HH:mm",en:"MMMM D, YYYY h:mm A",es:"D [de] MMMM [de] YYYY H:mm",fr:"D MMMM YYYY HH:mm",it:"D MMMM YYYY HH:mm",ja:"YYYY年M月D日 のHH:mm",zh:"MMMM D YYYY h:mm aa"},lll:{de:"D. MMM YYYY HH:mm",en:"MMM D, YYYY h:mm A",es:"D [de] MMM [de] YYYY H:mm",fr:"D MMM YYYY HH:mm",it:"D MMM YYYY HH:mm",ja:"YYYY年M月D日 のHH:mm",zh:"MMM D, YYYY h:mm A"},LLLL:{de:"dddd, D. MMMM YYYY HH:mm",en:"dddd, MMMM D YYYY h:mm A",es:"dddd, D [de] MMMM [de] YYYY H:mm",fr:"dddd D MMMM YYYY HH:mm",it:"dddd D MMMM YYYY HH:mm",ja:"YYYY年M月D日 (dddd) のHH:mm",zh:"dddd, MMMM D YYYY h:mm aa"},llll:{de:"ddd, D. MMMM YYYY HH:mm",en:"ddd, MMMM D YYYY h:mm A",es:"ddd, D [de] MMMM [de] YYYY H:mm",fr:"ddd D MMMM YYYY HH:mm",it:"ddd D MMMM YYYY HH:mm",ja:"YYYY年M月D日 (ddd) のHH:mm",zh:"ddd, MMMM D YYYY h:mm A"}},j=Object.keys(y).map(e=>"".concat(e," z")),E=(e,t,n)=>((e,t,n)=>{if(j.indexOf(t)>=0){const a=y[t.replace(/ z$/,"")][e],o=i()(n,a,{locale:k[e]});return"".concat(o," ").concat(Object(r.a)(n))}return i()(n,t,{locale:k[e]})})(e,((e,t)=>Object.keys(y).indexOf(t)>=0?y[t][e]:t)(e,t),n),w=(e,t)=>E(window.I18n.locale||window.I18n.default_locale,e,t),S=(e,t)=>{return w(e,1e3*t)}},"1eGs":function(e,t,n){"use strict";let a,i;n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return r}),function(e){e.draft="draft",e.processing="processing",e.published="published"}(a||(a={})),function(e){e.CreatorInterview="CreatorInterview",e.FreeformPost="FreeformPost"}(i||(i={}));const r=n("Ak9l").Posts},"1uWx":function(e,t,n){"use strict";var a=n("94td"),i=n("q1tI"),r=n("b8Ld");let o;!function(e){e.icon="icon--text-bold",e.id="bold",e.style="BOLD"}(o||(o={}));const s=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Bold"),icon:o.icon,toolId:o.id});let c;!function(e){e.icon="",e.id="header",e.style="header-one",e.label="Header 1"}(c||(c={}));const l=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)(e.headerDropdownEnabled?"rich_editor.Header_1":"rich_editor.Headline"),label:c.label,icon:c.icon,toolId:c.id,headerDropdownEnabled:e.headerDropdownEnabled});let d;!function(e){e.icon="",e.id="header2",e.style="header-two",e.label="Header 2"}(d||(d={}));const u=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Header_2"),label:d.label,icon:d.icon,toolId:d.id});let m;!function(e){e.icon="",e.id="header3",e.style="header-three",e.label="Header 3"}(m||(m={}));const p=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Header_3"),label:m.label,icon:m.icon,toolId:m.id});let h;!function(e){e.icon="icon--text-italic",e.id="italic",e.style="ITALIC"}(h||(h={}));const f=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Italic"),icon:h.icon,toolId:h.id});let g;!function(e){e.icon="icon--text-bullet",e.id="list",e.style="unordered-list-item"}(g||(g={}));const b=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.List"),icon:g.icon,toolId:g.id});let _;!function(e){e.icon="",e.id="quote",e.style="blockquote",e.label="Quote"}(_||(_={}));const v=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Block_quote"),label:_.label,icon:_.icon,toolId:_.id});let k;!function(e){e.icon="",e.id="normal",e.style="unstyled",e.label="Normal text"}(k||(k={}));const y=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Normal_text"),label:k.label,icon:k.icon,toolId:k.id});n.d(t,"a",function(){return s}),n.d(t,"b",function(){return o}),n.d(t,"g",function(){return l}),n.d(t,"h",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"f",function(){return m}),n.d(t,"i",function(){return f}),n.d(t,"j",function(){return h}),n.d(t,"k",function(){return b}),n.d(t,"l",function(){return g}),n.d(t,"o",function(){return v}),n.d(t,"p",function(){return _}),n.d(t,"m",function(){return y}),n.d(t,"n",function(){return k})},"1vCr":function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return u});var a=n("prSB"),i=n("mv45"),r=n("94td"),o=n("TIPN"),s=n("9jZ4"),c=n("q1tI"),l=n("eO8H");const d=(e,t)=>t&&e in t?t[e]:null;class u extends c.Component{constructor(e){super(e),this.mounted=void 0,this.onBeforeUnload=e=>{if(this.warnBeforeDirtyUnmount()&&this.state.dirty)return e.returnValue="",""},this.resetValues=()=>{this.setState({values:{},isSubmitting:!1,errors:null,dirty:!1})},this.setValues=e=>{this.setState(t=>{const n=Object(a.a)({},t.values,{},e);return{values:n,errors:t.errors&&"function"==typeof this.props.validate?this.props.validate(Object(a.a)({},this.props.initialValues,{},n)):null,dirty:!Object(s.h)(this.props.initialValues,n)}})},this.setErrors=e=>{this.setState({isSubmitting:!1,dirty:!0,errors:e})},this.onSubmit=e=>async t=>{"function"==typeof t.preventDefault&&t.preventDefault();let n=this.state.dirty,c=null;if(this.state.isSubmitting)return{errors:c,dirty:n};if(this.setState({isSubmitting:!0}),"function"==typeof this.props.validate){const e=this.props.validate(Object(a.a)({},this.props.initialValues,{},this.state.values)),t=this.props.scrollTopWhenError;if(!Object(s.c)(e))return("boolean"!=typeof t||t)&&Object(o.d)(),this.setErrors(e),{errors:e,dirty:n}}try{await this.props.onSubmit(this.values(),e),n=!1}catch(e){const t=Object(i.f)(e),n=t?null:e.message,o=t?{}:{general:Object(r.b)("project_updates.An_unexpected_error_occurred")};c=Object(a.a)({},t,{},o),"function"==typeof this.props.onError&&this.props.onError(t,n)}return this.mounted&&this.setState({isSubmitting:!1,errors:c,dirty:n}),{errors:c,dirty:n}},this.mounted=!1,this.state={values:{},isSubmitting:!1,errors:null,dirty:!1}}warnBeforeDirtyUnmount(){return"boolean"==typeof this.props.warnBeforeDirtyUnmount?this.props.warnBeforeDirtyUnmount:"function"==typeof this.props.warnBeforeDirtyUnmount&&this.props.warnBeforeDirtyUnmount(this.values())}componentDidMount(){this.mounted=!0,window.addEventListener("beforeunload",this.onBeforeUnload)}componentWillUnmount(){this.mounted=!1,window.removeEventListener("beforeunload",this.onBeforeUnload)}shouldComponentUpdate(e,t){return!Object(s.h)(e,this.props)||!Object(s.h)(e.initialValues,this.props.initialValues)||!Object(s.h)(t,this.state)}values(){return Object(a.a)({},this.props.initialValues,{},this.state.values)}render(){const e={errors:this.state.errors,isDirty:this.state.dirty,isSubmitting:this.state.isSubmitting,onSubmit:this.onSubmit(null),onSubmitWithExtras:this.onSubmit,resetValues:this.resetValues,setValues:this.setValues,values:this.values(),ownProps:{}};let t;if(this.props.render)t=this.props.render;else{if("function"!=typeof this.props.children)throw new Error("WithFormState must have a render or children prop that is a function.");t=this.props.children}let n=null;return this.warnBeforeDirtyUnmount()&&(n=c.createElement(l.e,{when:this.state.dirty&&!this.state.isSubmitting,message:Object(r.b)("project_updates.Are_you_sure_you_want_to_leave")})),c.createElement(c.Fragment,{},t(e),n)}}},"2DJ9":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var a=n("q1tI");const i=["9","10","12","14","15","16","20","24","30","36","48","small","medium","large"],r=e=>{if(i.includes(e))return["icon-".concat(e)];throw new Error("invalid size class")},o=a.forwardRef((e,t)=>{const n=e.name,i=e.label,o=e.size,s=void 0===o?"small":o,c=e.atoms,l=void 0===c?[]:c,d=e.defsElement,u=e.inlineFill,m=["svg-icon__".concat(n)].concat(r(s)).concat(l).join(" ");return a.createElement("svg",{ref:t,className:m,"aria-hidden":!i,"aria-label":i,fill:u},d&&d,a.createElement("use",{xlinkHref:"#".concat(n)}))})},"2UXI":function(e,t,n){"use strict";var a=n("prSB"),i=n("+2Rf"),r=n.n(i),o=n("S1QU"),s=n("CjI4"),c=n("/AD1"),l=n("WjF9"),d=n("0VSk");const u=window.device_attributes||{},m=()=>u.browserName,p=()=>u.browserVersion,h=()=>u.deviceName,f=()=>u.isBot,g=()=>u.osName,b=()=>u.osVersion;var _=n("aNAf");"true"===n("ZCIj").b.getItem("koala_debug")&&(window.koala_debug=!0);const v=e=>{const t=e.split("/");return t.length>=3?t[2]:""},k=()=>{const e=navigator.userAgent,t={is_ua_bot:f()},n=(e=>Object.keys(e).reduce((t,n)=>{const i=e[n];return"string"==typeof i&&0!=i.length?Object(a.a)({},t,{[n]:i}):t},{}))({$os:g(),os_version:b(),$browser:m(),browser_version:p(),$referrer:document.referrer,$referring_domain:v(document.referrer),$device:h(),user_agent:e}),i={$screen_height:screen.height,$screen_width:screen.width};return Object(a.a)({},n,{},i,{},t)},y=(e,t)=>{const n={event:e,properties:Object(a.a)({},k(),{},{distinct_id:Object(_.a)()},{},t)},i=JSON.stringify(n);return window.koala_debug&&(window.console.log("KOALA REQUEST:"),window.console.log(n)),r.a.ajax({type:"POST",url:window.koala_endpoint,data:i,contentType:"text/plain; charset=UTF-8"})};var j=y,E=(e,t,n)=>{r()(e).click(function(e){const a=this.href,i=2===e.which||e.metaKey||e.ctrlKey||"_blank"===this.target;let r;r="function"==typeof n?n(this):n;const o=new Promise(function(e){window.setTimeout(e,300),y(t,r).then(e)});i||(o.then(function(){window.location=a}),e.preventDefault())})},w=n("MgNI"),S=n("o3IG"),O=n("yQm5"),C=n.n(O),N=n("c6/r");n.d(t,"a",function(){return U}),n.d(t,"c",function(){return F}),n.d(t,"d",function(){return B}),n.d(t,"e",function(){return q}),n.d(t,"b",function(){return $});const x=e=>1e3*e.valueOf(),T=e=>e/36e5,I=e=>T(e)/24,D=e=>{if(e&&"function"==typeof e.get){const t=Object(S.b)("ref_"+e.get("id"));if(t)return Object(N.a)(t).split("?")[0]}return!1},P=w.maybe.fromNullable(Object(S.b)("user_analytics_properties")).map(JSON.parse).getOrElse({}),A=e=>{let t=e.user,n=e.referrerCredit,i=e.ip,o=e.ipDatacenter,s=e.iosAppUUID,c=e.enabledFeatures,l=e.windowAndScreenData;return Object(a.a)({},l,{referrer_credit:n,client_type:r()("body.native-app-request").length?"native":"web",client_platform:r()("body.ios").length?"ios":r()("body.android").length?"android":void 0,device_format:r()("body.phone").length?"phone":r()("body.tablet").length?"tablet":"desktop",apple_pay_capable:r()("body.apple-pay-capable").length>0,android_pay_capable:r()("body.android-pay-capable").length>0,ip_address:i||null,ip_datacenter:o||null,user_logged_in:void 0!==t,user_chosen_currency:t?t.data.chosen_currency:null,user_uid:t&&"function"==typeof t.get?t.get("id"):null,iphone_uuid:s||void 0,enabled_features:Object.keys(c||{}),browser_language:d.default.browser_language,chosen_language:d.default.chosen_language,calculated_language:d.default.calculated_language,display_language:d.default.display_language},P,{mp_lib:"js"})},R=()=>({window_inner_width:window.innerWidth,window_inner_height:window.innerHeight,screen_width:screen.width,screen_height:screen.height,screen_avail_width:screen.availWidth,screen_avail_height:screen.availHeight}),F=(e,t)=>t?Object.keys(t).reduce((n,i)=>Object(a.a)({},n,{["".concat(e,"_").concat(i)]:t[i]}),{}):{},L=e=>{let t=e.user,n=e.project,i=e.currentTime,r=void 0===i?new Date:i;if(!n||"string"==typeof n)return{};const o="function"==typeof n.get?n.get():n,s=w.maybe.fromNullable(o.deadline).map(x).getOrElse(void 0),c=T(s-r)>0?T(s-r):0,l=o.pledged/o.goal,d={backers_count:o.backers_count,country:o.country,currency:o.currency,deadline:o.deadline,goal:o.goal,last_update_published_at:o.last_update_published_at,launched_at:o.launched_at,name:o.name,pid:o.id,pledged:o.pledged,profile_state:o.profile.state,state:o.state,updates_count:o.updates_count,hours_remaining:c,percent_raised:l,has_video:null!==o.video,duration:I(w.maybe.fromNullable(o.launched_at).map(x).getOrElse(0)-w.maybe.fromNullable(o.launched_at).map(x).getOrElse(0)),rewards_count:o.rewards?o.rewards.count:void 0,location:o.location?o.location.name:void 0,category_name:o.category?o.category.name:void 0,parent_category:w.maybe.fromNullable(o.category).map(e=>e.parent?e.parent.name:e.name).getOrElse(void 0)},u=F("project",d),m={user_is_backer:o.is_backing,user_has_starred:o.is_starred,user_is_project_creator:t&&"function"==typeof t.get&&t.get("id")===o.creator.id},p={display_currency:o.current_currency,display_exchange_rate:o.fx_rate};return Object(a.a)({},u,{},m,{},p)},M=e=>{if(!e||"string"==typeof e||"function"==typeof e.get&&(!e.get("amount")||!e.get("reward")))return{};const t="function"==typeof e.get?e.get():e,n={amount:t.amount,shipping_amount:t.shipping_amount,location_id:t.location_id},i=t.reward,r=i.estimated_delivery_on,o=i.id,s=i.minimum,c=i.reward,l=i.shipping_preference,d=i.shipping_enabled,u=F("reward",{estimated_delivery_on:r,id:o,minimum:s,reward:c,shipping_preference:l,shipping_enabled:d}),m=Object(a.a)({},n,{},u);return F("checkout",m)},U=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=r()("body").attr("id"),n=C()().query(!0).ref,i=document.URL,d=l.a||window.current_user,u=o.a,m=s.a,p=window.current_ip,h=window.current_ip_datacenter,f=window.ios_app_uuid,g=window.enabled_features,b=e.withoutCurrentProject?null:c.a,_=window.current_variants&&"string"!=typeof window.current_variants?{current_variants:window.current_variants}:{},v=D(b);return Object(a.a)({page_id:t,ref_tag:n,landing_page_url:i},L({user:d,project:b,currentTime:e.currentTime}),{},M(u),{},_,{},A({user:d,location:m,referrerCredit:v,ip:p,ipDatacenter:h,iosAppUUID:f,enabledFeatures:g,windowAndScreenData:R()}))},B=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Object(a.a)({},U(n),{},t);j(e,i)},q=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=l.a,d=i.withoutCurrentProject?null:c.a,u=s.a,m=window.current_ip,p=window.current_ip_datacenter,h=window.ios_app_uuid,f=window.enabled_features,g=D(d);window.setTimeout(function(){E(e,t,function(e){let t=r()(e);return Object(a.a)({selected_link:t.attr("data-original_text")?t.data("original_text"):r.a.trim(t.text()),page_id:r()("body").attr("id")},L({user:o,project:d}),{},A({user:o,location:u,referrerCredit:g,ip:m,ipDatacenter:p,iosAppUUID:h,enabledFeatures:f,windowAndScreenData:R()}),{},n)})},1)},$=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise(e=>{setTimeout(()=>{B(...t),e()},300)})};window&&(window.track=B)},"2gvo":function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"initializeData",function(){return g}),n.d(a,"closeComponent",function(){return b}),n.d(a,"selectOption",function(){return _}),n.d(a,"fieldChange",function(){return v}),n.d(a,"focusInput",function(){return k}),n.d(a,"highlightOption",function(){return y}),n.d(a,"keyDown",function(){return j}),n.d(a,"selectedValueUpdated",function(){return E}),n.d(a,"debounceFieldChange",function(){return w});var i=n("7cf5"),r=n("2DJ9"),o=n("RBqt"),s=n("94td"),c=n("SmhT"),l=n("4+Ta"),d=n("/IHD"),u=n("X+my"),m=n("sEfC"),p=n.n(m),h=n("q1tI"),f=n("CgNg");const g=(e,t)=>({type:"SEARCH_INPUT_INIT_DATA",optionValue:e,optionLabel:t}),b=()=>({type:"SEARCH_INPUT_CLOSE"}),_=(e,t)=>({type:"SEARCH_INPUT_OPTION_SELECT",optionValue:e,optionLabel:t}),v=e=>({type:"SEARCH_INPUT_FIELD_CHANGE",fieldValue:e}),k=()=>({type:"SEARCH_INPUT_FOCUS"}),y=(e,t)=>({type:"SEARCH_INPUT_OPTION_HIGHLIGHT",index:e,options:t}),j=(e,t)=>({type:"SEARCH_INPUT_KEY_DOWN",which:e,options:t}),E=e=>({type:"SEARCH_INPUT_SELECT_ON_VALUE_UPDATE",value:e}),w=e=>({type:"SEARCH_INPUT_DEBOUNCE_FIELD_CHANGE",fieldValue:e}),S=e=>"closed"===e.openState,O=e=>"open"===e.openState;var C=n("prSB"),N=n("0fse");const x=(e,t,n)=>{const a=Object(C.a)({},t,{highlightedIndex:null,openState:"closed",inputFieldValue:e.label,previousSelectedValue:{label:e.label,value:e.value},selectedValue:e.value});return Object(N.f)(a,N.a.action(n.selectedValueUpdated(e.value)))},T=(e,t,n,a)=>{const i=O(e)&&n.length>3,r=i?4:n.length,o=(t,a)=>{let o,s;switch(a){case c.b:o=null!==t?(t+1)%r:0,s=i&&o===r-1?e.selectedValue:n[o].value;break;case c.n:o=null!==t?(r+t-1)%r:r-1,s=i&&o===r-1?e.selectedValue:n[o].value;break;default:o=t,s=e.selectedValue}return{index:o,value:s,label:null!==o?n[o].label:""}},s=Object(C.a)({},e,{isKeyboardEngaged:!0});switch(t){case c.b:if(0===n.length)return e;const i=o(e.highlightedIndex,t),r=i.index,l=i.value,d=i.label;return Object(C.a)({},s,{highlightedIndex:r,selectedValue:l,inputFieldValue:d});case c.c:if(null===e.highlightedIndex){const t=""===e.selectedValue?e.selectedValue:e.previousSelectedValue.value,n=""===e.selectedValue?"":e.previousSelectedValue.label;return Object(C.a)({},s,{openState:"closed",selectedValue:t,inputFieldValue:n})}const u=n[e.highlightedIndex];return O(e)&&3===e.highlightedIndex?Object(C.a)({},s,{openState:"expanded",selectedValue:u.value,inputFieldValue:u.label}):x(u,s,a);case c.d:return Object(C.a)({},s,{highlightedIndex:null,openState:"closed",selectedValue:e.previousSelectedValue.value,inputFieldValue:e.previousSelectedValue.label});case c.n:if(0===n.length)return e;const m=o(e.highlightedIndex,t),p=m.index,h=m.value,f=m.label;return Object(C.a)({},s,{highlightedIndex:p,selectedValue:h,inputFieldValue:f});default:return s}};n.d(t,"a",function(){return D}),n.d(t,"b",function(){return F}),n.d(t,"c",function(){return L});const I=p()((e,t)=>{t(e)},500),D=e=>{let t=e.state,n=e.dispatch,a=e.id,r=e.options,o=Object(i.a)(e,["state","dispatch","id","options"]);return h.createElement(P,{state:t,focusInput:()=>n(k()),closeComponent:()=>n(b()),onOptionSelect:(e,t)=>n(_(e,t)),onFieldChange:e=>{n(v(e)),I(e,e=>n(w(e)))},onOptionHighlight:(e,t)=>n(y(e,t)),onKeyDown:(e,t)=>n(j(e,t)),id:a,options:r,moreResultsString:o.moreResultsString,resultsString:o.resultsString,theme:o.theme,placeholder:o.placeholder})},P=e=>{let t=e.state,n=e.closeComponent,a=e.focusInput,i=e.id,l=e.moreResultsString,d=void 0===l?Object(s.b)("search_input.more_results"):l,m=e.onFieldChange,p=e.onKeyDown,g=e.onOptionHighlight,b=e.onOptionSelect,_=e.options,v=e.placeholder,k=void 0===v?"":v,y=e.resultsString,j=void 0===y?e=>Object(s.b)("search_input.results",{count:e}):y,E=e.theme,w=void 0===E?u.a:E;return h.createElement("div",{onBlur:()=>{(e=>"expanded"===e.openState)(t)||n()}},S(t)&&""!==t.inputFieldValue?h.createElement("div",{className:"bg-white hover-shadow p2 pointer relative radius2px shadow-hover soft-black w100p border border-grey-400 h7 flex items-center",onFocus:a,tabIndex:0},h.createElement(o.a,{type:"body-100",atoms:["soft-black"]},t.inputFieldValue),h.createElement("div",{className:"absolute flex h100p items-center r2 t0"},h.createElement(r.a,{name:"icon--pencil",size:"14"}))):h.createElement("div",{className:"relative"},h.createElement(f.b,{id:i,autoComplete:"off",autoFocus:!S(t),placeholder:k,inputValue:t.inputFieldValue,onChange:m,onFocus:a,onKeyDown:(e,t)=>{if([c.n,c.b].includes(e)){if(t.altKey||t.shiftKey)return;t.preventDefault()}p(e,_)}}),""===t.inputFieldValue&&S(t)&&h.createElement("div",{className:"absolute flex h100p items-center r2 t0"},h.createElement(r.a,{name:"icon--search",size:"14",atoms:["fill-grey-500"]})),!S(t)&&[h.createElement("div",{key:"close-icon",onClick:n,className:"absolute flex h100p items-center r2 t0"},h.createElement(r.a,{atoms:["pointer"],name:"icon--cross",size:"14"})),h.createElement(A,{key:"options-list",onOptionHighlight:g,onOptionSelect:b,highlightedIndex:t.highlightedIndex,moreResultsString:d,isOpen:O(t),options:_,resultsString:j,theme:w,isKeyboardEngaged:t.isKeyboardEngaged})]))},A=e=>{let t=e.highlightedIndex,n=e.moreResultsString,a=e.isOpen,i=e.options,r=e.resultsString,s=e.theme,c=e.isKeyboardEngaged,l=e.onOptionSelect,u=e.onOptionHighlight;const m=Object(d.a)("absolute","bg-white","border-".concat(s["primary-light"]),"radius2px","mb10","mt1","p1","shadow-3","shadow-card","subhead-300","w100p"),p=r(i.length);return h.createElement("div",{className:"relative w100p z-dropdown-3"},h.createElement("div",{className:m},i.length>0?h.createElement("div",null,h.createElement(o.a,{type:"caption-200",atoms:["dark-grey-400","px2","pt1"]},p),h.createElement("ul",{style:{maxHeight:"19.8rem",overflowY:"scroll"},className:"relative"},(a?i.slice(0,3):i).map((e,n)=>h.createElement(R,{label:e.label,isHighlighted:t===n,key:"".concat(n.toString(),"-").concat(e),onMouseDown:()=>l(e.value,e.label),onMouseOut:()=>u(null,i),onMouseOver:()=>u(n,i),isKeyboardEngaged:c})),a&&i.length>3&&h.createElement(R,{color:s["primary-dark"],label:n,isHighlighted:3===t,onMouseDown:()=>l(null,null),onMouseOut:()=>u(null,i),onMouseOver:()=>u(3,i),isKeyboardEngaged:c}))):h.createElement("ul",null,h.createElement(R,{label:p}))))},R=e=>{let t=e.color,n=void 0===t?"soft-black":t,a=e.label,i=e.isHighlighted,r=void 0!==i&&i,s=e.onMouseDown,c=e.onMouseOut,l=e.onMouseOver,u=e.isKeyboardEngaged,m=void 0!==u&&u;const p=Object(d.a)("body-100","flex","items-center","h6","lh3","pointer","px2","transition-all",n,r&&"bg-grey-400");return h.createElement("li",{className:p,onMouseDown:s,onMouseOver:l,onMouseOut:c,ref:e=>{e&&e.parentElement&&r&&m&&(e.parentElement.scrollTop=e.offsetTop+e.offsetHeight-e.parentElement.offsetHeight)}},h.createElement(o.a,{type:"body-100"},a))},F=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{highlightedIndex:null,openState:"closed",previousSelectedValue:{value:e,label:t},inputFieldValue:t,selectedValue:e,isKeyboardEngaged:!1}},L=Object(l.c)(D,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F(),t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;switch(t.type){case"SEARCH_INPUT_INIT_DATA":const a=null!==t.optionLabel?t.optionLabel:"",i=null!==t.optionValue?t.optionValue:"";return Object(C.a)({},e,{selectedValue:i,inputFieldValue:a,previousSelectedValue:{label:a,value:i}});case"SEARCH_INPUT_CLOSE":return Object(C.a)({},e,{highlightedIndex:null,openState:"closed",selectedValue:e.previousSelectedValue.value,inputFieldValue:e.previousSelectedValue.label});case"SEARCH_INPUT_FIELD_CHANGE":return Object(C.a)({},e,{highlightedIndex:null,inputFieldValue:t.fieldValue});case"SEARCH_INPUT_OPTION_SELECT":if(null===t.optionValue||null===t.optionLabel)return Object(C.a)({},e,{openState:"expanded"});const r={value:t.optionValue,label:t.optionLabel};return x(r,e,n);case"SEARCH_INPUT_FOCUS":return Object(C.a)({},e,{openState:"open",inputFieldValue:""});case"SEARCH_INPUT_OPTION_HIGHLIGHT":return Object(C.a)({},e,{highlightedIndex:t.index,inputFieldValue:null!==t.index?t.options[t.index].label:e.previousSelectedValue.label,isKeyboardEngaged:!1});case"SEARCH_INPUT_KEY_DOWN":return T(e,t.which,t.options,n);default:return e}},a)},"2hq0":function(e,t,n){"use strict";var a=n("cPJV"),i=n.n(a),r=n("OBTA"),o=n.n(r),s=n("fupu"),c=n.n(s);const l=e=>parseInt(i()(e,"ZZ"),10);n.d(t,"a",function(){return m});const d={"+02:00T":"CEST","+01:00F":"CET","+01:00T":"BST","-00:00F":"GMT","-03:00T":"ADT","-04:00F":"AST","-04:00T":"EDT","-05:00F":"EST","-05:00T":"CDT","-06:00F":"CST","-06:00T":"MDT","-07:00F":"MST","-07:00T":"PDT","-08:00F":"PST","-08:00T":"AKDT","-09:00F":"AKST","-09:00T":"HADT","-10:00F":"HAST","+11:00T":"AEDT","+10:00F":"AEST","+10:30T":"ACDT","+09:30F":"ACST","+09:00T":"AWDT","+08:00F":"AWST"},u=e=>{const t=i()(e,"Z")+(function(e){if(!c()(new Date(e)))throw"input is invalid";const t=l(e),n=l(o()(new Date(e),0)),a=l(o()(new Date(e),5));return t>n||t>a}(e)?"T":"F");if(void 0!==d[t])return d[t]},m=e=>(e=>{const t=e.toString().match(/\(([a-z]{3,4})\)/i);if(t)return t[1].toUpperCase()})(e)||u(e)||i()(e,"UTC Z")},"2lMS":function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var a=t.length;if(!a)return e;var i=a-1;return t[i]=(a>1?"& ":"")+t[i],t=t.join(a>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}},"2n5v":function(e,t,n){"use strict";n("Wp1a"),n("cDWt");var a=n("IVac");n.d(t,"c",function(){return a.d}),n.d(t,"b",function(){return a.c}),n.d(t,"d",function(){return a.h}),n.d(t,"e",function(){return a.j}),n.d(t,"h",function(){return a.n});var i=n("w/TO");n.d(t,"a",function(){return i.a}),n.d(t,"f",function(){return i.b}),n.d(t,"g",function(){return i.c})},"2sRD":function(e,t,n){"use strict";n("Mk9X");var a=n("KKf6"),i=n("0VSk"),r=n("2hq0");n("+2Rf");!function(e){function t(t,n){this.$div=t,this.options=e.extend({previous_month_text:"< Prev",next_month_text:"Next >",month_texts:[i.default.t("library.calendar_date_picker.January"),i.default.t("library.calendar_date_picker.February"),i.default.t("library.calendar_date_picker.March"),i.default.t("library.calendar_date_picker.April"),i.default.t("library.calendar_date_picker.May"),i.default.t("library.calendar_date_picker.June"),i.default.t("library.calendar_date_picker.July"),i.default.t("library.calendar_date_picker.August"),i.default.t("library.calendar_date_picker.September"),i.default.t("library.calendar_date_picker.October"),i.default.t("library.calendar_date_picker.November"),i.default.t("library.calendar_date_picker.December")],day_of_week_texts:[i.default.t("library.calendar_date_picker.Sunday_short"),i.default.t("library.calendar_date_picker.Monday_short"),i.default.t("library.calendar_date_picker.Tuesday_short"),i.default.t("library.calendar_date_picker.Wednesday_short"),i.default.t("library.calendar_date_picker.Thursday_short"),i.default.t("library.calendar_date_picker.Friday_short"),i.default.t("library.calendar_date_picker.Saturday_short")]},n),this._extract_options(),this._attach(),this._redraw()}var n;function o(e){return n?n.firstChild.nodeValue=e:(n=document.createElement("div")).appendChild(document.createTextNode(e)),n.innerHTML}e.fn.calendar_date_picker=function(n){return this.each(function(){var a=new t(e(this),n);e(this).data("calendar_date_picker",a)})},e.extend(t.prototype,{_copy_date:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},_copy_date_with_time:function(e,t){if(!e)return e;var n=this._copy_date(e),a=(t||"").split(":");return n.setHours(+a[0]||0),n.setMinutes(+a[1]||0),n},_copy_time:function(e){if(!e)return null;var t=""+e.getHours();1===t.length&&(t="0"+t);var n=""+e.getMinutes();return 1===n.length&&(n="0"+n),t+":"+n},_copy_month:function(e){return new Date(e.getFullYear(),e.getMonth(),1)},_next_year:function(e){return new Date(e.getFullYear()+1,e.getMonth(),1)},_previous_year:function(e){return new Date(e.getFullYear()-1,e.getMonth(),1)},_next_month:function(e){return new Date(e.getFullYear(),e.getMonth()+1,1)},_previous_month:function(e){return new Date(e.getFullYear(),e.getMonth()-1,1)},_next_date:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,e.getHours(),e.getMinutes())},_previous_date:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()-1,e.getHours(),e.getMinutes())},_same_year:function(e,t){return e.getFullYear()===t.getFullYear()},_same_month:function(e,t){return this._same_year(e,t)&&e.getMonth()===t.getMonth()},_last_date_of_month:function(e){return new Date(e.getFullYear(),e.getMonth()+1,0)},_selected_date_date_in_focus_month:function(){return this.selected_date&&this._same_month(this.selected_date,this.focus_date)?this.selected_date.getDate():void 0},_extract_options:function(){this.today_date=this._copy_date(this.options.today_date||new Date),this.options.selected_date&&(this.selected_date=this._copy_date(this.options.selected_date)),this.focus_date=this._copy_month(this.options.focus_date||this.selected_date||this.today_date),this.time=!!this._does_datetime()&&this._copy_time(this.options.selected_date||this.options.today_date||new Date)},_refresh_calendar_table_classes:function(e){var t=this._selected_date_date_in_focus_month(),n=e.children("tbody"),a=n.find("a.selected");a.removeClass("selected"),a.parent().removeClass("selected");var i=n.find("a:eq("+(t-1)+")");i.addClass("selected"),i.parent().addClass("selected")},_attach:function(){var e=this;this.$div.bind("calendar_date_picker:select_date",function(t,n){e.select_date(n)})},_bind_dom_table_events:function(){var t=this,n=this.$div.children().children("table"),i=n.children(":eq(0)").children().children(),r=i.children("a.previous_month");r.text(this.options.previous_month_text),r.click(function(e){e.preventDefault(),t._on_previous_month_clicked()});var o=i.children("a.next_month");o.text(this.options.next_month_text),o.click(function(e){e.preventDefault(),t._on_next_month_clicked()}),i.children("a.previous_year").click(function(e){e.preventDefault(),t._on_previous_year_clicked()}),i.children("a.next_year").click(function(e){e.preventDefault(),t._on_next_year_clicked()}),i.children(".month, .year").on("click",function(){t.focus_date=new Date,t._refresh_calendar()}),n.children("tbody").click(function(n){var i;i=a.a.msie?n.srcElement:n.target;var r=e(i);if(r[0]&&"A"===r[0].nodeName){n.preventDefault();var o=t._copy_date_with_time(t.focus_date,t.time);o.setDate(+r.text());var s=t._copy_date_with_time(t.selected_date,t.time);t.options.allow_deselect&&s&&o-s==0?t.select_date(void 0):t.select_date(o)}})},_bind_dom_time_events:function(){if(this._does_datetime()){var e=this,t=this.$div.children().children("div.time").find("input");t.time_field(this.options.time),t.trigger("time_field:set_time",this.time),t.bind("time_field:time_changed",function(t,n){e.selected_date||(e.selected_date=new Date);var a=e._copy_date_with_time(e.selected_date,n);e.select_date(a)})}},_does_datetime:function(){return void 0!==this.options.time_text},_on_previous_year_clicked:function(){this.focus_date=this._previous_year(this.focus_date),this._refresh_calendar()},_on_next_year_clicked:function(){this.focus_date=this._next_year(this.focus_date),this._refresh_calendar()},_on_previous_month_clicked:function(){this.focus_date=this._previous_month(this.focus_date),this._refresh_calendar()},_on_next_month_clicked:function(){this.focus_date=this._next_month(this.focus_date),this._refresh_calendar()},_redraw:function(){this.$div.empty(),this.$div.append('<div class="calendar_date_picker">'+this._table_html()+this._time_div_html()+"</div>"),this._bind_dom_table_events(),this._bind_dom_time_events()},_refresh_calendar:function(){this.$div.children().children("table").replaceWith(this._table_html()),this._bind_dom_table_events()},select_date:function(e,t){var n=e?this._copy_date(e):void 0,a=t||(e?this._copy_time(e):void 0);(this.selected_date?this.selected_date.valueOf():void 0)===(n?n.valueOf():void 0)&&a===this.time||(this.selected_date=n,this._does_datetime()&&(this.time=a,a&&this.$div.find("input").trigger("time_field:set_time",a)),this.$div.trigger("calendar_date_picker:date_selected",[this._copy_date_with_time(this.selected_date,this.time)]),this.focus_date=this._copy_month(this.selected_date||this.today_date),this._refresh_calendar(),this._refresh_calendar_table_classes(this.$div.find("table")))},_table_html:function(){return"<table>"+this._thead_month_year_html()+this._thead_days_of_week_html()+this._tbody_html()+"</table>"},_thead_month_year_html:function(){return'\n        <thead class="month maison-book">\n          <tr>\n            <th><a class="previous_month white ss-icon ss-navigateleft" href="#" /></th>\n            <th colspan="5"><span class="month">\n              '.concat(o(this.options.month_texts[this.focus_date.getMonth()]),'\n              </span></th>\n            <th><a class="next_month white ss-icon ss-navigateright" href="#" /></th>\n          </tr>\n          <tr>\n            <th colspan="2"><a class="previous_year white" href="#"><span class="ss-icon ss-navigateleft"/>\n            <span class="type-10">\n              ').concat(this._previous_year(this.focus_date).getFullYear(),'\n            </span></a></th>\n            <th colspan="3"><span class="year">').concat(this.focus_date.getFullYear(),'</span></th>\n            <th colspan="2"><a class="next_year white" href="#"><span class="type-10">\n              ').concat(this._next_year(this.focus_date).getFullYear(),'\n              </span><span class="ss-icon ss-navigateright" /></a>\n            </th>\n          </tr>\n        </thead>\n        ')},_thead_days_of_week_html:function(){return'<thead class="days_of_week"><tr><th>'+this._days_of_week_ths().join("</th><th>")+"</th></tr></thead>"},_tbody_html:function(){var e=this._copy_month(this.focus_date).getDay(),t=1,n=this._last_date_of_month(this.focus_date).getDate(),a=this._selected_date_date_in_focus_month(),i=this._same_month(this.focus_date,this.today_date)&&this.today_date.getDate(),r=[];for(r.push(this._date_tds(e,a,i,t,n)),t=8-e;t<=n;t+=7)r.push(this._date_tds(0,a,i,t,n));return"<tbody><tr>"+r.join("</tr><tr>")+"</tr></tbody>"},_date_tds:function(e,t,n,a,i){for(var r=[],o=0;o<e;o+=1)r.push("<td></td>");for(var s=a;r.length<7&&s<=i;s+=1){var c,l=[];s===t&&l.push("selected"),s===n&&l.push("today");var d="<td"+(c=l.length?' class="'+l.join(" ")+'"':"")+'><a href="#"'+c+">"+s+"</a></td>";r.push(d)}for(var u=i+1;u<a+7;u+=1)r.push("<td></td>");return r.join("")},_days_of_week_ths:function(){return e.map(this.options.day_of_week_texts,o)},_time_div_html:function(){return this._does_datetime()?'<div class="time"><label>'+o(this.options.time_text)+'<input type="text" /></label>'+o(Object(r.a)(new Date))+"</div>":""}})}(n("+2Rf"))},"3+Df":function(e,t,n){"use strict";var a=n("94td"),i=n("D+F0"),r=n("q1tI"),o=n.n(r),s=n("HgY4"),c=n("/SyX");var l=class extends r.Component{componentDidMount(){this.shortLinkField.focus()}handleFocus(e){e.target.select()}render(){return o.a.createElement("div",null,o.a.createElement("input",{className:"atomic-text-input mb5",type:"text",readOnly:!0,ref:e=>{this.shortLinkField=e},onFocus:this.handleFocus,value:this.props.project.projectShortLink}),o.a.createElement("hr",{className:"mt4"}),o.a.createElement("p",null,o.a.createElement("strong",null,Object(a.b)("projects.share_icons.embed.looking_to_embed")),o.a.createElement("br",null),o.a.createElement("a",{href:Object(c.b)(this.props.project)},Object(a.b)("projects.share_icons.embed.click_to_embed"))))}},d=n("heyD"),u=n("4KRT"),m=n("zm9w"),p=n("arGM"),h=n("ykOr"),f=n("/IHD"),g=n("/j8J"),b=n("2DJ9"),_=n("mEsB");const v=e=>{let t=e.isWatched,n=e.size,i=void 0===n?6:n,r=e.watchedColor,s=void 0===r?"red-400":r,c=e.unwatchedColor,l=void 0===c?"white":c,d=e.watchedColorBackground,u=void 0===d?"white":d,m=e.unwatchedColorBackground,p=void 0===m?"soft-black_50":m,h=e.hoverColor,g=e.iconSize,v=void 0===g?"medium":g,k=e.shadow,y=void 0===k||k,j=e.onClick;const E=t?Object(a.b)("project_card.Saved"):Object(a.b)("project_card.Remind_me"),w=Object(f.a)("radius200px","bg-".concat(t?u:p),"h".concat(i),"w".concat(i),"text-nowrap","flex","p0","keyboard-focusable-transparent","z1","no-outline",y&&"shadow-avatar","hover-item-show-md","hover-item-show-lg","relative");return o.a.createElement(_.a,{label:E,"aria-label":E,hideArrow:!0,placement:"top",style:{borderRadius:"2px"}},o.a.createElement("button",{onClick:j,className:w},o.a.createElement(b.a,{name:t?"icon--bookmark":"icon--bookmark-outline",label:E,size:v,atoms:[Object(f.a)("m-auto",h&&!t&&"hover-fill-".concat(h),"fill-".concat(t?s:l))]})))};var k=e=>{const t=e.project,n=e.dispatch;return o.a.createElement("div",{className:Object(f.a)(e.atoms)},o.a.createElement(g.a,{onClick:e=>{e.preventDefault(),n(Object(h.a)(t))},isWatched:t.isWatched},o.a.createElement(v,e)))};const y=e=>{let t=e.dispatch,n=e.projects,i=void 0===n?[]:n,r=e.linkRef,s=e.remindMeState,c=void 0===s?{}:s,l=e.showRemindMe,d=void 0===l||l;return o.a.createElement("ul",{className:"mb3"},i.map(e=>{const n=e.percentFunded,i=e.name,s=e.pid,l=e.url,u=e.image,h=r?Object(p.d)(l,{ref:r}):l,f=m.a.percent(n,{precision:0,delimiter:Object(a.b)("number.currency.format.delimiter")});return o.a.createElement("li",{key:s,className:"flex items-start w100p py3 border-bottom border-grey-500"},o.a.createElement("div",{className:"flex items-center justify-between w100p"},o.a.createElement("a",{href:h,className:"mr4 link-soft-black basis20p basis40p-md basis20p-lg block"},o.a.createElement("img",{className:"w100p block",src:u.url,alt:Object(a.b)("content-blocks.categories.Project")})),o.a.createElement("div",{className:"basis60p-md basis80p"},o.a.createElement("a",{className:"type-14 block link-soft-black",href:h},i),o.a.createElement("div",{className:"type-12 dark-grey-400 display-none block-md percent-funded"}," ",Object(a.b)("content-blocks.categories.Percent_funded",{percent:f}))),o.a.createElement("div",{className:"pl6 display-none block-md"},d&&o.a.createElement(k,{dispatch:t,project:c[e.pid],unwatchedColor:"grey-500",unwatchedColorBackground:"white",hoverColor:"soft-black",iconSize:"large",shadow:!1}))))}))};var j=n("f/yv"),E=n("q5Sr"),w=n("lTCR");function S(){const e=Object(E.a)(["\n  query($id: ID!, $cursor: String) {\n    node(id: $id) {\n      ... on User {\n        launchedProjects(first: 10, after: $cursor) {\n          nodes {\n            id\n            isLaunched\n            pid\n            name\n            creator {\n              name\n              url\n            }\n            category {\n              url\n              name\n            }\n            percentFunded\n            image {\n              url(width: 500)\n            }\n            url\n          }\n          pageInfo {\n            endCursor\n            hasNextPage\n          }\n          totalCount\n        }\n      }\n    }\n  }\n"]);return S=function(){return e},e}var O=n.n(w)()(S()),C=n("prSB");const N=(e,t)=>{let n=t.fetchMoreResult;const a=e.node.launchedProjects.nodes,i=n.node.launchedProjects.nodes;return Object(C.a)({},n,{node:Object(C.a)({},n.node,{launchedProjects:{nodes:[...a,...i],pageInfo:n.node.launchedProjects.pageInfo}})})};var x=n("RK67"),T=n("daZV"),I=n("egyr");var D=Object(u.c)(O,{options:{notifyOnNetworkStatusChange:!0}})(e=>{let t=e.dispatch,n=e.data;if(n.loading&&null==n.node)return o.a.createElement("div",{className:"text-center h80vh"},o.a.createElement(I.a,null));if(n.error)return t(Object(x.d)("LaunchedProjectsModal failed to load data from the backend.")),o.a.createElement(a.a,{i18nKey:"project_page.creator_bio.Error"});const i=n.node;return o.a.createElement("div",{className:"h80 auto-scroll-y"},o.a.createElement(y,{dispatch:t,projects:Object(j.e)(i),contentType:null,showRemindMe:!1}),o.a.createElement(T.a,{onClick:()=>n.fetchMore({variables:{cursor:i.launchedProjects.pageInfo.endCursor},updateQuery:N}),showingCount:i.launchedProjects.nodes.length,totalCount:i.launchedProjects.totalCount,pageSize:25,loading:n.loading,remainingI18nKey:"project_page.creator_bio.Remaining_created_projects",buttonI18nKey:"project_page.creator_bio.Load_more",hasMorePages:i.launchedProjects.pageInfo.hasNextPage,atoms:["theme--support"]}))}),P=n("iN0+");n.d(t,"a",function(){return A}),n.d(t,"b",function(){return R});const A={PROJECTS_CREATED:"projectsCreated",EMBED:"embedModal",CREATOR_BIO:"creatorBioModal",MESSAGE_CREATOR:"messageCreatorModal",ERROR:"errorModal"},R=(e,t)=>{var n;return{[A.PROJECTS_CREATED]:{title:Object(a.b)("project_page.creator_bio.Projects_created_by",{creator_name:e.project.creator.name}),size:"large",body:o.a.createElement(D,{id:e.project.creator.id,dispatch:t})},[A.EMBED]:{title:Object(a.b)("project_page.back_and_star.Project_short_link"),size:"small",body:o.a.createElement(l,{project:e.project})},[A.CREATOR_BIO]:{title:Object(a.b)("project_page.creator_bio.About_the_creator"),size:"large",body:o.a.createElement(s.a,{creator:e.project.creator,verifiedIdentity:e.project.verifiedIdentity,collaborators:e.project.collaborators.edges,onMessageCreatorClick:()=>t(Object(i.b)(A.MESSAGE_CREATOR)),canMessageCreator:Object(P.a)(e.project.creator,e.currentUser),loggedIn:Boolean(null===(n=e.currentUser)||void 0===n?void 0:n.loggedIn)})},[A.MESSAGE_CREATOR]:{title:Object(a.b)("project_page.message_creator.Send_a_message",{creator_name:e.project.creator.name}),size:"large",body:o.a.createElement(d.a,{creator:e.project.creator,projectId:e.project.id,messageCreatorData:e.messageCreator,currentUser:e.currentUser,dispatch:t})},[A.ERROR]:{title:Object(a.b)("project_page.errors.Somethings_gone_wrong"),size:"small",body:()=>o.a.createElement("div",null,o.a.createElement("h3",null,Object(a.b)("project_page.errors.Team_notified")),o.a.createElement("p",null,Object(a.b)("project_page.errors.Reopen_modal")))}}}},"38sE":function(e,t,n){"use strict";var a=n("KHPI");Object(a.a)(function(){a.a.videos_changed=function(){Object(a.a)(".video-player:visible").each(function(){var e;e=this,Object(a.a)(e).ksr_video()})},Object(a.a)(document).on("ksr_video:pause_all_videos",function(){Object(a.a)(".video-player").trigger("ksr_video:pause")}),Object(a.a)(document).on("click",".video-player:visible",function(){const e=Object(a.a)(this).find(".play_button_big");Object(a.a)(this).hasClass("has_played")||(Object(a.a)(this).ksr_video(),setTimeout(()=>{e.trigger("click")}))})})},"39MV":function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"f",function(){return d});var a=n("94td"),i=n("zm9w");const r=(e,t)=>e?Object(a.b)("project_page.reward.Pledge",{amount:t}):Object(a.b)("project_page.reward.Pledge_or_more",{amount:t}),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();return null!==e&&e>=t},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();return null!==e&&e<=t},c=(e,t,n)=>i.a.money(Number(e),{currency:t,type:"truncate_zeros",usd_type:n}),l=(e,t)=>e.find(e=>e.location.id===t),d=(e,t)=>String(Number(e)+(t?Number(t.cost.amount):0))},"3D3T":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("prSB"),i=n("DjBF"),r=n("2DJ9"),o=n("q1tI"),s=n.n(o);const c=e=>{const t=e.headers,n=e.rows,c=e.columns,l=e.mobileComponent,d=e.limit,u=e.limitItemsName,m=e.onExpandOrCollapse,p=!!d&&n.length>d,h=Object(o.useState)(p?n.slice(0,d):n),f=Object(i.a)(h,2),g=f[0],b=f[1];if(Object(o.useEffect)(()=>{b(p?n.slice(0,d):n)},[n]),0===g.length)return null;const _=e=>{const n=0===e,i=e===t.length-1;return Object(a.a)({borderTopLeftRadius:n?"4px":"0",borderBottomLeftRadius:n?"4px":"0",borderTopRightRadius:i?"4px":"0",borderBottomRightRadius:i?"4px":"0"},c&&c[e].width?{width:"".concat(c[e].width,"%")}:{},{},c&&c[e].align?{textAlign:c[e].align}:{})},v=e=>Object(a.a)({maxWidth:"1px"},c&&c[e].width?{width:"".concat(c[e].width,"%")}:{},{},c&&c[e].align?{textAlign:c[e].align}:{});return s.a.createElement("div",{tabIndex:0,role:"group","aria-labelledby":"caption",className:"auto-scroll-x"},s.a.createElement("div",{className:"".concat(l&&"hide block-md")},s.a.createElement("div",{className:"border radius6px soft-black type-14"},s.a.createElement("table",{className:"w100p"},s.a.createElement("caption",{className:"for-screenreader"},e.caption),s.a.createElement("thead",null,s.a.createElement("tr",null,t.map((e,t)=>s.a.createElement("th",{key:t,scope:"col",className:"py2 px5 bold border-bottom",style:_(t)},e)))),s.a.createElement("tbody",null,g.map((e,t)=>s.a.createElement("tr",{className:"hover-bg-grey-200 ".concat(g.length-1!==t||p?"border-bottom":""),key:t},e.map((e,t)=>s.a.createElement("td",{key:t,className:"py2 px5",style:v(t)},e)))))),p&&s.a.createElement("button",{className:"w100p type-14 py2 mt2 blue-500 hover-blue-500",onClick:()=>{m&&m(),b(g.length===n.length?n.slice(0,d):n)}},"".concat(n.length===g.length?"Show less":"Show all").concat(u?" ".concat(u):""),s.a.createElement(r.a,{atoms:["ml1 fill-blue-500"],name:"icon--chevron-".concat(n.length===g.length?"up":"down"),size:"14"})))),l&&s.a.createElement("div",{className:"hide-md"},l))}},"3EZw":function(e,t,n){var a=n("6T1N"),i=8;function r(e,t,n){var o=a(e,i,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return o.placeholder=r.placeholder,o}r.placeholder={},e.exports=r},"3Hbt":function(e,t,n){"use strict";n.r(t),n.d(t,"cancelDeleteCaption",function(){return a}),n.d(t,"captionCreated",function(){return i}),n.d(t,"captionDeleted",function(){return r}),n.d(t,"closeShowingCaptions",function(){return o}),n.d(t,"confirmDeleteCaption",function(){return s}),n.d(t,"createCaptionResponse",function(){return c}),n.d(t,"deleteCaptionResponse",function(){return l}),n.d(t,"hydrateVideo",function(){return d}),n.d(t,"importTrack",function(){return u}),n.d(t,"importTrackResponse",function(){return m}),n.d(t,"noopAction",function(){return p}),n.d(t,"openShowingCaptions",function(){return h}),n.d(t,"reloadCaptions",function(){return f}),n.d(t,"reloadCaptionsResponse",function(){return g}),n.d(t,"updateCaptionSelect",function(){return b}),n.d(t,"videoUploaderInitialize",function(){return _});const a=()=>({type:"CANCEL_DELETE_CAPTION"}),i=(e,t)=>({type:"CAPTION_CREATED",availableLanguages:e,videoId:t}),r=()=>({type:"CAPTION_DELETED"}),o=()=>({type:"CLOSE_SHOWING_CAPTIONS"}),s=e=>({type:"CONFIRM_DELETE_CAPTION",captionId:e}),c=e=>({type:"CREATE_CAPTION_RESPONSE",response:e}),l=e=>({type:"DELETE_CAPTION_RESPONSE",response:e}),d=(e,t)=>({type:"HYDRATE_VIDEO",tracks:e,videoId:t}),u=(e,t)=>({type:"IMPORT_TRACK",fileInputId:e,trackTid:t}),m=e=>({type:"IMPORT_TRACK_RESPONSE",response:e}),p=()=>({type:"NOOP"}),h=()=>({type:"OPEN_SHOWING_CAPTIONS"}),f=()=>({type:"RELOAD_CAPTIONS"}),g=e=>({type:"RELOAD_CAPTIONS_RESPONSE",response:e}),b=e=>({type:"UPDATE_CAPTION_SELECT",subAction:e}),_=(e,t)=>({type:"VIDEO_UPLOADER_INITIALIZE",allCaptionLanguages:e,assetPath:t})},"3ZBc":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n("prSB"),i=n("DjBF"),r=n("2DJ9"),o=n("mEsB"),s=n("/IHD"),c=n("q1tI"),l=n.n(c);const d={like:"thumbsup",dislike:"thumbsdown",watch:"bookmark"},u={small:"25px",medium:"30px",large:"40px"},m=e=>{let t=e.hasBorder,n=void 0!==t&&t,m=e.hasShadow,p=void 0!==m&&m,h=e.interaction,f=e.isActive,g=e.onClick,b=e.size,_=void 0===b?"medium":b,v=e.tooltipLabel,k=e.tooltipPlacement,y=void 0===k?"right":k;const j=e=>{e.preventDefault(),g&&g(e)},E="".concat(f?"celebrate-500":"support-500"),w="".concat(f?"celebrate-500":"support-300"),S=n?"border border-".concat(w):"border-none",O=p?"shadow-avatar":"",C=Object(c.useState)(!1),N=Object(i.a)(C,2),x=N[0],T=N[1],I=x?{transform:"scale(1.1)",transition:"all 50ms ease-out"}:{};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"hide-lg"},l.a.createElement("button",{onClick:j,className:"".concat(S," ").concat(O," bg-white white radius100p block flex flex-column items-center justify-center"),style:{width:u[_],height:u[_]}},l.a.createElement(r.a,{name:"icon--".concat(d[h],"-outline"),label:d[h],size:"small"===_?"small":"medium",atoms:[Object(s.a)("fill-".concat(E),"transition-all","transition-150","w100p")]}))),l.a.createElement("div",{className:"hide block-lg"},l.a.createElement(o.a,{label:v||"","aria-label":v,hideArrow:!0,placement:y,style:{borderRadius:"2px",paddingTop:"8px",paddingBottom:"8px"},onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),onFocus:()=>T(!0),onBlur:()=>T(!1)},l.a.createElement("button",{onClick:j,className:"".concat(S," ").concat(O," bg-white white radius100p block flex flex-column items-center justify-center"),style:Object(a.a)({width:u[_],height:u[_]},I)},l.a.createElement(r.a,{name:"icon--".concat(d[h],"-outline"),label:d[h],size:"small"===_?"small":"medium",atoms:[Object(s.a)("fill-".concat(E),"transition-all","transition-150","w100p")]})))))}},"3Zop":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("prSB"),i=n("A0Vp");const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(i.a)(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVE_SECTION_CHANGED":if(!t.response||!t.response)return e;const n=t.response.activeSection;return Object(a.a)({},e,{activeSection:n});case"INIT_NEW_CAMPAIGN_NAV":if(!t.response||!t.response)return e;const i=t.response,r=i.environmentalCommitmentsExists,o=i.projectBudgetExists;return Object(a.a)({},e,{environmentalCommitmentsExists:r,projectBudgetExists:o});default:return e}}},"3soH":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AttachedAsset"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"imageWidth"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"800"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assetWidth"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"600"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fingerprint"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"photoStatus"},name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"photoUrl"},name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"Variable",name:{kind:"Name",value:"imageWidth"}}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AttachedVideo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"renderedHtml"},arguments:[{kind:"Argument",name:{kind:"Name",value:"assetWidth"},value:{kind:"Variable",name:{kind:"Name",value:"assetWidth"}}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"videoStatus"},name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"videoUrl"},name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AttachedAudio"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"audioStatus"},name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"audioUrl"},name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateAsset"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateAssetInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"upload"},name:{kind:"Name",value:"createAsset"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"asset"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AttachedAudio"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AttachedVideo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteAsset"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteAssetInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteAsset"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clientMutationId"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UploadLimit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fileType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UploadLimitFiletype"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"uploadLimit"},name:{kind:"Name",value:"uploadLimit"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filetype"},value:{kind:"Variable",name:{kind:"Name",value:"fileType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentTypes"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"megabytes"},name:{kind:"Name",value:"fileSize"},arguments:[{kind:"Argument",name:{kind:"Name",value:"unit"},value:{kind:"EnumValue",value:"MEGABYTES"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"bytes"},name:{kind:"Name",value:"fileSize"},arguments:[{kind:"Argument",name:{kind:"Name",value:"unit"},value:{kind:"EnumValue",value:"BYTES"}}],directives:[]}]}}]}}],loc:{start:0,end:1060}};n.loc.source={body:"query AttachedAsset($id: ID!, $imageWidth: Int = 800, $assetWidth: Int = 600) {\n  node(id: $id) {\n    id\n    ... on Photo {\n      __typename\n      id\n      fingerprint\n      photoStatus: status\n      photoUrl: url(width: $imageWidth)\n    }\n    ... on AttachedVideo {\n      __typename\n      id\n      renderedHtml(assetWidth: $assetWidth)\n      videoStatus: status\n      videoUrl: url\n    }\n    ... on AttachedAudio {\n      __typename\n      id\n      audioStatus: status\n      audioUrl: url\n    }\n  }\n}\n\nmutation CreateAsset($input: CreateAssetInput!) {\n  upload: createAsset(input: $input) {\n    asset {\n      ... on AttachedAudio {\n        id\n      }\n      ... on AttachedVideo {\n        id\n      }\n      ... on Photo {\n        id\n      }\n    }\n  }\n}\n\nmutation DeleteAsset($input: DeleteAssetInput!) {\n  deleteAsset(input: $input) {\n    clientMutationId\n  }\n}\n\nquery UploadLimit($fileType: UploadLimitFiletype!) {\n  uploadLimit: uploadLimit(filetype: $fileType) {\n    contentTypes\n    megabytes: fileSize(unit: MEGABYTES)\n    bytes: fileSize(unit: BYTES)\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function r(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.AttachedAsset=r(n,"AttachedAsset"),e.exports.CreateAsset=r(n,"CreateAsset"),e.exports.DeleteAsset=r(n,"DeleteAsset"),e.exports.UploadLimit=r(n,"UploadLimit")},"3thc":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE"),o=n("SKdt");Object(r.a)("#NS_discover__categories",function(e){var t,n,a;function r(){var t;i()(window).width()>599?(t=n.find(".js-subcategories.block")).length?e.height(Math.max(a.height(),t.height())):e.height(a.height()):e.css({height:""})}t=e.find(".js-categories"),n=e.find(".js-subcategories_container"),a=e.find(".js-root-categories"),t.find("> li > a").on("click",function(a){var s=i()(this),c=s.closest("li").data("category")||{},l=c.id||0,d=e.find("#category_"+l+"_subcategories");t.find(".ksr-green-500").removeClass("ksr-green-500").addClass("black"),s.addClass("ksr-green-500").removeClass("black"),n.find(".js-subcategories.block").removeClass("block").addClass("display-none"),d.addClass("block").removeClass("display-none"),d.length?(i()(window).width()>599&&e.css({width:"600px"}),n.removeClass("o0p"),d.find("li.js-subcategory > a").first().trigger("click")):(i()(document).trigger("discovery:categories:changed",c),e.trigger("ksr_popover:close"),e.css({width:""}),n.addClass("o0p")),o.a["not-mobile"]&&r(),a.preventDefault()}),n.find("li > a").on("click",function(t){var n=i()(this),a=n.closest("li"),r=n.closest("ul"),o=a.data("category");r.find(".ksr-green-500").removeClass("ksr-green-500").addClass("black"),n.addClass("ksr-green-500").removeClass("black"),i()(document).trigger("discovery:categories:changed",o),t.originalEvent?e.trigger("ksr_popover:close"):e.trigger("ksr_popover:reposition"),t.preventDefault()}),i()(document).on("ksr_popover:opened",function(t,a){a.$popover.is(e)&&(e.find(".js-subcategories.block").length&&(n.removeClass("o0p"),i()(window).width()>599?e.css({width:"600px"}):e.css({width:""})),o.a["not-mobile"]&&r())}),i()(document).on("discovery:sentence:changed",function(t,a){a.category_id||(e.css({width:""}),n.find(".js-subcategories.block").removeClass("block").addClass("display-none"),e.find(".ksr-green-500").removeClass("ksr-green-500").addClass("black"),e.find("li:first a").addClass("ksr-green-500").removeClass("black"))}),i()(document).on("discovery:categories:load_sample",function(t,n){var a=(n.category||{}).id;e.find("#category_"+a).trigger("click")})})},"4+Ta":function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u});var a=n("7cf5"),i=n("prSB"),r=n("9jZ4"),o=n("/IHD");const s=e=>(t,n)=>(a,i)=>{const r=void 0===a;return(i&&i.namespace)===e||r?t(a,i,n):a},c=e=>t=>(function(){const n=t(...arguments);return Object(i.a)({},n,{namespace:e})}),l=e=>t=>Object(r.d)(c(e),t),d=e=>t=>n=>t(Object(i.a)({},n,{namespace:e})),u=(e,t,n)=>(function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(o.c)(),c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=c.Component,m=void 0===u?e:u,p=c.reducer,h=void 0===p?t:p,f=c.actions,g=void 0===f?n:f;const b=s(r),_=d(r),v=l(r)(g);return{namespace:r,actions:v,reducer:b(h,v),Component:(e,t)=>{let n=e.dispatch,r=Object(a.a)(e,["dispatch"]);return m(Object(i.a)({dispatch:_(n)},r),t)}}})},"4+kS":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE");Object(r.a)(".js-project-community-content",function(e){e.on("click",".js-hero-scroll",function(e){i.a.scrollTo(i()(".js-community-locations").offset().top-45,400),e.preventDefault()})})},"44bd":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()(function(){i()(document).on("change","body#terms_oct2012 form.select_country",function(){i()(this).submit()})})},"4LGs":function(e,t,n){"use strict";function a(e,t){const n="(?:".concat(Object.keys(e).join("|"),")"),a=RegExp(n),i=RegExp(n,"g");return a.test(t)?t.replace(i,t=>e[t]):t}n.d(t,"a",function(){return a})},"4U8H":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("94td"),i=n("/IHD"),r=n("Y0SK"),o=n("JN/F");const s=(e,t)=>({description:{id:"description",name:Object(a.b)("project_page.campaign_nav.Campaign"),atoms:"pointer px4 navItem py2 hover-ksr-green-500 medium",url:Object(r.a)(e,"description"),skipNavItemClass:!0,subItems:Object.values(o.a).map(e=>{const n=e.id,a=e.name,r=e.trackingContext;let o;return"environmental-commitments"===n?o=Object(i.a)(t&&!t.projectHasEnvironmentalCommitments&&"hide"):"project-budget"===n&&(o=Object(i.a)(t&&!t.projectBudgetExists&&"hide")),{id:n,name:a,trackingContext:r,url:"#".concat(n),atoms:o}})},rewards:{id:"rewards",url:Object(r.a)(e,"rewards"),atoms:"rewards",jsLoadClass:"js-load-project-rewards",name:Object(a.b)("project_page.campaign_nav.Rewards")},faqs:{id:"faqs",url:Object(r.a)(e,"faqs"),jsLoadClass:"js-load-project-faqs",name:Object(a.b)("project_page.campaign_nav.FAQ"),count:t&&t.projectFAQsCount},help_wanted:{id:"help_wanted",url:Object(r.a)(e,"help_wanted"),jsLoadClass:"js-load-project-help_wanted",name:Object(a.b)("project_page.campaign_nav.Help_wanted"),shouldRender:t&&t.projectHasSkills},updates:{id:"updates",url:Object(r.a)(e,"posts"),jsLoadClass:"js-load-project-updates",name:Object(a.b)("project_page.campaign_nav.Updates"),count:t&&t.updateCount},comments:{id:"comments",url:Object(r.a)(e,"comments"),jsLoadClass:"js-load-project-comments",name:Object(a.b)("project_page.campaign_nav.Comments"),count:t&&t.commentsCount},community:{id:"community",url:Object(r.a)(e,"community"),jsLoadClass:"js-load-project-community",name:Object(a.b)("project_page.campaign_nav.Community"),shouldRender:t&&t.projectHasCommunity}})},"4sJn":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("q1tI");const i=e=>{let t=e.children,n=e.width,i=e.height,r=e.viewBox,o=e.atoms;const s=["inline-block","valign-middle"].concat(void 0===o?[]:o).join(" ");return a.createElement("svg",{style:{fill:"currentColor"},className:s,xmlns:"http://www.w3.org/2000/svg",width:n,height:i,viewBox:r},t)}},"585W":function(e,t,n){"use strict";var a=n("KHPI");Object(a.a)(function(){Object(a.a)(".mobius.click").livequery(function(){var e,t,n=Object(a.a)(this),i=n.parent().find("a.load_more"),r=n.parent().find(".loading");function o(){e=n.find("*[data-cursor]:last")}o(),t=e.length,n.mobius({trigger_next:i,prepend_next:!n.data("mobius_append"),url:n.data("mobius_url")||!1,page_param:t?"cursor":"page",extra_params:n.data("mobius_extra_params"),page_by:function(n){return t?(o(),e.data("cursor")):n?n+1:1}}),n.data("mobius"),n.on("mobius:loading_page",function(){r.show(),i.parent().hide()}),n.on("mobius:loaded_page",function(e,t,a){n.parent().find(".count .current").text(n.find("li.item").length),r.hide(),a.data("last_page")?i.parent().hide():i.parent().show()})}),Object(a.a)(".mobius:not(.click)").livequery(function(){var e,t,n,i,r,o=Object(a.a)(this);function s(){i=o.find("*[data-cursor]:last")}o.find(".page").data("last_page")||(s(),r=i.length,e=o.mobius({url:o.data("url"),paused:o.is(".paused"),page_param:r?"cursor":"page",extra_params:o.data("extra_params")||"",page_by:function(e){return r?(s(),i.data("cursor")):e?e+1:1}}).data("mobius"),o.length&&(t=Object(a.a)(".js-mini-footer--sticky"),Object(a.a)(".js-mini-footer__links").mouseenter(function(){t.addClass("is-visible")}),t.mouseleave(function(){t.removeClass("is-visible")}),o.on("mobius:loaded_page",function(i,r,s){s.data("last_page")?(e.pause(),o.siblings(".load_more").hide(),n=t.clone(),t.remove()):(e.play(),o.siblings(".load_more").show(),Object(a.a)("body").append(n))})))})})},"5FPU":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("tr1H"),i=n("mv45"),r=n("pj8f"),o=n("q1tI"),s=n("dkkr");const c=e=>t=>n=>{if(Object(i.g)(n)){const t=e(n);return n.error&&r.Honeybadger.notify(n.error,{context:{tags:a.a.POST_UPDATES},__RATE_LIMIT__:1}),o.createElement(s.b,{primaryText:t.primaryText,secondaryText:t.secondaryText})}return o.createElement(t,n)}},"5I6x":function(e,t,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WatchProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"watchProject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"projectId"}}},{kind:"ObjectField",name:{kind:"Name",value:"trackingContext"},value:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"project"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"user"},directives:[]}]}}]}}]}}],loc:{start:0,end:368}};a.loc.source={body:'#import "../../../shared/graph/query-definitions/project-fragment.graphql"\n#import "../../../shared/graph/query-definitions/user-fragment.graphql"\n\nmutation WatchProject($projectId: ID!, $trackingContext: String) {\n  watchProject(input: { id: $projectId, trackingContext: $trackingContext }) {\n    project {\n      ...project\n    }\n    user {\n      ...user\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)})}a.definitions=a.definitions.concat(r(n("stFp").definitions)),a.definitions=a.definitions.concat(r(n("iHOZ").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}a.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),o[e.name.value]=t}}),e.exports=a,e.exports.WatchProject=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=o[t]||new Set,i=new Set,r=new Set;for(a.forEach(function(e){r.add(e)});r.size>0;){var c=r;r=new Set,c.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){r.add(e)}))})}return i.forEach(function(t){var a=s(e,t);a&&n.definitions.push(a)}),n}(a,"WatchProject")},"5g6B":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()(function(){var e=i()("#projects_rules"),t=i()("#project-edit-nav",e),n=i()("#continue input[type=checkbox]",e),a=i()("#continue input[type=submit]",e);e.length&&(i()(".modal_dialog, .modal_dialog .modal_dialog_content, .modal_dialog .modal_dialog_inner").preload_background_image(),t.find("#steps-nav .first a").addClass("selected"),t.find("a").click(function(e){e.preventDefault()}),n.on("change",function(){i()(this).is(":checked")?i()(this).siblings("label").addClass("selected").removeClass("unselected"):i()(this).siblings("label").addClass("unselected").removeClass("selected"),0===n.not(":checked").length?a.removeClass("disabled"):a.addClass("disabled")}),a.on("click",function(){return 0===n.not(":checked").length?(i()("#saving-layer").show(),!0):("undefined"!=typeof ga&&ga("send","event","Our Rules","Disabled Continue Click",""),!1)}))})},"5iCJ":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateProjectUpdateRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"location"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ProjectUpdateRequestLocation"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createProjectUpdateRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"projectId"},value:{kind:"Variable",name:{kind:"Name",value:"projectId"}}},{kind:"ObjectField",name:{kind:"Name",value:"location"},value:{kind:"Variable",name:{kind:"Name",value:"location"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canUserRequestUpdate"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:249}};n.loc.source={body:"mutation CreateProjectUpdateRequest(\n  $projectId: ID!\n  $location: ProjectUpdateRequestLocation!\n) {\n  createProjectUpdateRequest(\n    input: { projectId: $projectId, location: $location }\n  ) {\n    project {\n      canUserRequestUpdate\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.CreateProjectUpdateRequest=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"CreateProjectUpdateRequest")},"5j0V":function(e,t,n){"use strict";let a;n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i}),function(e){e.backer_bar="backer_bar",e.comment="comment",e.updates="updates"}(a||(a={}));const i=n("5iCJ").CreateProjectUpdateRequest},"5sOR":function(e,t,n){var a=n("N4mw"),i=n("99Ms"),r=n("T8tx"),o=1,s=2,c=4,l=8,d=32,u=64;e.exports=function(e,t,n,m,p,h,f,g,b,_){var v=t&l;t|=v?d:u,(t&=~(v?u:d))&c||(t&=~(o|s));var k=[e,t,p,v?h:void 0,v?f:void 0,v?void 0:h,v?void 0:f,g,b,_],y=n.apply(void 0,k);return a(e)&&i(y,k),y.placeholder=m,r(y,e,t)}},6:function(e,t,n){n("bZMm"),n("LSZE"),n("ls82"),n("3Siy"),n("Wr5T"),n("U3M1"),n("GeBq"),e.exports=n("oHnK")},"60hy":function(e,t,n){"use strict";var a=n("MgNI"),i=n("K+Nk");const r=(e,t)=>(e=>"string"==typeof e?a.result.Ok(e):a.result.Error(e))(t).chain(e=>a.result.try(()=>Object(i.a)(e))).map(e).getOrElse(t);var o=n("qcI4");n.d(t,"c",function(){return d}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return m});const s=e=>new o.c(e),c=e=>new o.e(e),l=e=>new o.f(e),d=e=>r(l,e),u=e=>r(c,e),m=e=>r(s,e)},"6KkN":function(e,t){var n="__lodash_placeholder__";e.exports=function(e,t){for(var a=-1,i=e.length,r=0,o=[];++a<i;){var s=e[a];s!==t&&s!==n||(e[a]=n,o[r++]=a)}return o}},"6T1N":function(e,t,n){var a=n("s0N+"),i=n("ieoY"),r=n("Rw8+"),o=n("a1zH"),s=n("0ADi"),c=n("KF6i"),l=n("q3TU"),d=n("99Ms"),u=n("T8tx"),m=n("Sxd8"),p="Expected a function",h=1,f=2,g=8,b=16,_=32,v=64,k=Math.max;e.exports=function(e,t,n,y,j,E,w,S){var O=t&f;if(!O&&"function"!=typeof e)throw new TypeError(p);var C=y?y.length:0;if(C||(t&=~(_|v),y=j=void 0),w=void 0===w?w:k(m(w),0),S=void 0===S?S:m(S),C-=j?j.length:0,t&v){var N=y,x=j;y=j=void 0}var T=O?void 0:c(e),I=[e,t,n,y,j,N,x,E,w,S];if(T&&l(I,T),e=I[0],t=I[1],n=I[2],y=I[3],j=I[4],!(S=I[9]=void 0===I[9]?O?0:e.length:k(I[9]-C,0))&&t&(g|b)&&(t&=~(g|b)),t&&t!=h)D=t==g||t==b?r(e,t,S):t!=_&&t!=(h|_)||j.length?o.apply(void 0,I):s(e,t,n,y);else var D=i(e,t,n);return u((T?a:d)(D,I),e,t)}},"6ae/":function(e,t,n){var a=n("dTAl"),i=n("RrRF");function r(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}r.prototype=a(i.prototype),r.prototype.constructor=r,e.exports=r},"6zik":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("KQqk"),i=n("94td"),r=n("q1tI"),o=n.n(r);const s=e=>{let t=e.storyHTML;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"story",className:"mb3"},o.a.createElement("h3",{className:"normal mb3 mb7-sm mobile-hide"},Object(i.b)("project_page.campaign.Story"))),o.a.createElement(a.a,{content:t}))}},"7Gzj":function(e,t,n){"use strict";n.r(t),n.d(t,"initRichTextSurveyIntro",function(){return m});var a=n("s3Av"),i=n("OJn5"),r=n("tr1H"),o=n("1vCr"),s=n("pj8f"),c=n("94td"),l=n("q1tI"),d=n("i8i4"),u=n.n(d);const m=()=>{const e=document.getElementById("rich-text-survey-intro");if(e){const t=e.dataset.placeholder||"",n=e.dataset.form_field_id||"",c=e.dataset.survey_relay_id||"";u.a.render(l.createElement("div",null,l.createElement(a.a,{KSRError:s.Honeybadger,fallbackComponent:p,KSRErrorTag:r.a.REWARDS_FULFILLMENT},l.createElement(o.a,{initialValues:{body:JSON.parse(t),formFieldId:n},onSubmit:()=>{}},e=>l.createElement(i.a,{value:e.values.body,onBlur:t=>{const n=document.getElementById(e.values.formFieldId);n&&n.setAttribute("value",t),e.setValues({body:t})},attachableAssoc:"intro_assets",attachableId:c,tracking:{}})))),e)}},p=l.createElement("div",null,Object(c.b)("surveys.Oops_an_error_occurred"));m()},"7LsF":function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"imageUploaderInitialize",function(){return o}),n.d(a,"noopAction",function(){return s});var i=n("prSB"),r=n("mm3F");const o=(e,t,n,a)=>({createGraphFunction:e,deleteGraphFunction:t,onDelete:a,onSuccess:n,type:"IMAGE_UPLOADER_INITIALIZE"}),s=()=>({type:"NOOP"});var c=n("d8sA"),l=n("0fse"),d=n("4+Ta"),u=n("GRmu"),m=n("94td"),p=n("gN63");const h=(e,t)=>Object(p.c)((e=>"\n  query($id: ID!) {\n    node(id: $id) {\n      id\n      ... on Photo {\n        __typename\n        fingerprint\n        status\n        url(width: ".concat(e,")\n      }\n    }\n  }\n"))(t),{id:e}),f={error:Object(m.b)("library.ksr_json.Sorry_something_went_wrong_Weve_been_notified_and_are_looking")},g=(e,t)=>(function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();return t(n).then(e=>{if(e.data.upload)return e.data.upload.image.id;throw new Error("Mutation not renamed to `upload`")}).then(t=>e.uploadProcessingStart(t,a)).catch(()=>e.uploadFileFailure())}),b=e=>(function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:680;return h(t,n).then(n=>{if(!n.data)throw new Error("Received invalid data");const a=n.data.node;if(a.fingerprint)return e.uploadSuccess(a);if("PROCESSING"===a.status||"SUCCESSFUL"===a.status&&null===a.fingerprint)return new Promise(e=>{setTimeout(e,1e3)}).then(()=>e.reloadAsset(t)).catch(()=>e.uploadFileFailure());if("FAILED"===a.status)return e.uploadFileFailure();throw new Error("Received invalid asset status: ".concat(a.status))}).catch(()=>e.uploadFileFailure())}),_=(e,t)=>n=>t(n).then(()=>e.uploadReset()).catch(()=>(e=>(Object(u.a)(e),Object(r.noopAction)()))(f));var v=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.noopAction,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.noopAction,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.noopAction;return{create:g(e,t),read:b(e),destroy:_(e,n),onSuccess:a,onDelete:i}};var k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;switch(t.namespace&&(n=Object(d.b)(t.namespace)(n)),t.type){case"IMAGE_UPLOADER_INITIALIZE":const a=t.createGraphFunction,i=t.deleteGraphFunction,r=t.onSuccess,o=t.onDelete;return Object(l.f)(e,l.a.action(n.uploadInitialize(v(n,a,i,r,o))));default:return e}},y=n("MTFr");const j={changeFile:Object(m.b)("uploaders.Change_image"),deleteFile:Object(m.b)("uploaders.Delete_image"),deletingFile:Object(m.b)("uploaders.Deleting_image"),uploadCta:Object(m.b)("uploaders.Drop_an_image_here_or_select_a_file"),uploadCtaMobile:Object(m.b)("uploaders.Upload_an_image"),feelFreeToMoveOn:Object(m.b)("uploaders.Feel_free_to_move_on_image"),validFileTypes:Object(m.b)("uploaders.It_must_be_a_valid_image_file_type")};var E=n("qYa2"),w=n("X+my"),S=n("q1tI"),O=n.n(S);const C=e=>{let t=e.state,n=e.dispatch,a=e.theme,o=void 0===a?w.a:a,s=e.uploadLimit,c=e.BoundUploader,l=void 0===c?N:c;const d=Object(i.a)({},t.imageUpload,{},t.baseUpload);return O.a.createElement(l,{state:d,onDeleteAsset:()=>n(Object(r.deleteAsset)()),onDragLeave:()=>n(Object(r.fileDragEnded)()),onDragEnter:()=>n(Object(r.fileDragStarted)()),onDrop:e=>{n(Object(r.fileDragEnded)()),Object(E.a)(e)&&(e.preventDefault(),n(Object(r.uploadFileStart)(e.dataTransfer.files[0],n,s)))},onFileSelect:e=>n(Object(r.uploadFileStart)(e,n,s)),onUploadReset:()=>n(Object(r.uploadReset)()),onCloseDeleteAssetModal:()=>n(Object(r.closeDeleteAssetModal)()),onOpenDeleteAssetModal:()=>n(Object(r.openDeleteAssetModal)()),theme:o,uploadLimit:s})},N=Object(y.e)({EmptyState:e=>{let t=e.activeDragCounter,n=e.onDragLeave,a=e.onDragEnter,i=e.onDrop,r=e.onFileSelect,o=e.theme,s=e.uploadLimit;return O.a.createElement(y.a,{activeDragCounter:t,iconName:"icon--image",maxFileSizeText:Object(m.b)("uploaders.no_larger_than_file_size",{megabytes:s.megabytes}),onDragLeave:n,onDragEnter:a,onDrop:i,onFileSelect:r,theme:o,copyOverrides:j})},ProcessingState:e=>{let t=e.isDeleting,n=e.onFileSelect,a=e.theme,i=e.timeElapsed;return O.a.createElement(y.b,{isDeleting:t,onFileSelect:n,theme:a,timeElapsed:i,copyOverrides:j})},UploadSuccess:e=>{let t=e.onDeleteAsset,n=e.onFileSelect,a=e.onCloseDeleteAssetModal,i=e.onOpenDeleteAssetModal,r=e.state;const o=r.asset;return O.a.createElement(y.c,{onCloseDeleteAssetModal:a,onOpenDeleteAssetModal:i,displayImageUrl:o.url,onFileSelect:n,onDeleteAsset:t,state:r,copyOverrides:j})}});n.d(t,"d",function(){return x}),n.d(t,"c",function(){return T}),n.d(t,"b",function(){return I}),n.d(t,"a",function(){return C});const x=e=>Object(l.b)({baseUpload:Object(c.a)(e),imageUpload:k}),T=Object(i.a)({},r,{},a),I=Object(d.c)(C,x,T)},"7V7b":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return l});var a=n("prSB"),i=n("7cf5"),r=n("n2oK");const o=e=>null===e?[]:e.map(e=>{if(null===e)return null;e.__typename;const t=Object(i.a)(e,["__typename"]);return Object(a.a)({},t)}).filter(e=>null!==e),s=e=>null===e||null===e.nodes?[]:e.nodes.map(e=>{if(null===e)return null;e.__typename;const t=Object(i.a)(e,["__typename"]),n=t.amount,o=(n.__typename,Object(i.a)(n,["__typename"])),s=t.startsAt,l=t.endsAt;return Object(a.a)({},t,{amount:o,endsAt:Object(r.b)(l),startsAt:Object(r.b)(s),items:c(e.items)})}).filter(e=>null!==e),c=e=>null===e||null===e.edges?[]:e.edges.map(e=>{if(null===e)return null;const t=e.quantity,n=e.position,a=e.node;return null===a?null:{id:a.id,name:a.name,position:n,quantity:t}}).filter(e=>null!==e),l=e=>null===e?[]:e.map(e=>{if(null===e)return null;e.__typename;const t=Object(i.a)(e,["__typename"]);return Object(a.a)({},t)}).filter(e=>null!==e)},"7iCU":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()(function(){var e=i()(".toggle_box_nav li"),t=i()(".toggle_box_content");e.length&&t.length&&e.on("click",function(){var n=i()(this),a=e.index(n);return t.removeClass("current"),e.removeClass("current"),i()(t[a]).addClass("current"),n.addClass("current"),!1})})},"82w6":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE"),o=n("ZCIj");n("RIhn");Object(r.a)(".js-launch-banner",function(e){e.each(function(){var e=i()(this),t=e.data("id"),n=e.data("one_time");function a(){o.b.setItem(t,!0)}o.b.getItem(t)||(e.on("click",".js-close",function(t){a(),e.addClass("banner-hidden"),t.preventDefault()}),n&&a(),e.removeClass("banner-hidden"))})})},"88ec":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});const a=e=>/^\/projects\/.+pledge\/new$/.test(e)?"Reward Selection":/^\/checkouts\/.+payments\/new$/.test(e)?"Payments Page":/^\/projects\/[^\/pledge|\/payments]/.test(e)?"Project Page":null,i=(e,t)=>{try{let n=e.responseJSON.data.errors,a=[];for(let e in n)a.push(n[e][0]);return a[0]}catch(e){return t}}},"8Np1":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("q1tI");const i={helvetica:{sizes:{"headline-500":"type-38 type-48-sm type-60-md type-100-lg","headline-400":"type-38 type-48-sm type-60-md type-80-lg","headline-300":"type-21 type-38-md type-48-lg","headline-200":"type-24 type-28-md type-38-lg","headline-100":"type-21 type-24-md type-28-lg","subhead-600":"type-18 type-21-md","subhead-500":"type-16 type-21-md","subhead-400":"type-14 type-21-md","subhead-300":"type-16 type-18-md","subhead-200":"type-14 type-18-md","body-200":"type-14 type-16-md","body-100":"type-13 type-14-md","caption-200":"type-12 type-13-md","caption-100":"type-12"},variants:{italic:"text-italic"},weights:{light:"light",normal:"normal",medium:"medium",bold:"bold"}}},r=e=>{let t=e.atoms,n=void 0===t?[]:t,r=e.children,o=e.color,s=e.font,c=void 0===s?i.helvetica:s,l=e.italic,d=void 0!==l&&l,u=e.level,m=e.style,p=e.tag,h=void 0===p?"span":p,f=e.type,g=e.weight,b=e.role;const _=u?"h".concat(u):h,v=(f?[c.sizes[f]]:[]).concat(o?[o]:[]).concat(d?[c.variants.italic]:[]).concat(g?[c.weights[g]]:[]).concat(n).join(" ");return a.createElement(_,{style:m,className:v,role:b,"aria-level":u},r)}},"8ZZx":function(e,t,n){"use strict";var a=n("pTxv"),i=n("3D3T"),r=n("2DJ9"),o=n("daZV"),s=n("mv45"),c=n("94td"),l=n("gN63"),d=n("zm9w"),u=n("dkkr"),m=n("5FPU"),p=n("a8OY"),h=n("JhfJ"),f=n("vtU4"),g=n("GnmY"),b=n("q1tI"),_=n("prSB"),v=n("4KRT"),k=n("1eGs");const y=(e,t)=>{let n=t.fetchMoreResult;const a=e&&e.project&&e.project.posts?e.project.posts.edges:[],i=n&&n.project&&n.project.posts?n.project.posts:[];return 0===i.length?e:Object(_.a)({},e,{project:Object(_.a)({},e.project,{posts:Object(_.a)({},e.project&&e.project.posts,{edges:[...a.edges,...i.edges],pageInfo:i&&i.pageInfo})})})},j=Object(s.c)(e=>{if(!e.data||!e.data.project)return Object(s.d)(e.data.error);const t=e.data.project.posts,n=t?t.pageInfo.endCursor:null,a=!!t&&t.pageInfo.hasNextPage,i=e.ownProps,r=i.state,o=i.projectSlug,c=(e=>e?e.map(e=>e&&e.node).filter(e=>e):[])(t&&t.edges),l=c.length,d=t&&t.totalCount||0;return Object(s.l)({posts:c,isFetchingMorePosts:e.data.loading,hasNextPage:a,postsShowing:l,totalPosts:d,fetchMorePosts:()=>e.data.fetchMore({query:k.c,variables:{cursor:n,state:r,projectSlug:o},updateQuery:y})})}),E=Object(v.c)(k.c,j),w=e=>{const t=e.type,n=e.isEditable,a=e.projectCreator,i=e.projectSlug,o=e.postId,s=e.title;return b.createElement("h2",{className:"type-16 mb1 mb0-md text-truncate"},b.createElement("a",{href:(()=>n?t===k.a.CreatorInterview?f.b.EDIT_CREATOR_INTERVIEW.url(a,i,o):f.b.EDIT_FREEFORM_POST.url(a,i,o):f.b.VIEW_POST.url(a,i,o))(),className:"soft-black bold hover-text-underline"},n&&b.createElement(r.a,{atoms:["fill-soft-black","pr2"],size:"36",name:"icon--pencil"}),s||Object(c.b)("project_updates.Untitled")))},S=()=>null,O=e=>d.a.time_ago_in_words(e);const C=Object(s.a)(h.a,E,Object(m.a)(()=>({primaryText:Object(c.b)("new_project_update.Updates_are_disabled"),secondaryText:Object(c.b)("new_project_update.This_project_is_hidden_suspended")})),p.b)(class extends b.Component{constructor(e){super(e),this.removePostFromList=e=>{this.setState({posts:this.state.posts.filter(t=>t.id!==e),totalPosts:this.state.totalPosts-1,postsShowing:this.state.postsShowing-1})},this.handleDelete=e=>{confirm(Object(c.b)("project_updates.Are_you_sure_you_want_to_delete_draft"))?this.props.onDeletePost({id:e}).then(()=>{this.removePostFromList(e)}):S()},this.renderDeleteButton=e=>b.createElement("div",{className:"text-right"},b.createElement("button",{className:"red-500 type-14",onClick:()=>this.handleDelete(e)},"Delete")),this.state={posts:this.props.posts,postsShowing:this.props.postsShowing,totalPosts:this.props.totalPosts}}componentDidUpdate(e){e.posts!==this.props.posts&&this.setState({posts:this.props.posts,postsShowing:this.props.postsShowing,totalPosts:this.props.totalPosts})}renderPagination(){return b.createElement(o.a,{buttonI18nKey:"project_updates.Load_more",remainingI18nKey:"project_updates.Showing_x_of_y_updates",totalCount:this.state.totalPosts,showingCount:this.state.postsShowing,pageSize:20,onClick:this.props.fetchMorePosts,loading:this.props.isFetchingMorePosts,hasMorePages:this.props.hasNextPage,atoms:["py6","w25p-md","m-auto","theme--support"]})}renderMobilePosts(){return b.createElement("ul",null,this.state.posts.map((e,t)=>b.createElement("li",{key:e.id,className:"pb3 mb3 border-bottom"},b.createElement(w,{key:"title-".concat(t),type:e.type,title:e.title,postId:Object(l.a)(e.id),isEditable:e.actions.edit,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}),b.createElement("div",{className:"flex items-center"},b.createElement("div",{className:"flex items-center mr3"},b.createElement(r.a,{size:"medium",name:"icon--calendar"}),b.createElement("span",{className:"ml1"},O(e.createdAt))),this.renderDeleteButton(e.id)))))}renderEmptyState(){return b.createElement(u.a,{primaryText:Object(c.b)("project_updates.You_havent_saved_any_drafts"),secondaryText:Object(c.b)("project_updates.Use_this_space_as_a_journal"),buttonText:Object(c.b)("project_updates.Post_update"),buttonUrl:f.b.NEW_FREEFORM_POST.url(this.props.projectCreator,this.props.projectSlug)})}renderDataTable(){return b.createElement(b.Fragment,null,b.createElement(i.a,{caption:Object(c.b)("project_updates.Draft_Posts"),headers:[Object(c.b)("project_updates.Title"),Object(c.b)("project_updates.Last_edit"),Object(c.b)("project_updates.Action")],columns:[{width:65,align:"left"},{width:15,align:"left"},{width:10,align:"right"}],rows:this.state.posts.map((e,t)=>[b.createElement(w,{key:"title-".concat(t),type:e.type,title:e.title,postId:Object(l.a)(e.id),isEditable:e.actions.edit,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}),O(e.createdAt),this.renderDeleteButton(e.id)]),mobileComponent:this.renderMobilePosts()}),this.renderPagination())}render(){return b.createElement(b.Fragment,null,b.createElement("div",{className:"flex mb2 justify-between items-baseline"},b.createElement("h1",{className:"type-18 text-normal"},Object(c.b)("project_updates.Drafts")),this.state.posts.length>0&&b.createElement(a.c,{theme:"support",onClick:()=>Object(g.h)("drafts_view"),href:f.b.NEW_FREEFORM_POST.url(this.props.projectCreator,this.props.projectSlug)},Object(c.b)("project_updates.Post_update"))),0===this.state.posts.length?this.renderEmptyState():this.renderDataTable())}});var N=n("1OuE"),x=n("XfPQ"),T=n("zjD3");const I=Object(s.a)(E,Object(m.a)(()=>({primaryText:Object(c.b)("new_project_update.Updates_are_disabled"),secondaryText:Object(c.b)("new_project_update.This_project_is_hidden_suspended")})),p.b)(class extends b.Component{constructor(){super(...arguments),this.state={likersModalId:"",likersModalShowing:!1}}renderMobilePosts(){return b.createElement("ul",null,this.props.posts.map(e=>b.createElement("li",{key:e.id,className:"pb3 mb3 border-bottom"},b.createElement(w,{title:e.title,type:e.type,postId:Object(l.a)(e.id),isEditable:e.actions.edit,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}),b.createElement("div",{className:"flex items-center"},b.createElement("div",{className:"flex items-center mr3"},b.createElement(r.a,{size:"medium",name:"icon--calendar"}),b.createElement("span",{className:"ml1"},Object(N.b)("MM/DD/YYYY",e.publishedAt))),b.createElement("div",{className:"flex items-center mr3"},b.createElement(r.a,{size:"medium",name:"icon--heart"}),b.createElement("span",{className:"ml1"},Object(T.a)(e.likesCount))),b.createElement("div",{className:"flex items-center"},b.createElement(r.a,{size:"medium",name:"icon--message"}),b.createElement("span",{className:"ml1"},Object(T.a)(e.commentsCount)))))))}renderPagination(){return b.createElement(o.a,{buttonI18nKey:"project_updates.Load_more",remainingI18nKey:"project_updates.Showing_x_of_y_updates",totalCount:this.props.totalPosts,showingCount:this.props.postsShowing,pageSize:20,onClick:this.props.fetchMorePosts,loading:this.props.isFetchingMorePosts,hasMorePages:this.props.hasNextPage,atoms:["py6","w25p-md","m-auto","theme--support"]})}renderEmptyState(){return b.createElement(u.a,{primaryText:Object(c.b)("project_updates.You_havent_published_an_update"),secondaryText:Object(c.b)("project_updates.Say_hello_share_some_news"),buttonText:Object(c.b)("project_updates.Post_update"),buttonUrl:f.b.NEW_FREEFORM_POST.url(this.props.projectCreator,this.props.projectSlug)})}renderLikeCount(e,t,n){return"-"===n?n:b.createElement("button",{className:"type-14 soft-black hover-ksr-green-400 hover-text-underline",onClick:()=>{Object(g.j)(t,"dashboard"),this.setState({likersModalId:e,likersModalShowing:!0})}},n)}renderDataTable(){return b.createElement(b.Fragment,null,b.createElement(i.a,{caption:Object(c.b)("project_updates.Published_Posts"),headers:[Object(c.b)("project_updates.Title"),Object(c.b)("project_updates.Published_date"),Object(c.b)("project_updates.Likes"),Object(c.b)("project_updates.Comments")],columns:[{width:61,align:"left"},{width:25,align:"left"},{width:7,align:"right"},{width:7,align:"right"}],rows:this.props.posts.map((e,t)=>[b.createElement(w,{key:"title-".concat(t),type:e.type,title:e.title,postId:Object(l.a)(e.id),isEditable:e.actions.edit,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}),Object(N.b)("MMMM D, YYYY",e.publishedAt),this.renderLikeCount(e.id,e.type,Object(T.a)(e.likesCount)),Object(T.a)(e.commentsCount)]),mobileComponent:this.renderMobilePosts()}),this.renderPagination())}render(){return b.createElement(b.Fragment,null,b.createElement("h1",{className:"type-18 text-normal mb4"},Object(c.b)("project_updates.Published")),0===this.props.posts.length?this.renderEmptyState():this.renderDataTable(),this.state.likersModalShowing&&b.createElement(x.a,{id:this.state.likersModalId,onClose:()=>this.setState({likersModalId:null,likersModalShowing:!1})}))}});n.d(t,"a",function(){return P});const D={path:"/projects/:projectCreator/:projectSlug/posts_dashboard",url:(e,t)=>"/projects/".concat(e,"/").concat(t,"/posts_dashboard")},P={POSTS_DASHBOARD:D,PUBLISHED_POSTS:{Component:I,path:"".concat(D.path,"/published"),url:(e,t)=>"/projects/".concat(e,"/").concat(t,"/posts_dashboard/published")},DRAFT_POSTS:{Component:C,path:"".concat(D.path,"/drafts"),url:(e,t)=>"/projects/".concat(e,"/").concat(t,"/posts_dashboard/drafts")}}},"8oY9":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("q1tI"),i=n.n(a),r=n("/IHD");const o=e=>{let t=e.label,n=e.id,a=e.errors,o=e.atoms;const s=Object(r.a)("atomic-text-label",a&&a.length>0&&"atomic-text-label--errored",o);return i.a.createElement("label",{htmlFor:n,className:s},t)}},"8q62":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()(function(){i()(document).on("change","body#site_privacy form.select_country",function(){i()(this).submit()})})},"8uoN":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("2UXI");i()(function(){i()(document).on("click",".js-tabbed-nav-link",function(e){i()(".js-tabbed-nav-link").removeClass("is-active"),i()(this).addClass("is-active"),i()(".js-tabbed-nav-panel").removeClass("is-active"),i()(".js-tabbed-nav-panel[data-panel="+i()(this).data("panel")+"]").addClass("is-active"),Object(r.d)(i()(this).closest(".js-tabbed-nav").data("tracking_name"),{toggled_to:i()(this).data("panel")}),e.preventDefault()})})},"94td":function(e,t,n){"use strict";var a=n("XM0S"),i=n("prSB"),r=n("7cf5"),o=n("9jZ4"),s=n("q1tI"),c=n.n(s),l=n("+DSo");class d extends c.a.Component{shouldComponentUpdate(e){return!Object(o.h)(e,this.props)}render(){const e=this.props,t=e.i18nKey,n=e.i18nTag,a=void 0===n?"span":n,o=Object(r.a)(e,["i18nKey","i18nTag"]);let s=this.props.atoms||[],d=Object(l.c)(window.I18n,t,o);void 0===d&&(d=Object(l.d)(t),s=s.concat(["translation_missing"]),o.debug&&window.console.log("I18n key is missing: ",t));const u=d.split(l.b).reduce((e,t,n)=>{const a=n%2==0?t:o[t];return e.concat([a])},[]),m=s.length>0?{className:s.join(" ")}:{};return c.a.createElement(a,Object(i.a)({},m),...u)}}d.withCommonPrefix=e=>t=>{let n=t.i18nKey,a=Object(r.a)(t,["i18nKey"]);if(!e)throw new Error("commonPrefix not provided for Translate component");return c.a.createElement(d,Object.assign({},a,{i18nKey:"".concat(e).concat(n)}))};var u=d;n.d(t,"c",function(){return m}),n.d(t,"b",function(){return p}),n.d(t,"d",function(){return a.a}),n.d(t,"a",function(){return u}),n.d(t,"e",function(){return l.e});const m=window.I18n.locale,p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(a.a)(window.I18n,...t)}},"99Ms":function(e,t,n){var a=n("s0N+"),i=n("88Gu")(a);e.exports=i},"9GY1":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("RIhn");i()(function(){i()(".video_player").livequery(function(){i()(this).ksr_video()})})},"9Ovy":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("94td"),i=n("q1tI");const r=e=>{const t=e.refTag?e.refTag:"pwl_badge";return i.createElement("a",{href:"/discover/pwl?ref=".concat(t),key:"pwl-badge",className:"type-12 black hover-black bg-white hover-border-soft-black transition-all inline-block px2 py4px border border-grey-500 shadow-hover"},Object(a.b)("project_card.Project_we_love"))}},"9S5P":function(e,t,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FetchProjectSignalAndWatchStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pid"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pid"},value:{kind:"Variable",name:{kind:"Name",value:"pid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"project"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"user"},directives:[]}]}}]}}],loc:{start:0,end:191}};a.loc.source={body:'#import "./project-fragment.graphql"\n#import "./user-fragment.graphql"\n\nquery FetchProjectSignalAndWatchStatus($pid: Int) {\n  project(pid: $pid) {\n    ...project\n  }\n  me {\n    ...user\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)})}a.definitions=a.definitions.concat(r(n("stFp").definitions)),a.definitions=a.definitions.concat(r(n("iHOZ").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}a.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),o[e.name.value]=t}}),e.exports=a,e.exports.FetchProjectSignalAndWatchStatus=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=o[t]||new Set,i=new Set,r=new Set;for(a.forEach(function(e){r.add(e)});r.size>0;){var c=r;r=new Set,c.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){r.add(e)}))})}return i.forEach(function(t){var a=s(e,t);a&&n.definitions.push(a)}),n}(a,"FetchProjectSignalAndWatchStatus")},"9jZ4":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"f",function(){return u}),n.d(t,"h",function(){return m});var a=n("DjBF"),i=n("prSB");const r=(e,t)=>Object.keys(t).reduce((n,a)=>e(a,t[a])?Object(i.a)({},n,{[a]:t[a]}):n,{}),o=e=>e.reduce((e,t)=>{let n=Object(a.a)(t,2),r=n[0],o=n[1];return Object(i.a)({},e,{[r]:o})},{}),s=(e,t)=>Object.keys(t).reduce((n,a)=>Object(i.a)({},n,{[a]:e(t[a])}),{}),c=(e,t)=>Object.assign({},...Object.keys(t).map(n=>e.includes(n)?null:{[n]:t[n]})),l=e=>{for(const t in e)return!1;return!0},d=e=>t=>t[e],u=e=>t=>e.reduce((e,t)=>e[t],t),m=(e,t)=>{if(Object.is(e,t))return!0;if("object"!=typeof e||null===t||"object"!=typeof e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(const a of n)if(!Object.prototype.hasOwnProperty.call(t,a)||!Object.is(e[a],t[a]))return!1;return!0}},"9mow":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("7cf5"),i=n("/IHD"),r=n("hPy8"),o=n("q1tI"),s=n.n(o);const c=e=>{const t=e.className,n=e.dataTestId,c=e.disabled,l=e.href,d=e.target,u=e.tooltip,m=e.type,p=Object(a.a)(e,["className","dataTestId","disabled","href","target","tooltip","type"]),h=Object(o.useContext)(r.d),f=e.href?"a":"button";let g,b;l?(g={href:l,target:d},b=h.link.atoms):(g={type:m,disabled:c},b=h.form.atoms);const _=Object(i.a)(t,b);return s.a.createElement(f,Object.assign({className:_,"data-tooltip":u,"data-test-id":n},g,p))}},A0Vp:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a=()=>({environmentalCommitmentsExists:!1,projectBudgetExists:!1,activeSection:void 0})},A3pT:function(e,t,n){"use strict";n.r(t),n.d(t,"budgetGraphicInit",function(){return u});var a=n("MHsd"),i=n("94td"),r=n("NxQb"),o=n("zm9w"),s=n("q1tI"),c=n.n(s),l=n("i8i4"),d=n.n(l);const u=()=>{const e=document.getElementById("react-budget-graphic");if(Object(r.a)("budget_module")&&e&&e.dataset&&e.dataset.spreadsheetdata&&e.dataset.currency){const t=e.dataset.currency&&o.a.currency_symbol(e.dataset.currency);d.a.render(c.a.createElement(c.a.Fragment,null,c.a.createElement(a.b,{spreadsheetData:JSON.parse(e.dataset.spreadsheetdata),displayValues:"amount"===e.dataset.displaymode,currencySymbol:t,lastUpdatedDate:e.dataset.datalastupdatedat}),c.a.createElement("div",{className:"mt2 support-500"},Object(i.b)("project_page.campaign.Projected_budget_disclaimer"))),e)}};u()},A6sV:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});const a=(e,t)=>({type:"FETCH_CREATOR_SECTION_DATA",projectSlug:e,shareToken:t}),i=e=>({type:"FETCH_CREATOR_SECTION_DATA_RESPONSE",response:e})},ADAi:function(e,t,n){var a=n("+2Rf");n("+2Rf");!function(e){var t=e('<div id="jquery-clipster-overlay"><div><p>Press ⌘C to copy</p><p><textarea></textarea></p></div></div>'),n=t.find("textarea");function a(e,t){t||(t={}),this.text=t.text||e.data("text")||e.text(),this.$elem=e,this.is_on=!1,this.bind()}t.hide(),e(function(){e("body").append(t)}),e.clipster=function(t,n){e(document).on("click",t,function(t){e(this).clipster(n).data("clipster").activate(),t.preventDefault()})},e.fn.clipster=function(t){return this.each(function(){var n=e(this),i=n.data("clipster");i||(i=new a(n,t),n.data("clipster",i))})},a.prototype.bind=function(){var t=this;this.$elem.on("click",function(e){t.activate(),e.preventDefault()}),e(document).on("copy click",function(a){var i=e(a.target);i.closest(t.$elem).length||"click"===a.type&&i.is(n)||t.deactivate()}),e(document).on("keydown",function(e){27===e.which&&t.deactivate()})},a.prototype.activate=function(){this.active||(t.show(),n.val(this.text),n[0].select(),n.focus(),this.active=!0)},a.prototype.deactivate=function(){this.active&&(setTimeout(function(){t.hide()}),this.active=!1)}}(a)},AZSU:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"RewardDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"symbol"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"backersCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"estimatedDeliveryOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isMaxPledge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remainingQuantity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shippingSummary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allowedAddons"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:386}};n.loc.source={body:"fragment RewardDetails on Reward {\n  amount {\n    currency\n    amount\n    symbol\n  }\n  backersCount\n  description\n  estimatedDeliveryOn\n  id\n  isMaxPledge\n  items {\n    edges {\n      quantity\n      position\n      node {\n        id\n        name\n      }\n    }\n  }\n  limit\n  name\n  remainingQuantity\n  shippingSummary\n  startsAt\n  endsAt\n  allowedAddons {\n    nodes {\n      id\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},AeVH:function(e,t,n){"use strict";var a=n("KHPI"),i=n("h4vE"),r=n("o3IG"),o=n("2UXI"),s=n("yQm5"),c=n.n(s),l=n("/AD1");Object(i.a)("#projects_show",function(e){Object(a.a)("#verifying-pledge.modal_dialog .remote_modal_dialog",e).click(function(){Object(a.a)(this).parents("div#verifying-pledge").trigger("close.modal_dialog")}),location.hash&&setTimeout(function(){Object(a.a)(location.hash).find(".faq-question a").click()},500),Object(a.a)("body").is(".touchable")&&(e.on("modal_dialog:opened",function(){Object(a.a)("video").length&&window.Touch&&(Object(a.a)("#video-section",e).css("visibility","hidden"),Object(a.a)("video")[0].pause())}),e.on("close.modal_dialog",function(){Object(a.a)("#video-section",e).css("visibility","visible")}));var t=Object(r.b)("edit_survey_response");t&&a.a.open_remote_modal_dialog(c.a.decode(t),{class_name:"backings-info__modal",remote_modal_dialog_contents_loaded:function(){Object(r.a)("edit_survey_response",c.a.parse(window.location.href).path)},dataType:"html",beforeSend:function(e){e.setRequestHeader("Accept","text/javascript, */*")}});var n=function(){var e=l.a.get("backing"),t=e?e.urls.web.backing:null;a.a.open_remote_modal_dialog(c()(t).addQuery("ref","reward_view_pledge").addQuery("clicked_reward","true").suffix("js").toString(),{id:Object(a.a)(this).attr("data-modal-id"),class_name:"backings-info__modal",dataType:"html"})};Object(a.a)(document).on("click",".js-view_your_pledge",function(){n()}),Object(a.a)(document).on("keypress",".js-view_your_pledge",function(e){13!=e.which&&32!=e.which||n()}),Object(a.a)(document).on("ksr_popover:opened",function(){Object(a.a)(".ksr-popover.visible").parent(".NS_projects__project_share")&&Object(o.d)("Project Show Share Sheet")})})},Ak9l:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Posts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"state"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PostState"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"posts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"state"},value:{kind:"Variable",name:{kind:"Name",value:"state"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startCursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPreviousPage"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edit"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likesCount"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:696}};n.loc.source={body:"query Posts($projectSlug: String!, $state: PostState!, $cursor: String) {\n  project(slug: $projectSlug) {\n    posts(state: $state, first: 20, after: $cursor) {\n      totalCount\n      pageInfo {\n        startCursor\n        endCursor\n        hasNextPage\n        hasPreviousPage\n      }\n      edges {\n        cursor\n        node {\n          id\n          type\n          actions {\n            edit\n          }\n          title\n          publishedAt\n          createdAt\n          likesCount\n          ... on CreatorInterview {\n            commentsCount(withReplies: true)\n          }\n          ... on FreeformPost {\n            commentsCount(withReplies: true)\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.Posts=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"Posts")},B6g3:function(e,t,n){"use strict";let a;n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i}),function(e){e.confirmed_signal_notice="confirmed_signal_notice",e.confirmed_watch_notice="confirmed_watch_notice",e.dismissed_pyl_toast="dismissed_pyl_toast",e.dismissed_taste_profile_toast="dismissed_taste_profile_toast",e.manual_play_videos="manual_play_videos",e.opt_in_ksr_research="opt_in_ksr_research",e.opted_into_add_on_beta_test="opted_into_add_on_beta_test",e.opted_out_of_recommendations="opted_out_of_recommendations",e.show_public_profile="show_public_profile",e.superbacker_not_visible="superbacker_not_visible",e.viz_notification="viz_notification"}(a||(a={}));const i=n("c9hQ").UpdateUserSettings},CGP4:function(e,t,n){"use strict";n.r(t);var a=n("mwIZ"),i=n.n(a),r=n("4KRT"),o=n("aiSh"),s=n("q1tI"),c=n.n(s),l=n("i8i4"),d=n.n(l),u=n("d5To"),m=n("prSB"),p=n("qPAc");var h=Object(m.a)({},p.a,{createTrackingEventName:"Project Comment Create",pollUrlFactory:e=>"".concat(e.url,"/stats.json?v=1")}),f=n("pj8f");n.d(t,"commentsInit",function(){return g});const g=()=>{const e=Object(o.a)(f.Honeybadger.notify.bind(f.Honeybadger)),t=document.getElementById("react-project-comments");if(t){const n=t.dataset.commentable_id,a=i()(t,"dataset.comment_cursor",null)||null,o=i()(t,"dataset.comment_id",null);d.a.render(c.a.createElement(r.a,{client:e},c.a.createElement(u.a,{commentableId:n,initialCommentId:o,nextCursor:a,previousCursor:null,first:25,last:null,config:h})),t)}};g()},CMmH:function(e,t,n){"use strict";var a=n("2UXI"),i=n("0fse");t.a=(e,t)=>{switch(t.type){case"TRACKING_TRACK_EVENT":const n=t.name,r=t.properties,o=t.options;return Object(i.f)(e,i.a.run(a.d,{args:[n,r,o]}));case"BULK_TRACKING_TRACK_EVENT":const s=(t.actions||[]).map(e=>{const t=e.name,n=e.properties,r=e.options;return i.a.run(a.d,{args:[t,n,r]})});return Object(i.f)(e,i.a.list(s,{batch:!0}))}}},CPM0:function(e,t,n){"use strict";var a=n("q1tI"),i=n.n(a),r=n("pQ8y");t.a=e=>{let t=e.enter,n=void 0===t?"fade-in":t,a=e.leave,o=void 0===a?"fade-out":a,s=e.appear,c=e.open,l=void 0===c||c,d=e.duration,u=void 0===d?300:d,m=e.durationLeave,p=e.durationAppear,h=e.component,f=void 0===h?"div":h,g=e.mountOnEnter,b=void 0===g||g,_=e.unmountOnExit,v=void 0===_||_,k=e.children;const y=f||i.a.Fragment;return i.a.createElement(r.a,{in:l,appear:!!s,timeout:{enter:u,exit:m||u,appear:p||u},classNames:{appear:"animation-".concat(p||u),appearActive:"animation-".concat(s||n),enter:"animation-".concat(u),enterActive:"animation-".concat(n),exit:"animation-".concat(m||u),exitActive:"animation-".concat(o)},mountOnEnter:b,unmountOnExit:v},i.a.createElement(y,null,k))}},CgNg:function(e,t,n){"use strict";n.d(t,"b",function(){return b}),n.d(t,"a",function(){return _});var a=n("prSB"),i=n("q1tI"),r=n("IVac"),o=n("RBqt"),s=n("/IHD"),c=n("O6Fj"),l=n.n(c),d=n("CPM0");const u=e=>{let t=e.charLimit,n=e.inputValue;const a=n?n.toString().length:0,r=a===t?"create-700":"dark-grey-500";return i.createElement("div",null,i.createElement(o.a,{type:"caption-200",atoms:[r]},a),i.createElement(o.a,{type:"caption-200",atoms:["dark-grey-500"]},"/"),i.createElement(o.a,{type:"caption-200",atoms:["dark-grey-500"]},t))},m=e=>{let t=e.text;return i.createElement(o.a,{atoms:["dark-grey-500","ml-auto"],type:"caption-200"},t)},p=e=>{let t=e.text;return i.createElement(o.a,{type:"caption-200",atoms:["create-700"]},t)},h=e=>{let t=e.text;return i.createElement(o.a,{type:"caption-200",atoms:["support-400","pr3"]},t)},f=e=>{let t=e.children,n=e.htmlFor,a=e.state;const o=Object(s.a)("atomic-text-label",Object(r.e)(a,n)&&"atomic-text-label--errored");return i.createElement("label",{htmlFor:n,className:o},t)},g=e=>{let t=e.children,n=e.htmlFor,a=e.fixedLabelPosition,r=void 0===a?"LEFT":a,o=e.atoms;const s=o&&o.join(" ");return i.createElement("label",{htmlFor:n,className:"".concat("RIGHT"===r?"atomic-text-label-fixed-right":"atomic-text-label-fixed"," ").concat(s)},t)},b=e=>{let t=e.ariaLabel,n=e.autoComplete,r=e.atoms,c=void 0===r?[]:r,d=e.autoExpandable,u=e.autoFocus,m=e.charLimit,p=e.children,h=e.currentFocus,f=e.disabled,b=e.disclaimer,k=e.feedback,y=e.fixedLabel,j=e.fixedLabelPosition,E=void 0===j?"LEFT":j,w=e.hasErrors,S=e.id,O=e.inputAtoms,C=void 0===O?[]:O,N=e.inputValue,x=e.label,T=e.max,I=e.min,D=e.minRows,P=e.mobileCta,A=e.name,R=e.onBlur,F=e.onChange,L=e.onFocus,M=e.onKeyDown,U=e.placeholder,B=e.required,q=e.step,$=e.styles,H=e.type,V=void 0===H?"text":H,z=e.updateClientOnFocus,W=e.fixedLabelAtoms,K=void 0===W?[]:W,Y=e.warning;const G=h===S,J=Object(s.a)(c),Q={"aria-label":t,autoComplete:n,autoFocus:u,"aria-required":B,className:Object(s.a)("atomic-text-input",...C,w&&"has-errors",y&&"LEFT"===E?"atomic-text-input-prefixed":y&&"atomic-text-input-prefixed-right",Y&&"warning"),disabled:f,id:S,maxLength:m,name:A,onBlur:e=>{z&&z(null),R&&R(e)},onChange:e=>((e,t)=>{if(!F)return;const n=e.target.value;(t&&n.length<=t||!t)&&F(n,e)})(e,m),onFocus:e=>{z&&z(S),L&&L(e)},onKeyDown:e=>M&&M(e.which,e),placeholder:U,value:N,style:$,required:B},X="number"===V?{min:I,max:T,step:q}:{},Z=Object(a.a)({},Q,{type:V},X),ee=Object(a.a)({},Q,{rows:D||1});return h===S&&y&&K.push("focus"),i.createElement("div",{className:J},(x||b)&&i.createElement(_,{mobileCta:P,disclaimer:b,id:S,label:x,usesFixedLabel:!!y}),i.createElement("div",{className:"relative smart-input-group"},y&&i.createElement(g,{htmlFor:S,fixedLabelPosition:E,atoms:K},i.createElement(o.a,{type:"caption-200"},y)),d&&i.createElement(l.a,ee),D&&!d&&i.createElement("textarea",ee),!D&&!d&&i.createElement("input",Object.assign({},Z,{style:$}))),i.createElement(v,{children:p,charLimit:m,feedback:k,hasErrors:w,inputValue:N,showInputFooter:G,warning:Y}))},_=e=>{let t=e.mobileCta,n=e.disclaimer,a=e.id,r=e.label,s=e.usesFixedLabel,c=void 0!==s&&s;const l=n?i.createElement(m,{text:n}):null,d=i.createElement(o.a,{atoms:["soft-black"],type:"body-100",weight:"medium"},r);let u=null;return r&&c?u=d:r&&!c&&(u=i.createElement(f,{htmlFor:a},d)),t?i.createElement("div",{className:"mb1"},i.createElement("div",{className:"flex justify-between hide-md"},i.createElement("div",null,u,l),i.createElement("div",null,t)),i.createElement("div",{className:"hide items-baseline flex-md"},u,l)):i.createElement("div",{className:"flex items-baseline mb1"},u,l)},v=e=>{let t=e.children,n=e.charLimit,a=e.feedback,r=e.hasErrors,o=e.inputValue,c=e.showInputFooter,l=e.warning;const m=Object(s.a)("h5",!l&&"clip","absolute","l0","t0","w100p");return i.createElement("div",{className:"relative w100p"},i.createElement("div",{className:m},i.createElement("div",{className:"absolute l0 t1 w100p"},i.createElement(d.a,{enter:"fade-in-and-down",leave:"fade-out-and-up",open:c},i.createElement("div",{className:"flex justify-between items-baseline"},i.createElement("div",null,!r&&l&&i.createElement(h,{text:l}),!r&&!l&&a&&i.createElement(p,{text:a})),n&&i.createElement(u,{charLimit:n,inputValue:o})))),r&&t&&i.createElement("div",{className:"absolute l0 t1 w100p"},t)))}},CjI4:function(e,t,n){"use strict";var a=n("60hy");const i=Object(a.b)(window.current_location);window.current_location=i,t.a=i},Ck6Y:function(e,t,n){"use strict";var a=n("a+N5"),i=n.n(a),r=n("+2Rf"),o=n("+2Rf");o.fn.validate=function(){var e=!0;return!this.length||(this.is(":input")?(this.each(function(){var t,n=o(this),a=!1,r=n.data("validations");r&&r.length&&(i.a.each(r,function(i){var r=i[0],o=i[1]||{};if("function"!=typeof o.when||o.when.call(n))return r.call(n,n.val())?void 0:(e=!1,a=!0,"string"==typeof o.error&&(t=o.error),!1)}),a?o.each(o.fn.validate.defaults.on_invalid,function(e,a){a(n,t)}):o.each(o.fn.validate.defaults.on_valid,function(e,t){t(n)}))}),e):this.find(":input").validate())},o.fn.validate.defaults={on_valid:[function(e){o(e).trigger("validate:valid")}],on_invalid:[function(e,t){o(e).trigger("validate:invalid",[t])}]},function(e){function t(t,n){var a=e(this);a.data("validations")||a.data("validations",[]),a.data("validations").push([t,n])}function n(e){return function(n){return this.each(function(){t.call(this,e,n)}),this}}e.fn.validates_custom=function(e,n){return this.each(function(){t.call(this,e,n)}),this},e.fn.validates_format=n(function(t){return t.match(new RegExp(e(this).data("format")))}),e.fn.validates_min_length=n(function(t){return t.length>=parseInt(e(this).data("minlength"),10)}),e.fn.validates_max_length=n(function(t){return t.length<=parseInt(e(this).data("maxlength"),10)}),e.fn.validates_presence=n(function(t){return!!e.trim(t)}),e.fn.validates_email=n(function(e){return e.match(/^.+@.+\..{2,}$/)}),e.fn.validates_luhn_check=n(function(e){var t,n,a,i=String(e).replace(/[^\d]/g,""),r=0;for(n=i.length-1;n>=0;n-=1)a=n%2+1,r+=(t=parseInt(i[n],10))>4&&2===a?t*a%10+1:t*a;return r%10==0}),e.fn.validates_routing_number=n(function(t){var n,a,i,r=String(t).replace(/[^\d]/g,""),o=e(this).closest("form").attr("data-country"),s=(r+"").split(""),c=0,l=[0,3,6];switch(o){case"US":for(a=0,i=l.length;a<i;a+=1)n=l[a],c+=3*parseInt(s[n],10),c+=7*parseInt(s[n+1],10),c+=parseInt(s[n+2],10);return 0!==c&&c%10==0;case"CA":return 8===r.length;case"AU":case"NZ":return 6===r.length;default:return!0}}),e.fn.validates_vat_format=n(function(e){var t=String(e).toUpperCase();switch(t.substr(0,2)){case"NL":return/^\w{2}\d{9}B\d{2}$/.test(t);default:return/^\w{2}[\w\d]{6}/.test(t)}}),e.fn.validates_postal_code=n(function(t){var n=e(this).closest("form").data("country"),a=!1,i={US:[/(^\d{5}$)|(^\d{5}-\d{4}$)/]};return void 0===i[n]||(e.each(i[n],function(e,n){n.test(t)&&(a=!0)}),a)}),e.fn.validates_business_id=n(function(t){var n=String(t).toUpperCase().replace(/\s+/g,""),a=e(this).closest("form").attr("data-country"),i=!1,r={AU:[/^\d{9}$/,/^\d{11}$/],BE:[/^(BE)?[A-Z0-9]{12}$/],CA:[/^\d{9,10}$/],CH:[/^(CHE-?)?[0-9]{3}\.?[0-9]{3}(\.?[0-9]{3})?(TVA|MWST|IVA|VAT)?$/],ES:[/^[ABCDEFGHJNPQRSUVW][0-9]{7}[A-Z0-9]$/],FI:[/^\d{7}\-\d$/],FR:[/^\d{14}$/],GB:[/^\d{7,8}$/,/^(AC|E[NS]|FC|G[ENS]|I[CP]|LP|N[ACFILOPRVZ]|OC|R[0C]|S[ACEFILOPRZ]|ZC)\d{5,6}[A-Z]?$/i],IE:[/^\d{5,6}$/,/^[A-Z]{2}\d{5,6}$/i,/^R\d{3}$/i,/^\d{2,4}(?:SAL|F|R|T|SA)$/],LU:[/^\d{4,8}$/,/^B\d{4,8}$/i,/^F\d{3,8}$/i],NL:[/^\d{8}$/],US:[/^\d{2}-?\d{7}$/]};return""===n||(void 0===r[a]||(e.each(r[a],function(e,t){t.test(n)&&(i=!0)}),i))})}(r)},"D+F0":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});const a=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:"PROJECT_MODAL_OPEN",modalType:e,tracking:t}},i=()=>({type:"PROJECT_MODAL_CLOSE"})},D1y2:function(e,t,n){var a=n("FZoo");e.exports=function(e,t,n){return null==e?e:a(e,t,n)}},D6l6:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("GRmu"),o=n("0VSk"),s=n("U98V");let c={get:function(e,t,n,a){return!n.hasClass("loading")&&(n.trigger("before_ksrjson",[n,a]),i.a.ajax({url:e,type:t||"GET",data:{format:"json"},dataType:"json",beforeSend:function(){n.addClass("loading")},success:function(e){c.parse_response(e,n)},complete:function(){n.removeClass("loading")}}),!1)},enable_form:function(e,t){e.on("submit",function(n){n.preventDefault(),e.trigger("ajaxForm:beforeSerialize"),i.a.ajax({url:e.attr("action"),type:e.attr("method"),data:e.serialize(),dataType:"json",beforeSend:function(){var n=e.find("input.confirmation");return e.is(".submitting")?(Object(r.a)({error:o.default.t("library.ksr_json.Sorry_still_waiting_for_a_response_Please_try_refreshing_if")}),!1):!(n.length&&!n.prop("checked"))&&(t.addClass("loading"),void e.addClass("submitting"))},success:function(n){c.parse_response(n,t,e),t.trigger("ksr_json:afterSuccess",n)},error:function(n){c.parse_error(n,t,e),t.trigger("ksr_json:afterError")},complete:function(){t.removeClass("loading"),e.removeClass("submitting"),t.trigger("ksr_json:afterComplete")}})})},parse_response:function(e,t,n){var a,c,l,d={open:function(){i()(n).trigger("jGrowl.open_"+e.status)},close:function(){i()(n).trigger("jGrowl.close_"+e.status)}};switch(t.trigger("ksr_json:complete",e),i.a.isArray(e.flash)&&i.a.isArray(e.flash[0])?Object(r.a)(i.a.map(e.flash,function(e){return e[e.length-1]}),d):e.flash&&Object(r.a)(e.flash,d),parseInt(e.status,10)){case 200:case 406:if(a=i()(e.data),e.data&&e.data.length>0){if(e.send_message_modal){var u=i()(".NS_messages__new");if(u.length){var m=u.last();m.html(e.data),Object(s.a)(m)}}e.modal?((l=i.a.create_modal_dialog("",e.data)).data("modal_dialog").open(),"undefined"!=typeof FB&&FB.XFBML.parse(l.find(".modal_dialog_body")[0])):(a.find("a.cancel").length>0?(c=t.contents().detach(),a.find("a.cancel").one("click",function(){return t.contents().remove(),c.appendTo(t),!1})):t.contents().remove(),t.html(a),t.trigger("size_change"),"undefined"!=typeof FB&&FB.XFBML.parse(t[0]))}i()('meta[name="csrf-token"]').attr("content",e.auth_token);break;case 204:t.remove();break;case 302:window.location.href=e.data.replace(/.json$/,"");break;case 303:t.load(e.data,function(){i()('meta[name="csrf-token"]').attr("content",e.auth_token)});break;case 304:break;case 500:Object(r.a)({error:o.default.t("library.ksr_json.Sorry_something_went_wrong_Weve_been_notified_and_are_looking")});break;case 422:Object(r.a)({error:o.default.t("library.ksr_json.Sorry_something_went_wrong_Your_form_may_have_explired")})}return e},parse_error:function(e,t,n){c.parse_response({flash:{},status:e.status,data:e.body},t,n)}};t.a=c},DQv1:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("a+N5"),o=n.n(r),s=n("0VSk"),c=n("nbsC"),l=n.n(c),d=n("zm9w"),u=n("yQm5"),m=n.n(u),p=n("/AD1"),h=n("WjF9");var f=n("1OuE"),g=n("ioZw"),b=n("tmAf"),_=n("/Tkk"),v=n.n(_);var k=function(e){var t=[];return e.creator_name=e.creator.name,e.percent_raised=e.pledged/e.goal*100,e.percent_raised_rounded=Math.round(e.percent_raised),e.percent_raised_to_100=Math.min(100,e.percent_raised),e.formatted_percent_raised=d.a.percent(e.percent_raised,{precision:0}),e.formatted_money=d.a.money(e.pledged,{precision:0,currency:e.currency}),e.formatted_goal=d.a.money(e.goal,{precision:0,currency:e.currency}),e.formatted_backers_count=d.a.format_number(e.backers_count,{precision:0}),e.count=e.backers_count,e.javascript_deadline=1e3*e.deadline,e.javascript_state_changed_at=1e3*e.state_changed_at,e.formatted_deadline=Object(f.a)("ll",e.javascript_deadline),e.formatted_state_changed_at=Object(f.a)("ll",e.javascript_state_changed_at),e.raw_score=e.recommendations_raw_score,e.weighted_score=e.recommendations_score,e.model_name=e.recommendations_model_name,e.project_state=e.state,e.section=e.ref||e.url_ref||"refined_search",function(e,t){t.blurb||(t.blurb=e.blurb),t.name||(t.name=e.name),t.feature_image_url=t.feature_image_attributes.image_urls.baseball_card,t["has_background_image?"]=!o.a.isEmpty(t.background_image_attributes),t["hide_background_black?"]=t["has_background_image?"]||t.background_color,t.border_color="",t.text_color&&(t.border_color="background-color: #"+t.text_color+";"),t.text_color_style="",t.text_color&&(t.text_color_style="color: #"+t.text_color+";"),t.background_color_style="",t.background_color&&(t.background_color_style="background-color: #"+t.background_color+";"),t.card_style="",t.card_style+=t.text_color_style,t.card_style+=t.background_color_style,t.card_background_style="",t["has_background_image?"]&&(t.card_background_style="background-image: url("+t.background_image_attributes.image_urls.baseball_card+"); opacity: "+t.background_image_opacity+";")}(e,e.profile),i.a.each(["live","successful","canceled","failed"],function(){var t=String(this);e[t+"?"]=e.state===t}),e.url_ref?e.url_with_ref=m()(e.urls.web.project).setSearch("ref",e.url_ref).toString():e.url_with_ref=e.urls.web.project,e["live_or_successful?"]="live"===e.state||"successful"===e.state,e["video?"]=null!==e.video&&void 0!==e.video,e["potd_today?"]=v()(1e3*e.potd_at,new Date),e["staff_pick?"]=e.staff_pick,e["friends_backing?"]=e.friends&&e.friends.length>0,e["friends_backing?"]&&(e.truncated_friends=e.friends.slice(0,2),(t=o.a.map(e.truncated_friends,function(e){return"<strong>"+o.a.escape(e.name.split(" ")[0])+"</strong>"})).length<e.friends.length&&t.push("<strong>"+s.default.t("presenters.projects.baseball_card_tall.amount_more",{count:e.friends.length-t.length})+"</strong>"),e.escaped_sentence=s.default.t("presenters.projects.baseball_card_tall.friends_are_backers",{friends:d.a.to_sentence(t),count:t.length})),e.json=JSON.stringify(e),e.location_json=JSON.stringify(e.location),e.baseball_card_size||(e.baseball_card_size="tall"),e},y=n("MgNI"),j=function(e){return e.formatted_created_at=Object(f.a)("ll",1e3*e.created_at),e.is_recipient=void 0!==h.a&&h.a.get("id")===e.recipient_id,e.sender_is_registered=e.sender.is_registered,e},E=n("P0CJ");var w={"assets/_uploaded_item":function(e){return e.short_filesize=d.a.number_to_human_size(e.data_file_size,{precision:1}),e},"backer_report/_index":function(e){return e.filters={},(e=function(e){return o.a.each(o.a.keys(e.aggregations),function(t){o.a.each(o.a.keys(e.aggregations[t]),function(n){var a=e.aggregations[t][n];e.aggregations[t][n]={count:a}})}),e}(e=function(e){return e.project.disputed>0&&(e.filters.disputed={true:{count:e.project.disputed}}),e}(e))).aggregations.must_have_creator_note={true:{},false:{}},e.not_filtered=!0,"successful"===(e=function(e){return e.params&&(o.a.each(o.a.keys(e.params),function(t){o.a.has(e.aggregations,t)?(e.aggregations[t][e.params[t]]||(e.aggregations[t][e.params[t]]={}),e.aggregations[t][e.params[t]].selected=!0):o.a.has(e.filters,t)?e.filters[t][e.params[t]].selected=!0:(e.aggregations[t]={})[e.params[t]]={selected:!0}}),e.params.sort_by&&(e.params["sort_by_"+e.params.sort_by]=" "+(e.params.asc_or_desc||"asc")),e.actual_reward_selected=!1,e.params.reward_id&&(e.actual_reward_selected=!0,e.selected_reward=o.a.findWhere(e.rewards,{id:parseInt(e.params.reward_id,10)}),e.selected_reward||(e.actual_reward_selected=!1,e.selected_reward=o.a.findWhere(e.rewards,{id:"none"})),e.selected_reward.selected=!0),o.a.each(["survey_answered","completed","must_have_creator_note","status","backer_banned","disputed"],function(t){e.params[t]&&(e.not_filtered=!1)})),e}(e)).project.state&&(e.project.is_successful=!0),(e=function(e){return e.show_aggregations=e.total_entries>0||!(e.params&&e.params.term&&!e.params.creator_note&&!e.params.creator_note_not),e}(e)).formatted_total_entries=d.a.format_number(e.total_entries,{precision:0}),e.count=e.total_entries,(e=function(e){return o.a.each(e.rewards,function(e){e.formatted_minimum=d.a.money(e.minimum,{currency:p.a.get("currency"),precision:0}),e.reward.length>35?e.truncated_description=e.reward.substring(0,35)+"…":e.truncated_description=e.reward}),e}(e)).message_url=m()(e.urls.web.message_batches).segment("new").query(e.params),e.isCreator=p.a.get("creator.id")===h.a.get("id"),e.showMessages=e.isCreator||e.showMessages,e},"backer_report/_row":function(e){return e.formatted_pledged_at=Object(f.a)("ll",1e3*e.pledged_at),e.formatted_survey_answered_at=Object(f.a)("ll",1e3*e.survey_answered_at),e.formatted_amount=d.a.money(e.amount,{precision:2,currency:p.a.get("currency")}),e.name=e.is_registered?e.is_deleted?s.default.t("backer_report.row.Deleted_backer_name"):e.name:s.default.t("backer_report.row.Guest",{backer_uid:e.backer_uid}),e.is_deleted&&(e.name_hover=s.default.t("backer_report.row.Deleted_backer_explanation")),e.isCreator=p.a.get("creator.id")===h.a.get("id"),e.showMessages=e.isCreator||e.showMessages,e},"backings/_row":g.a,"backings/_table":b.a,"discover/_location_li":function(e){return e.json=JSON.stringify(e),e},"discover/_location_options":function(e){return e.ancestor_locations=e.ancestor_locations||[],e.ancestor_locations=e.ancestor_locations.reverse(),e.nearby_locations=e.nearby_locations||[],e},"discover/_project_baseball_card_li":function(e){return k(e)},"discover/_search_location_li":function(e){return e.json=JSON.stringify(e),e},"message_threads/_show":function(e){return e.is_creator=e.project.creator.id===h.a.get("id"),e.project.is_live="live"===e.project.state,e.backing&&(e.backing.reward.formatted_estimated_delivery_on=y.maybe.fromNullable(e.backing.reward.estimated_delivery_on).map(e=>Object(f.a)("ll",Object(E.a)(1e3*e))).getOrElse(null),e.backing.is_creator=e.is_creator,e.backing.formatted_amount=d.a.money(e.backing.amount,{currency:e.backing.project.currency,precision:0})),e.messages=o.a.map(e.messages,function(t){return t.sender=o.a.findWhere(e.participants,{id:t.sender_id}),j(t)}),e},"messages/_show":j,"projects/_baseball_card_grid":function(e){var t=i.a.extend({},e);return t.projects=t.projects.map(function(e){return e.map(function(e){return k(e)})}),t},"projects/_baseball_card_tall":k};function S(e){var t=i()("#template-"+e.replace(/\//g,"_"));if(!t.length)throw"Could not find template: "+e;return i.a.trim(t.html())}function O(){return function(e,t){return t(s.default.t(e,this))}}function C(e,t,n){var a=w[e]||function(e){return e},r=S(e),s=function(e){var t={};if(o.a.isString(e)&&(e=[e]),o.a.isArray(e))return o.a.each(e,function(e){t[e]=S(e)}),t}(n);return l.a.render(r,i.a.extend({t:O},a(t)),s)}t.a=C;window.render=C},DRAL:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var a=n("gN63");const i="\n  mutation($contentId: ID!, $details: String, $kind: FlaggingKind!) {\n    createFlagging(\n      input: {\n        contentId: $contentId,\n        details: $details,\n        kind: $kind\n      }\n    ) {\n      flagging {\n        kind\n      }\n    }\n  }\n",r=(e,t)=>{let n=e.details,r=e.kind;const o=Object(a.b)("Project",window.current_project.data.id);return Object(a.d)(i,{contentId:o,details:n,kind:r},{projectShareToken:t})}},DUhn:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("94td"),i=n("q1tI"),r=n.n(i),o=n("TDMg");const s=[o.b.long_lasting_design,o.b.reusability_and_recyclability,o.b.sustainable_materials,o.b.environmentally_friendly_factories,o.b.sustainable_distribution,o.b.something_else],c=e=>{let t=e.commitments;if(0===t.length)return null;const n=(e=>s.map(t=>{const n=e.filter(e=>e.commitmentCategory===t)[0];return n||null}).filter(e=>null!==e))(t);return r.a.createElement("div",{id:"environmentalCommitments",className:"mb3 mb10-sm mb3 js-commitments"},r.a.createElement("div",{className:"mb6"},r.a.createElement("h3",{className:"normal mb1"},Object(a.b)("project_page.campaign.Environmental_commitments")),r.a.createElement(a.a,{i18nKey:"project_page.campaign.Visit_environmental_resource_center_to_learn",visitLink:r.a.createElement("a",{target:"_blank",className:"ksr-green-700",href:"/environment"},Object(a.b)("project_page.campaign.Visit_our_Environmental_Resources_Center"))})),n.map(e=>{const t=e.commitmentCategory,n=e.description;return r.a.createElement("div",{key:t,className:"js-commitment-category mb2 border-bottom border-grey"},r.a.createElement("h4",null,Object(a.b)("project_page.campaign.".concat(t))),r.a.createElement("p",{className:"mb2 text-preline"},n))}))}},DWdt:function(e,t,n){"use strict";var a=n("DjBF"),i=n("KHPI"),r=n("h4vE"),o=n("2UXI"),s=n("TIPN");Object(r.a)("#projects_learn",function(){var e=0,t=!1;const n=e=>n=>{n.preventDefault(),Object(i.a)(n.target).closest(".categories").find(".js-category-link").removeClass("selected"),Object(i.a)(n.target).addClass("selected");const a=Object(i.a)(n.target).data("name"),r=Object(i.a)(e).find('[data-name="'.concat(a,'"]'));Object(i.a)(e).find(".category").removeClass("block"),r.addClass("block");const c=Object(i.a)(e).find("video").get(0);c&&c.pause(),e.includes("desktop")&&Object(s.a)({to:Object(i.a)(".js-desktop-categories").offset().top,duration:500}),t&&Object(o.d)("Learn More Project Category Select",{category_name:Object(i.a)(n.target).text()}),t=!0};Object(i.a)(".js-mobile-categories .js-category-link").on("click",n(".js-mobile-interstitials")),Object(i.a)(".js-desktop-categories .js-category-link").on("click",n(".js-desktop-interstitials")),Object(i.a)(".js-mobile-categories li:first .js-category-link").get(0).click(),Object(i.a)(".js-desktop-interstitials").find(".close").on("click",function(e){Object(i.a)(".js-desktop-categories").find(".js-category-link").removeClass("selected"),Object(i.a)(".js-desktop-interstitials").find(".category").removeClass("block"),e.preventDefault()}),Object(i.a)(".js-tools .right_side").on("cycle-after",function(t,n,a,r){var s,c,l=Object(i.a)(r);e>0&&Object(o.d)("Learn More Project Tool Select",{slide_description:l.attr("data-slide-description")}),e+=1,s=l,(c=Object(i.a)(".js-tools").find("video").get(0))&&c.pause(),s.find("video").length&&s.find("video")[0].play()}),Object(i.a)(".js-quotes").find(".mirror").each(function(){Object(i.a)(this).html(Object(i.a)(this).closest(".quote-box").find(".relative").html())});const r=document.querySelector(".js-quotes");new IntersectionObserver(e=>{Object(a.a)(e,1)[0].isIntersecting&&r.classList.add("loaded")},{rootMargin:"150px"}).observe(r),Object(i.a)(".js-ctas .js-play-button").on("click",function(e){e.preventDefault(),Object(i.a)(this).closest("section").addClass("video-expanded"),Object(i.a)(this).closest("section").find(".video-player").trigger("ksr_video:play")}),Object(i.a)(".js-ctas .close").on("click",function(e){e.preventDefault(),Object(i.a)(this).closest("section").removeClass("video-expanded"),Object(i.a)(this).closest("section").find(".video-player").trigger("ksr_video:pause")})})},DaKc:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatorInterview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"answers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"question"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:245}};n.loc.source={body:"query CreatorInterview($id: ID!) {\n  post(id: $id) {\n    id\n    ... on CreatorInterview {\n      answers {\n        nodes {\n          id\n          body\n          question {\n            id\n            body\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.CreatorInterview=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"CreatorInterview")},DpK8:function(e,t,n){"use strict";let a;n.d(t,"a",function(){return a}),function(e){e.PROJECT="project",e.REWARDS="rewards",e.THANKS="thanks"}(a||(a={}))},Dqzj:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Campaign"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSharingProjectBudget"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"risks"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"story"},arguments:[{kind:"Argument",name:{kind:"Name",value:"assetWidth"},value:{kind:"IntValue",value:"680"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"spreadsheet"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayMode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"public"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phase"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rowNum"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dataLastUpdatedAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"environmentalCommitments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitmentCategory"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:403}};n.loc.source={body:"query Campaign($slug: String!) {\n  project(slug: $slug) {\n    id\n    isSharingProjectBudget\n    risks\n    story(assetWidth: 680)\n    currency\n    spreadsheet {\n      displayMode\n      public\n      url\n      data {\n        name\n        value\n        phase\n        rowNum\n      }\n      dataLastUpdatedAt\n    }\n    environmentalCommitments {\n      id\n      commitmentCategory\n      description\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.Campaign=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"Campaign")},Ds2b:function(e,t,n){"use strict";var a=n("RBqt"),i=n("/IHD"),r=n("X+my"),o=n("q1tI"),s=n.n(o),c=n("dDCb");const l=e=>{let t=e.id,n=e.name,o=e.option,l=e.isSelected,d=e.onChange,u=e.onKeyDown,m=e.alwaysShowExpanded,p=e.theme,h=void 0===p?r.a:p;const f=o.expandedComponent,g=o.label,b=o.value,_=o.subheader,v=(m||l)&&f;return s.a.createElement("div",{className:Object(i.a)("border border-grey-400 hover-border-ksr-green-500 border-focused-ksr-green-500 no-outline","transition-300 mb1 radius2px"),"aria-checked":l,tabIndex:l?0:-1,role:"radio",onKeyDown:u},s.a.createElement("label",{htmlFor:t,className:"flex p3 pointer"},s.a.createElement("div",null,s.a.createElement("input",{type:"radio",name:n,id:t,value:b,className:"super-hide",onChange:d,checked:l,"aria-checked":l}),s.a.createElement("div",{className:"mt3px"},s.a.createElement(c.a,{isSelected:l,theme:h}))),s.a.createElement("div",{className:"grow1"},s.a.createElement(a.a,{type:"body-100",color:"soft-black",atoms:["block"],weight:"normal"},g),_&&s.a.createElement(a.a,{type:"caption-200",color:"dark-grey-500",weight:"normal"},_))),v&&s.a.createElement("div",{onClick:m?e=>d(e):()=>null,onKeyDown:()=>null,className:"border-grey-400 border-top p3 pointer"},f))};var d=n("SmhT");n.d(t,"a",function(){return u});class u extends s.a.Component{constructor(e){super(e),this.wrapperRef=void 0,this.wrapperRef=null}componentDidUpdate(e){const t=this.props.selectedIndex!==e.selectedIndex,n=this.wrapperRef.contains(document.activeElement);if(t&&n&&null!==this.props.selectedIndex){const e=this.wrapperRef.children[this.props.selectedIndex];null==e||e.focus()}}handleKeyDown(e,t){const n=this.props,a=n.onChange,i=n.radioGroupOptions;if(e.target!==e.currentTarget)return;e.preventDefault();const r=i.length-1;switch(e.keyCode){case d.g:case d.n:{const e=t-1>-1?t-1:r;return void a(i[e],e)}case d.k:case d.b:{const e=t+1<=r?t+1:0;return void a(i[e],e)}case d.l:return void a(i[t],t)}}render(){const e=this.props,t=e.id,n=e.radioGroupOptions,a=e.selectedIndex,i=e.onChange,o=e.alwaysShowExpanded,c=void 0!==o&&o,d=e.theme,u=void 0===d?r.a:d,m=n.map((e,n)=>{const r=a===n,o="".concat(t,"-radio-option-").concat(n);return s.a.createElement(l,{isSelected:r,alwaysShowExpanded:c,onChange:()=>i(e,n),onKeyDown:e=>this.handleKeyDown(e,n),option:e,key:o,id:o,name:t,theme:u})});return s.a.createElement("div",{id:t,role:"radiogroup",ref:e=>this.wrapperRef=e},m)}}},E2Se:function(e,t,n){"use strict";let a,i,r,o,s,c,l;n.d(t,"b",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"f",function(){return l}),function(e){e[e.Bold=0]="Bold",e[e.Italic=1]="Italic",e[e.Header=2]="Header",e[e.List=3]="List",e[e.Link=4]="Link",e[e.Image=5]="Image",e[e.Video=6]="Video",e[e.Audio=7]="Audio",e[e.Header2=8]="Header2",e[e.Header3=9]="Header3",e[e.Quote=10]="Quote",e[e.Normal=11]="Normal",e[e.Reward=12]="Reward"}(a||(a={})),function(e){e.icon="icon--unlink",e.id="unlink"}(i||(i={})),function(e){e.icon="icon--image",e.id="image"}(r||(r={})),function(e){e.icon="icon--video",e.id="video"}(o||(o={})),function(e){e.icon="icon--sound-hi",e.id="audio"}(s||(s={})),function(e){e.icon="icon--link",e.id="link"}(c||(c={})),function(e){e.icon="icon--conversion",e.id="reward"}(l||(l={}))},E9nw:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},ECYc:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("n+nq"),i=n("pj8f"),r=n("qn6j");const o=async e=>{try{await fetch("/telegraf_requests",{method:"POST",body:JSON.stringify({authenticity_token:Object(a.b)(document),data:e}),credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-Token":Object(a.b)(document)}})}catch(e){i.Honeybadger.notify(e)}};let s=[],c=-1;function l(e,t,n){["increment","gauge","time"].includes(e)&&o([{method:e,name:t,value:n}])}l.batch=async e=>{const t=[],n={increment:async e=>{t.push({method:r.a.INCREMENT,name:e})},gauge:async(e,n)=>{t.push({method:r.a.GAUGE,name:e,value:n})},time:async(e,n)=>{const a=Date.now(),i=await n(),o=Date.now();return t.push({method:r.a.TIME,name:e,value:o-a}),i}},a=await e(n);return(e=>{clearTimeout(c),s=s.concat(e),c=window.setTimeout(()=>{o(s),s=[]},50)})(t),a},l.increment=e=>l.batch(t=>t.increment(e)),l.gauge=(e,t)=>l.batch(n=>n.gauge(e,t)),l.time=(e,t)=>l.batch(n=>n.time(e,t))},EEQn:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()(function(){i()(document).on("click",".ksr-dropdown",function(){var e=i()(this);e.toggleClass("open"),setTimeout(function(){i()(window).on("click",function(t){i()(t.target).closest(e).length||e.removeClass("open")})},0)})})},EEgz:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("MHsd"),i=n("94td"),r=n("zm9w"),o=n("q1tI"),s=n.n(o);const c=e=>{let t=e.currency,n=e.spreadsheet;if(!n)return null;const o=t&&r.a.currency_symbol(t);return s.a.createElement("div",{className:"mb3 mb10-sm"},s.a.createElement("h3",{className:"normal mb4"},Object(i.b)("project_page.campaign.Project_budget")),s.a.createElement(a.b,{spreadsheetData:n.data,displayValues:"amount"===n.displayMode,currencySymbol:o,lastUpdatedDate:n.dataLastUpdatedAt}),s.a.createElement("div",{className:"mt2 support-500"},Object(i.b)("project_page.campaign.Projected_budget_disclaimer")))}},"EGW+":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("a+N5"),o=n.n(r),s=n("qcI4"),c=n("zm9w"),l=n("0VSk"),d=n("XLBa"),u=n("WjF9");let m=s.a.extend();m.set_computed_value("post_likes",function(){return this.likes_count<=0?"":l.default.t("library.models.app.likes_count",{count:this.likes_count,formatted_count:c.a.format_number(this.likes_count,{precision:0})})},{changes_on:["likes_count","has_liked"]}),m.set_computed_value("post_likes_namepile",function(){var e,t;if(this.likes_count<=0)return"";if(e=[],e=o.a.map(this.likers,function(e){return'<a href="'+e.urls.web.user+'" title="'+o.a.escape(e.name)+'">'+o.a.escape(e.name)+"</a>"}),this.has_liked){if(1===this.likes_count)return l.default.t("library.models.app.You_like_this_update");void 0===u.a?e.unshift(l.default.t("library.models.app.You")):e.unshift('<a href="'+u.a.data.urls.web.user+'" title="'+l.default.t("library.models.app.You")+'">'+l.default.t("library.models.app.You")+"</a>")}return(t=parseInt(this.likes_count,10)-e.length)>0&&(this.urls&&this.urls.web&&this.urls.web.likes?e.push('<a href="'+this.urls.web.likes+'" title="'+l.default.t("library.models.app.see_names")+'" id="full_namepile">'+l.default.t("library.models.app.other_people_count",{count:t,formatted_count:c.a.format_number(t,{precision:0})})+"</a>"):e.push(l.default.t("library.models.app.other_people_count",{count:t,formatted_count:c.a.format_number(t,{precision:0})}))),l.default.t("library.models.app.names_count_like_this_update",{names:c.a.to_sentence(e),count:this.likes_count,formatted_count:c.a.format_number(this.likes_count,{precision:0})})},{changes_on:["likes_count","likers","has_liked"]});let p=m.extend(),h=m.extend();p.on_initialize(function(){"function"==typeof d.a&&this.on_change(function(){Object(d.a)("CreatorInterview",this.get())})}),h.on_initialize(function(){"function"==typeof d.a&&this.on_change(function(){Object(d.a)("FreeformPost",this.get())})}),i()(function(){i()(document).on("click",".NS_post_likes__button button",function(e){e.preventDefault();var t=i()(this).closest("form");i.a.ajax({url:t.attr("action"),dataType:"json",type:"POST",success:function(e){if(e.modal&&i.a.create_login_modal(e.data,"post_like"),e.post){var t=f(e.post.type);(t.find(e.post.id)||new t({id:e.post.id})).set(e.post)}}})})});const f=e=>{switch(e){case"CreatorInterview":return p;case"FreeformPost":default:return h}}},EHMl:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("prSB"),i=n("/IHD"),r=n("q1tI"),o=n.n(r);const s=o.a.forwardRef((e,t)=>{let n=e.hex,r=e.direction,s=e.size,c=e.className,l=e.style,d=void 0===l?{}:l;const u=Object(a.a)({},d,{borderWidth:s,borderRightColor:"left"===r?n:"transparent",borderTopColor:"bottom"===r?n:"transparent",borderLeftColor:"right"===r?n:"transparent",borderBottomColor:"top"===r?n:"transparent",borderStyle:"solid"}),m=Object(i.a)("block absolute w0 h0",{top:"b100p",bottom:"t100p",left:"r100p",right:"l100p"}[r],c);return o.a.createElement("div",{style:u,className:m,ref:t})})},ERuW:function(e,t,n){var a=n("JbSc"),i=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=a[t],r=i.call(a,t)?n.length:0;r--;){var o=n[r],s=o.func;if(null==s||s==e)return o.name}return t}},EldB:function(e,t,n){var a=n("dTAl"),i=n("GoyQ");e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=a(e.prototype),r=e.apply(n,t);return i(r)?r:n}}},EoiL:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("7cf5"),i=n("8Np1"),r=n("/IHD"),o=n("hPy8"),s=n("q1tI");const c=e=>{let t=e.level,n=void 0===t?3:t,c=Object(a.a)(e,["level"]);return s.createElement(o.c,null,e=>s.createElement(i.a,Object.assign({level:n},c,{atoms:Object(r.b)(c.atoms,e.header.atoms)}),c.children))}},Eqb7:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE"),o=n("2UXI"),s=n("/AD1");Object(r.a)(".NS_projects_view_fees",function(){i()(".js-view-fees").on("click",function(){Object(o.d)("Viewed Fees Breakdown",{project_pid:s.a.data.id})})})},FZoo:function(e,t,n){var a=n("MrPd"),i=n("4uTw"),r=n("wJg7"),o=n("GoyQ"),s=n("9Nap");e.exports=function(e,t,n,c){if(!o(e))return e;for(var l=-1,d=(t=i(t,e)).length,u=d-1,m=e;null!=m&&++l<d;){var p=s(t[l]),h=n;if(l!=u){var f=m[p];void 0===(h=c?c(f,p,m):void 0)&&(h=o(f)?f:r(t[l+1])?[]:{})}a(m,p,h),m=m[p]}return e}},FbRb:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("0VSk"),i=n("IWkz");const r={seconds:119,minutes:119,hours:72,days:0},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.ksr_page_clock||new i.a;e instanceof Date||(e=l(e));const n=c(e,t),r=Math.floor(s(e,t)/n[1]),o=a.default.t("onloads.page_timer.".concat(n[0],"_count"),{count:r});return isNaN(r)?{remainingUnit:null,remainingNumber:"...",remainingString:a.default.t("onloads.page_timer.default")}:{remainingUnit:n,remainingNumber:r,remainingString:o}},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.ksr_page_clock||new i.a;return Math.max(e-t.get_remote_time(),0)},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.ksr_page_clock||new i.a;const n=t.time_units.slice(1);let a;for(let i=0;i<n.length&&(a=n[i],!(s(e,t)<=r[a[0]]*a[1]));i+=1);return a},l=e=>{if(e)return"string"==typeof e&&e.match(/^\d+$/)?(new Date).setTime(e):"number"==typeof e?new Date(e):new Date(Date.parse(e))}},GBdY:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE"),o=n("2UXI");Object(r.a)("body#survey_responses_confirm_address",function(e){var t=i()("input.radio#suggested_address");e.length&&(e.on("change",".address_col input.radio",function(){var e=i()(this);i()(this).closest(".addresses").find(".address_col").each(function(){var e=i()(this);e.find("input.radio").is(":checked")?e.find("input[type=hidden]").attr("disabled",!1):e.find("input[type=hidden]").attr("disabled",!0)}),"entered_address"===e.attr("id")?Object(o.d)("Address Entered Selected"):"suggested_address"===e.attr("id")&&Object(o.d)("Suggested Address Selected")}),t&&t.click(),i()(".addresses.no_suggestion").length?Object(o.d)("Confirm your Address Page"):Object(o.d)("Select an Address Page"))})},GN4d:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("q1tI"),i=n.n(a);const r=e=>{let t=e.errors,n=e.id,a=e.bold,r=e.color,o=void 0===r?"red-500":r,s=e.showFirstErrorOnly,c=void 0!==s&&s;return t&&0!==t.length?i.a.createElement("ul",{className:"".concat(a?"bold":"normal"," ").concat(o," mt1 type-12")},c?i.a.createElement("li",{key:"error-0",id:n?"".concat(n,"-error"):""},t[0]):i.a.createElement(i.a.Fragment,null,t.map((e,t)=>i.a.createElement("li",{key:"error-".concat(t),id:n?"".concat(n,"-error"):""},e)))):null}},GRmu:function(e,t,n){"use strict";(function(e){let a;a=void 0!==e?n("gMis").default:()=>void 0,t.a=a}).call(this,n("+2Rf"))},GcaZ:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i.a.fn.validate.defaults.on_valid.push(function(e){i()(e).removeClass("errored")}),i.a.fn.validate.defaults.on_invalid.push(function(e){i()(e).addClass("errored")})},GeBq:function(e,t,n){"use strict";n.r(t);var a=n("+2Rf"),i=n.n(a),r=(n("/Su4"),n("0VSk")),o=(n("h4vE"),n("l+V7"),n("QrAi"),n("gY5S"),n("bbO9"),n("QfO9"),n("a+N5")),s=n.n(o),c=n("1OuE"),l=n("fupu"),d=n.n(l),u=n("DjBF"),m=n("yNUO"),p=n.n(m);const h=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["day","month","year"];const a=t.split(e),i=n.reduce((e,t,n)=>(e[t]=a[n],e),{}),r=i.day,o=i.month,s=i.year;return"".concat(o,"/").concat(r,"/").concat(s)},f={l:{de:e=>h(".",e),en:e=>e,es:e=>h("/",e),fr:e=>h("/",e),ja:e=>h("/",e,["year","month","day"])},"l LT":{de:e=>{const t=e.split(" "),n=Object(u.a)(t,2),a=n[0],i=n[1],r=h(".",a);return"".concat(r," ").concat(i)},en:e=>e,es:e=>{const t=e.split(" "),n=Object(u.a)(t,2),a=n[0],i=n[1],r=h("/",a);return"".concat(r," ").concat(i)},fr:e=>{const t=e.split(" "),n=Object(u.a)(t,2),a=n[0],i=n[1],r=h("/",a);return"".concat(r," ").concat(i)},ja:e=>{const t=e.split(" "),n=Object(u.a)(t,2),a=n[0],i=n[1],r=h("/",a,["year","month","day"]);return"".concat(r," ").concat(i)}}},g=(e,t)=>((e,t,n)=>p()(f[t][e](n)))(window.I18n.locale,t,e);n("RIhn"),n("LIwG"),n("HW2X"),n("NQrx"),n("4cFS"),n("WbKZ"),n("cgaT");i()(".field.search.location-search").livequery(function(){var e=i()(this);e.on("livesearch_selector:select",function(){i()(this).siblings("span.input-tip").hide(),i()(this).parent().siblings("span.input-tip").hide(),i()(this).trigger("shifted")}),e.on("livesearch_selector:unselect",function(){i()(this).siblings("span.input-tip").show(),i()(this).parent().siblings("span.input-tip").show(),i()(this).trigger("shifted")}),e.livesearch_selector({url:e.data("searchUrl"),cancel_copy:"",process_data:function(){return{term:this.$elem.val()}},process_results:function(e){return s.a.map(e.locations,function(e){return[e.short_name,e.id]})}})}),i()("input.date:not(.js-cancel-jquery-calendar)").livequery(function(){let e=i()(this),t=e.val(),n=e.closest(".js-date-field").find(".js-hidden-calendar-input");n.val(t?Object(c.a)("YYYY-MM-DD",t):""),e.datetime_picker_field({calendar:{allow_deselect:!1,previous_month_text:"<",next_month_text:">"},class_name:"absolute z_top",parse_callback:function(e){var t=g(e,"l");return d()(t)?t:void 0},format_callback:function(e){return n.val(e?Object(c.a)("YYYY-MM-DD",e):""),e?Object(c.a)("l",e):""}})}),i()("input.datetime").livequery(function(){var e=i()(this),t=e.data("options")||{};e.datetime_picker_field(i.a.extend(!0,{calendar:{allow_deselect:!1,previous_month_text:"<",next_month_text:">",time_text:r.default.t("onloads.initializers.forms.Time")},class_name:"absolute z_top",position:e.is(".position_calendar_below")?"bottom":"right",parse_callback:function(e){var t=g(e,"l LT");return d()(t)?t:void 0},format_callback:function(t){return e.closest(".js-datetime-field").find(".js-hidden-calendar-input").val(t?Object(c.c)("en","YYYY-MM-DD HH:mm:ss Z",t):""),t?Object(c.a)("l LT",t):""}},t))}),i()(".js-calendar-picker").livequery(function(){var e,t=i()(this),n=t.find('input[type="hidden"]'),a=t.find(".calendar"),o=a.data("options")||{};a.on("calendar_date_picker:date_selected",function(e,t){t?n.val(Object(c.a)("YYYY-MM-DD HH:mm:ss Z",t)):n.val(""),n.trigger("change")}),""!==n.val()&&(e=new Date(n.val())),a.calendar_date_picker(s.a.extend({allow_deselect:!1,previous_month_text:"<",next_month_text:">",time_text:r.default.t("onloads.initializers.forms.Time"),selected_date:e},o)).data("calendar_date_picker")}),i()("form ul.js-sortable, form ol.js-sortable, form tbody.js-sortable").livequery(function(){var e=i()(this),t=!1;e.find(".move").length&&(t=".move"),e.find(".move").click(function(e){e.preventDefault()}),e.sortable({containment:"document",axis:"y",handle:t,update:function(){e.find("input.position").each(function(e){i()(this).val(e+1)})}}),e.closest("form").submit(function(){e.find("input.position").each(function(e){i()(this).val(e+1)})})});var b,_,v=n("gbQM"),k=n.n(v),y=n("aNAf"),j=(n("Ld+T"),n("WjF9"));function E(){return s.a.map(navigator.mimeTypes,function(e){return[e.type,e.description].join("|")})}function w(e){return(new k.a.SHA256).hex(e)}b=s.a.memoize(function(){var e,t,n,a,i,r,o,c,l,d,u=(e=["AdobeReader","Flash","Quicktime","RealPlayer","Shockwave","Silverlight","VLC","WindowsMediaPlayer"],s.a.chain(e).zip(s.a.map(e,function(e){try{return window.PluginDetect.getVersion(e)}catch(e){return e.description}})).filter(s.a.last).value()),m=s.a.map(navigator.plugins,function(e){return[e.name,e.description,e.filename,e.length].join("|")}),p=E(),h=(t=navigator.getGamepads?navigator.getGamepads():[],s.a.chain(t).filter(s.a.identity).map(function(e){return[e.index,e.id].join("|")}).value()),f=function(){var e=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Garamond","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"],t=["monospace","sans-serif","serif"],n=function(e){var t=document.createElement("span");t.style.fontFamily=e,t.style.fontSize="72px";var n=document.createTextNode("mmmmmmmmmmlli");return t.appendChild(n),t},a=s.a.map(t,n),i=s.a.map(e,function(e){return s.a.map(t,function(t){return n(e+","+t)})}),r=document.createElement("div");r.style.position="absolute",r.style.visibility="hidden",s.a.forEach(s.a.flatten(i).concat(a),function(e){r.appendChild(e)});var o=document.getElementsByTagName("body")[0];o.appendChild(r);var c=function(e){var t=e.offsetHeight;return[e.offsetWidth,t]},l=s.a.map(a,c),d=s.a.map(i,function(e){return s.a.map(e,c)});return o.removeChild(r),s.a.filter(e,function(e,n){var a,i,r;for(r=0;r<t.length;r+=1)if(a=d[n][r],i=l[r],a[0]!==i[0]||a[1]!==i[1])return!0;return!1})}(),g={pdc:u.length,pds:u.toString(),npc:m.length,nps:m.toString(),mtc:p.length,mts:p.toString(),fnc:f.length,fns:f.toString(),gpc:h.length,gps:h.toString(),tzo:(r=new Date,o=r.getTimezoneOffset(),r.setDate(1),r.setMonth(1),a=r.getTimezoneOffset(),r.setMonth(6),(i=a-r.getTimezoneOffset())?o+"DST"+i:o.toString()),uas:navigator.userAgent,lan:[navigator.language,navigator.userLanguage,navigator.systemLanguage,navigator.languages].join("|"),cpu:[navigator.platform,navigator.hardwareConcurrency].join("|"),mpi:Math.PI.toString()};return d=[screen.height===screen.availHeight,screen.height===window.innerHeight,0===E().length,0===(new Date).getTimezoneOffset()],s.a.filter(d,s.a.identity).length/d.length<.75&&(n=function(){var e=document.createElement("canvas");if(e.getContext&&e.getContext("2d")){var t=e.getContext("2d"),n="a1b2,#3<!xy> 456.Z";return t.textBaseline="top",t.font='14px "Arial"',t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(n,4,17),e.toDataURL()}}(),g.cnv=[n.substr(0,32),n.length,w(n)].join("|"),g.res=(c=[screen.availWidth,screen.availHeight],"object"==typeof(l=screen.orientation||screen.mozOrientation||screen.msOrientation)&&(l=l.type),l?l.match("portrait")&&c.reverse():c.sort().reverse(),c.push(screen.colorDepth),c.join("x"))),g}),_=s.a.memoize(function(){var e=b();return w(s.a.chain(["pds","nps","mts","fns","gps","tzo","uas","lan","cpu","cnv","mpi","res"]).map(function(t){return e[t]}).map(function(e){return void 0===e?"":e}).map(function(e){return e.toString()}).value().join("\n"))});window.log_device=function(){s.a.defer(function(){!function(){var e,t,n;if(window.koala_device_endpoint){try{t=_()}catch(e){t=null}e={partition_key:Object(y.a)(),device_id2:t,visitor_id:Object(y.a)(),ip_address:window.current_ip,user_uid:(n=j.a,null==n||""===n||"object"!=typeof n?null:"function"==typeof n.get?n.get("id")||null:n.id&&n.id||null)},window.enabled_features&&window.enabled_features.device_components&&(e.components=b()),i.a.ajax({type:"POST",url:window.koala_device_endpoint,data:JSON.stringify(e),contentType:"text/plain; charset=UTF-8"})}}()})};n("GRmu"),n("g/nJ"),n("KvHV"),n("2UXI"),n("IvES");var S=n("MgNI"),O=n("JC/v");window.request_id=(e=>{return S.maybe.fromNullable(e.documentElement.dataset).chain(Object(O.a)("requestId")).chain(e=>S.maybe.fromNullable("__REQUEST_ID_MIDDLEWARE_SWAP_TOKEN__"===e?null:e)).getOrElse(null)})(document);n("qKHs"),n("LKre");var C,N,x=n("S1QU"),T=n("/AD1");i()(document).on("livesearch:results",function(e,t){var n,a=i()(e.target).val();n=t.projects?t.projects.length:t.length,C=i()(e.target).attr("data-tracker-name"),"undefined"!=typeof ga&&ga("send","event",C,"Term",a,parseInt(n,10))}),i()(document).on("livesearch:searching",function(){N=!0}),i()(document).on("livesearch:cancel",function(){N&&("undefined"!=typeof ga&&ga("send","event",C,"Cancels"),N=!1)}),i()(document).ready(function(){i()(".home-editorial-title").on("click",function(){var e=i()(this).html();"undefined"!=typeof ga&&ga("send","event","Faux-Category on Homepage Clicks",e)})}),i()(document).ready(function(){i()(".export").find("a").on("click",function(){"undefined"!=typeof ga&&ga("send","event","Export Reward Report","Download Click")})}),i()(document).ready(function(){i()("#results_properties").livequery(function(){var e=i()(this).children("#number_of_results").text(),t=i()(this).children("#term").text();"undefined"!=typeof ga&&ga("send","event","Search Results","Term",t,parseInt(e,10))})}),i()(document).ready(function(){i()("#pledges_login_or_signup #growl_section .error").livequery(function(){var e=i()(this).children(".message").html(),t=i()(document).attr("URL");"undefined"!=typeof ga&&ga("send","event","Checkout Login Errors",e,t)}),i()("#checkout-signup .fieldset-errors").livequery(function(){var e=i()(this).children("ul").children(),t=i()(document).attr("URL");i.a.each(e,function(e,n){n=n.innerHTML,"undefined"!=typeof ga&&ga("send","event","Checkout Signup Errors",n,t)})}),i()("#sessions_new #growl_section .error").livequery(function(){var e=i()(this).children(".message").html(),t=i()(document).attr("URL");"undefined"!=typeof ga&&ga("send","event","Regular Login Errors",e,t)}),i()("#new_user .fieldset-errors").livequery(function(){var e=i()(this).children("ul").children(),t=i()(document).attr("URL");i.a.each(e,function(e,n){n=n.innerHTML,"undefined"!=typeof ga&&ga("send","event","Regular Signup Errors",n,t)})})}),i()(document).ready(function(){i()(".share-box").on("click","a",function(){var e=i()(this).attr("data-tracker-name");"undefined"!=typeof ga&&ga("send","event","Sharing",e)}),i()("#checkout-project-share").on("click","a",function(){var e=i()(this).attr("data-tracker-name");"undefined"!=typeof ga&&ga("send","event","Sharing",e)}),i()(document).on("click",".clipster",function(){"undefined"!=typeof ga&&ga("send","event","Sharing","Copied Link")})}),i()(function(){var e;i()("#video-section object").livequery(function(){e=i()(this)[0],i()(document).attr("URL")}),i()(document).on("click","#video-section",function(){i()(document).attr("URL"),e&&("Project Page Video",function(e){e.addModelListener("TIME","timeStats"),e.addModelListener("STATE","getState")}(e))}),i()(window).on("beforeunload",function(){0})}),i()(document).on("modal_dialog:opened",function(e){var t=i()(e.target).find(".modal_dialog_head h4").text();"undefined"!=typeof ga&&ga("send","event","Modal Dialog","Opened",t)}),i()(document).ready(function(){i()(".faq-question a").click(function(){var e=i()("body[id]").length?i()("body").attr("id"):"No ID",t=i()(this).closest(".faq"),n=i()(this).find(".question").text();"undefined"==typeof ga||t.hasClass("expanded")||ga("send","event","FAQ","Expanded - "+e,n)})}),i()(document).ready(function(){i()(document).on("click","a#edit_survey_response",function(){"undefined"!=typeof ga&&ga("send","event","Surveys","Click","Edit Survey Response")})}),i()(document).ready(function(){i()(document).on("click","ul#admin-menu > li > a",function(){"undefined"!=typeof ga&&ga("send","event","Admin","Nav Click",i()(this).text())})}),i()(document).ready(function(){var e=0;i()(".scissors").on("click",function(){e<2?("undefined"!=typeof ga&&ga("send","event","Scissors","Clicks"),e+=1):"undefined"!=typeof ga&&ga("send","event","Scissors","Chops")})}),i()(document).ready(function(){if(i()("#checkouts_thanks").length&&"undefined"!=typeof ga&&x.a&&T.a){ga("require","ecommerce"),ga("ecommerce:addTransaction",{id:x.a.get("id"),affiliation:T.a.get("slug"),revenue:x.a.get("net_amount"),shipping:x.a.get("shipping"),currency:T.a.get("currency")});var e=[T.a.get("name"),x.a.get("reward").title_for_backing_tier||"No Reward"].join("-");ga("ecommerce:addItem",{id:x.a.get("id"),name:e,sku:x.a.get("reward").id,category:T.a.get("category").name,price:x.a.get("reward").minimum,quantity:"1",currency:T.a.get("currency")}),ga("ecommerce:send"),window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:"Completed Checkout",tags:{revenue:x.a.get("usd_amount_in_cents")}})}}),i()(document).ready(function(){var e=1;i()(document).on("infinite_scroll:scrolled_to",function(t,n){if(n>e){var a=window.location.pathname+window.location.search+window.location.hash;"undefined"!=typeof ga&&ga("send","pageview",a),e=n}})});n("MRng"),n("rV3q"),n("WJbx");window.$=window.$||i.a},GjXr:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("a+N5"),o=n.n(r),s=n("SKdt"),c=n("zm9w"),l=n("0VSk"),d=n("yQm5"),u=n.n(d),m=(n("SiTU"),n("l+V7"),n("S1QU")),p=n("/AD1"),h=n("UsaK"),f=n("wOBM");!function(){class e{constructor(e,t){this.reward_data=t,this.id=this.reward_data.id||this.constants.NO_REWARD_ID,this.shipping_rules=this.reward_data.shipping_rules||[],this.pledge_url=t.urls?new u.a(t.urls.api.reward):void 0,this.shipping_enabled=this.reward_data.shipping_enabled||!1,this.index=t.index,this.closed_height=t.closed_height,this.prefilledNoRewardVal=e.data("prefillAmount");var n=e.find(".input__currency-conversion");this.el={$rw:e,$select:e.find("select"),$form:e.find("form"),$form_wrapper:e.find(".js-form-wrapper"),$description:e.find("div.pledge__reward-description"),$truncate_link:e.find("a.pledge__reward-description-toggle"),$truncate_link_span:e.find("a.pledge__reward-description-toggle span"),$pledge_input:e.find('input[name="backing[amount]"]'),$radio:e.find(".js-pledge-radio"),$submit:e.find(".js-reward-continue-button"),$continueAndApplePayButtons:e.find(".js-pledge-button"),$input_currency:e.find(".input__currency-conversion")},this.el.$pledge_input.on("keyup",function(){var e=Object(f.a)(i()(this).val()),t=isNaN(e)?0:e,a=parseFloat(p.a.data.fx_rate,10),r=p.a.data.usd_type;if(isNaN(a))n.addClass("hide");else{var o=t<=2?t*a:Math.round(t*a),s=c.a.money(o,{currency:p.a.data.current_currency,usd_type:r,precision:t<=2?2:0});n.text(l.default.t("library.controllers.reward_controller.About")+s)}}),this.state={is_selected:!1,is_truncated:!1,is_truncate_worthy:this.el.$description.height()>=this.constants.TRUNCATE_HEIGHT,submit_halted:!1,is_shipping_populated:!!this.shipping_rules.length},e.data("reward",this),this.el.$form_wrapper.aria_set_hidden()}toggle_description_truncation(){var e=this.el.$truncate_link.text().trim();this.state.is_truncate_worthy||this.state.is_truncated?(this.state.is_truncated=!this.state.is_truncated,this.el.$description.toggleClass("pledge__reward-description--truncated"),this.el.$description.toggleClass("pledge__reward-description--expanded"),this.el.$truncate_link_span.text(e===this.constants.TRUNCATE_LINK_TEXT?this.constants.UNTRUNCATE_LINK_TEXT:this.constants.TRUNCATE_LINK_TEXT),this.el.$truncate_link.toggleClass("more")):this.el.$truncate_link.addClass("hide")}hide_truncation_link(){this.el.$truncate_link.addClass("hide")}show_truncation_link(){this.el.$truncate_link.removeClass("hide")}toggle_pledge_form(){if(this.state.is_selected=!this.state.is_selected,this.toggle_pledge_form_classes(),this.el.$radio.length&&this.toggle_checkout_elements(),this.state.is_selected){this.inject_csrf_token(),this.handle_shipping_rules();var e=i()(document).scrollTop();this.preselect_shipping_country(),this.focus_shipping_select(),i()(document).scrollTop(e),this.id===this.constants.NO_REWARD_ID&&(i()(".js-no-reward-form-input").val()||i()(".js-no-reward-form-input").val(this.prefilledNoRewardVal).select())}else this.el.$form_wrapper.aria_deactivate_keyboard_tabindex().aria_set_hidden()}toggle_pledge_form_classes(){this.el.$rw.toggleClass("pledge--available").toggleClass("pledge--selected"),this.el.$form_wrapper.toggleClass("pledge__checkout--is-visible")}reset_pledge_form(){this.el.$pledge_input.hasClass("error")&&(this.el.$pledge_input.removeClass("error"),this.el.$submit.removeClass("disabled"),this.update_pledge_total())}toggle_checkout_elements(){this.state.is_selected?this.el.$radio.prop("checked")||(this.el.$radio.prop("checked",!0),this.el.$radio.trigger("change")):this.el.$radio.prop("checked",!1)}handle_shipping_rules(){!this.state.is_shipping_populated&&this.shipping_enabled&&(this.show_loader(),this.shipping_rules.length?this.render_reward_select():this.fetch_reward_shipping_rules())}fetch_reward_shipping_rules(e){e=e||0,i.a.ajax({url:this.pledge_url,type:"get",dataType:"json",timeout:this.constants.FETCH_TIMEOUT,success:function(e){this.shipping_rules=e.shipping_rules,this.render_reward_select()}.bind(this),error:function(t,n){"timeout"===n&&e<this.constants.MAX_FETCH_RETRIES&&this.fetch_reward_shipping_rules(e+1)}.bind(this)})}show_loader(){this.el.$submit.addClass("is-loading").prop("disabled",!0)}hide_loader(e){setTimeout(function(){this.el.$submit.removeClass("is-loading").prop("disabled",!1)}.bind(this),e)}render_reward_select(){Object(h.a)();var e={select:this.el.$select,reward:this};this.state.is_selected&&setTimeout(function(){i()(document).trigger("render_shipping_select",e),this.state.is_shipping_populated=!0,this.hide_loader(300)}.bind(this),this.transition_duration())}validate(){var e=this.is_country_selected(),t=this.is_pledge_high_enough();return this.shipping_enabled&&!e?this.throw_country_error():this.reset_country_error(),t?this.reset_pledge_error():this.throw_pledge_error(),!(!e&&this.shipping_enabled||!t)&&(this.enable_submit_button(),!0)}transition_duration(){if(!i.a.support.transitionEvent())return 0;var e=this.el.$form_wrapper.css("transition-duration");return/ms$/.test(e)?parseFloat(e,10)||0:1e3*parseFloat(e,10)||0}focus_shipping_select(){this.el.$form_wrapper.aria_activate_keyboard_tabindex().aria_set_visible(),s.a["not-mobile"]?(this.el.$pledge_input.focus(),this.el.$pledge_input.val(this.el.$pledge_input.val())):this.el.$submit.focus()}inject_csrf_token(){var e=i()("meta[name=csrf-param]").attr("content"),t=i()("meta[name=csrf-token]").attr("content");this.el.$form.find("input[name="+e+"]").length||this.el.$form.append(i()("<input />",{type:"hidden",name:e,value:t}))}preselect_shipping_country(){this.el.$select.val()||this.el.$select.val(m.a.get("location_id"))}update_pledge_total(e){var t;t=e&&e.amount?e.amount:this.reward_data.minimum;var n=parseInt(this.el.$select.val(),10),a=this.get_shipping_rule(n);let i;i=t+(a.length?parseFloat(a[0].cost):0);var r=c.a.format_number(i,{precision:0});if(this.id===this.constants.NO_REWARD_ID)this.el.$pledge_input.val("");else{this.el.$pledge_input.val(r);var o=Object(f.a)(this.el.$pledge_input.val()),s=isNaN(o)?0:o,d=parseFloat(p.a.data.fx_rate,10),u=p.a.data.usd_type;if(isNaN(d))this.el.$input_currency.addClass("hide");else{var m=c.a.money(Math.round(s*d),{currency:p.a.data.current_currency,usd_type:u,precision:0});this.el.$input_currency.text(l.default.t("library.controllers.reward_controller.About")+m)}}}get_shipping_rule(e){return o.a.filter(this.shipping_rules,function(t){return t.location_id===e})}get_current_pledge_amount(){return Object(f.a)(this.el.$pledge_input.val())}is_country_selected(){return!!this.el.$select.val()}throw_country_error(){this.el.$select.parent().addClass("error"),this.disable_submit_button()}reset_country_error(){this.el.$select.parent().removeClass("error")}is_pledge_high_enough(){var e,t=this.get_current_pledge_amount();if(this.shipping_rules.length){var n=parseInt(this.el.$select.val(),10),a=this.get_shipping_rule(n),i=a.length?parseFloat(a[0].cost):0;e=this.reward_data.minimum+i}else e=this.reward_data.minimum;return t>=e}reset_pledge_error(){this.el.$pledge_input.removeClass("error")}throw_pledge_error(){this.el.$pledge_input.addClass("error"),this.disable_submit_button()}disable_submit_button(){this.el.$submit.addClass("disabled")}enable_submit_button(){this.el.$submit.removeClass("disabled")}}e.prototype.constants=Object.freeze({MAX_FETCH_RETRIES:3,FETCH_TIMEOUT:1e3,TRUNCATE_HEIGHT:80,TRUNCATE_LINK_TEXT:l.default.t("library.controllers.reward_controller.Read_More"),UNTRUNCATE_LINK_TEXT:l.default.t("library.controllers.reward_controller.Less"),NO_REWARD_ID:0}),window.RewardController=e}()},GnmY:function(e,t,n){"use strict";n.d(t,"q",function(){return s}),n.d(t,"i",function(){return c}),n.d(t,"o",function(){return l}),n.d(t,"r",function(){return d}),n.d(t,"s",function(){return u}),n.d(t,"n",function(){return m}),n.d(t,"p",function(){return p}),n.d(t,"l",function(){return h}),n.d(t,"m",function(){return f}),n.d(t,"h",function(){return g}),n.d(t,"c",function(){return b}),n.d(t,"t",function(){return _}),n.d(t,"b",function(){return v}),n.d(t,"d",function(){return k}),n.d(t,"e",function(){return y}),n.d(t,"f",function(){return j}),n.d(t,"j",function(){return E}),n.d(t,"g",function(){return w}),n.d(t,"k",function(){return S});var a=n("prSB"),i=n("2UXI"),r=n("q1tI"),o=n("Owp+");n.d(t,"a",function(){return o.a});const s=e=>{Object(i.d)("Update Tab Clicked",{type:e})},c=(e,t,n)=>{Object(i.d)("Post Like Toggle",Object(a.a)({},n?{post_state:"pinned"}:{},{toggled_to:t,type:e}))},l=e=>{Object(i.d)("Update Published",{type:e})},d=e=>{Object(i.d)("Update Tier Notification Change",{toggled_to:e})},u=e=>{Object(i.d)("Update Visibility Toggle",{toggled_to:e})},m=e=>{Object(i.d)("Update Preview",{type:e})},p=e=>{Object(i.d)("Update Save",{type:e})},h=e=>{Object(i.d)("Update Delete",{type:e})},f=e=>{Object(i.d)("Update Help",{type:e})},g=e=>{Object(i.d)("Post Create Clicked",{context:e})},b=(e,t)=>{Object(i.d)("Editor Tool Clicked",{tool_clicked:t,context:"post_edit_body",type:e})},_=e=>{Object(i.d)("Uploaded Video",{context:"post_edit_body",type:e})},v=e=>{let t=e.name,n=e.properties;return((e,t)=>{Object(r.useEffect)(()=>{Object(i.d)(e,t)},[])})(t,void 0===n?{}:n),null},k=e=>{Object(i.d)("Our Terms Clicked From PII Warning",{context:e})},y=(e,t)=>{Object(i.d)("Possible PII Warning Was Triggered",{context:e,post_id:t})},j=(e,t)=>{Object(i.d)("Possible PII Warning Was Removed",{context:e,post_id:t})},E=(e,t)=>{Object(i.d)("Update Likers Shown",{type:e,context:t})},w=(e,t)=>{Object(i.d)("Pinned Post",{type:e,context:t})},S=(e,t)=>{Object(i.d)("Unpinned Post",{type:e,context:t})}},HKes:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RewardModal"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"estimatedDeliveryOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isMaxPledge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shippingSummary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"available"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:323}};n.loc.source={body:"query RewardModal($slug: String!) {\n  project(slug: $slug) {\n    rewards {\n      nodes {\n        id\n        description\n        estimatedDeliveryOn\n        isMaxPledge\n        name\n        shippingSummary\n        startsAt\n        available\n        amount {\n          currency\n          amount\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.RewardModal=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"RewardModal")},HZYo:function(e,t,n){"use strict";let a;!function(e){e.LOG_IN_OR_SIGNUP_BUTTON_CLICKED="Log In or Sign Up Button Clicked",e.PROJECT_PAGE_PLEDGE_BUTTON_CLICKED="Project Page Pledge Button Clicked",e.REWARD_CONTINUE_BUTTON_CLICKED="Reward Continue Button Clicked",e.THANKS_PAGE_VIEWED="Thanks Page Viewed",e.PROJECT_PAGE_VIEWED="Project Page Viewed"}(a||(a={}));var i=n("prSB"),r=n("pj8f"),o=n("n2oK"),s=n("NxQb"),c=n("E+oP"),l=n.n(c);let d={};const u=()=>{if(!l()(d))return;const e=window.datalake_properties;d=l()(e)?{}:e},m=(e,t)=>{u(),d=Object(i.a)({},d,{[e]:Object(i.a)({},d[e],{},t)})};var p=n("EcEN");let h=!1;function f(e,t){const n=window.tracking_events_url&&window.tracking_events_stream?"".concat(window.tracking_events_url,"/streams/").concat(window.tracking_events_stream,"/record"):"";if(""===n)return;const a={"partition-key":Object(p.v4)(),data:{properties:t,event:e,event_uuid:Object(p.v4)()}};h&&console.log("[DATALAKE SENDING]: ".concat(e),t),fetch(n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(e=>e.ok?e.json():Promise.reject({status:e.status,statusText:e.statusText})).then(t=>{h&&console.log("[DATALAKE SENT]: ".concat(e),t)}).catch(t=>{h&&console.log("[DATALAKE SEND]: ".concat(e," Failed to put event in Kinesis stream"),t)})}const g=(e,t,n)=>{if(Object(s.a)("datalake_fe_events"))try{m("context",Object(i.a)({context_timestamp:Object(o.a)(Date.now())},t)),n&&m("checkout",n);const a=(()=>(u(),d))();f(e,Object.assign({},...Object.values(a).map(e=>e)))}catch(e){console.error("Tracking Request failed",e),r.Honeybadger.notify(e)}};n.d(t,"a",function(){return a}),n.d(t,"b",function(){return g})},HgY4:function(e,t,n){"use strict";var a=n("pTxv"),i=n("mEsB"),r=n("94td"),o=n("q1tI"),s=n.n(o);var c=e=>{let t=e.collaborators;return s.a.createElement(s.a.Fragment,null,s.a.createElement("h4",{className:"mt0 mb3 type-18"},Object(r.b)("project_page.creator_bio.Collaborators")),s.a.createElement("div",{className:"mb6"},t.map(e=>{let t=e.node,n=e.title;return s.a.createElement("div",{className:"flex items-center mb2",key:t.url},s.a.createElement("div",{className:"w7 h7 shrink0 mr2"},s.a.createElement("img",{className:"radius100p",alt:"avatar",src:t.imageUrl})),s.a.createElement("div",{className:"flex flex-column"},s.a.createElement("a",{href:t.url,target:"_blank",className:"link-soft-black medium"},t.name),s.a.createElement("span",{className:"dark-grey-500"},n)))})))},l=e=>{let t=e.name,n=e.url,a=e.location,i=e.biography;if(!i)return null;const r=i.split(/(?:\\r\\n|\\n)/g).map((e,t)=>s.a.createElement("p",{key:t},e));return s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",{className:"mb0 type-24"},s.a.createElement("a",{href:n,target:"_blank",className:"link-soft-black"},t)),s.a.createElement("span",{className:"mb3 inline-block"},a?a.displayableName:null),s.a.createElement("div",{className:"type-16"},r))},d=n("2DJ9"),u=n("1OuE");var m=e=>{let t=e.verifiedIdentity,n=e.isFacebookConnected,a=e.url,o=e.backedProjectsCount,c=e.launchedProjectsCount,l=e.lastLogin;return s.a.createElement("div",{className:"flex flex-column type-16"},s.a.createElement("div",{className:"mb2"},t?s.a.createElement(i.a,{label:Object(r.b)("project_page.creator_bio.This_person_verified")},s.a.createElement("div",{className:"flex soft-black"},s.a.createElement(d.a,{name:"icon--check",size:"20",atoms:["fill-ksr-green-500","mr2"]}),s.a.createElement("span",null,t))):s.a.createElement("div",{className:"flex soft-black"},s.a.createElement(d.a,{name:"icon--cross",size:"20",atoms:["mr2","fill-red-500"]}),s.a.createElement("span",null,Object(r.b)("project_page.creator_bio.Identity_not_verified")))),s.a.createElement("div",{className:"flex mb2"},s.a.createElement(d.a,{name:"icon--lock",size:"20",atoms:["fill-grey-dark-500","mr2"]}),s.a.createElement("span",null,Object(r.b)("project_page.creator_bio.Last_login",{login_time:Object(u.b)("ll",l)}))),s.a.createElement("div",{className:"flex mb2"},s.a.createElement(d.a,{name:"icon--facebook",size:"20",atoms:["fill-facebook-blue","mr2"]}),s.a.createElement("span",null,n?Object(r.b)("project_page.creator_bio.Connected_to_Facebook"):Object(r.b)("project_page.creator_bio.Not_Connected_to_Facebook"))),s.a.createElement("div",{className:"flex mb2"},s.a.createElement(d.a,{name:"icon--small-k",size:"20",atoms:["fill-ksr-green-700","mr2"]}),s.a.createElement("span",null,1!==c?s.a.createElement("a",{href:"".concat(a,"/created"),target:"_blank",className:"ksr-green-500"},Object(r.b)("project_page.creator_bio.Projects_created",{number_of_projects:c})):Object(r.b)("project_page.creator_bio.First_created"),s.a.createElement("span",{className:"divider"}," · "),s.a.createElement("a",{className:"ksr-green-500",target:"_blank",href:"".concat(a,"/backed")},Object(r.b)("project_page.creator_bio.Projects_backed",{number_of_projects:o})))))};var p=e=>{let t=e.websites;return s.a.createElement("div",null,t.map((e,t)=>{let n=e.url,a=e.domain;return s.a.createElement("a",{rel:"nofollow noopener",className:"block type-16 link-soft-black medium",key:"".concat(n,"-").concat(t),href:n||"",target:"_blank"},a)}))};n.d(t,"a",function(){return h});const h=e=>{let t=e.creator,n=e.verifiedIdentity,o=e.collaborators,d=e.onMessageCreatorClick,u=e.loggedIn,h=e.hideMessageCreatorButton,f=e.canMessageCreator;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"pt0 pt6-lg px5 pb6"},s.a.createElement("div",{className:"pt3 mb6"},s.a.createElement(l,{url:t.url,name:t.name,location:t.location,biography:t.biography})),s.a.createElement("div",{className:"flex flex-column flex-row-lg flex-wrap mb6"},s.a.createElement("div",{className:"flex1 mr3"},s.a.createElement(m,{backedProjectsCount:t.backingsCount,launchedProjectsCount:t.launchedProjects.totalCount,isFacebookConnected:t.isFacebookConnected,url:t.url,verifiedIdentity:n,lastLogin:t.lastLogin})),s.a.createElement("div",{className:"flex1 mt3 mt0-lg"},!(null===t.websites||0===t.websites.length)&&s.a.createElement(p,{websites:t.websites}))),!(null===o||0===o.length)&&s.a.createElement(c,{collaborators:o}),h?null:f?s.a.createElement(a.c,{size:"large",theme:"trust",atoms:["block","native-android-hide"],onClick:e=>{e.preventDefault(),d()},"data-test-id":"message-creator-button"},Object(r.b)("project_page.creator_bio.Contact_me")):s.a.createElement(i.a,{label:u?Object(r.b)("project_page.message_creator.Sorry_you_cant"):Object(r.b)("project_page.message_creator.Sorry_logged_in")},s.a.createElement("div",null,s.a.createElement(a.c,{size:"large",theme:"trust",atoms:["block","native-android-hide"],onClick:()=>void 0,"data-test-id":"message-creator-button"},Object(r.b)("project_page.creator_bio.Contact_me"))))))}},I8yn:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e.bind(null,...n)}},IVac:function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"f",function(){return u}),n.d(t,"h",function(){return m}),n.d(t,"i",function(){return p}),n.d(t,"j",function(){return h}),n.d(t,"l",function(){return f}),n.d(t,"k",function(){return g}),n.d(t,"m",function(){return b}),n.d(t,"g",function(){return _}),n.d(t,"b",function(){return v}),n.d(t,"n",function(){return k});var a=n("prSB"),i=n("w/TO"),r=n("cDWt"),o=n("0fse");const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{touched:{},errors:{}},t=arguments.length>1?arguments[1]:void 0;return e.touched[t]&&!!e.errors[t]},c=e=>Object.assign({},...e.map(e=>({[e]:!0}))),l=(e,t,n,r)=>{const s=Object(i.a)(n);let c;return c=r?t=>t.forEach(t=>r(e,t)):e=>e,Object(o.f)(Object(a.a)({},e,{touched:Object(a.a)({},e.touched,{[t]:!0}),errors:s}),s[t]?o.a.run(c,{args:[s[t]]}):o.a.none)},d=(e,t,n)=>{const r=Object(i.a)(t);return Object(o.f)(Object(a.a)({},e,{touched:Object(a.a)({},c(e.fields)),errors:r}),n?o.a.run(n,{args:[e,r]}):o.a.none)},u=(e,t)=>e.length===t,m=e=>e&&e.match(/^.+@.+\..{2,}$/),p=e=>!isNaN(e),h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"==typeof e?e.trim().length>0:null!=e&&e.length>0},f=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{caseSensitive:!1};const a=n.caseSensitive;if(a)return-1===t.indexOf(e);return-1===t.map(e=>e.toLowerCase()).indexOf(e.toLowerCase())},g=e=>!!e&&p(e)&&u(e,4),b=e=>!!e&&p(e)&&u(e,5),_=e=>!!e&&/^[0-9]{2}-[0-9]{7}$/.test(e),v=e=>!!e&&/^(?:[^0-9]*[0-9]){5,16}[^0-9]*$/.test(e),k=(e,t,n)=>n()?Object(r.b)():Object(r.a)(new y({[e]:new j([t])}));class y{constructor(e){this.errors=e}concat(e){const t=Object.keys(this.errors).concat(Object.keys(e.errors)),n=t.filter((e,n)=>n===t.indexOf(e)).reduce((t,n)=>{const i=this.errors[n],r=e.errors[n],o=i&&r?i.concat(r):i||r;return Object(a.a)({},t,{[n]:o})},{});return new y(n)}}class j{constructor(e){this.value=e}concat(e){return new j(this.value||e.value)}}},IWkz:function(e,t,n){"use strict";n.d(t,"a",function(){return i});const a=[["milliseconds",1],["seconds",1e3],["minutes",6e4],["hours",36e5],["days",864e5]];class i{constructor(){this.local_start_time=new Date,this.cookie_name="request_time",this.time_units=a,this.set_remote_offset()}set_remote_offset(){this.cookie_value=this.read_cookie();const e=new Date(this.cookie_value);this.cookie_value&&"Invalid Date"!==e.toString()?this.remote_offset=e-this.local_start_time:(this.remote_offset=this.read_cookie("local_offset"),this.remote_offset&&(this.remote_offset=parseInt(this.remote_offset,10))),void 0===this.remote_offset||isNaN(this.remote_offset)?this.is_set=!1:(document.cookie="local_offset="+this.remote_offset+"; path=/",this.is_set=!0)}get_units_in_interval(e,t){return t[e.replace(/^\w/,e=>"get"+e.toUpperCase())]()}milliseconds_in_day(e){void 0===e&&(e=new Date);let t=0;for(let n=a.length-2;n>=0;n-=1)t+=this.get_units_in_interval(a[n][0],e)*a[n][1];return t}milliseconds_in_interval(e,t){return this.milliseconds_in_day(t)%e}milliseconds_to_next_interval(e,t){return e-this.milliseconds_in_interval(e,t)}pluralize(e,t){return 1===t&&(e=e.replace(/s$/,"")),e}read_cookie(e){if(window.document&&window.document.cookie){let t=window.document.cookie.split(";");const n=(e||this.cookie_name)+"=";for(let e=0;e<t.length;e+=1){let a=t[e];for(;" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n)){const e=a.substring(n.length,a.length);return decodeURIComponent(e).replace(/\+/g," ")}}}}destroy_cookie(e){const t=new Date;e||(e=this.cookie_name),t.setTime(t.getTime()-864e5),window.document.cookie=e+"=; expires="+t.toGMTString()+"; path=/"}get_remote_time(){let e=new Date;const t=e.getTime()+(this.remote_offset||0);return e=e.setTime(t)}}},Ig5p:function(e,t,n){e.exports={ary:n("v8vJ"),assign:n("WwFo"),clone:n("uM7l"),curry:n("3EZw"),forEach:n("gFfm"),isArray:n("Z0cm"),isError:n("PtqM"),isFunction:n("lSCD"),isWeakMap:n("gz5L"),iteratee:n("cWj/"),keys:n("A90E"),rearg:n("be4H"),toInteger:n("Sxd8"),toPath:n("0Bgb")}},Ijdr:function(e,t,n){"use strict";var a=n("0VSk"),i=n("+2Rf");n("+2Rf");!function(e){function t(t,n){this.$elem=t,this.xhr=!1,this.paused=n.paused||!1,this.options=e.extend({threshold:500,trigger_next:"scroll",load_next_after:!1,prepend_next:!1,dataType:"html",extra_params:{},$context:e(window),default_page:1,page_by:function(e){return void 0!==e?e+1:this.default_page},page_param:"page",url:!1},n),this.current_page=this.options.page_by(),this.bind_events()}e.fn.mobius=function(n){return n=n||{},e(this).each(function(){var a=e(this).data("mobius");a||(a=new t(e(this),n),e(this).data("mobius",a))})},e.extend(t.prototype,{bind_events:function(){var t=this;"string"==typeof this.options.trigger_next?(this.options.$context.on(this.options.trigger_next,function(){t.check_for_more()}),t.check_for_more()):this.options.trigger_next.jquery&&this.options.trigger_next.click(function(n){n.preventDefault(),e(this).addClass("loading_next"),t.load_next()})},clear_extra_params:function(){this.options.extra_params={}},add_param:function(e,t){this.options.extra_params[e]=t},set_extra_params:function(e){this.options.extra_params=e},pause:function(){this.paused=!0},play:function(){this.paused=!1},check_for_more:function(){this.paused||this.options.$context.scrollTop()+this.options.$context.height()-this.$elem.offset().top>this.$elem.get(0).scrollHeight-this.options.threshold&&this.load_next()},load_next:function(){this.load_page(this.options.page_by(this.current_page),this.options.load_next_after,!0)},load_page:function(t,n,i){var r=parseInt(t,10),o=this;isNaN(r)||(n&&n.length||(n=!1),this.xhr||(this.$elem.trigger("mobius:loading_page"),this.xhr=e.ajax({type:"get",dataType:this.options.dataType,url:this.build_paged_url(r),success:function(t){if(o.xhr=!1,"html"===o.options.dataType){var s=e("<div>"+t+"</div>").find(".mobius").children();if(!s.length)return void o.$elem.trigger("mobius:error",[a.default.t("library.mobius.No_mobius_found_in_page",{page:r})]);n?n.after(s):o.options.prepend_next?o.$elem.prepend(s):o.$elem.append(s),o.options.trigger_next.jquery&&o.options.trigger_next.removeClass("loading_next"),o.$elem.trigger("mobius:loaded_page",[r,s])}else o.$elem.trigger("mobius:loaded_page",[r,t]);!i&&n||(o.current_page=r)},error:function(){o.xhr=!1}})))},build_paged_url:function(t){var n=window.location.toString().replace(window.location.search,"").replace(window.location.hash,""),a=void 0===this.options.extra_params?"":"string"==typeof this.options.extra_params?this.options.extra_params:e.param(this.options.extra_params),i=/(.*)#$/;i.test(n)&&(n=i.exec(n)[1]),a&&(a="&"+a),this.options.url&&(n=this.options.url);var r=-1!==n.indexOf("?")?"&":"?";return n.toString()+r+this.options.page_param+"="+t+a}})}(i)},IrSn:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("q1tI"),i=n.n(a);const r=e=>{let t=e.children,n=e.isActive,a=e.onClick;const r=i.a.Children.only(t),o=i.a.cloneElement(r,{onClick:a,isActive:n});return i.a.createElement(i.a.Fragment,null,o)}},Irv6:function(e,t,n){"use strict";n("gNPL"),n("+2Rf");var a=n("+2Rf");a.fn.client_side_asset_uploader=function(){var e=a(this),t=["data-asset-attachable-type","data-asset-method"].map(function(t){return"["+t+'="'+e.attr(t)+'"]'}).join("");e.adhoc_fileuploader({url:e.data("url"),paramsUrl:e.data("params-url"),done:function(e,n){var i=n.files[0],r={file:i,s3_key:n.formData.filter(function(e){return"key"===e.name})[0].value,data_file_name:i.name,data_file_size:i.size,data_content_type:i.type,signed_preview_url:"umm"};a(".js-assets-list"+t).trigger("assets_list:item_added",r)}})}},IvES:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=(n("RIhn"),n("IWkz")),o=n("FbRb");class s{constructor(e,t){e&&(this.count_down=e.getAttribute("data-dynamic")||!1,this.clock=t,this.time_units=this.clock.time_units.slice(1),this.element=e,this.clock.is_set&&this.attach())}update_element(){const e=Object(o.a)(this.remote_end_time,this.clock),t=e.remainingNumber,n=e.remainingString;this.number_element.innerHTML=t,this.text_element.innerHTML=n}valid(){return!(!this.number_element||!this.text_element)}attach(){const e=()=>{this.update_element();const t=Object(o.a)(this.remote_end_time,this.clock),n=t.remainingUnit,a=t.remainingNumber;this.count_down&&a>0&&(this.timeout=window.setTimeout(e,this.clock.milliseconds_to_next_interval(n[1])))};this.remote_end_time=this.element.getAttribute("data-end_time"),this.number_element=this.element.querySelectorAll(".js-num")[0],this.text_element=this.element.querySelectorAll(".js-text")[0],this.element.ksr_page_timer=!0,this.valid()&&e()}cancel(){this.timeout&&clearTimeout(this.timeout)}}var c=n("rm+a");class l{constructor(){this.elements=[],this.loading=!0,this.number_of_tries=0,this.attach()}bind_ready(){Object(c.a)(()=>{this.attach_timers(),this.loading=!1})}attach_timers(){const e=window.document.querySelectorAll(".ksr_page_timer");for(let t=0;t<e.length;t+=1)e[t].ksr_page_timer||(new s(e[t],window.ksr_page_clock),this.elements.push(e[t]))}attach(){this.bind_ready(),(()=>{this.attach_timers(),this.loading&&(window.setTimeout(()=>{this.attach_timers()},Math.min(Math.pow(10,this.number_of_tries),100)),this.number_of_tries+=1)})()}}window.ksr_page_clock=new r.a,new l,i()(document).on("timer_added",".ksr_page_timer",function(){new s(this,window.ksr_page_clock)}),i()(".ksr_page_timer").livequery(function(){this.ksr_page_timer||i()(this).trigger("timer_added")})},"JC/v":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var a=n("v53p");
/*!
 * Utility functions for the `Maybe` type!
 *
 * See: http://origamitower.github.io/folktale/api/en/folktale.src.data.maybe.html
 */
const i=e=>t=>Object(a.fromNullable)(t[e]),r=e=>{try{return Object(a.Just)(e())}catch(e){return Object(a.Nothing)()}}},"JN/F":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("94td");const i={story:{id:"story",name:Object(a.b)("project_page.campaign_nav.Story"),trackingContext:"story"},"project-budget":{id:"project-budget",name:Object(a.b)("project_page.campaign_nav.Project_budget"),trackingContext:"budget"},"risks-and-challenges":{id:"risks-and-challenges",name:Object(a.b)("project_page.campaign_nav.Risks"),trackingContext:"risks"},"environmental-commitments":{id:"environmental-commitments",name:Object(a.b)("project_page.campaign_nav.Environmental_commitments"),trackingContext:"environment"}}},JNOO:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Rewards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backersCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withActiveBackings"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backersCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"excludeInactive"},value:{kind:"BooleanValue",value:!0}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:336}};n.loc.source={body:"query Rewards($projectSlug: String!) {\n  project(slug: $projectSlug) {\n    id\n    slug\n    backersCount\n    rewards(withActiveBackings: true) {\n      nodes {\n        id\n        description\n        displayName\n        backersCount(excludeInactive: true)\n        amount {\n          amount\n          currency\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.Rewards=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"Rewards")},JaLi:function(e,t,n){"use strict";var a=n("prSB"),i=(n("ykY3"),n("FPRb"),n("1zKs"),n("KHPI")),r=n("yQm5"),o=n.n(r),s=n("a+N5"),c=n.n(s),l=n("WjF9"),d=n("h4vE"),u=n("2UXI"),m=n("/IHD"),p=n("94td");Object(d.a)("#discover_advanced",function(e){var t,n,r,s=Object(i.a)(document.body),d=e.find("#advanced_container"),h=e.find("#NS_discover__landing"),f=Object(i.a)("#NS__discover_advanced_sentence").find("form"),g=e.find("#projects_list"),b=e.find(".load_more"),_=e.find(".NS_discover__spotlight_projects"),v=e.find(".NS_discover__footer"),k=500,y=!1,j=g.data("seed"),E=1;let w=!0;function S(){return c.a.map(g.find(".row > li > .project-card, .js-react-proj-card"),function(e){return Object(i.a)(e).data("pid")})}function O(e,t){var n,a,r=(t||{}).append_results;if(r||(g.children().remove(),j=e.seed,b.show(),g.siblings(".title").find(".count").text(Object(p.b)("discovery.advanced.Projects",{count:e.total_hits})).siblings(".category").hide()),e.projects.length>0){d.removeClass("no_results");const t=document.createElement("div");t.className="grid-row flex flex-wrap";const r=document.createDocumentFragment();(n=e.projects,a=S(),c.a.filter(n,function(e){return-1===c.a.indexOf(a,e.id)})).map(t=>(function(e,t){const n=document.createElement("div");return n.setAttribute("data-project",JSON.stringify(e)),n.setAttribute("data-ref",t),n.className="js-react-async-proj-card grid-col-12 grid-col-6-sm grid-col-4-lg",n.id="".concat(e.slug,"-").concat(Object(m.c)()),n})(t,e.ref_tag)).forEach(e=>r.appendChild(e)),t.appendChild(r),g.append(t),Object(i.a)(document).trigger("discovery:loaded_more")}else b.hide(),r||N()}function C(e,r){if(r=r||{},y=!0,f.length){const t=o()("?"+f.serialize()).query(!0);e=Object(a.a)({},t,{},e)}e.seed=j,e=c.a.pick(e||{},c.a.filter(c.a.keys(e),function(t){return!!e[t]})),t&&t.abort(),r.paging?(e.page=E+1,b.find("#text").hide(),b.find("#spinner").show(),d.addClass("loading-pagination")):(e.page=E=1,d.addClass("loading")),clearTimeout(n),n=setTimeout(function(){t=i.a.ajax({url:"/discover/advanced?google_chrome_workaround",data:e,dataType:"json",success:function(t){O(t,{append_results:r.paging}),t.has_more||(w=!1,b.hide()),History.replaceState({},document.title,"/discover/advanced?"+i.a.param(e)),E=e.page},complete:function(e){0!==e.status&&(b.find("#text").show(),b.find("#spinner").hide(),d.removeClass("loading loading-pagination")),t=!1,y=!1}})},k)}function N(){var e=o()().query(!0);d.addClass("no_results"),(e.social||e.backed||e.starred)&&c.a.isUndefined(l.a)?(d.find(".requires_login_empty_state").show(),d.find(".general_empty_state").hide()):(d.find(".requires_login_empty_state").hide(),d.find(".general_empty_state").show())}function x(){var e=r;r=s.scrollTop()||Object(i.a)(window).scrollTop(),!y&&w&&r>e&&s.height()-r<2e3&&C(o()().query(!0),{paging:!0})}b.on("click",function(e){e.preventDefault(),r=s.scrollTop(),Object(i.a)(document).on("scroll",x),s.addClass("no_scroll_anchoring"),C(o()().query(!0),{paging:!0}),g.children().children().show()}),e.find(".login, .signup").on("click",function(e){window.location=Object(i.a)(this).data("url")+"?then="+encodeURIComponent(window.location.href),e.preventDefault()}),e.find("li.sample_search a").on("click",function(e){var t=Object(i.a)(this).closest("li").data("sample")||{};t.category_id=(t.category||{}).id,t.location_id=(t.location||{}).id,t.tag_id=(t.tag||{}).id,Object(i.a)(document).trigger("discovery:sentence:load_sample",t),Object(i.a)(document).trigger("discovery:categories:load_sample",t),Object(i.a)(document).trigger("discovery:locations:load_sample",t),Object(i.a)(document).trigger("discovery:sorts:load_sample",t),Object(i.a)(document).trigger("discovery:filters:load_sample",t),Object(i.a)(document).trigger("discovery:sentence:show_sentence",t),h.hide(),_.hide(),v.hide(),Object(u.d)("Discovery Sample Sentence Click",{discover_sample_sentence_ref:t.mp_ref}),e.preventDefault()}),e.on("click",".project-card-wrap .project-meta li a",function(e){var t=Object(i.a)(this).data("location");Object(i.a)(document).trigger("discovery:locations:load_sample",{location:t}),Object(u.d)("Discover Baseball Card Location Clicked"),e.preventDefault()}),Object(i.a)(document).on("discovery:sentence:changed",function(e,t){1===parseInt(t.social,10)?g.addClass("social"):g.removeClass("social"),0===t.category_id?(h.hide(),_.hide()):f.is(":visible")&&(h.remove(),_.remove()),C(t)}),Object(i.a)(document).on("discovery:sentence:term_changed",function(e,t){C(t)}),Object(i.a)(document).on("discovery:hero:select_subcategory",function(){h.hide(),_.hide()}),Object(i.a)(document).on("discovery:hero:unselect_subcategory",function(){h.show(),_.show()});var T=S().length;T||N(),T<6&&b.hide()})},JbSc:function(e,t){e.exports={}},JhfJ:function(e,t,n){"use strict";var a=n("mv45"),i=n("4KRT");const r=n("Kwng"),o=r.LikePost,s=r.UnlikePost,c=r.DeletePost,l=r.PublishPost,d=r.PinPost,u=r.UnpinPost;n.d(t,"b",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"a",function(){return y}),n.d(t,"c",function(){return w});const m=Object(a.b)(e=>({onPinPost:t=>e.mutate({variables:{input:t}})})),p=Object(i.c)(d,m),h=Object(a.b)(e=>({onUnpinPost:t=>e.mutate({variables:{input:t}})})),f=Object(i.c)(u,h),g=Object(a.b)(e=>({onLikePost:t=>e.mutate({variables:{input:t}})})),b=Object(i.c)(o,g),_=Object(a.b)(e=>({onUnlikePost:t=>e.mutate({variables:{input:t}})})),v=Object(i.c)(s,_),k=Object(a.b)(e=>({onDeletePost:t=>e.mutate({variables:{input:t}})})),y=Object(i.c)(c,k),j=Object(a.b)(e=>({onPublishPost:t=>e.mutate({variables:{input:t}})})),E=Object(i.c)(l,j),w=Object(a.a)(b,v,y,E,p,f)},JmIM:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE"),o=n("nuFJ"),s=n("SmhT");Object(r.a)(".NS_layouts__admin_navigation",function(e){var t=i()("a.open_panel",e),n=i()("#admin_panel"),a=i()("#admin-nav-prop"),r=i()("#admin_panel_wrap");function c(){var t;r.is(":hidden")?(t=i()("#admin_wrap"),e.detach().prependTo("body"),window.scrollTo(0,0),r.trigger("opened"),r.slideDown(function(){a.height(t.height()),Object(o.a)()})):r.slideUp(function(){Object(o.a)()})}e.on("ksr_admin:nav_open",function(){r.is(":hidden")&&c()}),t.click(function(e){c(),e.preventDefault()}),i()(window).on("keydown",function(e){if(e.which===s.l&&!i()(e.target).is(":input")&&!i()(e.target).is("[contenteditable]"))if(r.is(":visible")){var t,o=n.find("details[open]").add("#running-board-wrap"),l=0;o.each(function(e){window.scrollY>=this.offsetTop-a.height()&&(l=e)}),(t=l===o.length-1?o.get(0):o.get(l+1))&&window.scrollTo(0,t.offsetTop-a.height()),e.preventDefault()}else c()}),"#admin_panel"===window.location.hash&&(i.a.fx.off=!0,c(),i.a.fx.off=!1)})},JpGa:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE"),o=n("GRmu");Object(r.a)("#admin-menu",function(e){var t=function(t,n){return i.a.ajax({url:t,data:{project:{ksr_rating:n}},type:"PUT",dataType:"JSON"}).then(function(){e.find(".rating .ss-star").removeClass("selected"),e.find(".rating .ss-star").slice(0,n).addClass("selected")})};i()(document).on("keydown",function(n){var a,i;n.ctrlKey&&(n.which>=49&&n.which<=53&&(a=n.which-48,i=e.find(".rating a")[0].href,t(i,a).then(function(){Object(o.a)({info:a+"★"})})))}),e.find(".rating a").on("click",function(n){n.preventDefault(),t(this.href,i()(this).data("rating")),e.trigger("ksr_admin:nav_open")});e.find(".fulfillment-state li a").on("click",function(e){var t,n;e.preventDefault(),t=this.href,n=i()(this).data("fulfillment-state"),i.a.ajax({url:t,data:{project:{fulfillment_state:n}},type:"PUT",dataType:"JSON"}).then(function(){location.reload(!1)})})})},JqeJ:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()(function(){i()(document).on("change","body#help_copyright form.select_country",function(){i()(this).submit()})})},"K+Nk":function(e,t,n){"use strict";var a=n("eEls"),i=n("c6/r");const r=Object(a.a)(JSON.parse,i.a);t.a=r,window.parseEscapedJSON=r},KBQY:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("lTkF"),i=n("q1tI"),r=n.n(i);const o=(e,t)=>r.a.createElement(a.a,{format:e,date:t})},KF6i:function(e,t,n){var a=n("a5q3"),i=n("vN+2"),r=a?function(e){return a.get(e)}:i;e.exports=r},KHPI:function(e,t,n){"use strict";var a,i=n("+2Rf"),r=n.n(i),o=(n("/Su4"),n("LIwG"),n("HW2X"),n("NQrx"),n("4cFS"),n("nv4A"),n("gNPL"),n("a9CO"),n("2sRD"),n("Irv6"),n("OT5S"),n("0VSk")),s=(n("uJlH"),n("+2Rf"));n("+2Rf");(a=s).fn.confirm_submit=function(e){return e=e||{},a(this).each(function(){var t=a(this);t.on("submit.confirm_submit",function(n){n.preventDefault();var i='<div class="modal_delete_confirmation"><p class="copy">'+(e.copy||o.default.t("library.confirm_submit.Really_buddy"))+'</p><div class="buttons"><a href="#" class="yes btn btn--green">'+(e.yes_copy||o.default.t("library.confirm_submit.Yes"))+'</a><a href="#" class="no btn btn--gray">'+(e.no_copy||o.default.t("library.confirm_submit.No_Thanks"))+"</a></div></div>",r=a.create_modal_dialog(e.title||"Are you sure?",i);t.removeClass("submitting-non-ajax"),r.find("a.yes").on("click",function(n){n.preventDefault(),t.off("submit.confirm_submit"),e.on_confirm_submit&&e.on_confirm_submit(),t[0].submit()}),r.find("a.no").on("click",function(e){e.preventDefault(),a(this).trigger("close")}),r.data("modal_dialog").open()})})};n("WbKZ"),n("gtN/"),n("Tuxz");var c=n("GRmu"),l=(n("+2Rf"),n("+2Rf"));l.fn.in_place_editor=function(){return l(this).each(function(){var e=l(this),t=e.next("form.in_place_editor"),n=t.find(".js-in-place-editor-cancel"),a=e.siblings(".trigger_editor")||e,i=t.find("input.text"),r=!1;function s(){t.addClass("inactive"),e.show()}a.on("click",function(){i.css("fontSize",e.css("fontSize")),e.hide(),t.removeClass("inactive"),i.focus()}),n.on("click",function(){i.val(e.text()),s()}),t.on("submit",function(n){n.preventDefault(),r||(t.addClass("submitting"),r=!0,l.ajax({url:t.attr("action").replace(/(\.\w+)?$/,".js"),data:t.serialize(),type:"POST",complete:function(){t.removeClass("submitting"),r=!1},success:function(){var n=i.val();e.html(n),s(),r=!1,t.siblings(".clipster").data("text",n)},error:function(e){var n=JSON.parse(e.responseText),a="<p>"+o.default.t("library.in_place_editor.Oops_there_was_a_problem_with_your_submission");t.removeClass("submitting"),r=!1,n.errors?(a+=":<br/>"+l.map(n.errors,function(e,t){return t+": "+e}),a+="</p>"):a+=". "+o.default.t("library.in_place_editor.Please_refresh_the_page_before_trying_again")+"</p>",Object(c.a)({error:l(a).html()})}}))})})},l("span.in_place_editor").in_place_editor();n("hL3N"),n("TO/6"),n("nGRn"),n("cgaT"),n("+2Rf");var d=n("+2Rf");!function(){function e(e){return e.html}function t(e){return e.data("href")||e.prop("href")}d.fn.loadMore=function(n){d(this).each(function(){var a=d(this),i=a.find(".js-load-more--appendable"),r=a.find(".js-load-more--removable"),s=a.find(".js-load-more--button");r.length||(r=s),function(n,a,i,r,s){var c=n.mobius(d.extend({url:t(a),dataType:"json",trigger_next:a,load_next_after:i},s)).data("mobius");n.on("mobius:loading_page",function(){var e=n.attr("data-exclude-ids"),t=c.options.perPage||6;e&&c.add_param("exclude_ids[]",e.split(",")),t&&c.add_param("per_page",t),a.prop("disabled",!0),a.data("previousHTML",a.html()),a.html(o.default.t("library.load_more.Loading"))}),n.on("mobius:loaded_page",function(t,n,o){var s=(c.options.responseToHTML||e)(o),l=d(s).hide();i.append(l),l.slideDown(),a.html(a.data("previousHTML")),a.prop("disabled",!1),"has_more"in o&&!o.has_more&&r.remove()})}(a,s,i,r,n)})}}();n("Ijdr"),n("ksT7"),n("fpXP"),n("PTfn"),n("fBlF");var u=n("a+N5"),m=n.n(u),p=(n("+2Rf"),n("+2Rf"));p.fn.option_values=function(e){var t=p(this).first().find("option").map(function(t,n){var a=n.value;return!("function"==typeof e&&!e(a))&&a});return m()(t).without(!1)},p.fn.select_machine=function(e,t){var n={default_control:function(e){e.hide()}};return p(this).each(function(){!function(e,t,n){var a=p(e),i=m.a.map(m.a.keys(t),function(e){return"#"+e}).join(", ");a.delegate(i,"change",function(){p(this).trigger("state_change")}),a.delegate(i,"state_change",function(){var e=p(this),a=e.val();m.a.each(t[e[0].id],function(e,t){var i,r=p("#"+t),o=r.add(r.prev("label")),s=r.val(),c=m.a.result(e,a);void 0===r.data("options")&&r.data("options",r.find("option")),m.a.isRegExp(c)&&(c=r.option_values(function(e){return e.match(c)})),m.a.isArray(c)&&(c=m.a.map(c,function(e){return'[value="'+e+'"]'}).join(", ")),c?(i=p(r.data("options")),m.a.isString(c)&&(i=i.filter(c)),n.include_blank&&(i=p("<option>").add(i)),r.html(i),o.show(),r.val()!==s&&r.trigger("change")):(n.default_control(o),r.trigger("change"))})})}(this,e,p.extend(n,t))}),this};var h=n("+2Rf");n("+2Rf");!function(e){e.fn.serialize_without_blank=function(){var t,n=[];return this.find(":input").each(function(){""!==e.trim(this.value)||this.disabled||(n.push(this),this.disabled=!0)}),t=this.serialize(),m.a.each(n,function(e){e.disabled=!1}),t}}(h);n("W2lQ"),n("qtVb"),n("hqPT"),n("j4ny"),n("/gmP");var f=n("zm9w"),g=n("+2Rf");n("+2Rf");!function(e){function t(t,n){var a;for(this.$elem=t,this.val=0,this.options=e.extend({},{frame_count:10,frame_step:40,frame_duration:30,format_numbers:!0,max_digits:5,keyframes:["","0","1","2","3","4","5","6","7","8","9",","],framesets:null},n),this.val=this.$elem.attr("rel"),this.keyframes=this.options.keyframes,this.framesets=this.options.framesets,this.framesets||this.init_framesets(),a=0;a<this.options.max_digits;a+=1)this.init_digit(a);this.write(this.val,!0)}e.fn.ticker=function(n){return n=n||{},e(this).each(function(){var a=e(this).data("ticker");a||(a=new t(e(this),n),e(this).data("ticker",a))})},e.extend(t.prototype,{read:function(){return this.val},write:function(t,n){this.val=String(t||""),this.$elem.attr("rel",this.val);var a,i,r,o,s,c,l,d,u=(this.options.format_numbers?f.a.format_number(this.val,{precision:0}):this.val).split(""),m=this.$elem.find(".ticker_digit");for(d=0;d<u.length-m.length;d+=1)this.init_digit(d+m.length);for(m=this.$elem.find(".ticker_digit"),d=0;d<m.length;d+=1){if(i=(a=e(m[d])).html(),r=u[d]?String(u[d]):"",o=e.inArray(r,this.keyframes),s=this.framesets[o][0],c=e.inArray(a.html(),this.keyframes),l=[],a.html(r).data("tween_id",a.data("tween_id")+1),!r||r===i||n)l=l.concat(s);else for(;c!==o;)l=l.concat(this.framesets[c]),c=(c+=1)>=this.keyframes.length?1:c;this.tween(a.data("tween_id"),a,l)}},init_framesets:function(){var e,t;for(this.framesets=[],e=0;e<this.keyframes.length;e+=1)for(this.framesets.push([]),t=0;t<this.options.frame_count;t+=1)this.framesets[e].push(e*this.options.frame_count*this.options.frame_step+t*this.options.frame_step)},init_digit:function(t){var n=e(this.$elem.find(".ticker_digit").get(t));n.length||(n=e('<span class="ticker_digit">&nbsp;</span>').prependTo(this.$elem)),n.data("tween_id",1)},digit_count:function(){return this.$elem.find(".ticker_digit").length},remove_digit:function(e){e.remove(),this.pad_digits()},tween:function(e,t,n){if(n.length){if(t.data("tween_id")!==e)return!1;var a=this;setTimeout(function(){var i=n.shift();t.css({"background-position":"0px "+-1*i+"px"}),a.tween(e,t,n)},this.options.frame_duration)}}})}(g);n("Mk9X"),n("SiTU"),n("Ck6Y"),n("c48Q"),n("OUkx"),n("ggHp"),n("GrIj"),n("BKXR"),n("COUM"),n("yzew"),n("LtuN"),n("IREc"),n("7O0U"),n("RIhn"),n("POwR"),n("1uyb"),n("NNfo");const b=r.a;t.a=b},KIdv:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatorSection"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verifiedIdentity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"creator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"100"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastLogin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"biography"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFacebookConnected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allowsFollows"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backingsCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayableName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"launchedProjects"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"websites"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"domain"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"collaborators"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"200"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:600}};n.loc.source={body:"query CreatorSection($slug: String!) {\n  me {\n    id\n    name\n  }\n  project(slug: $slug) {\n    id\n    verifiedIdentity\n    creator {\n      id\n      name\n      imageUrl(width: 100)\n      url\n      lastLogin\n      biography\n      isFacebookConnected\n      allowsFollows\n      backingsCount\n      location {\n        displayableName\n      }\n      launchedProjects {\n        totalCount\n      }\n      websites {\n        url\n        domain\n      }\n    }\n    collaborators {\n      edges {\n        node {\n          name\n          imageUrl(width: 200)\n          url\n        }\n        title\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.CreatorSection=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"CreatorSection")},KKf6:function(e,t,n){"use strict";var a,i={};(a=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}(navigator.userAgent)).browser&&(i[a.browser]=!0,i.version=a.version),i.chrome?i.webkit=!0:i.webkit&&(i.safari=!0),t.a=i},KPfJ:function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});const a=e=>({type:"USER_INPUT",value:e}),i=e=>({type:"RECAPTCHA_SUBMIT",value:e}),r=(e,t,n,a)=>({type:"SUBMIT_MESSAGE",body:e,creatorId:t,projectId:n,gRecaptchaResponse:a}),o=e=>({type:"SEND_MESSAGE_SUCCESS",response:e}),s=e=>({type:"SEND_MESSAGE_FAIL",errors:e}),c=()=>({type:"CLEAR_INPUT"})},KQqk:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return c});var a=n("inqH"),i=n("pj8f"),r=n("NxQb"),o=n("rMRV"),s=n("q1tI");const c=s.memo(t=>{let c=t.onResize,l=t.content;return s.useEffect(()=>{Object(r.a)("lazysizes")&&n.e(51).then(n.t.bind(null,"s+lh",7));const t=e;if(t&&t.livequery&&t.livequery.run)try{t.livequery.run()}catch(e){i.Honeybadger.notify(e)}}),s.createElement("div",{className:"rte__content"},s.createElement(a.a,{onResize:c},Object(o.a)(l)))})}).call(this,n("+2Rf"))},KZo6:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return s});var a=n("/AD1"),i=n("WjF9");function r(){return{user_id:i.a&&i.a.get?i.a.get("id"):null,project_id:a.a&&a.a.get?a.a.get("id"):null}}const o=e=>btoa("".concat(e.name,": ").concat(e.message).substring(0,50)),s=/^file:\/\/|^http:\/\/localhost\/|^https:\/\/www\.optimizelyedit\.com\/|^https:\/\/translate\.googleusercontent\.com\/|^https:\/\/www\.translatoruser-int\.com\//,c=/Baidu|Chrome\/([1-6][0-9]|[7][0-4])|Firefox\/([1-5][0-9]|[6][0-7])\.|Edg|MSIE|SamsungBrowser|SogouMobileBrowser|Windows Phone OS|rv:11.0/,l=()=>!c.test(navigator.userAgent)},KbIJ:function(e,t,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlikeProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlikeProject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"projectId"}}},{kind:"ObjectField",name:{kind:"Name",value:"trackingContext"},value:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"project"},directives:[]}]}}]}}]}}],loc:{start:0,end:264}};a.loc.source={body:'#import "../../shared/graph/query-definitions/project-fragment.graphql"\n\nmutation UnlikeProject($projectId: ID!, $trackingContext: String) {\n  unlikeProject(input: { id: $projectId, trackingContext: $trackingContext }) {\n    project {\n      ...project\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};a.definitions=a.definitions.concat(n("stFp").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)}));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}a.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),r[e.name.value]=t}}),e.exports=a,e.exports.UnlikeProject=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,i=new Set,s=new Set;for(a.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){i.has(e)||(i.add(e),(r[e]||new Set).forEach(function(e){s.add(e)}))})}return i.forEach(function(t){var a=o(e,t);a&&n.definitions.push(a)}),n}(a,"UnlikeProject")},"Kfv+":function(e,t,n){var a=n("Yoag"),i=n("6ae/"),r=n("RrRF"),o=n("Z0cm"),s=n("ExA7"),c=n("xFI3"),l=Object.prototype.hasOwnProperty;function d(e){if(s(e)&&!o(e)&&!(e instanceof a)){if(e instanceof i)return e;if(l.call(e,"__wrapped__"))return c(e)}return new i(e)}d.prototype=r.prototype,d.prototype.constructor=d,e.exports=d},KvHV:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("o3IG");function o(e,t){const n=new Date;n.setHours(n.getHours()+24),Object(r.c)(e,t,n)}i()(function(){i()(document).on("mouseover","li.menu-dropdown",function(){i()(this).find(".menu-submenu").show()}),i()(document).on("mouseout","li.menu-dropdown",function(){i()(this).find(".menu-submenu").hide()}),i()(document).on("click",".hit-list li",function(){var e=i()(this).find("a.target");e.length&&(window.location=e.attr("href"))}),i()(document).on("click",".js-feature-clear-all",function(){JSON.parse(this.dataset.cookies).forEach(r.a),window.location.reload()}),i()(document).on("click",".js-feature-clear",function(){Object(r.a)(this.dataset.cookie),window.location.reload()}),i()(document).on("click",".js-feature-toggle",function(){o(this.dataset.cookie,this.dataset.enabled),window.location.reload()}),i()(document).on("click",".js-experiment-toggle",function(){o(this.dataset.cookie,this.dataset.variant),window.location.reload()}),i()(document).ready(function(){i()("#feature-search").bind("keydown keypress keyup change",function(e){var t=e.target.value;i()("#feature-search-data li#feature-search-data-item").hide().filter(function(){return i()(this).text().indexOf(t)>=0}).show()})})})},Kwng:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LikePost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LikePostInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"likePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isLiked"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlikePost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlikePostInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlikePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isLiked"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeletePost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePostInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PublishPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PublishPostInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publishPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PinPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PinPostInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pinPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pinnedAt"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnpinPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnpinPostInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unpinPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pinnedAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:742}};n.loc.source={body:"mutation LikePost($input: LikePostInput!) {\n  likePost(input: $input) {\n    post {\n      id\n      likesCount\n      isLiked\n    }\n  }\n}\n\nmutation UnlikePost($input: UnlikePostInput!) {\n  unlikePost(input: $input) {\n    post {\n      id\n      likesCount\n      isLiked\n    }\n  }\n}\n\nmutation DeletePost($input: DeletePostInput!) {\n  deletePost(input: $input) {\n    post {\n      id\n    }\n  }\n}\n\nmutation PublishPost($input: PublishPostInput!) {\n  publishPost(input: $input) {\n    post {\n      id\n    }\n  }\n}\n\nmutation PinPost($input: PinPostInput!) {\n  pinPost(input: $input) {\n    post {\n      id\n      pinnedAt\n    }\n  }\n}\n\nmutation UnpinPost($input: UnpinPostInput!) {\n  unpinPost(input: $input) {\n    post {\n      id\n      pinnedAt\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function r(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.LikePost=r(n,"LikePost"),e.exports.UnlikePost=r(n,"UnlikePost"),e.exports.DeletePost=r(n,"DeletePost"),e.exports.PublishPost=r(n,"PublishPost"),e.exports.PinPost=r(n,"PinPost"),e.exports.UnpinPost=r(n,"UnpinPost")},"L+5T":function(e,t,n){"use strict";var a=n("v83y"),i=n("poNw"),r=n("E+oP"),o=n.n(r),s=n("q1tI");const c=new a.CompositeDecorator([{strategy:(e,t,n)=>e.findEntityRanges(e=>{const t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()},t),component:e=>{let t=e.children,n=e.contentState,a=e.entityKey;const i=n.getEntity(a).getData().url;return s.createElement("a",{href:i},t)}}]);var l=n("W6lR");const d=(0,n("pXlz").convertFromHTML)({htmlToBlock:(e,t)=>{const n=t.parentNode,a=n.getAttribute("data-id");if(n&&n.classList.contains("reward")&&a){return{type:"atomic",data:{reward:Object(l.a)(n),type:"REWARD"}}}if(n&&n.classList.contains("oembed")){return{type:"atomic",data:{href:n.getAttribute("data-href"),rawHtml:n.innerHTML,type:"OEMBED"}}}if("figure"===e){const e=t.firstElementChild,i=n.getAttribute("data-alt-text"),r=n.getAttribute("data-caption");if(e&&"IMG"===e.nodeName){const t=n.parentNode;return{type:"atomic",data:{alt:i,caption:r,href:t&&"A"===t.nodeName&&t.href?t.href:void 0,id:a,src:e.getAttribute("src"),type:"IMAGE"}}}if(e&&"AUDIO"===e.nodeName){const t=e;return{type:"atomic",data:{id:a,sources:Array.from(t.getElementsByTagName("source")).reduce((e,t)=>{const n=t.getAttribute("type"),a=t.getAttribute("src");return n&&a&&(e[n]=a),e},{}),type:"AUDIO"}}}if(e&&"DIV"===e.nodeName&&(e.className.includes("video-player")||e.className.includes("processing"))&&e.parentNode){return{type:"atomic",data:{id:a,rawHtml:e.parentNode.innerHTML,type:"VIDEO"}}}}},htmlToEntity:(e,t,n)=>{if("a"===e){const e=t;if(e.firstChild&&"DIV"===e.firstChild.nodeName){return"template asset"===e.firstChild.className?null:n("LINK","MUTABLE",{url:e.href})}return n("LINK","MUTABLE",{url:e.href})}}});n.d(t,"b",function(){return u}),n.d(t,"a",function(){return m});const u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.content,n=void 0===t?"":t,a=e.attachableId,i=void 0===a?"":a,r=e.attachableAssoc,o=void 0===r?"":r,s=e.editorState;return{attachableId:i,attachableAssoc:o,currentModal:null,editorState:p(n,s),errors:"",key:0,imageAltText:"",imageCaption:"",imageId:null,imageSrc:null,imageUrl:"",showRemoveLink:!1,subjectBlock:null,linkText:null,linkUrl:null,showLoader:!1}},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0;return{story:u({content:e,attachableId:t,attachableAssoc:n,editorState:a}),imageUploader:{baseUpload:Object(i.a)(),imageUpload:{}}}},p=(e,t)=>t&&!o()(t)?t:""===e.trim()?a.EditorState.createEmpty(c):a.EditorState.createWithContent(d(e),c)},"L/h+":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("prSB"),i=n("q1tI");const r=e=>{let t=e.size,n=e.atoms,r=void 0===n?[]:n,o=e.imageUrl,s=e.alt,c=void 0===s?"user avatar":s,l=e.borderColor,d=void 0===l?"grey-500":l,u=e.style,m=void 0===u?{}:u;const p=t?["w".concat(t),"h".concat(t)]:[],h=d?["border","border-".concat(d)]:[],f=["avatar","inline-block","align-middle","radius100p"].concat(p).concat(h).concat(r).join(" "),g=Object(a.a)({},m,{textIndent:"100%",whiteSpace:"nowrap",overflow:"hidden"});return i.createElement("img",{className:f,style:g,src:o,alt:c})}},LKre:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE"),o=n("itcf");Object(r.a)(".NS_banners__social_prompt",function(e){var t=e.data("url");t&&i.a.ajax({url:Object(o.a)(t),type:"get",success:function(t){var n=t.remotely_followed_count;n>0&&(e.find(".js-friend-count").html(n),e.removeClass("banner--is-hidden"))}})})},LdJi:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("q1tI");const i=e=>{let t=e.children,n=e.atoms,i=void 0===n?[]:n,r=e.full,o=void 0!==r&&r,s=e.id;const c=[o?"grid-container-full":"grid-container"].concat(i).join(" ");return a.createElement("div",{className:c,id:s},t)}},MHsd:function(e,t,n){"use strict";var a=n("DjBF"),i=n("NAv5"),r=n("a1e3"),o=n("2DJ9"),s=n("uT+I"),c=n("EoiL"),l=n("wdXr"),d=n("94td"),u=n("1OuE"),m=n("2UXI"),p=n("q1tI"),h=n.n(p),f=n("zm9w"),g=n("cuY2"),b=n.n(g);const _=e=>{let t=e.display,n=e.color,a=e.backgroundURL;return t?h.a.createElement("div",{className:"radius100p mr2 mb2px inline-block valign-middle",style:{width:"1.8rem",height:"1.8rem",minWidth:"1.8rem",backgroundColor:n,backgroundImage:a?"url(".concat(a,")"):"",backgroundSize:"350px 350px"}}):h.a.createElement("div",{className:"text-center w3 h3 radius100p mr2 inline-block valign-middle"},h.a.createElement("div",{className:"w2 inline-block valign-middle border-bottom border-dark-grey-400 border2px"}))};var v=e=>{let t=e.index,n=e.category,i=e.displayValues,c=e.hoverChoice,l=e.setHoverChoice,u=e.setHoverChoiceValue,g=e.currencySymbol,v=e.graphData;const k=Object(p.useState)(!1),y=Object(a.a)(k,2),j=y[0],E=y[1],w=Object(p.useState)(!1),S=Object(a.a)(w,2),O=S[0],C=S[1];return h.a.createElement("div",null,h.a.createElement("div",{role:"button",onClick:()=>{O||(C(!0),Object(m.d)("Clicked On Budget Graphic Accordion")),E(!j),j?l(null):(l(n.phase),u(i?n.value:n.percent))},className:"".concat(n.phase===c?"bold":""," border-top border-grey-400 pt2 pb2 pointer"),onMouseEnter:()=>{l(n.phase),u(i?n.value:n.percent)},onMouseLeave:()=>{l(null)}},h.a.createElement("div",{className:"flex justify-between"},h.a.createElement(_,{display:!!v[t],color:r.c[t].color,backgroundURL:r.c[t].file}),h.a.createElement(s.a,{atoms:["flex","flex1","items-center","m0","type-16"]},Object(d.b)("project_build_editor.sections.funding_goal.budgeting_sheets.".concat(n.phase))),h.a.createElement("div",{className:"flex items-center"},h.a.createElement(s.a,{atoms:["m0","pl1","pr3","type-16","text-nowrap"]},i?"".concat(g).concat(f.a.money(n.value,Object(r.d)(g))):"".concat(n.percent<1?"< 1":n.percent,"%")),h.a.createElement("div",{className:"flex items-center justify-center",style:{width:"12px",height:"12px",transform:"rotate(".concat(j?90:0,"deg)"),transformOrigin:"center center",transition:"transform 200ms"}},h.a.createElement(o.a,{name:"icon--chevron-right",size:"12"}))))),h.a.createElement(b.a,{duration:200,height:j?"auto":0},h.a.createElement("div",{className:"pl5 pr5"},n.values.map((e,n)=>h.a.createElement("div",{key:"".concat(e.rowNum),className:"flex justify-between border-top border-grey-400 pt2 pb2 ".concat(e.rowNum===c?"bold":""),onMouseEnter:()=>{l(e.rowNum),u(i?e.value:e.percent)},onMouseLeave:()=>{l(null)}},h.a.createElement(_,{display:!(!v[t]||!v[t].values[n]),color:r.e[t][n%r.e[t].length]}),h.a.createElement(s.a,{atoms:["flex","flex1","m0","clip","clamp-3","type-16","mr2"]},e.name),h.a.createElement(s.a,{atoms:["m0","type-16","text-nowrap"]},i?"".concat(g).concat(f.a.money(e.value,Object(r.d)(g))):"".concat(e.percent<1?"< 1":e.percent.toFixed(0),"%")))))))};n.d(t,"a",function(){return j});const k=d.a.withCommonPrefix("project_build_editor.sections.funding_goal.cost_to_create");function y(e){const t={},n=e.reduce((e,t)=>e+t.value,0);let a=0;for(const i of e.slice().sort((e,t)=>e.value>t.value?1:-1))if(i.phase){if(void 0===t[i.phase]){const e=Object.values(t).length;t[i.phase]={categoryNum:e,phase:i.phase,value:0,values:[],percent:0}}if(i.name&&i.value){const e=parseInt((i.value/n*100).toFixed(0),10);a+=e;const r={name:i.name,phase:i.phase,categoryNum:t[i.phase].categoryNum,value:i.value,percent:e,rowNum:i.rowNum,index:0};t[r.phase].value+=r.value,t[r.phase].percent+=r.percent,t[r.phase].values.push(r)}}const i=E(Object.values(t)),r=100-a;i[0]&&i[0].values[0]&&(i[0].values[0].percent+=r,i[0].percent+=r);for(let e=0;e<i.length;e+=1){i[e].categoryNum=e;for(const t of i[e].values)t.categoryNum=e}return i}function j(e){let t=e.reduce((e,t)=>e+t.value,0),n=e.slice().sort((e,t)=>e.value>t.value?1:-1),a=y(n=n.filter((e,a)=>!(n[a].value/t<.008)||(t-=n[a].value,!1)));a.sort((e,t)=>e.value>t.value?1:-1),a=E(a=a.filter((e,n)=>!(a[n].value/t<.015)||(t-=a[n].value,!1)));for(let e=0;e<a.length;e+=1){a[e].categoryNum=e;for(const t of a[e].values)t.categoryNum=e}return a}function E(e){e.sort((e,t)=>e.value===t.value?e.phase.localeCompare(t.phase):e.value<t.value?1:-1);for(const t of e)t.values.sort((e,t)=>e.value===t.value?e.name.localeCompare(t.name):e.value<t.value?1:-1);return e}const w=()=>h.a.createElement("div",{className:"flex-column pt8 pb6 max-w100 m-auto type-16"},h.a.createElement(c.a,{atoms:["type-32","text-center","mb5"]},h.a.createElement("div",null,h.a.createElement("div",{className:"cost_to_create_image w5 h5 mr2 inline-block"}),h.a.createElement(k,{i18nKey:".The_cost_to_create"}))),h.a.createElement(s.a,{atoms:["mb5"]},h.a.createElement(k,{i18nKey:".We_offer_project_budgeting_tools_to_support_Kickstarter_creators_in_making_informed_financial_decisions"})),h.a.createElement(s.a,{atoms:["mb5"]},h.a.createElement(k,{i18nKey:".The_main_cost_categories_that_they’re_asked_to_provide_are"})),h.a.createElement(s.a,{atoms:["bold","mb1"]},h.a.createElement(k,{i18nKey:".Funding"})),h.a.createElement(s.a,{atoms:["mb5"]},h.a.createElement(k,{i18nKey:".Pitching_and_gathering_project_campaign_support"})),h.a.createElement(s.a,{atoms:["bold","mb1"]},h.a.createElement(k,{i18nKey:".Making"})),h.a.createElement(s.a,{atoms:["mb5"]},h.a.createElement(k,{i18nKey:".Manufacturing_the_product_finalizing_the_app_printing_the_book"})),h.a.createElement(s.a,{atoms:["bold","mb1"]},h.a.createElement(k,{i18nKey:".Fulfilling"})),h.a.createElement(s.a,{atoms:["mb5"]},h.a.createElement(k,{i18nKey:".Delivering_rewards_to_their_backers"})),h.a.createElement(s.a,{atoms:["bold","mb1"]},h.a.createElement(k,{i18nKey:".Multiple_Other"})),h.a.createElement(s.a,null,h.a.createElement(k,{i18nKey:".Work_spanning_multiple_phases_paying_themselves_for_their_effort"})));t.b=e=>{let t=e.spreadsheetData,n=e.displayValues,s=e.currencySymbol,c=e.lastUpdatedDate,f=e.hideToolTip;const g=Object(p.useState)(!1),b=Object(a.a)(g,2),_=b[0],k=b[1],E=Object(p.useState)(!1),S=Object(a.a)(E,2),O=S[0],C=S[1],N=Object(p.useState)(0),x=Object(a.a)(N,2),T=x[0],I=x[1],D=Object(p.useState)(null),P=Object(a.a)(D,2),A=P[0],R=P[1],F=Object(p.useState)(null),L=Object(a.a)(F,2),M=L[0],U=L[1],B=Object(p.useState)(null),q=Object(a.a)(B,2),$=q[0],H=q[1],V=Object(p.useState)(0),z=Object(a.a)(V,2),W=z[0],K=z[1];let Y=W;const G=Object(l.a)({rootMargin:"-125px"}),J=G.targetRef,Q=G.didIntersect;let X;return Object(p.useEffect)(()=>{const e=t.reduce((e,t)=>e+t.value,0);I(e),R(y(t)),U(j(t))},[t]),null===$&&(Y=n?T:null),null!=c&&(X=c),h.a.createElement("div",{className:"w100p flex-column"},h.a.createElement("div",{className:"flex relative justify-center w100p border border-grey-400 bg-grey-100"},h.a.createElement("div",{className:"w100p flex-column justify-center pl2 pb4 pr2 pl10-sm pr10-sm"},!f&&_?h.a.createElement(w,null):h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{ref:J,className:"relative flex justify-center items-center h50"},M&&Q&&h.a.createElement(r.a,{size:250,categoryData:M,hoverChoice:$,hoverChoiceValue:Y,displayValues:n,currencySymbol:s})),A&&M&&A.map((e,t)=>h.a.createElement(v,{index:t,setHoverChoice:H,setHoverChoiceValue:K,hoverChoice:$,key:e.phase,category:e,displayValues:n,currencySymbol:s,graphData:M})),X&&h.a.createElement("div",{className:"text-center mt6 support-500"},h.a.createElement(d.a,{i18nKey:"project_build_editor.sections.funding_goal.cost_to_create.Last_updated",updatedAt:Object(u.a)("LL",Object(i.parse)(X))})))),h.a.createElement("div",{className:"absolute r3 t3"},!f&&h.a.createElement("button",{className:"valign-top bg-transparent",onClick:()=>{O||(C(!0),Object(m.d)("Clicked On Budget Graphic Tooltip")),k(!_)}},h.a.createElement(o.a,{atoms:["ml1",_?"mr3px":""],name:_?"close":"icon--info",size:_?"14":"20"})))))}},MLrq:function(e,t,n){n("+2Rf"),n("+2Rf");
/*!
 * skrollr core
 *
 * Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr
 *
 * Free to use under terms of MIT license
 */
!function(e,t,n){"use strict";var a,i,r=e.skrollr={get:function(){return W},init:function(e){return W||new R(e)},VERSION:"0.6.21"},o=Object.prototype.hasOwnProperty,s=e.Math,c=e.getComputedStyle,l="touchstart",d="touchmove",u="touchcancel",m="touchend",p="skrollr",h="no-"+p,f=p+"-desktop",g=p+"-mobile",b=.004,_=200,v=/^(?:input|textarea|button|select)$/i,k=/^\s+|\s+$/g,y=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,j=/\s*([\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,E=/^([a-z\-]+)\[(\w+)\]$/,w=/-([a-z])/g,S=function(e,t){return t.toUpperCase()},O=/[\-+]?[\d]*\.?[\d]+/g,C=/\{\?\}/g,N=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,x=/[a-z\-]+-gradient/g,T="",I="",D=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(c){var t=c(i,null);for(var n in t)if(T=n.match(e)||+n==n&&t[n].match(e))break;T?"-"===(T=T[0]).slice(0,1)?(I=T,T={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[T]):I="-"+T.toLowerCase()+"-":T=I=""}},P=function(){var t=e.requestAnimationFrame||e[T.toLowerCase()+"RequestAnimationFrame"],n=be();return!Ne&&t||(t=function(t){var a=be()-n,i=s.max(0,1e3/60-a);return e.setTimeout(function(){n=be(),t()},i)}),t},A={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-s.cos(e*s.PI)/2+.5},sqrt:function(e){return s.sqrt(e)},outCubic:function(e){return s.pow(e-1,3)+1},bounce:function(e){var t;if(e<=.5083)t=3;else if(e<=.8489)t=9;else if(e<=.96208)t=27;else{if(!(e<=.99981))return 1;t=91}return 1-s.abs(3*s.cos(e*t*1.028)/t)}};function R(n){if(a=t.documentElement,i=t.body,D(),W=this,Q=(n=n||{}).constants||{},n.easing)for(var r in n.easing)A[r]=n.easing[r];ie=n.edgeStrategy||"set",G={beforerender:n.beforerender,render:n.render},(J=!1!==n.forceHeight)&&(ke=n.scale||1),X=n.mobileDeceleration||b,ee=!1!==n.smoothScrolling,te=n.smoothScrollingDuration||_,ne={targetTop:W.getScrollTop()},(Ne=(n.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||e.opera)})())?((Y=t.getElementById("skrollr-body"))&&z(),F(),he(a,[p,g],[h])):he(a,[p,f],[h]),W.refresh(),se(e,"resize orientationchange",function(){var e=a.clientWidth,t=a.clientHeight;t===Se&&e===we||(Se=t,we=e,Oe=!0)});var o=P();return function e(){L(),oe=o(e)}(),W}R.prototype.refresh=function(e){var n,a,i=!1;for(void 0===e?(i=!0,K=[],Ce=0,e=t.getElementsByTagName("*")):e=[].concat(e),n=0,a=e.length;n<a;n++){var r=e[n],o=r,s=[],c=ee,l=ie;if(r.attributes){for(var d,u,m,p=0,h=r.attributes.length;p<h;p++){var f=r.attributes[p];if("data-anchor-target"!==f.name)if("data-smooth-scrolling"!==f.name)if("data-edge-strategy"!==f.name){var g=f.name.match(y);if(null!==g){var b={props:f.value,element:r};s.push(b);var _=g[1];_&&(b.constant=_.substr(1));var v=g[2];/p$/.test(v)?(b.isPercentage=!0,b.offset=(0|v.slice(0,-1))/100):b.offset=0|v;var k=g[3],j=g[4]||k;k&&"start"!==k&&"end"!==k?(b.mode="relative",b.anchors=[k,j]):(b.mode="absolute","end"===k?b.isEnd=!0:b.isPercentage||(b.offset=b.offset*ke))}}else l=f.value;else c="off"!==f.value;else if(null===(o=t.querySelector(f.value)))throw'Unable to find anchor target "'+f.value+'"'}if(s.length)!i&&"___skrollable_id"in r?(m=r.___skrollable_id,d=K[m].styleAttr,u=K[m].classAttr):(m=r.___skrollable_id=Ce++,d=r.style.cssText,u=pe(r)),K[m]={element:r,styleAttr:d,classAttr:u,anchorTarget:o,keyFrames:s,smoothScrolling:c,edgeStrategy:l},he(r,["skrollable"],[])}}for(de(),n=0,a=e.length;n<a;n++){var E=K[e[n].___skrollable_id];void 0!==E&&(M(E),B(E))}return W},R.prototype.relativeToAbsolute=function(e,t,n){var i=a.clientHeight,r=e.getBoundingClientRect(),o=r.top,s=r.bottom-r.top;return"bottom"===t?o-=i:"center"===t&&(o-=i/2),"bottom"===n?o+=s:"center"===n&&(o+=s/2),(o+=W.getScrollTop())+.5|0},R.prototype.animateTo=function(e,t){t=t||{};var n=be(),a=W.getScrollTop();return(Z={startTop:a,topDiff:e-a,targetTop:e,duration:t.duration||1e3,startTime:n,endTime:n+(t.duration||1e3),easing:A[t.easing||"linear"],done:t.done}).topDiff||(Z.done&&Z.done.call(W,!1),Z=void 0),W},R.prototype.stopAnimateTo=function(){Z&&Z.done&&Z.done.call(W,!0),Z=void 0},R.prototype.isAnimatingTo=function(){return!!Z},R.prototype.setScrollTop=function(t,n){return ae=!0===n,Ne?xe=s.min(s.max(t,0),ve):e.scrollTo(0,t),W},R.prototype.getScrollTop=function(){return Ne?xe:e.pageYOffset||a.scrollTop||i.scrollTop||0},R.prototype.getMaxScrollTop=function(){return ve},R.prototype.on=function(e,t){return G[e]=t,W},R.prototype.off=function(e){return delete G[e],W},R.prototype.destroy=function(){(function(){var t=e.cancelAnimationFrame||e[T.toLowerCase()+"CancelAnimationFrame"];return!Ne&&t||(t=function(t){return e.clearTimeout(t)}),t})()(oe),le(),he(a,[h],[p,f,g]);for(var t=0,n=K.length;t<n;t++)V(K[t].element);a.style.overflow=i.style.overflow="auto",a.style.height=i.style.height="auto",Y&&r.setStyle(Y,"transform","none"),W=void 0,Y=void 0,G=void 0,J=void 0,ve=0,ke=1,Q=void 0,X=void 0,ye="down",je=-1,we=0,Se=0,Oe=!1,Z=void 0,ee=void 0,te=void 0,ne=void 0,ae=void 0,Ce=0,ie=void 0,Ne=!1,xe=0,re=void 0};var F=function(){var n,r,o,c,p,h,f,g,b,_,k;se(a,[l,d,u,m].join(" "),function(e){var a=e.changedTouches[0];for(c=e.target;3===c.nodeType;)c=c.parentNode;switch(p=a.clientY,h=a.clientX,b=e.timeStamp,v.test(c.tagName)||e.preventDefault(),e.type){case l:n&&n.blur(),W.stopAnimateTo(),n=c,r=f=p,o=h,b;break;case d:v.test(c.tagName)&&t.activeElement!==c&&e.preventDefault(),g=p-f,k=b-_,W.setScrollTop(xe-g,!0),f=p,_=b;break;default:case u:case m:var i=r-p,y=o-h;if(y*y+i*i<49){if(!v.test(n.tagName)){n.focus();var j=t.createEvent("MouseEvents");j.initMouseEvent("click",!0,!0,e.view,1,a.screenX,a.screenY,a.clientX,a.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),n.dispatchEvent(j)}return}n=void 0;var E=g/k;E=s.max(s.min(E,3),-3);var w=s.abs(E/X),S=E*w+.5*X*w*w,O=W.getScrollTop()-S,C=0;O>ve?(C=(ve-O)/S,O=ve):O<0&&(C=-O/S,O=0),w*=1-C,W.animateTo(O+.5|0,{easing:"outCubic",duration:w})}}),e.scrollTo(0,0),a.style.overflow=i.style.overflow="hidden"},L=function(){Oe&&(Oe=!1,de());var e,t,n=W.getScrollTop(),a=be();if(Z)a>=Z.endTime?(n=Z.targetTop,e=Z.done,Z=void 0):(t=Z.easing((a-Z.startTime)/Z.duration),n=Z.startTop+t*Z.topDiff|0),W.setScrollTop(n,!0);else if(!ae){ne.targetTop-n&&(ne={startTop:je,topDiff:n-je,targetTop:n,startTime:Ee,endTime:Ee+te}),a<=ne.endTime&&(t=A.sqrt((a-ne.startTime)/te),n=ne.startTop+t*ne.topDiff|0)}if(Ne&&Y&&r.setStyle(Y,"transform","translate(0, "+-xe+"px) "+re),ae||je!==n){ae=!1;var i={curTop:n,lastTop:je,maxTop:ve,direction:ye=n>je?"down":n<je?"up":ye};!1!==(G.beforerender&&G.beforerender.call(W,i))&&(!function(e,t){for(var n=0,a=K.length;n<a;n++){var i,s,c=K[n],l=c.element,d=c.smoothScrolling?e:t,u=c.keyFrames,m=d<u[0].frame,p=d>u[u.length-1].frame,h=u[m?0:u.length-1];if(m||p){if(m&&-1===c.edge||p&&1===c.edge)continue;switch(he(l,[m?"skrollable-before":"skrollable-after"],["skrollable-before","skrollable-between","skrollable-after"]),c.edge=m?-1:1,c.edgeStrategy){case"reset":V(l);continue;case"ease":d=h.frame;break;default:case"set":var f=h.props;for(i in f)o.call(f,i)&&(s=H(f[i].value),r.setStyle(l,i,s));continue}}else 0!==c.edge&&(he(l,["skrollable","skrollable-between"],["skrollable-before","skrollable-after"]),c.edge=0);for(var g=0,b=u.length-1;g<b;g++)if(d>=u[g].frame&&d<=u[g+1].frame){var _=u[g],v=u[g+1];for(i in _.props)if(o.call(_.props,i)){var k=(d-_.frame)/(v.frame-_.frame);k=_.props[i].easing(k),s=$(_.props[i].value,v.props[i].value,k),s=H(s),r.setStyle(l,i,s)}break}}}(n,W.getScrollTop()),je=n,G.render&&G.render.call(W,i)),e&&e.call(W,!1)}Ee=a},M=function(e){for(var t=0,n=e.keyFrames.length;t<n;t++){for(var a,i,r,o,s=e.keyFrames[t],c={};null!==(o=j.exec(s.props));)r=o[1],i=o[2],null!==(a=r.match(E))?(r=a[1],a=a[2]):a="linear",i=i.indexOf("!")?U(i):[i.slice(1)],c[r]={value:i,easing:A[a]};s.props=c}},U=function(e){var t=[];return N.lastIndex=0,e=e.replace(N,function(e){return e.replace(O,function(e){return e/255*100+"%"})}),I&&(x.lastIndex=0,e=e.replace(x,function(e){return I+e})),e=e.replace(O,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},B=function(e){var t,n,a={};for(t=0,n=e.keyFrames.length;t<n;t++)q(e.keyFrames[t],a);for(a={},t=e.keyFrames.length-1;t>=0;t--)q(e.keyFrames[t],a)},q=function(e,t){var n;for(n in t)o.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},$=function(e,t,n){var a,i=e.length;if(i!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var r=[e[0]];for(a=1;a<i;a++)r[a]=e[a]+(t[a]-e[a])*n;return r},H=function(e){var t=1;return C.lastIndex=0,e[0].replace(C,function(){return e[t++]})},V=function(e,t){for(var n,a,i=0,r=(e=[].concat(e)).length;i<r;i++)a=e[i],(n=K[a.___skrollable_id])&&(t?(a.style.cssText=n.dirtyStyleAttr,he(a,n.dirtyClassAttr)):(n.dirtyStyleAttr=a.style.cssText,n.dirtyClassAttr=pe(a),a.style.cssText=n.styleAttr,he(a,n.classAttr)))},z=function(){re="translateZ(0)",r.setStyle(Y,"transform",re);var e=c(Y),t=e.getPropertyValue("transform"),n=e.getPropertyValue(I+"transform");t&&"none"!==t||n&&"none"!==n||(re="")};r.setStyle=function(e,t,n){var a=e.style;if("zIndex"===(t=t.replace(w,S).replace("-","")))isNaN(n)?a[t]=n:a[t]=""+(0|n);else if("float"===t)a.styleFloat=a.cssFloat=n;else try{T&&(a[T+t.slice(0,1).toUpperCase()+t.slice(1)]=n),a[t]=n}catch(e){}};var W,K,Y,G,J,Q,X,Z,ee,te,ne,ae,ie,re,oe,se=r.addEvent=function(t,n,a){for(var i,r=function(t){return(t=t||e.event).target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1}),a.call(this,t)},o=0,s=(n=n.split(" ")).length;o<s;o++)i=n[o],t.addEventListener?t.addEventListener(i,a,!1):t.attachEvent("on"+i,r),Te.push({element:t,name:i,listener:a})},ce=r.removeEvent=function(e,t,n){for(var a=0,i=(t=t.split(" ")).length;a<i;a++)e.removeEventListener?e.removeEventListener(t[a],n,!1):e.detachEvent("on"+t[a],n)},le=function(){for(var e,t=0,n=Te.length;t<n;t++)e=Te[t],ce(e.element,e.name,e.listener);Te=[]},de=function(){var e=W.getScrollTop();ve=0,J&&!Ne&&(i.style.height="auto"),function(){var e,t,n,i,r,o,c,l,d,u,m,p=a.clientHeight,h=ue();for(l=0,d=K.length;l<d;l++)for(t=(e=K[l]).element,n=e.anchorTarget,r=0,o=(i=e.keyFrames).length;r<o;r++)u=(c=i[r]).offset,m=h[c.constant]||0,c.frame=u,c.isPercentage&&(u*=p,c.frame=u),"relative"===c.mode&&(V(t),c.frame=W.relativeToAbsolute(n,c.anchors[0],c.anchors[1])-u,V(t,!0)),c.frame+=m,J&&!c.isEnd&&c.frame>ve&&(ve=c.frame);for(ve=s.max(ve,me()),l=0,d=K.length;l<d;l++){for(r=0,o=(i=(e=K[l]).keyFrames).length;r<o;r++)m=h[(c=i[r]).constant]||0,c.isEnd&&(c.frame=ve-c.offset+m);e.keyFrames.sort(_e)}}(),J&&!Ne&&(i.style.height=ve+a.clientHeight+"px"),Ne?W.setScrollTop(s.min(W.getScrollTop(),ve)):W.setScrollTop(e,!0),ae=!0},ue=function(){var e,t,n=a.clientHeight,i={};for(e in Q)"function"==typeof(t=Q[e])?t=t.call(W):/p$/.test(t)&&(t=t.slice(0,-1)/100*n),i[e]=t;return i},me=function(){var e=Y&&Y.offsetHeight||0;return s.max(e,i.scrollHeight,i.offsetHeight,a.scrollHeight,a.offsetHeight,a.clientHeight)-a.clientHeight},pe=function(t){var n="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[n],n="baseVal"),t[n]},he=function(t,n,a){var i="className";if(e.SVGElement&&t instanceof e.SVGElement&&(t=t[i],i="baseVal"),void 0!==a){for(var r=t[i],o=0,s=a.length;o<s;o++)r=ge(r).replace(ge(a[o])," ");r=fe(r);for(var c=0,l=n.length;c<l;c++)-1===ge(r).indexOf(ge(n[c]))&&(r+=" "+n[c]);t[i]=fe(r)}else t[i]=n},fe=function(e){return e.replace(k,"")},ge=function(e){return" "+e+" "},be=Date.now||function(){return+new Date},_e=function(e,t){return e.frame-t.frame},ve=0,ke=1,ye="down",je=-1,Ee=be(),we=0,Se=0,Oe=!1,Ce=0,Ne=!1,xe=0,Te=[]}(window,document)},MMiu:function(e,t){var n=Math.max;e.exports=function(e,t,a,i){for(var r=-1,o=e.length,s=-1,c=a.length,l=-1,d=t.length,u=n(o-c,0),m=Array(u+d),p=!i;++r<u;)m[r]=e[r];for(var h=r;++l<d;)m[h+l]=t[l];for(;++s<c;)(p||r<o)&&(m[h+a[s]]=e[r++]);return m}},MRng:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=(n("g/nJ"),n("2UXI"));i()(function(){var e,t,n,a,o,s=i()(".js-mega-footer");s.length&&(t=0,n=["icon-scissors-1","icon-scissors-2","icon-scissors-3"],a=0,(o=i()("span.scissors",s)).click(function(){e||(e=i()(".js-mega-footer__content").width()/3),t+=1,function e(t){t>9||(o.removeClass(n[a]),(a+=1)===n.length&&(a=0),o.addClass(n[a]),setTimeout(function(){e(t+1)},100))}(0),o.animate({marginLeft:e*t},1e3,function(){3===t&&(o.hide(),s.height(s.height()),s.addClass("gone"),i()("html").addClass("gone"),i()(".js-mini-footer").hide(),s.find(".js-mega-footer__content").animate({marginTop:[s.height(),"easeInOutExpo"],opacity:0},1e3,function(){i()(".js-mega-footer__newsletter-signup").fadeIn()}))})}),i()(document).on("change",".js-change-language",function(e){var t=e.target.value,n=i()("body").attr("id");Object(r.d)("Selected Chosen Language",{property:t,context:n}),i()(this).submit()}),i()(document).on("change",".js-change-currency",function(e){var t=i()(this),n=e.target.value,a=i()("body").attr("id");i()("#currency-modal").modal_dialog({event:e}),i()(".currency-submit").on("click",function(){Object(r.d)("Selected Chosen Currency",{property:n,context:a}),t.submit()})}))})},MTFr:function(e,t,n){"use strict";var a=n("q1tI"),i=n.n(a),r=n("2DJ9"),o=n("RBqt"),s=n("pTxv"),c=n("v9JK"),l=n("qAuv"),d=n("94td"),u=n("zm9w"),m=n("X+my"),p=n("/IHD"),h=n("qYa2");const f=(e,t,n,a)=>i.a.createElement("div",null,((e,t)=>i.a.createElement("span",null,i.a.createElement(o.a,{type:"body-100",atoms:["soft-black","book"]},i.a.createElement("span",{className:"hide block-md"},e),i.a.createElement("span",{className:"block hide-md"},t))))(e,t),i.a.createElement(o.a,{type:"caption-100",atoms:["block","dark-grey-500","book"]},n||"",n&&a?", ":"",a||"")),g=e=>{let t=e.activeDragCounter,n=e.iconName,a=e.maxFileSizeText,o=e.onDragLeave,s=e.onDragEnter,c=e.onDrop,l=e.onFileSelect,d=e.theme,u=e.copyOverrides,m=void 0===u?{}:u,g=e.fileAccept;const b=Object(h.d)(m),_=b.uploadCta,k=b.uploadCtaMobile,y=b.validFileTypes,j=f(_,k,y,a);return i.a.createElement("label",{className:"relative pointer w100p h100p",onDragLeave:o,onDragEnter:s,onDrop:c,onDragOver:e=>e.preventDefault()},i.a.createElement("div",{className:Object(p.a)("hide","block-md","bg-grey-100","hover-border-".concat(d["primary-light"]),"border","border-dashed","radius2px","w100p","h100p","transition-all","relative",t?"border-".concat(d["primary-light"]):"border-grey-500")},i.a.createElement(v,{onFileSelect:l,fileAccept:g}),i.a.createElement("div",{className:"flex flex-column items-center justify-center w100p h100p text-center"},i.a.createElement("div",{className:"w11 lh11 mb3 shadow-2 radius100p bg-white"},i.a.createElement(r.a,{name:n,size:"large",atoms:["valign-middle"]})),j)),i.a.createElement("div",{className:Object(p.a)("block","hide-md","bg-white","shadow-2","radius2px","w100p","h100p","relative",t>0&&"border border-".concat(d["primary-light"]))},i.a.createElement(v,{onFileSelect:l}),i.a.createElement("div",{className:"flex flex-column items-center justify-center w100p h100p text-center"},i.a.createElement(r.a,{name:n,size:"large"}),j)))};n.d(t,"h",function(){return b}),n.d(t,"g",function(){return _}),n.d(t,"d",function(){return v}),n.d(t,"c",function(){return k}),n.d(t,"b",function(){return j}),n.d(t,"f",function(){return O}),n.d(t,"e",function(){return x}),n.d(t,"a",function(){return g});const b={bytes:0,contentTypes:[],megabytes:0},_={changeFile:Object(d.b)("uploaders.Change_file"),deleteFile:Object(d.b)("uploaders.Delete_file"),deletingFile:Object(d.b)("uploaders.Deleting_file"),uploadCta:Object(d.b)("uploaders.Select_a_file"),uploadCtaMobile:Object(d.b)("uploaders.Upload_a_file"),feelFreeToMoveOn:Object(d.b)("uploaders.Feel_free_to_move_on_file"),validFileTypes:null},v=e=>{let t=e.atoms,n=void 0===t?[]:t,a=e.onFileSelect,r=e.tabIndex,o=void 0===r?0:r,s=e.fileAccept;return i.a.createElement("input",{accept:s,className:Object(p.a)(["absolute","t0","l0","w100p","h100p","z-1","keyboard-focusable",...n]),type:"file",tabIndex:o,onChange:e=>e.target.files&&e.target.files.length>0&&a(e.target.files[0])})},k=e=>{let t=e.onCloseDeleteAssetModal,n=void 0===t?N:t,a=e.onOpenDeleteAssetModal,o=void 0===a?N:a,l=e.displayImageUrl,u=e.state,m=e.onDeleteAsset,p=e.onFileSelect,f=e.SupplementalComponent,g=void 0===f?null:f,b=e.SupplementalComponentControl,_=void 0===b?null:b,k=e.copyOverrides,y=void 0===k?{}:k;const j=u.asset,E=u.isDeleting,w=u.isDisabled,S=u.isShowingDeleteAssetModal,O=void 0!==S&&S,C=Object(h.d)(y),x=C.changeFile,T=C.deleteFile,I=C.deletingFile;return i.a.createElement("div",null,i.a.createElement("div",{className:"bg-white shadow-2 p2 mb4"},i.a.createElement("div",{className:"aspect-ratio aspect-ratio--16x9"},j&&i.a.createElement("img",{className:"aspect-ratio--override border border-grey-400 radius2px",src:l,alt:Object(d.b)("uploaders.Preview_of_your_uploaded_file")})),i.a.createElement("div",{className:"mt2 flex flex-row justify-start items-center"},_,i.a.createElement(s.e,{atoms:["ksr-tooltip","tooltip-small"],theme:"support",size:"small",disabled:w,tooltip:x},i.a.createElement("label",{className:"pointer lh0"},i.a.createElement(v,{atoms:["text-indent100p"],tabIndex:-1,onFileSelect:p}),i.a.createElement(r.a,{name:"icon--upload",label:x}))),i.a.createElement(s.e,{atoms:["ml1"],theme:"support",size:"small",disabled:w,onClick:o},E?i.a.createElement(r.a,{name:"loading-spin",label:I}):i.a.createElement(r.a,{name:"trash",label:T}))),O&&i.a.createElement(c.a,{headerCopy:Object(d.b)("uploaders.Are_you_sure"),size:"small",onClose:n},i.a.createElement("p",{className:"m0 text-center"},Object(d.b)("uploaders.This_action_cannot_be_undone")),i.a.createElement(c.c,{theme:"destroy",onClick:m},T))),g)},y=e=>{let t=e.progress,n=e.theme;return i.a.createElement(O,{progress:t,barAtoms:["bg-".concat(n["primary-light"])],message:u.a.percent(t,{precision:0})})},j=e=>{let t=e.isDeleting,n=e.onFileSelect,a=e.theme,s=e.timeElapsed,c=e.copyOverrides,l=void 0===c?{}:c;const u=Object(h.d)(l).feelFreeToMoveOn;let m,p;return s>3e5?(m=Object(d.b)("uploaders.Finalizing"),p=i.a.createElement(d.a,{i18nKey:"uploaders.This_is_taking_longer_than_it_should",tryAgainButton:t?i.a.createElement(r.a,{name:"loading-spin"}):i.a.createElement("label",{className:"pointer red-500 inline-block"},i.a.createElement(v,{onFileSelect:n}),i.a.createElement(o.a,{type:"caption-200",atoms:[a["primary-dark"]]},Object(d.b)("uploaders.Try_again")))})):s>12e4?(m=Object(d.b)("uploaders.Still_processing"),p=u):(m=Object(d.b)("uploaders.Processing"),p=u),i.a.createElement(O,{barAtoms:["bg-".concat(a["primary-light"]),"animation-pulse","animation-500"],message:m,secondaryMessage:p})},E=e=>{let t=e.isDeleting,n=e.onTryAgain;return i.a.createElement(O,{barAtoms:["bg-red-500"],message:i.a.createElement(d.a,{i18nKey:"uploaders.Oh_no_upload_failed",retryButton:t?i.a.createElement(r.a,{name:"loading-spin"}):i.a.createElement("button",{className:"p0 red-500",onClick:n},i.a.createElement(o.a,{type:"body-200"},Object(d.b)("uploaders.Try_again_question")))})})},w=e=>{let t=e.errors,n=e.onUploadReset;const a=t.map((e,t)=>i.a.createElement(o.a,{key:"uploader-error-".concat(t),type:"body-200",color:"soft-block",atoms:["block"]},e));return i.a.createElement("div",{className:"w100p h100p p2 bg-white shadow-2 radius2px"},i.a.createElement("div",{className:"flex flex-column w100p h100p text-center"},i.a.createElement("div",{className:"grow1 justify-center flex items-center"},i.a.createElement("div",null,i.a.createElement(r.a,{name:"icon--alert",size:"large",atoms:["fill-red-500","mb1"]}),a)),i.a.createElement(s.e,{theme:"support",atoms:["w100p"],onClick:n},Object(d.b)("uploaders.Okay"))))},S=()=>{throw new Error("Implement me!")},O=e=>{let t=e.progress,n=void 0===t?100:t,a=e.barAtoms,r=void 0===a?[]:a,c=e.message,l=e.secondaryMessage,d=e.secondaryCTA,m=void 0===d?null:d;const h=Object(p.a)(n<100&&"bg-grey-400","my2 my4-md w100p"),f=u.a.percent(n/100*100,{precision:0});return i.a.createElement("div",{className:"w100p h100p"},i.a.createElement("div",{className:"flex flex-column items-center justify-center h100p px5 px7-md bg-white border border-dashed border-grey-500"},i.a.createElement(o.a,{type:"body-200",atoms:["dark-grey-500"]},c),i.a.createElement("div",{className:h,style:{height:"2px"}},i.a.createElement("div",{className:r.concat(["h100p","transition-all"]).join(" "),style:{width:f}})),l&&i.a.createElement(o.a,{type:"caption-200",color:"dark-grey-500",atoms:["text-center"]},l),m&&i.a.createElement(s.c,{type:"button",className:"type-14 text-underline mt1 dark-grey-500",onClick:m.action},m.message)))},C=e=>{let t=e.children;return i.a.createElement(l.a,{height:28,mdHeight:35},t)},N=()=>{},x=e=>{let t=e.UploadSuccess,n=void 0===t?S:t,a=e.FailureState,r=void 0===a?E:a,o=e.UploadingState,s=void 0===o?y:o,c=e.ProcessingState,l=void 0===c?j:c,d=e.EmptyState,u=void 0===d?g:d,p=e.InvalidState,h=void 0===p?w:p,f=e.Layout,_=void 0===f?C:f;return e=>{let t=e.state,a=e.onDeleteAsset,o=e.onDragLeave,c=e.onDragEnter,d=e.onDrop,p=e.onFileSelect,f=e.onUploadReset,g=e.onCloseDeleteAssetModal,v=void 0===g?N:g,k=e.onOpenDeleteAssetModal,y=void 0===k?N:k,j=e.theme,E=void 0===j?m.a:j,w=e.currentTime,S=void 0===w?Date.now():w,O=e.uploadLimit,C=void 0===O?b:O,x=e.videoOptions,T=void 0===x?{supportsCaptions:!1,onCloseShowingCaptions:N,onOpenShowingCaptions:N,importTrack:N,confirmDeleteCaption:N,updateCaptionSelect:N,captionCreated:N,cancelDeleteCaption:N,captionDeleted:N,videoId:null}:x;const I=t.activeDragCounter,D=t.isDeleting,P=t.progress,A=t.uploaderStatus,R="FAILED"===A,F="PROCESSING"===A,L="SUCCESSFUL"===A,M="UPLOADING"===A,U="INVALID"===A,B="EMPTY"===A||"MISSING"===A,q=null!==t.uploadedAt?S-t.uploadedAt:0;return L?i.a.createElement(n,{state:t,onFileSelect:p,onDeleteAsset:a,onCloseDeleteAssetModal:v,onOpenDeleteAssetModal:y,theme:E,videoOptions:T}):i.a.createElement(_,null,R&&i.a.createElement(r,{isDeleting:D,onTryAgain:a}),M&&i.a.createElement(s,{progress:P,theme:E}),F&&i.a.createElement(l,{isDeleting:D,onFileSelect:p,theme:E,timeElapsed:q}),U&&i.a.createElement(h,{errors:t.errors,onUploadReset:f}),B&&i.a.createElement(u,{activeDragCounter:I,onDragLeave:o,onDragEnter:c,onDrop:d,onFileSelect:p,iconName:"icon--upload",theme:E,uploadLimit:C}))}}},Mk9X:function(e,t,n){n("+2Rf");!function(e){function t(t,n){this.$field=t,this.options=e.extend({on_invalid:null,format:"%H:%M %z",am:"am",pm:"pm"},n),this._value=this._current_time_from_field(),this._attach()}e.fn.time_field=function(n){return e(this).each(function(){new t(e(this),n)})},e.extend(t.prototype,{_attach:function(){var e=this;e.$field.bind("blur",function(){e._handle_edit()}),this.$field.bind("time_field:set_time",function(t,n){e.set_time(n)})},_s_to_time:function(e){if("object"==typeof Date.Parsing){var t=Date.parse(e);return t?t.toString("HH:mm"):this.options.on_invalid}var n,a=e.match(/^\s*(\d\d?)(:(\d\d))?\s*([ap]m?)?\s*$/i),i=!a;if(!i){var r=+a[1]%12,o=+a[3]||0,s=(a[4]||"").match(/p/i);a[4]||(s=+a[1]>=12),+a[1]>23&&(i=!0),+a[1]>12&&a[4]&&(i=!0),o>59&&(i=!0),+a[1]<1&&a[4]&&(i=!0);var c=""+(r+(s?12:0));1===c.length&&(c="0"+c);var l=""+o;1===l.length&&(l="0"+l),n=c+":"+l}return i?this.options.on_invalid:n},_time_to_s:function(t){if("object"==typeof Date.Parsing){var n=Date.parse(t);return n?n.toString("h:mm tt"):this.options.on_invalid}var a=t&&t.match(/(\d\d):(\d\d)/);if(a){var i=this.options.format,r=+a[1],o=+a[2],s=r>=12?this.options.pm:this.options.am,c=""+(r%12?r%12:12),l=""+o;return 1===l.length&&(l="0"+l),e([["%Hh",r],["%H",c],["%M",l],["%z",s]]).each(function(e,t){i=i.replace(t[0],t[1])}),i}return""},_current_time_from_field:function(){return this._s_to_time(this.$field.val())},_reset_field_value:function(){this._value!==this._current_time_from_field()&&this.$field.val(this._time_to_s(this._value))},set_time:function(e){e!==this._value&&(this._value=e,this.$field.trigger("time_field:time_changed",this._value)),this._reset_field_value()},_handle_edit:function(){var e=this._current_time_from_field();this.set_time(e)}})}(n("+2Rf"))},MqPi:function(e,t,n){"use strict";n.d(t,"b",function(){return s});var a=n("prSB"),i=n("0fse"),r=n("NSfo"),o=n("KPfJ");const s={modalType:"",opened:!1,modalStack:[]};t.a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROJECT_MODAL_OPEN":const n=Object(a.a)({},e,{modalType:t.modalType,opened:!0,modalStack:[...e.modalStack,t.modalType]});return t.tracking?Object(i.f)(n,i.a.action(Object(r.b)("Modal Dialog View",{modal_title:t.modalType}))):n;case"PROJECT_MODAL_CLOSE":let s={modalStack:e.modalStack.slice(0,-1)};return 1===e.modalStack.length?(s.opened=!1,s.modalType=""):(s.opened=!0,s.modalType=s.modalStack.slice(-1)[0]),Object(i.f)(Object(a.a)({},e,{},s),i.a.action(Object(o.a)()));default:return e}}},N4mw:function(e,t,n){var a=n("Yoag"),i=n("KF6i"),r=n("ERuW"),o=n("Kfv+");e.exports=function(e){var t=r(e),n=o[t];if("function"!=typeof n||!(t in a.prototype))return!1;if(e===n)return!0;var s=i(n);return!!s&&e===s[0]}},N83F:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("7cf5"),i=n("q1tI"),r=n("ocnG"),o=n("Qbqs");let s;!function(e){e.top="top",e.bottom="bottom",e.left="left",e.right="right"}(s||(s={}));const c=e=>{let t=e.children,n=e.direction,s=void 0===n?"top":n,c=e.start,l=void 0===c?"100%":c,d=e.end,u=void 0===d?0:d,m=Object(a.a)(e,["children","direction","start","end"]);return i.createElement(r.a,Object.assign({},m,{transitions:[Object(o.a)(),Object(o.c)({start:l,end:u,direction:s})]}),t)}},NSfo:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});n("prSB"),n("SmhT");const a=(e,t,n)=>({type:"TRACKING_TRACK_EVENT",name:e,properties:t,options:n}),i=e=>({type:"BULK_TRACKING_TRACK_EVENT",actions:e})},NjHa:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"toggleSelect",function(){return w}),n.d(a,"onBlur",function(){return S}),n.d(a,"closeSelect",function(){return O}),n.d(a,"changeSelectedIndex",function(){return C}),n.d(a,"changeHighlightedIndex",function(){return N}),n.d(a,"onKeyDown",function(){return x}),n.d(a,"onListScroll",function(){return T}),n.d(a,"noopAction",function(){return I}),n.d(a,"selectedValueUpdated",function(){return D});var i={};n.r(i),n.d(i,"loadAsync",function(){return ne}),n.d(i,"startFetchTimer",function(){return ae}),n.d(i,"timerExpired",function(){return ie}),n.d(i,"onLoadSuccess",function(){return re}),n.d(i,"onLoadFailure",function(){return oe}),n.d(i,"noopAction",function(){return se});var r=n("q1tI"),o=n.n(r),s=n("i8i4"),c=n.n(s),l=n("z+X6"),d=n("0fse"),u=n("prSB"),m=n("MgNI"),p=n("n+nq"),h=n("94td");const f="no reward";var g=n("7cf5"),b=n("/IHD"),_=n("I8yn"),v=n("9jZ4"),k=n("SmhT"),y=n("2DJ9"),j=n("RBqt"),E=n("4+Ta");const w=()=>({type:"TOGGLE_SELECT"}),S=()=>({type:"ON_BLUR"}),O=()=>({type:"CLOSE_SELECT"}),C=(e,t)=>({type:"CHANGE_SELECTED_INDEX",newSelectedIndex:e,trackingId:t}),N=e=>({type:"CHANGE_HIGHLIGHTED_INDEX",newHighlightedIndex:e}),x=(e,t)=>({type:"ON_KEYDOWN",keyCode:e,options:t}),T=()=>({type:"ON_LIST_SCROLL"}),I=()=>({type:"NOOP"}),D=e=>({type:"SELECT_ON_VALUE_UPDATE",value:e});var P=n("udTa"),A=n("2UXI"),R=n("Tge+");const F=(e,t)=>n=>(a,i)=>{if(i.namespace&&i.namespace!==e)return a;switch(i.type){case"TOGGLE_SELECT":const e=a.isOpen?U:M;return Object(d.f)(Object(u.a)({},a,{isOpen:!a.isOpen,highlightedIndex:a.currentIndex}),d.a.run(e,{args:[n]}));case"CLOSE_SELECT":return Object(d.f)(Object(u.a)({},a,{isOpen:!1,isKeySelectionEngaged:!1}),d.a.run(U,{args:[n]}));case"ON_BLUR":return Object(d.f)(Object(u.a)({},a,{isKeySelectionEngaged:!1}),d.a.run(L,{successActionCreator:t.closeSelect}));case"CHANGE_SELECTED_INDEX":const r=Object(R.b)(a,i.newSelectedIndex),o=r.currentIndex!==a.currentIndex?d.a.run(B,{args:[n,i.trackingId]}):d.a.none;return Object(d.f)(r,o);case"ON_KEYDOWN":return Object(R.c)(a,i.keyCode,i.options);case"ON_LIST_SCROLL":return Object(u.a)({},a,{isKeySelectionEngaged:!1});case"CHANGE_HIGHLIGHTED_INDEX":return Object(u.a)({},a,{highlightedIndex:i.newHighlightedIndex});case"NOOP":default:return a}},L=Object(P.a)(0,()=>Promise.resolve()),M=e=>{Object(A.d)("Opened Select",{context:e})},U=e=>{Object(A.d)("Closed Select",{context:e})},B=(e,t)=>{Object(A.d)("Selected Item",{context:e,id:t})},q=()=>{},$=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(b.c)();const t=Object(E.b)(e)(a),n=F(e,t),i=V(t);return{namespace:e,actions:t,reducer:n,Component:i}},H={"x-small":{heightSize:"h5",typeSize:"body-100",yPaddingClass:"py1",xPaddingClass:"px2 px3-sm"},small:{heightSize:"h7",typeSize:"body-100",yPaddingClass:"py1",xPaddingClass:"px2 px3-sm"},medium:{heightSize:"h9",typeSize:"subhead-300",yPaddingClass:"py2",xPaddingClass:"px3"}},V=e=>t=>{let n=t.state,a=t.dispatch,i=Object(g.a)(t,["state","dispatch"]);return o.a.createElement(z,{state:n,onOptionSelect:(t,n,i,r)=>{r.stopPropagation(),a(e.changeSelectedIndex(t,i)),a(e.selectedValueUpdated(n))},onOptionHover:t=>{a(e.changeHighlightedIndex(t))},onBlur:t=>{setTimeout(((t,n,a)=>{n.contains(a.activeElement)||t(e.onBlur())}).bind(null,a,t.currentTarget,document),0)},onDropdownContainerClick:t=>{t.stopPropagation(),a(e.toggleSelect())},onKeyDown:(t,n,i)=>{const r=i.which,o=[k.c,k.l,k.d,k.b,k.n,...k.h];(r===k.m&&t||o.includes(r))&&(i.preventDefault(),a(e.onKeyDown(r,n)))},onListScroll:()=>{a(e.onListScroll())},hasErrors:i.hasErrors,options:i.options,titleString:i.titleString,placeholder:i.placeholder,size:i.size,toLabel:i.toLabel,toValue:i.toValue,atoms:i.atoms})},z=e=>{let t=e.state,n=e.onOptionSelect,a=e.onOptionHover,i=e.onBlur,r=e.onDropdownContainerClick,s=e.onKeyDown,c=e.onListScroll,l=e.hasErrors,d=void 0!==l&&l,u=e.options,m=void 0===u?[]:u,p=e.titleString,h=void 0===p?"":p,f=e.placeholder,g=void 0===f?"":f,k=e.toLabel,y=void 0===k?Object(v.g)("label"):k,j=e.toValue,E=void 0===j?Object(v.g)("value"):j,w=e.size,S=void 0===w?"medium":w,O=e.atoms,C=void 0===O?[]:O;const N=t.isOpen,x=t.currentIndex,T=H[S],I=T.heightSize,D=T.typeSize,P=T.yPaddingClass,A=T.xPaddingClass,R=Object(b.a)("absolute","w100p","border","p1","bg-white","mt1","mb10","radius2px","z-dropdown-3","scroll-y","max-h25",D,C,"border-soft-black",!N&&"visually-hide"),F=null!==x?m[x]:null;return o.a.createElement("div",{className:"soft-black"},h&&o.a.createElement("label",{className:"mb2 medium type-13 type-14-md soft-black","aria-hidden":"true"},h),o.a.createElement("div",{role:"listbox","aria-labelledby":"custom-select-heading-label",onBlur:i,onKeyDown:Object(_.a)(s,N,m),className:"relative w100p pointer input-keyboard-focusable-soft-black"},o.a.createElement(W,{onDropdownContainerClick:r,label:F?y(F):g,color:F?"soft-black":"dark-grey-500",hasErrors:d,heightSize:I,typeSize:D,yPaddingClass:P,xPaddingClasses:A}),o.a.createElement("ul",{onScroll:c,className:R,role:"presentation"},K({state:t,options:m,isOpen:N,onOptionSelect:n,onOptionHover:a,toValue:E,toLabel:y,typeSize:D,yPaddingClass:P}))))},W=e=>{let t=e.color,n=e.hasErrors,a=e.heightSize,i=e.label,r=e.onDropdownContainerClick,s=e.typeSize,c=e.yPaddingClass,l=e.xPaddingClasses;const d=Object(b.a)(["border",n?"border-red-400":"border-grey-500","hover-border-soft-black","transition-all","radius2px",c,l,"bg-white flex","items-center",a,"input-keyboard-focusable-soft-black"]);return o.a.createElement("div",{className:d,onClick:r,"aria-hidden":"true","aria-label":Object(h.b)("components.custom_select.select_an_option"),tabIndex:"0"},o.a.createElement(j.a,{id:"custom-select-heading-label",type:s,atoms:["grow1","text-truncate","pr1","book",t]},i),o.a.createElement(y.a,{name:"delta-down",size:"small",atoms:["shrink0"]}))},K=e=>{let t=e.state,n=e.options,a=e.onOptionSelect,i=e.onOptionHover,r=e.toValue,s=e.toLabel,c=e.typeSize,l=e.yPaddingClass,d=e.isOpen;return n.map((e,n)=>{const u=t.currentIndex===n,m=t.highlightedIndex===n;return o.a.createElement(Y,Object.assign({onOptionSelect:Object(_.a)(a,n,e,r(e)),onOptionHover:Object(_.a)(i,n),isKeySelectionEngaged:t.isKeySelectionEngaged,key:n},{option:e,isCurrent:u,isHighlighted:m,isOpen:d,toLabel:s,typeSize:c,yPaddingClass:l}))})},Y=e=>{let t=e.option,n=e.onOptionSelect,a=e.onOptionHover,i=e.isKeySelectionEngaged,r=e.isCurrent,s=e.isHighlighted,c=e.isOpen,l=e.toLabel,d=e.typeSize,u=e.yPaddingClass;const m=Object(b.a)(["px2 flex items-center transition-all lh3 soft-black"],s?["bg-grey-400"]:[],u);return o.a.createElement("li",{role:"option",tabIndex:c?"0":"-1","aria-selected":r,onClick:n,onMouseEnter:a,className:m,onKeyDown:q,onFocus:q,ref:e=>{e&&e.parentElement&&s&&i&&(e.parentElement.scrollTop=e.offsetTop+e.offsetHeight-e.parentElement.offsetHeight)}},o.a.createElement(j.a,{id:"custom-select-heading-label",type:d,atoms:["mr2"]},l(t)),r&&o.a.createElement("span",{className:"radius100p shrink0 h3 w3 bg-ksr-green-400} inline-flex justify-center items-center"},o.a.createElement(y.a,{name:"check",size:"9",atoms:["relative","fill-white"]})))},G={selectedReward:{id:null,totalCost:null,pledgeCost:null,projectMin:0,shippingCost:0,shippingLocation:void 0,shippingRequired:!1,truncated:null,doNotPin:!1},pledgeData:{currencySymbol:"$",defaultPledge:{amount:100,min:10},isRight:!1,isSymbolic:!1},validation:{touched:{},errors:{},fields:["pledgeAmount","pledgeWithNoReward","shippingLocation"],serverErrors:[]}},J={id:"",backsThis:!1,conversionEstimate:"",title:"",description:"",unavailable:!1,backersCount:"",campaignSuccessful:!1,campaignLive:!1,managePath:"",maxPledge:!1,minPledge:{amount:"",symbol:"",formatted:""},items:[],deliveryDate:"",shippingSummary:"",endsAt:"",limitExists:!1,limit:"",offsetHeight:null,remainingItems:"",shippingRulesStatus:"unloaded",memoizedShippingOption:{}},Q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selectedIndex,n=void 0===t?null:t,a=e.isOpen,i=void 0!==a&&a,r=e.isKeySelectionEngaged,o=void 0!==r&&r;return{isOpen:i,isKeySelectionEngaged:o,currentIndex:n,highlightedIndex:n}}(),X={titleString:Object(h.b)("project_page.reward.Shipping_destination"),placeholder:Object(h.b)("project_page.reward.Select_a_country"),options:[]};var Z=n("riAN");const ee=function(e){if("number"!=typeof(t=e)&&!/^\d+$/.test(t)){let t=/(\d)+/g;return m.maybe.fromNullable(e.toString().match(t)).map(e=>e.join("")).getOrElse("")}var t;return e},te=function(e){if("number"!=typeof(t=e)&&!/^(\d|\.)+$/.test(t)){let t=/(\d|\.)+/g;return m.maybe.fromNullable(e.toString().match(t)).map(e=>e.join("")).getOrElse("")}var t;return e},ne=((e=>t=>{const n=e=>t.slice(0,e.length)===e,a=e.filter(e=>e.patterns.some(n));return a.length?a[0]:Z.b})(Z.i),(e=>t=>{const n=e.filter(e=>t===e.type);return n.length?n[0]:Z.b})(Z.i),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{type:"ASYNC_LOAD_INIT",queryArgs:t}}),ae=e=>({type:"ASYNC_START_TIMER",queryArgs:e}),ie=e=>({type:"ASYNC_TIMER_EXPIRED",queryArgs:e}),re=e=>({type:"ASYNC_LOAD_SUCCESS",data:e}),oe=e=>({type:"ASYNC_LOAD_FAIL",queryArgs:e}),se=()=>({type:"NOOP"});var ce=n("pj8f"),le=n("eEls");const de=(e,t,n)=>(a,i)=>{if(i.namespace&&i.namespace!==t)return a;switch(i.type){case"ASYNC_LOAD_INIT":return ue(a,{populationQuery:n,queryArgs:i.queryArgs,namespace:i.namespace,startTimer:e.startFetchTimer,onLoadSuccess:e.onLoadSuccess,onLoadFailure:e.onLoadFailure});case"ASYNC_LOAD_SUCCESS":return me(a);case"ASYNC_LOAD_FAIL":return pe(a);case"ASYNC_START_TIMER":return ge(a,i.namespace,i.queryArgs,e.timerExpired);case"ASYNC_TIMER_EXPIRED":return be(a,e.loadAsync,n,i.queryArgs);default:return a}},ue=(e,t)=>{let n=t.populationQuery,a=t.queryArgs,i=t.namespace,r=t.startTimer,o=t.onLoadSuccess,s=t.onLoadFailure;return Object(d.f)(Object(u.a)({},e,{loadStatus:"trying"}),d.a.list([d.a.run(he,{args:[{populationQuery:n,queryArgs:a,onLoadSuccess:o,onLoadFailure:s}],successActionCreator:le.c,failActionCreator:le.c}),d.a.action(r(i,a))],{batch:!0}))},me=e=>Object(u.a)({},e,{loadStatus:"loaded"}),pe=e=>Object(u.a)({},e,{loadStatus:"unloaded"}),he=e=>{let t=e.populationQuery,n=e.queryArgs,a=e.onLoadSuccess,i=e.onLoadFailure;return t(...n).then(e=>(e.errors&&Promise.reject(e.errors),a(e.data))).catch(e=>(e.map(e=>ce.Honeybadger.notify(e)),i(n)))},fe=(e,t,n,a)=>Object(P.a)(a,()=>e(t,n))(t,n),ge=(e,t,n,a)=>Object(d.f)(e,d.a.run(fe,{args:[a,t,n,e.fetchTimeout]})),be=(e,t,n,a)=>{const i=e.loadStatus,r=e.currentFetchRetries,o=e.maxFetchRetries,s=r+1;return"loaded"===i||o<s?e:Object(d.f)(Object(u.a)({},e,{currentFetchRetries:s}),d.a.action(t(n,a)))};var _e=n("gN63");const ve=e=>Object(_e.d)("\n  query($rewardId: ID!) {\n    reward: node (id: $rewardId) {\n      ... on Reward {\n        shippingRulesExpanded {\n          nodes {\n            id\n            cost {\n              amount\n              symbol\n            }\n            location {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n",{rewardId:e});var ke=n("CgNg"),ye=n("8oY9"),je=n("GN4d");const Ee={loadStatus:"unloaded",currentFetchRetries:0,maxFetchRetries:3,fetchTimeout:1e3};var we=n("lTkF"),Se=n("pTxv"),Oe=n("lHf8"),Ce=n("uT+I"),Ne=n("EoiL"),xe=n("T8n5");const Te=()=>o.a.createElement(Ce.a,{atoms:["mb3"]},o.a.createElement(j.a,{type:"caption-100",color:"white",weight:"bold",atoms:["absolute t0 l3 inline-block py1 px2 bg-blue-500"]},Object(h.b)("project_page.reward.You_selected"))),Ie=e=>{let t=e.reward;const n=!e.unavailable&&t.campaignLive&&t.endsAt,a=t.campaignLive&&t.limitExists;return o.a.createElement(Ce.a,{atoms:["mt3"]},n&&o.a.createElement(Fe,{end:t.endsAt}),n&&a&&"• ",a&&o.a.createElement(Be,{remaining:t.remainingItems,limit:t.limit}),o.a.createElement(j.a,{type:"caption-100",color:"dark-grey-500",atoms:["block"]},Object(h.b)("project_page.reward.backers_count.other",{formatted_count:t.backersCount})))},De=e=>{let t=e.onClick,n=e.surveys;return o.a.createElement("div",null,o.a.createElement(Se.c,{size:"small",theme:"trust",atoms:["mt3"],onClick:t},Object(h.b)("project_page.reward.Backer_report")),o.a.createElement(We,{surveys:n}))},Pe=e=>{let t=e.onClick,n=e.serverErrors,a=void 0===n?[]:n;return o.a.createElement("div",null,!!a.length&&o.a.createElement("ul",{className:"red-500 pt3"},a.map(e=>o.a.createElement("li",{key:e.message},e.message))),o.a.createElement(Se.c,{theme:"create",atoms:["mt3 w100p"],onClick:t},Object(h.b)("project_page.reward.Continue")))},Ae=e=>{let t=e.amount,n=e.atoms;return o.a.createElement("div",{className:"basis100p"},o.a.createElement(j.a,{color:"dark-grey-500",atoms:n},Object(h.b)("project_page.reward.Estimated_conversion",{amount:t})))},Re=(e,t)=>o.a.createElement(we.a,{format:e,date:t}),Fe=e=>{let t=e.end;return o.a.createElement("div",{className:"inline pledge__limit ksr_page_timer","data-end_time":t},o.a.createElement("span",{className:"js-num"})," ",o.a.createElement("span",{className:"js-text"})," ")},Le=e=>t=>{let n=t.atoms,a=t.info;return o.a.createElement(Ce.a,{atoms:["basis50p"]},o.a.createElement(j.a,{color:"dark-grey-500",atoms:n},e),o.a.createElement(j.a,{color:"soft-black",atoms:["lh3"]},a))},Me=Le(Object(h.b)("project_page.reward.Estimated_delivery")),Ue=e=>{let t=e.atoms,n=e.items;return o.a.createElement("div",null,o.a.createElement(j.a,{color:"dark-grey-500",atoms:t},Object(h.b)("project_page.reward.Includes")),o.a.createElement("ul",{className:"type-14 ml3 soft-black medium mb2 pl2"},n.map((e,t)=>o.a.createElement("li",{key:t,className:"list-disc"},+e.quantity>1?"".concat(e.quantity,"x ").concat(e.name):e.name))))},Be=e=>{let t=e.remaining,n=e.limit;const a=Object(h.b)("project_page.reward.rewardremaining_left_of_rewardlimit",{rewardremaining:t,rewardlimit:n});return o.a.createElement(j.a,{color:"red-500",type:"caption-100"},a)},qe=e=>{let t=e.atoms,n=void 0===t?[]:t,a=e.backed,i=e.backingAmount,r=e.continueClick,s=e.currentTotalCost,c=e.errors,l=e.onApplePayClick,d=e.onBlurField,u=e.onPledgeValueChange,m=e.onRewardClick,p=e.onRewardKeyPress,g=e.pledgeData,v=e.selected,k=e.serverErrors;const y=Object(b.a)(n,"pointer block text-left new-form",!v&&!a&&"border-grey-400",v&&"border-dark-grey-400",a?"mb0 pointer border-blue-500":"mb3"),j=Object(_.a)(m,{id:f,minPledge:g.defaultPledge});return o.a.createElement("div",{role:"button",className:y,tabIndex:"0",onClick:j,onKeyPress:Object(_.a)(p,{id:f,minPledge:g.defaultPledge})},a&&o.a.createElement(Te,null),o.a.createElement(Ne.a,{level:2,type:"subhead-300",weight:"normal",color:"soft-black",atoms:["mb3"]},Object(h.b)("project_page.reward.Make_a_pledge_without_a_reward")),o.a.createElement(Ye,{value:(()=>a?i:null!==s&&v?s:g.defaultPledge.amount)(),convert:g.convertCurrency,errors:c,onBlurField:d,onClick:j,onSelect:j,onChange:u,minPledge:g.defaultPledge,pledgeData:g,idForKey:f,idForField:"pledgeWithNoReward"}),v&&!g.applePayCapable&&o.a.createElement(Pe,{onClick:Object(_.a)(r,f),serverErrors:k}),v&&g.applePayCapable&&o.a.createElement(Ve,{applePayClick:Object(_.a)(l,f),otherPaymentClick:Object(_.a)(r,f),serverErrors:k}))},$e=e=>{let t=e.reward,n=e.active,a=e.onTruncateClick,i=void 0===a?()=>{}:a,r=e.truncateReward,s=void 0===r?()=>{}:r,c=e.truncationStatus;const l=["block text-uppercase type-10"],d=Object(b.a)(l,"ls1px"),u=Object(b.a)(l,"ls0_5px"),m=n&&"CLOSED"==c,p=n&&"EXPANDED"==c,f=m?Object(h.b)("project_page.reward.Read_more"):Object(h.b)("project_page.reward.Less"),g=Object(b.a)("mb4 relative",m&&"h9 clip"),_=m?"-0.1rem":"-2rem";return o.a.createElement("div",null,o.a.createElement(Ne.a,{level:2,type:"subhead-300",weight:"normal",color:"soft-black",atoms:["mb3"]},((e,t)=>e?Object(h.b)("project_page.reward.Pledge",{amount:t}):Object(h.b)("project_page.reward.Pledge_or_more",{amount:t}))(t.maxPledge,t.minPledge.formatted),t.convertCurrency&&o.a.createElement(Ae,{amount:t.conversionEstimate,atoms:Object(b.a)(d,"pt1")})),t.title&&o.a.createElement(Ne.a,{level:3,type:"body-200",weight:"normal",color:"soft-black",atoms:["mb3"]},t.title),o.a.createElement("div",{ref:s,className:g},(m||p)&&o.a.createElement("button",{type:"button",onClick:i,className:"absolute r0 pl6 pr2 type-14 gradient-transparent-to-white-20p",style:{bottom:_,outline:"none"}},f),t.description&&o.a.createElement(xe.a,{type:"body-100",color:"dark-grey-500",atoms:["lh3 text-prewrap"]},t.description),!!t.items.length&&o.a.createElement(Ue,{items:t.items,atoms:d})),o.a.createElement(Ce.a,{atoms:["flex"]},t.deliveryDate&&o.a.createElement(Me,{atoms:u,info:Re(t.deliveryDate.format,t.deliveryDate.date)}),t.shippingSummary&&o.a.createElement(ze,{atoms:u,info:t.shippingSummary})))},He=e=>{let t=e.consts,n=e.currentTotalCost,a=e.dispatch,i=e.onApplePayClick,r=e.onBlurField,s=e.onClick,c=e.onPledgeValueChange,l=e.pledgeData,d=e.reward,u=e.selectState,m=e.ShippingCountryDropdown,p=e.validator,h=e.validation;const f=p({fields:["shippingLocation"],state:h});return o.a.createElement("div",{className:"mt6 new-form"},t.DISPLAY_SHIPPING&&o.a.createElement("div",{className:"mb3"},o.a.createElement(m,Object.assign({state:u,dispatch:a,hasErrors:f},d.shippingRules)),o.a.createElement(je.a,{name:"shippingLocation",id:d.id,errors:f})),o.a.createElement(Ye,{convert:d.convertCurrency,errors:p({fields:["pledgeAmount"],state:h}),idForField:"pledgeAmount",idForKey:d.id,label:!0,pledgeData:l,minPledge:d.minPledge,onBlurField:r,onChange:c,value:n}),!l.applePayCapable&&o.a.createElement(Pe,{onClick:s,serverErrors:h.serverErrors}),l.applePayCapable&&o.a.createElement(Ve,{applePayClick:i,otherPaymentClick:s,serverErrors:h.serverErrors}))},Ve=e=>{let t=e.applePayClick,n=e.otherPaymentClick,a=e.serverErrors;return o.a.createElement(o.a.Fragment,null,!!a.length&&o.a.createElement("ul",{className:"red-500 pt3"},a.map(e=>o.a.createElement("li",{key:e.message},e.message))),o.a.createElement("div",{className:"mt3 pledge__applepay js-applepay"},o.a.createElement("button",{className:"btn btn--applepay btn--block",onClick:t},o.a.createElement("span",{className:"btn-text"})),o.a.createElement(Se.c,{className:"btn block text-center w100p mt2 bold text-14 dark-grey-500 other-payment-button",onClick:n},Object(h.b)("project_page.reward_form.Other_payment_options"),o.a.createElement(y.a,{name:"icon--arrow-right",size:"12",atoms:["pl2"]}))),o.a.createElement("div",{className:"mt5 text-center"},o.a.createElement(xe.a,{type:"caption-100",color:"dark-grey-400",atoms:["bold","mb0"]},Object(h.b)("project_page.reward_form.Kickstarter_is_not_a_store")),o.a.createElement(xe.a,{type:"caption-100",color:"dark-grey-400"},Object(h.b)("project_page.reward_form.Its_a_way_to_bring_creative_projects_to_life")),o.a.createElement(Oe.a,{href:"http://www.kickstarter.com/trust?ref=project_reward",target:"_blank",atoms:["type-12"]},Object(h.b)("project_page.reward_form.Learn_more_about_accountability"))))},ze=Le(Object(h.b)("project_page.reward.Ships_to")),We=e=>{let t=e.surveys;const n=!!t,a="block text-uppercase type-10 ls0_5px";return o.a.createElement(Ce.a,{atoms:["mt3 pr3"]},!n&&o.a.createElement(j.a,{atoms:a},Object(h.b)("project_page.reward.No_surveys_sent")),n&&t.map((e,t)=>{const n=!!e.count;return o.a.createElement(Ce.a,{color:"dark-grey-500",type:"body-100",key:t},o.a.createElement(j.a,{atoms:a},Object(h.b)("project_page.reward.Survey_sent")),o.a.createElement(we.a,{format:e.format,date:e.date}),n&&o.a.createElement(j.a,null," ","·"," ",Object(h.b)("project_page.reward.responses",{responses:e.count})," "))}))},Ke=()=>o.a.createElement("div",null,o.a.createElement(j.a,{type:"caption-100",color:"soft-black",weight:"bold",atoms:["inline-block p2 mt3 bg-grey-400"]},Object(h.b)("project_page.reward.Reward_no_longer_available"))),Ye=e=>{let t=e.convert,n=e.errors,a=e.idForField,i=e.idForKey,r=e.label,s=e.minPledge,c=e.onBlurField,l=e.onChange,d=e.onClick,u=e.onSelect,m=e.pledgeData,p=e.value,f=void 0===p?s.amount:p;const g=Object(b.a)("new-form__amount",m.isRight&&"new-form__amount--right",m.isSymbolic&&"new-form__amount--symbol"),_=r?Object(h.b)("project_page.reward_form.Pledge_amount"):null,v=Math.floor(+f*m.currentFxRate),k="".concat(m.currentCurrencySymbol).concat(v);return o.a.createElement(o.a.Fragment,null,o.a.createElement(ye.a,{errors:n,id:a,key:"key-".concat(a),label:_}),o.a.createElement("div",{className:"relative"},o.a.createElement(ke.b,{atoms:g,autoComplete:"off",hasErrors:!!n,id:a,inputAtoms:["new-form__input--numbers"],inputValue:te(f),name:"name",onBlur:c,onChange:l,onClick:d,onSelect:u}),o.a.createElement("div",{key:i,className:"new-form__currency-box"},o.a.createElement("span",{className:"new-form__currency-box__text"},(e=>{let t=e.currencySymbol,n=e.usdSymbol;return"$"===t&&"international"===n?"US$":t})(m)))),!!t&&o.a.createElement(Ae,{key:"currency-".concat(i),amount:k,atoms:["block text-uppercase type-10 ls1px pt2"]}),o.a.createElement(je.a,{errors:n,name:"name",id:a,key:"key-".concat(name,"-").concat(n)}))},Ge=e=>(e=>(function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(t,"_asyncSelect");const a=$(t),r=a.Component,s=a.reducer,c=Object(E.b)(t)(i),l=e=>{let t=e.state,n=e.dispatch,a=Object(g.a)(e,["state","dispatch"]);return o.a.createElement(r,Object.assign({state:t,dispatch:n,size:"x-small"},a))};return{Component:l,reducers:{["".concat(t,"-select")]:s(n),["".concat(t,"-async")]:de(c,t,e)},actions:c,namespace:t}}))(ve)(e),Je=(e,t,n)=>{if(!Array.isArray(n))return{rewardsList:{},rewardsListOrder:[]};return{rewardsList:n.reduce((n,a)=>(n[a.id]=Object(u.a)({},e,{},a,{shippingRules:t}),n),{}),rewardsListOrder:n.sort((e,t)=>+e.minPledge.amount-t.minPledge.amount).map(e=>e.id)}},Qe=()=>{const e=document.getElementById("watch-project-modal");return m.maybe.fromNullable(e).chain(e=>JSON.parse(e.dataset.watch_project)).project_id},Xe=()=>{if(!window.current_checkout)return null;return{location:m.maybe.fromNullable(window.current_checkout.data.location_id).getOrElse(null),authToken:Object(p.b)(document)}},Ze=()=>window.current_project?m.maybe.fromNullable(window.current_project.data.name).getOrElse(null):null,et=e=>{const t=JSON.parse(e.availableRewards),n=JSON.parse(e.unavailableRewards),a=JSON.parse(e.backedReward),i=JSON.parse(e.pledgeData),r=(e=>{if(!Array.isArray(e))return{shippingDropdowns:{},shippingReducers:{},shippingStates:{}};return e.reduce((e,t)=>{const n=t.id,a=Ge(n),i=a.reducers,r=a.Component;return e.shippingDropdowns[n]=r,e.shippingReducers=Object.assign({},e.shippingReducers,Object(u.a)({},i)),e.shippingStates=Object.assign({},e.shippingStates,{["".concat(n,"-async")]:Ee,["".concat(n,"-select")]:Q}),e},{shippingDropdowns:{},shippingReducers:{},shippingStates:{}})})(t),o=r.shippingReducers,s=r.shippingDropdowns,c=r.shippingStates,l=Je(J,X,t),d=l.rewardsList,m=l.rewardsListOrder,p=Je(J,X,n),h=p.rewardsList,f=p.rewardsListOrder;return{hydratedState:{reward:Object(u.a)({},G,{backedReward:a,rewardsList:d,rewardsListOrder:m,unavailableRewardsList:h,unavailableRewardsListOrder:f,currentUser:Xe(),projectName:Ze(),projectId:Qe(),pledgeData:i,selectedReward:Object(u.a)({},G.selectedReward,{projectMin:i.defaultPledge.min})}),shippingSelects:c},shippingReducers:o,shippingDropdowns:s}};var tt=n("NSfo");const nt=e=>Object(_e.d)("\n  mutation ($projectId: ID!, $amount: String!, $locationId: String, $rewardId: ID) {\n    createCheckout(input: {\n        projectId: $projectId,\n        amount: $amount,\n        locationId: $locationId,\n        rewardId: $rewardId}) {\n          checkout {\n            id\n          }\n    }\n  }\n",Object(u.a)({},e));var at=n("2n5v");const it=(e,t)=>Object(u.a)({type:"ADD_MEMOIZED_SHIPPING_TO_SELECTED_REWARD"},e,{namespace:t}),rt=e=>({type:"REWARD_TOUCH_FIELD",fieldName:e}),ot=e=>({shipping_country_presence:Object(h.b)("project_page.reward_errors.Please_select_a_shipping_country"),pledge_value_presence:Object(h.b)("project_page.reward_errors.Please_enter_a_pledge_amount"),pledge_value_sufficient:Object(h.b)("project_page.reward_errors.Please_enter_a_pledge_amount_of_at_least",{amount:e})}),st=e=>[Object(at.h)("pledgeAmount","pledge_value_presence",()=>e.id===f||e.totalCost&&+e.totalCost>0),Object(at.h)("pledgeAmount","pledge_value_sufficient",()=>e.id===f||e.totalCost&&+e.totalCost>=+e.pledgeCost+e.shippingCost),Object(at.h)("pledgeWithNoReward","pledge_value_presence",()=>e.id!==f||e.totalCost&&+e.totalCost>0),Object(at.h)("pledgeWithNoReward","pledge_value_sufficient",()=>e.totalCost&&+e.totalCost>=+e.projectMin),Object(at.h)("shippingLocation","shipping_country_presence",()=>!e.shippingRequired||!!e.shippingLocation)],ct=e=>({type:"APPLE_PAY_VENDOR_ERROR",err:e});var lt=n("dIzW");const dt=()=>{document&&(document.body.classList.remove("not-apple-pay-capable"),document.body.classList.add("apple-pay-capable"))};let ut;const mt=(e,t)=>{let n;try{n=(e=>{const t=e.selectedReward.id,n=t===f?"".concat(e.projectName,": No reward"):e.rewardsList[t].title,a=(e=>{const t=e.toString();return t.includes(".")?t:t.concat(".00")})(e.selectedReward.totalCost);return{countryCode:e.pledgeData.projectCountry,currencyCode:e.pledgeData.projectCurrency,lineItems:[{label:"".concat(""===n?e.projectName:n),amount:a}],total:{label:"Kickstarter, PBC. (".concat(Object(h.b)("onloads.views.applepay.if_funded"),")"),amount:a}}})(e)}catch(e){t((e=>({type:"APPLE_PAY_REQ_FAILURE",err:e}))(e))}return n},pt=(e,t,n)=>(a,i)=>{try{Object(lt.h)()}catch(e){t((e=>({type:"APPLE_PAY_TRACKING_ERROR",err:e}))(e))}((e,t)=>{const n=e.selectedReward,a=n.id,i=n.shippingLocation,r=n.totalCost,o=i?Object(_e.a)(i):void 0;return t({projectId:e.projectId,amount:r.toString(),rewardId:a,locationId:o}).then(e=>{if(e.errors)return Promise.reject(e.errors);const t=Object(_e.a)(e.data.createCheckout.checkout.id);return{data:{checkoutURL:"/checkouts/".concat(t,"/payments")}}})})(e,n).then(t=>(function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fetch;const i={token:e,payment_type:"apple_pay",apple_pay_capable:"1",authenticity_token:n},r={method:"POST",body:JSON.stringify(i),credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"}};return a(t.data.checkoutURL,r).then(e=>e.json())})(a.token.id,t,e.currentUser.authToken)).then(e=>{((e,t)=>{if(200!==e.status)return Promise.reject(e.data.message);t(ApplePaySession.STATUS_SUCCESS),window.location.pathname="".concat(e.data.thankyou_url.replace(/\?.*$/,""))})(e,i)}).catch(e=>{t((e=>({type:"APPLE_PAY_CHECKOUT_FAILURE",err:e}))(e)),i(ApplePaySession.STATUS_FAILURE)})},ht=(e,t)=>{(ut=Stripe.applePay.buildSession(mt(e,t),pt(e,t,nt),Object(_.a)((e,t)=>e(ct(t)),t))).oncancel=lt.a,Object(lt.g)(),ut.begin()},ft=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APPLE_PAY_CHECKOUT_FAILURE":case"APPLE_PAY_REQ_FAILURE":case"APPLE_PAY_VENDOR_ERROR":case"APPLE_PAY_TRACKING_ERROR":return gt(e,t.err);default:return e}},gt=(e,t)=>Object(d.f)(e,d.a.run(bt,{args:[t]})),bt=e=>{Array.isArray(e)?e.forEach(e=>ce.Honeybadger.notify(e)):ce.Honeybadger.notify(e)},_t=(e,t)=>{switch(t.type){case"ASYNC_LOAD_SUCCESS":return St(e,t.data);case"SELECT_ON_VALUE_UPDATE":return It(e,t);case"ON_BLUR":return xt(e,t);case"APPLE_PAY_CHECKOUT_FAILURE":case"APPLE_PAY_REQ_FAILURE":case"APPLE_PAY_VENDOR_ERROR":return Et(e);case"ADD_MEMOIZED_SHIPPING_TO_SELECTED_REWARD":return jt(e,t);case"REWARD_APPLE_PAY":return Ot(e,t.dispatch,Object(_.a)(st,e.selectedReward));case"REWARD_CHECKOUT_FAILURE":return vt(e,t.err);case"REWARD_CONTINUE":return Ct(e,Object(_.a)(st,e.selectedReward));case"REWARD_REQUEST_REDIRECT":return Nt(e,t.path);case"REWARD_NEW_PLEDGE_VALUE":return Object(u.a)({},e,{selectedReward:Object(u.a)({},e.selectedReward,{totalCost:t.newValue})});case"REWARD_SAVE_OFFSET":return Object(u.a)({},e,{rewardsList:Object(u.a)({},e.rewardsList,{[t.rewardId]:Object(u.a)({},e.rewardsList[t.rewardId],{offsetHeight:t.offsetHeight})})});case"REWARD_SET_SELECTED_REWARD":return Tt(e,t.rewardFacts);case"REWARD_TOUCH_FIELD":return Object(u.a)({},e,{validation:Object(d.c)(Object(at.c)(e.validation,t.fieldName,Object(_.a)(st,e.selectedReward)))});case"REWARD_TRUNCATE_DESCRIPTION":return Object(u.a)({},e,{selectedReward:Object(u.a)({},e.selectedReward,{truncated:"CLOSED"})});case"REWARD_TRUNCATION_TOGGLE":const n="CLOSED"===e.selectedReward.truncated?"EXPANDED":"CLOSED";return Object(u.a)({},e,{selectedReward:Object(u.a)({},e.selectedReward,{truncated:n})});case"REWARD_UPDATE_APPLE_PAY":return wt(e,t);case"REWARD_FREEZE_PIN":return Object(u.a)({},e,{selectedReward:Object(u.a)({},e.selectedReward,{doNotPin:!0})});case"NOOP":default:return e}},vt=(e,t)=>Object(u.a)({},e,{validation:Object(u.a)({},e.validation,{serverErrors:t})}),kt=(e,t)=>(+ee(e)||0)+(+ee(t)||0),yt=e=>{window.location.href=window.location.pathname.replace(location.pathname,e)},jt=(e,t)=>{const n=Object(d.c)(It(e,t)),a=Object(E.a)(t.namespace)(C)(t.userLocationIndex,"Selected from user location");return Object(d.f)(n,d.a.list([d.a.action(rt("shippingLocation")),d.a.action(a)],{batch:!0}))},Et=e=>{return vt(e,[{message:"We're sorry. Something went wrong with Apple Pay. Please try another payment option or try again."}])},wt=(e,t)=>{const n=Object(u.a)({},e,{pledgeData:Object(u.a)({},e.pledgeData,{applePayCapable:t.newValue})});return t.newValue?Object(d.f)(n,d.a.run(dt)):n},St=(e,t)=>{const n=t.reward.shippingRulesExpanded.nodes.map(t=>{const n=t.cost.symbol||e.pledgeData.currencySymbol,a=+t.cost.amount>0?"(+ ".concat(n).concat(Math.round(+t.cost.amount),")"):"";return{label:"".concat(t.location.name," ").concat(a),value:+t.cost.amount,shippingLocation:t.location.id}}),a=e.selectedReward.id;let i=Object(u.a)({},e,{rewardsList:Object(u.a)({},e.rewardsList,{[a]:Object(u.a)({},e.rewardsList[a],{shippingRulesStatus:"loaded",shippingRules:Object(u.a)({},e.rewardsList[a].shippingRules,{options:n})})})});const r=n.findIndex(t=>Object(_e.a)(t.shippingLocation)==e.currentUser.location);if(r>-1){const t=n[r].value,o=kt(e.selectedReward.pledgeCost,t);i=Object(u.a)({},i,{selectedReward:Object(u.a)({},i.selectedReward,{shippingLocation:n[r].shippingLocation,shippingCost:t,totalCost:o}),rewardsList:Object(u.a)({},i.rewardsList,{[a]:Object(u.a)({},i.rewardsList[a],{memoizedShippingOption:{value:n[r],userLocationIndex:r}})})})}const o=Object(E.a)(a)(C)(r,"Selected from user location");return Object(d.f)(i,d.a.action(o))},Ot=(e,t,n)=>{return Object(at.f)(n)?Object(d.f)(e,d.a.run(ht,{args:[e,t],successActionCreator:le.c,failActionCreator:e=>ct(e)})):Object(u.a)({},e,{validation:Object(d.c)(Object(at.b)(e.validation,n))})},Ct=(e,t)=>{return Object(at.f)(t)?Object(d.f)(e,d.a.list([d.a.run(Dt,{args:[e],successActionCreator:le.c,failActionCreator:le.c}),d.a.action(Object(tt.b)("Checkout Reward Continue Click"))],{batch:!0})):Object(u.a)({},e,{validation:Object(d.c)(Object(at.b)(e.validation,t))})},Nt=(e,t)=>Object(d.f)(e,d.a.run(yt,{args:[t]})),xt=(e,t)=>t.namespace&&t.namespace===e.selectedReward.id?Object(d.f)(e,d.a.action(rt("shippingLocation"))):e,Tt=(e,t)=>{let n=t.minPledge,a=t.id,i=t.shippingEnabled;if(a===e.selectedReward.id)return e;const r=i,o=n.amount,s=kt(o,0),c=Object(u.a)({},e,{selectedReward:Object(u.a)({},e.selectedReward,{id:a,pledgeCost:o,shippingRequired:r,totalCost:s,shippingCost:0,shippingLocation:null,truncated:null,doNotPin:!1}),validation:Object(u.a)({},e.validation,{touched:{},errors:{},serverErrors:[]})}),l=e.rewardsList[a]?e.rewardsList[a].shippingRulesStatus:null,m=e.rewardsList[a]?e.rewardsList[a].memoizedShippingOption:null,p=r&&"loaded"===l?d.a.list([d.a.action(Object(tt.b)("Checkout Reward Click")),d.a.action(it(m,a))],{batch:!0}):d.a.action(Object(tt.b)("Checkout Reward Click"));return Object(d.f)(c,p)},It=(e,t)=>{const n=e.selectedReward,a=n.id,i=n.pledgeCost,r=n.totalCost,o=t.namespace,s=t.value,c=s.shippingLocation,l=s.value;if(o!==a)return e;const m=kt(i,l),p=m>r?m:r;return Object(d.f)(Object(u.a)({},e,{selectedReward:Object(u.a)({},e.selectedReward,{shippingCost:l,totalCost:p,shippingLocation:c})}),d.a.action(rt("shippingLocation")))},Dt=e=>{const t=e.selectedReward,n=t.id,a=t.shippingLocation,i=t.totalCost,r=a?Object(_e.a)(a):void 0,o=e.projectId,s=i.toString();return nt({projectId:o,amount:s,rewardId:n,locationId:r}).then(t=>{if(t.errors)return Promise.reject(t.errors);const n=Object(_e.a)(t.data.createCheckout.checkout.id),a=e.currentUser?"/checkouts/".concat(n,"/payments/new?clicked_reward=true"):"/checkouts/".concat(n,"/guest?clicked_reward=true");return yt(a),{type:"NOOP"}}).catch(e=>(e.forEach(e=>ce.Honeybadger.notify(e)),(e=>({type:"REWARD_CHECKOUT_FAILURE",err:e}))(e)))};var Pt=n("CMmH");const At=(e,t)=>{let n;return function(){const a=this,i=arguments,r=()=>{e.apply(a,i)};clearTimeout(n),n=setTimeout(r,t)}};var Rt=n("CPM0");const Ft=e=>{let t=e.active,n=e.children,a=e.dispatch,i=e.doNotPin,r=e.savedOffset,s=e.rewardId,c=e.type,l=e.onClick,d=void 0===l?()=>{}:l,u=e.onKeyPress,m=void 0===u?()=>{}:u;const p={available:{text:Object(h.b)("project_page.reward.Select_this_reward"),classes:"pledge--available"},backed_live:{text:Object(h.b)("project_page.reward.Manage_your_pledge"),classes:"pledge--backed"},backed_successful:{text:Object(h.b)("project_page.reward.View_your_pledge"),classes:"pledge--backed js-view_your_pledge"}};return o.a.createElement("div",{role:"button",ref:e=>{if(e&&"available"===c&&!r&&e.offsetTop>0)return void setTimeout(()=>a(((e,t)=>({type:"REWARD_SAVE_OFFSET",offsetHeight:t,rewardId:e}))(s,e.offsetTop)),0);if(!window||!e||!t||i)return;const n=document.getElementById("global-header"),o=n&&n.classList.contains("stick")?n.offsetHeight:0,l=document.getElementById("react-project-header"),d=l?l.offsetHeight:820;window.scrollTo(0,r+d-(o+20)),a({type:"REWARD_FREEZE_PIN"})},className:"".concat(p[c].classes," hover-group mb3 pointer block text-left"),tabIndex:"0",onClick:d,onKeyPress:m},!t&&o.a.createElement("div",{className:"pledge__hover hover-zoomout"},o.a.createElement("div",{className:"pledge__hover-content"},o.a.createElement(xe.a,{type:"body-200"},p[c].text))),n)},Lt=(e,t,n,a)=>{!n&&a&&t&&a.clientHeight>80&&e({type:"REWARD_TRUNCATE_DESCRIPTION"})};var Mt=n("w/TO");const Ut=e=>(!e.which||e.which===k.c||e.which===k.l)&&(e.which==k.l&&e.preventDefault(),!0),Bt="relative px3 pt3 pb6 border",qt=e=>{let t=e.state,n=e.dispatch,a=e.dropdowns;const i=(e,t)=>{let a=e.id,i=e.minPledge,r=e.shippingEnabled,o=e.shippingRulesStatus;if(Ut(t)){if(r&&"unloaded"===o){const e=Object(E.a)(a)(ne);n(e(Object(_e.b)("Reward",a)))}n((e=>({type:"REWARD_SET_SELECTED_REWARD",rewardFacts:e}))({id:a,minPledge:i,shippingEnabled:r}))}},r=e=>n((e=>({type:"REWARD_CONTINUE",rewardId:e}))(e)),s=e=>n((e=>({type:"REWARD_REQUEST_REDIRECT",path:e}))(e)),c=e=>n(rt(e)),l=Object(_.a)((e,t)=>e(((e,t)=>({type:"REWARD_APPLE_PAY",dispatch:e,rewardId:t}))(e,t)),n),d=At(c,750),u=(e,t)=>{n((e=>({type:"REWARD_NEW_PLEDGE_VALUE",newValue:e}))(t)),d(e)},m=t.reward.rewardsList[t.reward.rewardsListOrder[0]],p=!m||m.isCreator||m.campaignSuccessful||!m.campaignLive||t.reward.backedReward.length>0,f=!!t.reward.backedReward.length,g=!!t.reward.unavailableRewardsListOrder.length;return o.a.createElement("div",null,o.a.createElement(Ne.a,{atoms:["normal mb3 mb7-sm mobile-hide"]},Object(h.b)("project_page.reward.Support")),f&&o.a.createElement(Ht,{state:t.reward,backedRewardArray:t.reward.backedReward,onRedirectClick:s}),!p&&o.a.createElement(zt,{state:t.reward,onApplePayClick:l,onContinueClick:r,onPledgeValueChange:u,onRewardSelect:i,onValidateField:c}),p&&o.a.createElement(Vt,{state:t,onRedirectClick:s}),!p&&o.a.createElement($t,{state:t,dispatch:n,dropdowns:a,onApplePayClick:l,onContinueClick:r,onPledgeValueChange:u,onRewardSelect:i,onValidateField:c}),g&&o.a.createElement(Wt,{state:t}))},$t=e=>{let t=e.state,n=e.dispatch,a=e.dropdowns,i=e.onApplePayClick,r=e.onContinueClick,s=e.onPledgeValueChange,c=e.onRewardSelect,l=e.onValidateField;return t.reward.rewardsListOrder.map(e=>{const d=t.reward.rewardsList[e],u=e==t.reward.selectedReward.id,m=u?"border-dark-grey-400":"border-grey-400",p=u&&t.reward.selectedReward.truncated;return o.a.createElement(Ft,{active:u,dispatch:n,doNotPin:t.reward.selectedReward.doNotPin,savedOffset:d.offsetHeight,rewardId:e,type:"available",onClick:Object(_.a)(c,d),onKeyPress:Object(_.a)(c,d),key:"hover-".concat(e)},o.a.createElement(Kt,{key:e,reward:d,dispatch:n,state:t.reward,activeReward:u,atoms:Object(b.a)(Bt,"pointer",m),onApplePayClick:i,onBlurField:Object(_.a)(l,"pledgeAmount"),onContinueClick:r,onPledgeValueChange:Object(_.a)(s,"pledgeAmount"),onTruncateClick:()=>n({type:"REWARD_TRUNCATION_TOGGLE"}),ShippingCountryDropdown:a[e],selectState:t.shippingSelects["".concat(e,"-select")],truncationStatus:p}))})},Ht=e=>{let t=e.state,n=e.backedRewardArray,a=e.onRedirectClick;return n.map(e=>{const n=(e,t)=>{Ut(t)&&!e.campaignSuccessful&&a(e.managePath)},i=e.campaignSuccessful?"backed_successful":"backed_live";return e.id===f?o.a.createElement(Ft,{type:i,onClick:Object(_.a)(n,e),onKeyPress:Object(_.a)(n,e),key:"hover-".concat(e.id)},o.a.createElement(zt,{state:t,backed:!0,backingAmount:e.backingAmount})):o.a.createElement(Ft,{type:i,onClick:Object(_.a)(n,e),onKeyPress:Object(_.a)(n,e),key:"hover-".concat(e.id)},o.a.createElement(Yt,{key:e.id,reward:e,atoms:Object(b.a)(Bt,"pointer border-blue-500")}))})},Vt=e=>{let t=e.state,n=e.onRedirectClick;return t.reward.rewardsListOrder.map(e=>{const a=t.reward.rewardsList[e];return o.a.createElement(Gt,{key:e,atoms:Object(b.a)(Bt,"border-grey-400 mb3"),reward:a,backerReportClick:Object(_.a)(n,a.reportPath)})})},zt=e=>{let t=e.backed,n=e.backingAmount,a=e.state,i=e.onApplePayClick,r=void 0===i?()=>{}:i,s=e.onContinueClick,c=void 0===s?()=>{}:s,l=e.onPledgeValueChange,d=void 0===l?()=>{}:l,u=e.onRewardSelect,m=void 0===u?()=>{}:u,p=e.onValidateField,h=void 0===p?()=>{}:p;const g="\n    ".concat(a.pledgeData.currencySymbol,"\n    ").concat(a.pledgeData.defaultPledge.min);return o.a.createElement(qe,{atoms:Object(b.a)(Bt),backed:t,backingAmount:n,continueClick:c,currentTotalCost:a.selectedReward.totalCost,errors:Object(Mt.c)(ot(g))({fields:["pledgeWithNoReward"],state:a.validation}),onBlurField:Object(_.a)(h,"pledgeWithNoReward"),onApplePayClick:r,onPledgeValueChange:Object(_.a)(d,"pledgeWithNoReward"),onRewardClick:m,onRewardKeyPress:m,pledgeData:a.pledgeData,selected:a.selectedReward.id===f,serverErrors:a.validation.serverErrors})},Wt=e=>{let t=e.state;return o.a.createElement("div",null,o.a.createElement(Ne.a,{weight:"normal"},Object(h.b)("projects.rewards_list_experiment.All_gone")),t.reward.unavailableRewardsListOrder.map(e=>{const n=t.reward.unavailableRewardsList[e];return o.a.createElement(Jt,{key:e,reward:n,atoms:Object(b.a)("bg-grey-100 border-grey-400 mb3",Bt)})}))},Kt=e=>{let t=e.atoms,n=void 0===t?[]:t,a=e.reward,i=e.dispatch,r=e.activeReward,s=e.truncationStatus,c=e.ShippingCountryDropdown,l=e.selectState,d=e.state,u=e.onApplePayClick,m=e.onBlurField,p=e.onContinueClick,h=e.onPledgeValueChange,f=e.onTruncateClick;const g=r,v=g&&a.shippingEnabled,k="\n    ".concat(a.minPledge.symbol,"\n    ").concat(+d.selectedReward.pledgeCost+d.selectedReward.shippingCost,"\n  "),y=Object(Mt.c)(ot(k)),j=Object(_.a)(Lt,i,g,s);return o.a.createElement("div",{className:Object(b.a)(n)},o.a.createElement($e,{active:g,onTruncateClick:f,reward:a,truncateReward:j,truncationStatus:s}),o.a.createElement(Ie,{reward:a}),o.a.createElement(Rt.a,{enter:"slide-down",leave:"slide-up",durationLeave:150,durationAppear:300,open:g},g&&o.a.createElement(He,{consts:{DISPLAY_SHIPPING:v},reward:a,selectState:l,dispatch:i,currentTotalCost:d.selectedReward.totalCost,onApplePayClick:Object(_.a)(u,a.id),onBlurField:m,onClick:Object(_.a)(p,a.id),onPledgeValueChange:h,pledgeData:d.pledgeData,ShippingCountryDropdown:c,validator:y,validation:d.validation})))},Yt=e=>{let t=e.atoms,n=e.reward;const a=n.campaignSuccessful,i=n.unavailable;return o.a.createElement("div",{className:Object(b.a)(t)},o.a.createElement(Te,null),o.a.createElement($e,{reward:n}),i&&o.a.createElement(Ke,null),o.a.createElement(Ie,{reward:n}),a&&o.a.createElement(We,{surveys:n.surveys}))},Gt=e=>{let t=e.atoms,n=e.backerReportClick,a=e.reward;const i=a.campaignSuccessful,r=a.isCreator,s=+a.backersCount>0;return o.a.createElement("div",{className:Object(b.a)("cursor-default",t)},o.a.createElement($e,{reward:a}),o.a.createElement(Ie,{reward:a}),i&&r&&s&&o.a.createElement(De,{surveys:a.creatorSurveyData,onClick:n}))},Jt=e=>{let t=e.atoms,n=e.reward;return o.a.createElement("div",{className:Object(b.a)(t)},o.a.createElement($e,{reward:n}),o.a.createElement(Ke,null),o.a.createElement(Ie,{reward:n,unavailable:!0}))};let Qt,Xt;n.d(t,"backerRewardsInit",function(){return nn});const Zt=e=>{let t=e.state,n=e.dispatch,a=e.dropdowns;return o.a.createElement(qt,{state:t,dispatch:n,dropdowns:a})},en=(e,t)=>{if(void 0===e.reward.pledgeData.applePayCapable&&"undefined"!=typeof Stripe){const e=void 0!==window.STRIPE_PUBLISHABLE_KEY;((e,t)=>{e&&"undefined"!=typeof Stripe?(Stripe.setPublishableKey(window.STRIPE_PUBLISHABLE_KEY),Stripe.applePay.checkAvailability(((e,t)=>n=>n?e():t())(()=>t(!0),()=>t(!1)))):t(!1)})(((e,t)=>!!(e&&t&&void 0!==e.current_user&&void 0!==e.current_project&&void 0!==e.apple_pay_countries&&"live"===e.current_project.get("state")&&!/\/retry$/.test(e.location.pathname)&&"pledges_edit"!==document.body.id&&e.apple_pay_countries.indexOf(e.current_project.get("country"))>=0))(window,e),e=>t((e=>({type:"REWARD_UPDATE_APPLE_PAY",newValue:e}))(e)))}},tn=()=>{const e=document.getElementById("react-backer-rewards"),t=Xt=Xt||et(e.dataset),n=t.hydratedState,a=t.shippingReducers,i=t.shippingDropdowns,r=Object(d.b)({applePay:ft,reward:_t,shippingSelects:Object(d.b)(Object.assign({},a)),tracking:Pt.a});Qt=Qt||Object(l.a)(r,n),c.a.render(o.a.createElement(Zt,{state:Qt.getState(),dispatch:Qt.dispatch,dropdowns:i}),e,en.bind(null,Qt.getState(),Qt.dispatch))},nn=()=>{document.getElementById("react-backer-rewards")&&(tn(),Qt.subscribe(tn))};nn()},NxQb:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.enabled_features;return"string"==typeof t&&(t=JSON.parse(t)),!(!t||!t[e])}},Nz1K:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var a=n("qEcG"),i=n("W6lR"),r=n("KAy6"),o=n("q1tI"),s=n.n(o);const c=e=>{const t=null==e?void 0:e.includes("soundcloud"),n=document.createElement("div"),a='<div class="text-center clip mb5"><div class="my-6">'+(t?'<style class="embedly-css">\n        .soundcloud .card {\n          max-height: 250px;\n        }\n        .soundcloud .embedly-card iframe.embedly-card {\n          height: 220px;\n        }\n        .card iframe[title~=SoundCloud] {\n          height: unset;\n        }\n      </style>':"")+(t?'<div class="soundcloud">':"")+'<a href="'.concat(e,'" class="embedly-card" data-card-controls="0" data-card-width="100%"></a>')+(t?"</div>":"")+"</div></div>";return n.innerHTML=a,n},l=e=>{const t=document.createElement("div");return t.innerHTML=e,Array.prototype.slice.call(t.querySelectorAll(".oembed")).forEach(e=>{const t=e;e.parentNode&&e.parentNode.replaceChild(c(t.dataset.href).firstChild,e)}),Array.prototype.slice.call(t.querySelectorAll(".template.reward")).forEach(e=>{const t=e;if(e.parentNode){const n=Object(i.a)(t),o=document.createElement("div");o.innerHTML=Object(r.renderToStaticMarkup)(s.a.createElement(a.a,{previewMode:!1,reward:n})),e.parentNode.replaceChild(o.firstChild,e)}}),t.innerHTML}},O1L0:function(e,t,n){"use strict";var a=n("KHPI"),i=n("h4vE"),r=n("0VSk");n("Q5rT");Object(i.a)(".NS-forms_categorization_field",function(e){e.each(function(){var e=Object(a.a)(this),t=e.find(".template"),n=e.find("ol.selected");n.find("li").each(function(){var e,t;e=Object(a.a)(this),t=Object(a.a)('<a class="remove" href="#">'+r.default.t("onloads.views.forms.categorization_field.remove")+"</a>"),e.append(t)}),n.on("click","a.remove",function(e){var t=Object(a.a)(this).closest("li"),n=t.find(".destroy");e.preventDefault(),t.fadeOut(function(){n.length?n.val("1"):t.remove()})}),e.find(".new a").on("click",function(e){e.preventDefault(),n.append(t.clone_form_template())})})})},"O9a+":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("2DJ9"),i=n("q1tI"),r=n.n(i);const o=e=>{let t=e.isWatched,n=e.onClick,i=e.watchCopy;return r.a.createElement("button",{onClick:n,className:"f5 navy-light medium"},r.a.createElement(a.a,{name:"icon--bookmark-outline",size:"small",atoms:["mr1 relative t-1_6 r-1_3"].concat(t?["fill-celebrate-500"]:["fill-support-500"])}),r.a.createElement("span",{className:t?"celebrate-500":"soft-black"},i))}},OJn5:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n("ykeL"),i=n("g1y3"),r=n("z+X6"),o=n("sett"),s=n("q1tI");const c=e=>({type:"__RESET_EDITOR_STATE__",resetState:e}),l=(e,t)=>"__RESET_EDITOR_STATE__"===t.type?t.resetState:Object(i.d)(e,t),d=e=>{const t=e.story.editorState;return Object(a.stateToHTML)(t.getCurrentContent(),Object(i.b)(t))};class u extends s.Component{constructor(e){super(e),this.store=void 0,this.unsubscribe=void 0,this.previousValue=void 0,this.handleBlur=()=>{const e=this.store.getState(),t=d(e);this.previousValue=t,this.props.onBlur(t,e.story.editorState),this.forceUpdate(()=>{t!==this.props.value&&this.reset()})},this.dispatch=e=>{this.props.disabled||(this.store.dispatch(e),this.handleBlur())};const t=Object(i.c)(e.value,e.attachableId,e.attachableAssoc,e.editorState);this.store=Object(r.a)(l,t)}reset(){const e=Object(i.c)(this.props.value,this.props.attachableId);this.store.dispatch(c(e)),this.forceUpdate()}componentDidMount(){this.unsubscribe=this.store.subscribe(()=>this.forceUpdate())}componentWillUnmount(){"function"==typeof this.unsubscribe&&this.unsubscribe()}componentDidUpdate(e){(e.attachableId!==this.props.attachableId||e.value!==this.props.value&&this.previousValue!==this.props.value)&&this.reset()}render(){return s.createElement("div",{className:"mb1 type-16"},s.createElement(o.c,{dispatch:this.dispatch,state:this.store.getState(),placeholder:this.props.placeholder,hasErrors:this.props.hasErrors,hasWarnings:this.props.hasWarnings,ToolBar:this.props.ToolBar,tracking:this.props.tracking,checkForPossiblePII:this.props.checkForPossiblePII}))}}},OT5S:function(e,t,n){n("+2Rf");var a=n("+2Rf");a.fn.composed=function(e,t){var n=a(this);return void 0===n.data("topics")&&n.data("topics",{}),(n.data("topics")[e]||[]).reduce(function(e,t){return t.call(a,e)},t)},a.fn.composable=function(e,t){var n=a(this);return void 0===n.data("topics")&&n.data("topics",{}),n.data("topics")[e]||(n.data("topics")[e]=[]),n.data("topics")[e].push(t),[e,t]}},OUkx:function(e,t,n){"use strict";var a=n("a+N5"),i=n.n(a),r=n("+2Rf");n("+2Rf");!function(e){e.fn.whenNear=function(t,n){const a=e(window),r=t||0;let o=this;function s(){const t=i.a.filter(o,function(t){const n=e(t);if(n.is(":hidden"))return;const i=a.scrollTop(),o=i+a.height(),s=n.offset().top;return s+n.height()>=i-r&&s<=o+r});o=o.not(t),i.a.each(t,n)}return a.on("scroll.whenNear resize.whenNear",i.a.throttle(s,25)),s(),this}}(r)},Oj9A:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE");Object(r.a)("#NS_discover__sorts",function(e){e.find("li > a").on("click",function(t){var n=i()(this),a=n.closest("li");e.find(".ksr-green-500").removeClass("ksr-green-500").addClass("black"),n.addClass("ksr-green-500").removeClass("black"),i()(document).trigger("discovery:sorts:changed",a.data("sort")),e.trigger("ksr_popover:close"),t.preventDefault()}),i()(document).on("discovery:sentence:changed",function(t,n){e.find(".ksr-green-500").removeClass("ksr-green-500").addClass("black"),e.find('li[data-sort="'+(n.sort||"magic")+'"] a').addClass("ksr-green-500").removeClass("black")}),i()(document).on("discovery:sorts:load_sample",function(t,n){e.find(".selected").removeClass(),n.sort?e.find('li[data-sort="'+n.sort+'"] a').addClass("ksr-green-500").removeClass("black"):e.find('li[data-sort="magic"] a').addClass("ksr-green-500").removeClass("black")})})},"Owp+":function(e,t,n){"use strict";let a,i,r;n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),function(e){e.CreatorInterview="CreatorInterview",e.FreeformPost="FreeformPost"}(a||(a={})),function(e){e.collaborator="collaborator",e.creator="creator"}(i||(i={})),function(e){e.CANCELED="CANCELED",e.FAILED="FAILED",e.LIVE="LIVE",e.PURGED="PURGED",e.STARTED="STARTED",e.SUBMITTED="SUBMITTED",e.SUCCESSFUL="SUCCESSFUL",e.SUSPENDED="SUSPENDED"}(r||(r={}));const o=n("srCT").ViewPost},P0CJ:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a=e=>new Date(e).toISOString().replace("Z","")},PDRc:function(e,t,n){"use strict";var a=n("mwIZ"),i=n.n(a),r=n("KHPI"),o=n("0VSk"),s=n("h4vE"),c=n("2UXI"),l=n("8L3F");class d{constructor(){this.updateRect();(()=>{let e=document.getSelection();this.range=e&&e.rangeCount&&e.getRangeAt(0),this.updateRect()})()}updateRect(){this.range?this.rect=this.range.getBoundingClientRect():this.rect={top:0,left:0,right:0,bottom:0,width:0,height:0},this.rectChangedCallback(this.rect)}rectChangedCallback(){}getBoundingClientRect(){return this.rect}get clientWidth(){return this.rect.width}get clientHeight(){return this.rect.height}}var u=n("WjF9"),m=n("/AD1");function p(){if(i()(m.a,"data.is_backing",!1)&&i()(u.a,"data.is_superbacker",!1)){const e=Object(r.a)('\n      <div class="popper shadow-2 border1px border-black bg-white text-center z10 p2 w50 hide" id="claim-popover">\n        <p class="mb2 mt2">'.concat(o.default.t("project_page.campaign.claims_popover.Quote_this_text"),'</p>\n        <div class="popper-buttons">\n          <a id="start-comment" class="bttn bttn-medium bttn-primary theme--create w85p mb1">').concat(o.default.t("project_page.campaign.claims_popover.Start_a_comment"),'</a>\n          <a id="dismiss-popper" class="w85p grey-dark pointer">').concat(o.default.t("project_page.campaign.claims_popover.Close"),"</a>\n        </div>\n      </div>\n    "));Object(r.a)("body").append(e);let t=null;const n=Object(r.a)(".project-name, .project-description, .description-container").get();Object(r.a)(document).on("click","#dismiss-popper",()=>{Object(c.d)("Dismissed claim popover"),null!==t&&t.destroy()}),Object(r.a)(document).on("click","#start-comment",()=>{Object(c.d)("Started comment from claim popover"),Object(r.a)("#comments-emoji").trigger("click")}),Object(r.a)(document).on("mouseup",a=>{a.stopPropagation(),setTimeout(()=>{let a=document.getSelection();if(a.rangeCount>=1&&"Range"===a.type){const i=n.some(e=>(function(e,t){if(t.rangeCount>0)for(var n=0;n<t.rangeCount;++n)if(r.a.contains(e,t.getRangeAt(n).commonAncestorContainer))return!0;return!1})(e,a)),o=a.toString().trim(),s=Object(r.a)("<div>"+o+"</div>").text();if(s.length>3&&s.length<300&&i&&(window.selectedText=s,!t)){const n=new d;t=new l.a(n,e,{placement:"right"}),e.removeClass("hide"),Object(c.d)("Showed Claim Popover"),n.rectChangedCallback=e=>{let n=e.width;t&&n>0?t.scheduleUpdate():t&&t.destroy()}}}else t&&(window.location.pathname.endsWith("/comments")||(window.selectedText=""),e.addClass("hide"),t.destroy(),t=null)},100)})}}n.d(t,"a",function(){return p}),Object(s.a)(".NS_projects__description_section",p)},PTfn:function(e,t,n){var a=n("+2Rf");n("+2Rf");!function(e){var t={};e.publish=function(){var n=Array.prototype.slice.call(arguments),a=n.shift();t[a]&&e.each(t[a],function(){this.apply(e,n)})},e.subscribe=function(e,n){return t[e]||(t[e]=[]),t[e].push(n),[e,n]},e.unsubscribe=function(){var n=arguments[0];t[n]&&e.each(t[n],function(e){this===arguments[1]&&t[n].splice(e,1)})}}(a)},PhMr:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return t=>t[e](...n)}},Pmti:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()(function(){i()(document).on("click",".js-click_select",function(e){var t=document.createRange(),n=window.getSelection();t.setStartBefore(this.firstChild),t.setEndAfter(this.lastChild),n.removeAllRanges(),n.addRange(t),e.preventDefault()})})},PnFg:function(e,t,n){"use strict";var a=n("DjBF"),i=n("ude/"),r=n("q/jZ"),o=n("/MMT"),s=n("1OuE"),c=n("arGM"),l=n("0ycM"),d=n("jWgx"),u=n("50DI"),m=n.n(u),p=n("q1tI"),h=n.n(p),f=n("94td");var g=e=>{let t=e.formattedEndDate,n=e.projectState;const a=n===o.a.canceled?Object(f.b)("project_card.Funding_canceled"):Object(f.b)("project_card.Funding_unsuccessful"),i=n===o.a.canceled?Object(f.b)("project_card.Project_canceled_on",{endDate:t}):Object(f.b)("project_card.Project_ended_on",{endDate:t});return h.a.createElement("div",{className:"pb5-md pb4 px5-md px4 mt3 border-top border-grey-400"},h.a.createElement("div",{className:"h14 pt3"},h.a.createElement("div",{className:"dark-grey-400"},h.a.createElement("div",{className:"inline-block mt4px"},h.a.createElement("div",{className:"medium dark-grey-500 mt2"},a),i))))},b=n("9Ovy"),_=n("2DJ9");var v=e=>{let t=e.isProjectOfTheDay,n=e.isProjectWeLove,a=e.onFocus,i=e.openInNewTab,r=void 0!==i&&i,o=e.projectImage,s=e.projectUrl,c=e.projectName;return h.a.createElement("div",{className:"relative self-start"},h.a.createElement("a",{href:s||"",target:r?"_blank":void 0,className:"block img-placeholder w100p",key:"project-link",onFocus:a},o?h.a.createElement("img",{className:"border-grey-400 border-bottom w100p absolute t0",alt:c,src:o}):h.a.createElement("div",{className:"img-placeholder bg-grey-400 absolute t0 w100p"}),t&&h.a.createElement("div",{className:"bg-ksr-green-700 px2 py1 absolute t0 l5 white type-14 medium"},h.a.createElement(_.a,{name:"kickstarter",size:"small",atoms:["fill-white mr2"]}),Object(f.b)("project_card.Project_of_the_day"))),n&&h.a.createElement("span",{className:"absolute l3 b-2"},h.a.createElement(b.a,null)))};var k=e=>{let t=e.creator,n=e.description,a=e.name,i=e.openInNewTab,r=e.profile,s=e.projectState,l=e.projectUrl,d=e.refTag;if(!t)return h.a.createElement("div",{className:"h30 pt4 px3 mb1px"});const u=d&&t?Object(c.d)(t.url,{ref:d},void 0,{noBaseEncode:!0}):t.url;return h.a.createElement("div",{className:"h30 pt4 px3 mb1px"},h.a.createElement("div",{className:"clamp-5 navy-500 mb3 hover-target"},h.a.createElement("a",{href:l,target:i?"_blank":void 0,className:"soft-black mb3"},h.a.createElement("h3",{className:"type-18 light hover-item-text-underline mb1"},(null==r?void 0:r.name)||a||l),h.a.createElement("p",{className:"support-400 type-14 text-decoration-none clamp-2"},n))," "),s!==o.a.successful&&h.a.createElement("div",{className:"type-13 flex"},h.a.createElement(f.a,{atoms:["inline-block"],i18nKey:"project_card.by_creator",i18nTag:"div",by:h.a.createElement("span",{className:"soft-black"},Object(f.b)("project_card.by")),creatorName:h.a.createElement("a",{href:u,className:"soft-black hover-text-underline medium"},t.name)})))},y=n("L/h+"),j=n("zm9w");var E=e=>{let t=e.backersCount,n=e.creator;const a=j.a.format_number(t,{precision:0});return h.a.createElement("div",{className:"pb5-md pb4 px5-md px4 mt3 border-top border-grey-400"},h.a.createElement("div",{className:"h14 pt3"},h.a.createElement("div",{className:"type-13 flex"},h.a.createElement("div",{className:"mt4 flex"},h.a.createElement("a",{href:n.url},h.a.createElement(y.a,{size:4,atoms:["mr2"],alt:n.name,imageUrl:n.imageUrl})),h.a.createElement("div",{className:"inline-block mt4px type-13"},h.a.createElement(f.a,{atoms:["soft-black text-ellipsis"],i18nKey:"project_card.by_creator_and_backers",i18nTag:"div",by:h.a.createElement("span",{className:"soft-black"},Object(f.b)("project_card.by")),creatorName:h.a.createElement("span",{className:"bold"},n.name),backersCount:a}))))))},w=n("FbRb"),S=n("Ynzd");const O=e=>{if(e){var t,n;if("discoverUrl"in e)return e.discoverUrl;if("urls"in e&&(null==e?void 0:null===(t=e.urls)||void 0===t?void 0:null===(n=t.web)||void 0===n?void 0:n.discover))return e.urls.web.discover}return""};var C=e=>{let t=e.category,n=e.location,a=e.jsEndDate,i=e.percentFunded,r=e.pledged;const o=j.a.percent(i,{precision:0,delimiter:Object(f.b)("number.currency.format.delimiter")}),s={width:"".concat(Math.min(100,i),"%")},c=r.currency,l=Object(w.a)(a),d=l.remainingNumber,u=l.remainingString,m=(null==n?void 0:n.short_name)||"",p=O(n);return h.a.createElement("div",{className:"pb3 pt3 px3-sm px4"},h.a.createElement("div",{className:"bg-grey-400 mb3 w100p"},h.a.createElement("div",{className:"bg-ksr-green-700 h3px","data-test-id":"progress-bar",style:s})),h.a.createElement("div",{className:"ksr-green-700 medium"},h.a.createElement("div",{className:"type-13 mr2"},h.a.createElement("span",{"data-test-id":"amount-pledged"},r.amount&&j.a.money(r.amount,{precision:0,currency:c})),h.a.createElement("span",{className:"ml1 normal"},Object(f.b)("project_card.pledged"))),h.a.createElement("div",{className:"type-13 mr2 dark-grey-500 medium","data-test-id":"percent-raised"},h.a.createElement("span",null,o),h.a.createElement("span",{className:"ml1 normal"},Object(f.b)("project_card.funded"))),h.a.createElement("div",{className:"type-13 ksr_page_timer mb3 mr2 dark-grey-500 medium","data-end_time":a,"data-test-id":"time-left"},h.a.createElement("span",{className:"js-num"},d),h.a.createElement("span",{className:"js-text ml1"},u)),h.a.createElement(S.a,{categoryName:(null==t?void 0:t.name)||"",categoryUrl:(null==t?void 0:t.url)||"",locationName:m,locationUrl:p})))};t.a=e=>{let t=e.refTag,n=e.openInNewTab,u=e.term,f=e.state,b=e.trackClicks,_=e.showInteractionButtons,y=void 0!==_&&_;const j=f.backersCount,w=f.canceledAt,S=f.category,O=f.creator,N=f.deadlineAt,x=f.friends,T=f.imageUrl,I=f.isProjectOfTheDay,D=f.isProjectWeLove,P=f.modelName,A=f.name,R=f.description,F=f.percentFunded,L=void 0===F?0:F,M=f.pledged,U=f.pid,B=f.profile,q=f.rawScore,$=f.state,H=f.url,V=f.location,z=f.isBacked,W=f.isWatched,K=f.isLiked,Y=f.isDisliked,G=f.weightedScore,J=$===o.a.canceled?w:N,Q=J&&1e3*J,X=Q?Object(s.a)("LL",Q):null;let Z=null;(t||u)&&(Z={},t&&(Z.ref=t),u&&(Z.term=u));const ee=H&&(Z?Object(c.d)(H,Z):H),te=(null==B?void 0:B.featureImageUrl)||T,ne=Object(p.useState)(!1),ae=Object(a.a)(ne,2),ie=ae[0],re=ae[1],oe=((null==x?void 0:x.nodes)||[]).filter(e=>null!==e);return h.a.createElement("div",{className:"js-track-project-card","data-project_pid":U||"","data-section":t,"data-weighted_score":G||"","data-raw_score":q||"","data-model_name":P||"","data-project_state":$?$.toLowerCase():"","data-project_backers_count":j,"data-project_description":R||"","data-project_percent_raised":L||"","data-project_pledged":M?M.amount:"","data-user_is_backer":z||"","data-user_has_starred":W||"",ref:e=>e&&b&&b(e)},h.a.createElement("div",{className:"mb5 relative","data-test-id":"mouse-enter-capture",onMouseEnter:()=>re(!0),onMouseLeave:()=>re(!1)},h.a.createElement("div",{className:"bg-white black relative border-grey-500 border"},h.a.createElement(v,{isProjectWeLove:D,isProjectOfTheDay:I,projectImage:te,projectUrl:ee,openInNewTab:n,projectName:A,onFocus:()=>re(!0)}),y&&h.a.createElement("div",{className:"mt4 mb1 mt0-lg mb0-lg absolute-lg t2-lg r2-lg"},h.a.createElement(r.a,{fallback:h.a.createElement(d.a,null),rootMargin:"100%"},h.a.createElement(l.a,{trackingContext:m()(t),pid:U,initialIsLiked:K,initialIsDisliked:Y,initialIsWatched:W,interactionsVisibility:ie}))),h.a.createElement("div",null,h.a.createElement(k,{creator:O,name:A,description:R,profile:B,projectUrl:ee,openInNewTab:n,refTag:t,projectState:$}),!O&&h.a.createElement("div",{className:"pb5-md pb4 pt3 px5-sm px4"},h.a.createElement("div",{className:"h30-sm pt1px"})),O&&(()=>{switch($){case o.a.successful:return h.a.createElement(E,{backersCount:j,creator:O});case o.a.canceled:case o.a.failed:return h.a.createElement(g,{formattedEndDate:X,projectState:$});default:return h.a.createElement(C,{category:S,location:V,refTag:t,backersCount:j,jsEndDate:Q,percentFunded:L,pledged:M,onBlur:()=>re(!1)})}})())),x&&h.a.createElement(i.a,{friends:oe})))}},PtqM:function(e,t,n){var a=n("NykK"),i=n("ExA7"),r=n("YO3V"),o="[object DOMException]",s="[object Error]";e.exports=function(e){if(!i(e))return!1;var t=a(e);return t==s||t==o||"string"==typeof e.message&&"string"==typeof e.name&&!r(e)}},Q4Yj:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("a+N5"),i=n.n(a);const r={interpolate:/\{\{(.+?)\}\}/g};function o(e,t){return i.a.template(e,r)(t)}},Qbqs:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r});const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.start,n=void 0===t?0:t,a=e.end,i=void 0===a?1:a;return{entering:{opacity:n},entered:{opacity:i},exiting:{opacity:n},exited:{opacity:n}}},i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.start,n=void 0===t?0:t,a=e.end,i=void 0===a?1:a;return{entering:{transform:"scale(".concat(n,")")},entered:{transform:"scale(".concat(i,")")},exiting:{transform:"scale(".concat(n,")")},exited:{transform:"scale(".concat(n,")")}}},r=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.start,a=void 0===n?"100%":n,i=t.end,r=void 0===i?0:i,o=t.direction,s=void 0===o?"top":o;"top"===s||"bottom"===s?e="Y":"left"!==s&&"right"!==s||(e="X");const c="top"===s||"left"===s?"-":"",l="translate".concat(e,"(").concat(c).concat(a,")"),d="translate".concat(e,"(").concat(r,")");return{entering:{transform:l},entered:{transform:d},exiting:{transform:l},exited:{transform:l}}}},QfO9:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("GRmu"),o=n("ese3");i()(document).on("click",".js-facebook-login, a.facebook-link",function(e){const t=i()(this);e.preventDefault(),"undefined"!=typeof FB?FB.login(function(e){e.authResponse&&i.a.post(t.attr("href"),{fbsr:e.authResponse.signedRequest}).done(function(e){e.data&&Object(o.a)(e.data,window.location.href)?window.location.reload(!0):e.data?window.location=e.data:e.flash&&(i.a.isArray(e.flash)&&i.a.isArray(e.flash[0])?Object(r.a)(i.a.map(e.flash,function(e){return e[e.length-1]})):e.flash&&Object(r.a)(e.flash))})},{scope:"email,user_friends,public_profile"}):Object(r.a)({error:"Sorry, we weren't able to connect to Facebook"})})},"Qin/":function(e,t,n){"use strict";var a=n("DjBF"),i=n("pTxv"),r=n("2DJ9"),o=n("wdXr"),s=n("94td"),c=n("/IHD"),l=n("HZYo"),d=n("2UXI"),u=n("pe0Q"),m=n("O9a+"),p=n("Y0SK"),h=n("q1tI"),f=n.n(h),g=n("mEsB"),b=n("7cf5"),_=n("eO8H");const v=e=>{let t=e.url,n=e.className,a=e.dataContent,i=e.name,r=e.onClick;return f.a.createElement("a",{href:t,className:n,"data-content":a,onClick:r},i)},k=e=>{let t=e.url,n=e.onClick,a=e.className,i=e.name;return f.a.createElement(_.d,{to:t,onClick:n,className:a},i)},y=e=>{let t=e.containerClasses,n=e.url,a=e.anchorClasses,i=e.dataContent,r=e.name,o=e.onClick,s=e.count,c=e.Component;return f.a.createElement("div",{className:t},f.a.createElement("div",null,f.a.createElement(c,{url:n,onClick:o,className:a,name:r,dataContent:i}),void 0!==s&&f.a.createElement("sup",{className:"ml1 valign-super ksr-green-500 type-10"},s)))},j=e=>{let t=e.atoms,n=e.isActive,a=e.jsLoadClass,i=e.skipNavItemClass,r=Object(b.a)(e,["atoms","isActive","jsLoadClass","skipNavItemClass"]);return f.a.createElement(y,Object.assign({containerClasses:Object(c.a)(t,!i&&"px4 py2 navItem",n&&"is-active"),anchorClasses:Object(c.a)("text-decoration-none hover-ksr-green-500 type-14 soft-black js-load-project-content",a)},r))},E=e=>{let t=e.atoms,n=e.isActive,a=Object(b.a)(e,["atoms","isActive"]);return f.a.createElement(y,Object.assign({Component:v,containerClasses:Object(c.a)(t,"subItem",n&&"is-active"),anchorClasses:"type-13 dark-grey-500 js-load-project-content js-load-project-description pointer"},a))},w=e=>{let t=e.config,n=e.LinkComponent,a=e.isActiveSection,i=e.handleActiveSectionChange,r=e.handleActiveSubSectionChange,o=e.shouldRenderSubItems;return f.a.createElement(f.a.Fragment,null,Object.values(t).map(e=>{const t=e.atoms,c=e.count,l=e.id,d=e.url,u=e.name,m=e.jsLoadClass,p=e.subItems,h=e.skipNavItemClass,b=e.shouldRender,_=e.isLocked;return!1===b?null:_?f.a.createElement(g.a,{key:l,label:Object(s.b)("project_page.Unlocks_after_launch"),ariaLabel:Object(s.b)("project_page.Unlocks_after_launch")},f.a.createElement("div",{className:"px4 py2 o30p not-allowed border-bottom"},u)):f.a.createElement(f.a.Fragment,{key:l},f.a.createElement(j,{key:l,Component:n,atoms:t,id:l,isActive:a(l),url:d,dataContent:l,jsLoadClass:m,name:u,onClick:()=>i(l,u),skipNavItemClass:h,count:c}),p&&o&&f.a.createElement("div",{className:"border-bottom border-grey-400"},p.map(e=>{const t=e.atoms,i=e.id,o=e.url,s=e.trackingContext,c=e.name;return f.a.createElement(E,{Component:n,key:i,atoms:t,id:i,isActive:a(i),url:o,onClick:e=>{e.preventDefault(),window.location.hash=i,r(i,c,s)},name:c})})))}))};var S=n("l2NB");n.d(t,"a",function(){return O});const O=e=>{const t=Object(h.useState)(!1),n=Object(a.a)(t,2),i=n[0],s=n[1],l=e.pid,g=e.dispatch,b=e.state,_=e.watchProjectData,y=e.stickyTopAtom,j=e.usesRouter,E=e.navigationConfig,O=e.showRemindMe,N=b.activeSection&&"updates".includes(b.activeSection.id),x=b.activeSection&&Object(p.c)(b.activeSection.id),T=N||x,I=Object(o.a)({threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),D=I.targetRef,P=I.isIntersecting,A=Object(c.a)("p1 fixed z9 w100p bg-white border-bottom border-gray-500  ",y);return f.a.createElement("div",{className:"hide-lg type-14 medium"},f.a.createElement("div",{ref:D},f.a.createElement("div",{id:"stickyNav",className:(()=>!P&&Object(p.b)(D.current)?"":"hide")()},f.a.createElement("div",{className:"NS_projects__header_nav"},b&&b.activeSection&&f.a.createElement("div",{className:A},f.a.createElement("button",{className:"w55p-sm w100p text-left",onClick:()=>s(!0)},f.a.createElement("div",{className:"pointer p1 inline-block"},f.a.createElement(r.a,{name:"icon--campaign-outline",size:"medium",atoms:["mx1"]}),f.a.createElement("div",{className:"inline-block ml1 h3 type-13 medium text-uppercase bold valign-text-top"},b&&b.activeSection&&b.activeSection.name))),f.a.createElement("div",{className:"project-nav__buttons hide block-sm right w40p-sm mr3 text-right"},f.a.createElement(C,Object.assign({},e,{atoms:["mr3"]})),O&&f.a.createElement("div",{className:"inline-block"},f.a.createElement(u.a,{pid:l,initialIsWatched:_.isWatching},f.a.createElement(m.a,null))))),T&&f.a.createElement("div",{className:"fixed hide-sm b0 l0 r6 z9 p2"},f.a.createElement(C,Object.assign({},e,{atoms:["bottom","radius4px","w100p"]}))),f.a.createElement("div",{className:"".concat(i?"":"hide")},f.a.createElement("div",{className:"sidenav fixed l0 z-campaign-mobile-nav-drawer-3 ".concat(y)},f.a.createElement("div",{className:"p2 text-right"},f.a.createElement("button",{onClick:()=>s(!1),"aria-label":"close"},f.a.createElement(r.a,{name:"icon--cross",size:"medium",atoms:["right","bold","pointer","p1"]}))),f.a.createElement(w,{shouldRenderSubItems:x||!1,config:E,LinkComponent:j?k:v,isActiveSection:e=>void 0!==b.activeSection&&b.activeSection.id===e,handleActiveSectionChange:(e,t)=>{g(Object(S.a)({activeSection:{id:e,name:t}})),s(!1)},handleActiveSubSectionChange:(e,t,n)=>{Object(d.d)("Clicked Subnav",{context:n}),g(Object(S.a)({activeSection:{id:e,name:t,forceScroll:!0}})),s(!1)}})))))))},C=e=>{let t=e.basePath,n=e.managePledge,a=e.backThisProject,r=e.atoms;return f.a.createElement(f.a.Fragment,null,a&&f.a.createElement(i.c,{href:"".concat(t,"pledge/new?clicked_reward=false"),theme:"support",onClick:()=>(Object(l.b)(l.a.PROJECT_PAGE_PLEDGE_BUTTON_CLICKED,{context_location:"sticky_nav"}),!0),atoms:r},f.a.createElement(s.a,{i18nKey:"project_page.campaign_nav.Back_this_project"})),n&&f.a.createElement(i.c,{href:"".concat(t,"pledge?clicked_reward=false"),atoms:r,theme:"support"},f.a.createElement(s.a,{i18nKey:"project_page.campaign_nav.Manage_your_pledge"})))}},QrAi:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=(n("RIhn"),n("1OuE"));i()(".js-adjust-time").livequery(function(){var e=i()(this);e.text(Object(r.a)(e.data("format"),e.attr("datetime"))),e.removeClass("invisible-if-js")})},R3y7:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o});const a=e=>({type:"INITIATE_WATCHING_UPDATE",project:e}),i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:"WATCHING_UPDATE",successCallbackFn:e}},r=(e,t)=>({type:"WATCHING_UPDATE_SUCCESS",isWatching:e,pid:t}),o=()=>({type:"NOOP"})},RBqt:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("8Np1"),i=n("q1tI");const r=e=>i.createElement(a.a,Object.assign({},e,{tag:"span"}),e.children)},RK67:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return o});const a="COMPONENT_ERROR",i="CUSTOM_ERROR",r=(e,t,n)=>({type:a,error:e,info:t,tags:n}),o=(e,t)=>({type:i,error:e,tags:t})},RWo0:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("94td");const i=e=>{const t=e.isWatching,n=e.projectIsLaunched,i=e.projectCanRemind;return t?Object(a.b)("project_page.back_and_star.Saved"):n?n&&i?Object(a.b)("project_page.back_and_star.Remind_me"):Object(a.b)("project_page.back_and_star.Save"):Object(a.b)("project_page.back_and_star.Notify_me_on_launch")}},RnbG:function(e,t,n){var a,i,r;r=function(){"use strict";var e,t,n=["webkit","Moz","ms","O"],a={};function i(e,t){var n,a=document.createElement(e||"div");for(n in t)a[n]=t[n];return a}function r(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function o(n,i,r,o){var s=["opacity",i,~~(100*n),r,o].join("-"),c=.01+r/o*100,l=Math.max(1-(1-n)/i*(100-c),n),d=e.substring(0,e.indexOf("Animation")).toLowerCase(),u=d&&"-"+d+"-"||"";return a[s]||(t.insertRule("@"+u+"keyframes "+s+"{0%{opacity:"+l+"}"+c+"%{opacity:"+n+"}"+(c+.01)+"%{opacity:1}"+(c+i)%100+"%{opacity:"+n+"}100%{opacity:"+l+"}}",t.cssRules.length),a[s]=1),s}function s(e,t){var a,i,r=e.style;if(void 0!==r[t=t.charAt(0).toUpperCase()+t.slice(1)])return t;for(i=0;i<n.length;i++)if(void 0!==r[a=n[i]+t])return a}function c(e,t){for(var n in t)e.style[s(e,n)||n]=t[n];return e}function l(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)void 0===e[a]&&(e[a]=n[a])}return e}function d(e,t){return"string"==typeof e?e:e[t%e.length]}var u,m={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};function p(e){this.opts=l(e||{},p.defaults,m)}if(p.defaults={},l(p.prototype,{spin:function(t){this.stop();var n=this,a=n.opts,r=n.el=i(null,{className:a.className});if(c(r,{position:a.position,width:0,zIndex:a.zIndex,left:a.left,top:a.top}),t&&t.insertBefore(r,t.firstChild||null),r.setAttribute("role","progressbar"),n.lines(r,n.opts),!e){var o,s=0,l=(a.lines-1)*(1-a.direction)/2,d=a.fps,u=d/a.speed,m=(1-a.opacity)/(u*a.trail/100),p=u/a.lines;!function e(){s++;for(var t=0;t<a.lines;t++)o=Math.max(1-(s+(a.lines-t)*p)%u*m,a.opacity),n.opacity(r,t*a.direction+l,o,a);n.timeout=n.el&&setTimeout(e,~~(1e3/d))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(t,n){var a,s=0,l=(n.lines-1)*(1-n.direction)/2;function u(e,t){return c(i(),{position:"absolute",width:n.scale*(n.length+n.width)+"px",height:n.scale*n.width+"px",background:e,boxShadow:t,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*s+n.rotate)+"deg) translate("+n.scale*n.radius+"px,0)",borderRadius:(n.corners*n.scale*n.width>>1)+"px"})}for(;s<n.lines;s++)a=c(i(),{position:"absolute",top:1+~(n.scale*n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:e&&o(n.opacity,n.trail,l+s*n.direction,n.lines)+" "+1/n.speed+"s linear infinite"}),n.shadow&&r(a,c(u("#000","0 0 4px #000"),{top:"2px"})),r(t,r(a,u(d(n.color,s),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),"undefined"!=typeof document){u=i("style",{type:"text/css"}),r(document.getElementsByTagName("head")[0],u),t=u.sheet||u.styleSheet;var h=c(i("group"),{behavior:"url(#default#VML)"});!s(h,"transform")&&h.adj?function(){function e(e,t){return i("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}t.addRule(".spin-vml","behavior:url(#default#VML)"),p.prototype.lines=function(t,n){var a=n.scale*(n.length+n.width),i=2*n.scale*a;function o(){return c(e("group",{coordsize:i+" "+i,coordorigin:-a+" "+-a}),{width:i,height:i})}var s,l=-(n.width+n.length)*n.scale*2+"px",u=c(o(),{position:"absolute",top:l,left:l});function m(t,i,s){r(u,r(c(o(),{rotation:360/n.lines*t+"deg",left:~~i}),r(c(e("roundrect",{arcsize:n.corners}),{width:a,height:n.scale*n.width,left:n.scale*n.radius,top:-n.scale*n.width>>1,filter:s}),e("fill",{color:d(n.color,t),opacity:n.opacity}),e("stroke",{opacity:0}))))}if(n.shadow)for(s=1;s<=n.lines;s++)m(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=n.lines;s++)m(s);return r(t,u)},p.prototype.opacity=function(e,t,n,a){var i=e.firstChild;a=a.shadow&&a.lines||0,i&&t+a<i.childNodes.length&&(i=(i=(i=i.childNodes[t+a])&&i.firstChild)&&i.firstChild)&&(i.opacity=n)}}():e=s(h,"animation")}return p},e.exports?e.exports=r():void 0===(i="function"==typeof(a=r)?a.call(t,n,t,e):a)||(e.exports=i)},RrRF:function(e,t){e.exports=function(){}},"Rw8+":function(e,t,n){var a=n("heNW"),i=n("EldB"),r=n("a1zH"),o=n("5sOR"),s=n("V9aw"),c=n("6KkN"),l=n("Kz5y");e.exports=function(e,t,n){var d=i(e);return function i(){for(var u=arguments.length,m=Array(u),p=u,h=s(i);p--;)m[p]=arguments[p];var f=u<3&&m[0]!==h&&m[u-1]!==h?[]:c(m,h);return(u-=f.length)<n?o(e,t,r,i.placeholder,void 0,m,f,void 0,void 0,n-u):a(this&&this!==l&&this instanceof i?d:e,this,m)}}},RwCH:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("94td"),i=n("q1tI"),r=n.n(i),o=n("3ZBc");const s={like:Object(a.b)("project_card.More_like_this"),dislike:Object(a.b)("project_card.Less_like_this")},c=e=>{let t=e.isActive,n=e.onClick,a=e.interaction;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hide-lg"},r.a.createElement(o.a,{interaction:a,isActive:t,hasBorder:!0,onClick:n,size:"large"})),r.a.createElement("div",{className:"hide block-lg mb1"},r.a.createElement(o.a,{interaction:a,isActive:t,hasShadow:!0,onClick:n,tooltipLabel:s[a]})))}},S1QU:function(e,t,n){"use strict";var a=n("60hy"),i=n("2UXI");const r=Object(a.a)(window.current_checkout);r&&r.on_change(e=>{e.reward?Object(i.d)("Checkout Reward Changed"):void 0!==e.location_id?Object(i.d)("Checkout Location Changed"):e.shipping_amount?Object(i.d)("Checkout Shipping Amount Changed"):e.amount&&Object(i.d)("Checkout Amount Changed")}),window.current_checkout=r,t.a=r},SKdt:function(e,t,n){"use strict";var a=n("prSB"),i=n("eEls"),r=n("JC/v"),o=n("PhMr"),s=n("MgNI");const c=Object(i.a)(e=>e.reduce((e,t)=>Object(a.a)({},e,{[t]:!0}),{}),e=>s.maybe.fromNullable(e).chain(Object(r.a)("className")).map(Object(o.a)("split",/\s+/)).getOrElse([]))(document.querySelector("body"));t.a=c},SSiF:function(e,t,n){var a=n("q1tI"),i={display:"block",opacity:0,position:"absolute",top:0,left:0,height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none",zIndex:-1},r=function(e){var t=e.onResize,n=a.useRef();return function(e,t){a.useEffect(function(){var n=e.current&&e.current.contentDocument&&e.current.contentDocument.defaultView;return t(),n&&n.addEventListener("resize",t),function(){n&&"function"==typeof n.removeEventListener&&n.removeEventListener("resize",t)}},[])}(n,function(){return t(n)}),a.createElement("object",{type:"text/html",style:i,data:"about:blank",ref:n,"aria-hidden":!0,"aria-label":"resize-listener",tabIndex:-1})},o=function(e){return{width:null!=e?e.offsetWidth:null,height:null!=e?e.offsetHeight:null}};e.exports=function(e){void 0===e&&(e=o);var t=a.useState({width:null,height:null}),n=t[0],i=t[1],s=a.useCallback(function(t){return i(e(t.current))},[e]);return[a.useMemo(function(){return a.createElement(r,{onResize:s})},[s]),n]}},Sdzn:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var a=n("prSB");const i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";return e.map(e=>e[n]!==t[n]?e:Object(a.a)({},e,{},t))},r=(e,t)=>t+1===e.length,o=e=>e.sort(()=>Math.random()-.5)},SiTU:function(e,t,n){var a=n("+2Rf");n("+2Rf");a.support.transitionEvent=function(){return void 0!==window.TransitionEvent}},SmhT:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"g",function(){return s}),n.d(t,"k",function(){return c}),n.d(t,"l",function(){return l}),n.d(t,"m",function(){return d}),n.d(t,"n",function(){return u}),n.d(t,"i",function(){return m}),n.d(t,"e",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"h",function(){return f}),n.d(t,"o",function(){return g}),n.d(t,"j",function(){return b});const a=8,i=40,r=13,o=27,s=37,c=39,l=32,d=9,u=38,m=2,p=74,h=75,f=[65,66,67,68,69,70,71,72,73,p,h,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],g=e=>e>=66&&e<=90,b=[18,91,93,17,i,r,o,s,c,16,d,u,91,92,93,17,224]},T3Mw:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var a=n("prSB"),i=n("7cf5"),r=n("q1tI"),o=n("UujG");const s=["h7","lh3","border-box"],c={placeholder:[...s],active:[...s],disabled:["border-grey-400","bg-grey-100"],enabled:["border-focused-within-ksr-green-500","hover-border-ksr-green-500"]},l=e=>{let t=e.atoms,n=Object(i.a)(e,["atoms"]);return r.createElement(o.a,Object.assign({atoms:Object(a.a)({},c,{},t)},n))}},T8n5:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("8Np1"),i=n("/IHD"),r=n("hPy8"),o=n("q1tI");const s=e=>o.createElement(r.c,null,t=>o.createElement(a.a,Object.assign({},e,{atoms:Object(i.b)(e.atoms,t.body.atoms),tag:"p"}),e.children))},T8tx:function(e,t,n){var a=n("ulEd"),i=n("2lMS"),r=n("wclG"),o=n("/lCS");e.exports=function(e,t,n){var s=t+"";return r(e,i(s,o(a(s),n)))}},TBMH:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("GRmu"),o=n("/AD1"),s=n("gN63");var c=n("g84z");i()(function(){i()(document).on("click",".js-unwatch a",function(e){e.preventDefault();const t=Object(c.a)(window.location.search).token;((e,t)=>Object(s.d)("\n  mutation UnwatchPrelaunchProject($projectId: ID!) {\n    unwatchProject(input:{id: $projectId}) {\n      project {\n        isWatched\n        pid\n      }\n    }\n  }\n",{projectId:e},{projectShareToken:t}))(Object(s.b)("Project",o.a.data.id),t).then(e=>{if(e.errors){const t=e.errors.map(e=>e.message);throw new Error(t.join(","))}e.data&&o.a.set("is_starred",!1)}).catch(e=>{Object(r.a)({error:e})})})})},TDMg:function(e,t,n){"use strict";let a,i;n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r}),function(e){e.AUD="AUD",e.CAD="CAD",e.CHF="CHF",e.DKK="DKK",e.EUR="EUR",e.GBP="GBP",e.HKD="HKD",e.JPY="JPY",e.MXN="MXN",e.NOK="NOK",e.NZD="NZD",e.PLN="PLN",e.SEK="SEK",e.SGD="SGD",e.USD="USD"}(a||(a={})),function(e){e.environmentally_friendly_factories="environmentally_friendly_factories",e.long_lasting_design="long_lasting_design",e.reusability_and_recyclability="reusability_and_recyclability",e.something_else="something_else",e.sustainable_distribution="sustainable_distribution",e.sustainable_materials="sustainable_materials"}(i||(i={}));const r=n("ZnTL").Campaign},TIPN:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"e",function(){return r}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l});var a=n("prSB");const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=document.getElementsByClassName("js-site-nav-container")[0],n=document.getElementsByClassName("js-admin-nav-wrap")[0],i=(t&&t.clientHeight||0)+(n&&n.clientHeight||0);return r(Object(a.a)({offset:i},e))},r=e=>{let t=e.element,n=void 0===t?document.scrollingElement||document.body:t,a=e.to,i=void 0===a?0:a,r=e.duration,s=void 0===r?1e3:r,c=e.easing,l=void 0===c?"easeInOutQuad":c,d=e.offset,u=void 0===d?0:d;const m=n.scrollTop,p=i-m-u;let h;return new Promise(e=>{const t=a=>{h||(h=a);const i=(a-h)/s,r=Math.max(0,Math.min(1,i));n.scrollTop=m+o[l](r)*p,r<1?window.requestAnimationFrame(t):e()};window.requestAnimationFrame(t)})},o={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;r({to:0,duration:e})},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;const a=document.getElementById(e);if(a){const e=a.getBoundingClientRect().top,i=window.pageYOffset||document.documentElement.scrollTop;r({to:e+i,offset:t,duration:n})}},l=e=>{let t=e.ref,n=e.offset,a=void 0===n?0:n,i=e.duration;if(t&&t.current){const e=t.current.getBoundingClientRect().top,n=window.pageYOffset||document.documentElement.scrollTop;r({to:e+n+1,offset:a,duration:i})}}},"TO/6":function(e,t,n){"use strict";n.r(t);var a=n("a+N5"),i=n.n(a),r=n("GRmu"),o=n("0VSk"),s=n("2UXI"),c=n("yQm5"),l=n.n(c),d=(n("q+rZ"),n("/AD1")),u=(n("+2Rf"),n("+2Rf"));u.fn.ksr_uploader=function(e){function t(t,n,a){return u.pollster(t,function(t){return!!t.image_src&&(n.find(".success img.preview").attr("src",t.image_src).removeAttr("data-status_url"),u(".js-subs-preview").removeClass("o0p"),n.removeClass("encoding"),a.trigger("ksr_uploader:uploaded",[t]),e.after_encode&&e.after_encode(),!0)},{delay:5e3})}return e=e||{},u(this).each(function(){var n,a,c=u(this),m=new RegExp(window.location.host+"|^/"),p=!c.attr("url").match(m),h=p?i.a.map(c.data("params"),(e,t)=>({name:t,value:e})):[{name:"new_style",value:!0}],f=c.siblings(".progress"),g=c.parent(),b=g.parent(),_=c.closest("form"),v=b.find(".success img.preview"),k=_.find("input[type=submit]"),y=k.map(function(){return u(this).val()}).get(),j=!1;function E(e){j=e,c.data("uploading",e)}function w(e){var a=e,i=_.find(".success");if("string"==typeof a)try{a=u.parseJSON(a)||{}}catch(e){a={}}E(!1),a.image_src&&i.find("img.preview").attr("src",a.image_src),a.id&&i.find("input.asset_id").val(a.id),v.attr("data-status_url",a.status_url),c.trigger("file_added",[a]),k.val(function(e){return y[e]}),b.removeClass("uploading"),b.addClass("has_file"),u(".js-subs-percentage").addClass("hide"),u(".js-subs-preview").addClass("o0p"),u(".js-subs-uploader-icon").addClass("hide"),a.status_url?n=t(a.status_url,b,c):c.trigger("ksr_uploader:uploaded",[a])}function S(e,t,n){var a=u.map(t.messages,function(e){return e}),i=_.find(".js-asset-upload").attr("class");void 0===i&&(i=_.closest(".js-asset-upload").attr("class")),u.each(a,function(t,a){Object(s.d)(e,{project_pid:d.a.data.id,type:n.type,file_size:n.size,context:i,error_description:a})})}c.siblings("label").hide(),c.fileupload({dataType:"text",dropZone:g,pasteZone:null,url:c.attr("url"),type:"POST",replaceFileInput:!1,add:function(e,t){t.files[0].size<1?t.files=[]:(n&&n.stop(),a=t.submit(),E(!0),f.removeClass("finished"),b.addClass("uploading"),c.trigger("file_queued"),window.onbeforeunload=function(){if(j)return o.default.t("library.ksr_uploader.Your_upload_has_not_completed_yet_Click_Stay")})},submit:function(e,t){p?h.push({name:"success_action_redirect",value:u.support.xhrFormDataFileUpload?"":l()().path("/iframe_upload_catcher.html").fragment("").toString()}):h.push({name:"authenticity_token",value:u('meta[name="csrf-token"]').attr("content")}),t.formData=h},done:function(t,n){p?function(t){if("function"==typeof e.remote_upload_success)return void e.remote_upload_success.apply(c,arguments);var n=t.files[0];u.ajax({url:c.data("assetPath"),data:{file_name:encodeURIComponent(n.name),content_type:n.type,updated_at:(n.lastModifiedDate||new Date).getTime(),file_size:n.size,s3_key:i.a.findWhere(h,{name:"key"}).value},type:"POST",success:function(e){w(e)},error:function(){_.trigger("ksr_file_upload:reset"),E(!1),Object(r.a)({error:o.default.t("library.ksr_uploader.Could_not_upload_this_file")}),b.removeClass("uploading"),void 0!==d.a&&0===d.a.get("launched_at")&&S("Errored Project Asset Upload",t,n)}})}(n):w(n.result)},progress:function(e,t){var n=parseInt(t.loaded/t.total*100,10);f.find(".bar").css("width",n+"%"),f.find(".percentage").text(n+"%"),u(".js-subs-percentage").text(n+"%"),100===n&&(f.addClass("finished"),f.find(".percentage").text(o.default.t("library.ksr_uploader.Processing")),k.val(o.default.t("library.ksr_uploader.Processing_please_wait")),u(".js-subs-percentage").text("Processing..."))},fail:function(e,t){c.trigger("error"),_.trigger("ksr_file_upload:reset"),E(!1),Object(r.a)({error:o.default.t("library.ksr_uploader.There_was_an_error_with_this_file_Please_try_a_different")}),k.val(function(e){return y[e]}),b.removeClass("uploading"),void 0!==d.a&&0===d.a.get("launched_at")&&S("Failed Project Asset Upload",t,t.files[0])}}),v.data("status_url")&&(n=t(v.data("status_url"),b,c),v.removeAttr("status_url")),g.on("pollster:stop",function(){n&&n.stop()}),g.on("ksr_file_upload:cancel cancel",function(){a&&a.abort(),_.trigger("ksr_file_upload:reset"),c.trigger("error"),E(!1)}),g.on("destroy",function(){g.trigger("ksr_file_upload:cancel")}),g.on("resize",function(){g.find("object").attr("width",g.outerWidth()).attr("height",g.outerHeight())})})}},"Tge+":function(e,t,n){"use strict";n.d(t,"d",function(){return f}),n.d(t,"e",function(){return k}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return j}),n.d(t,"a",function(){return x});var a=n("prSB"),i=n("q1tI"),r=n.n(i),o=n("0fse"),s=n("SmhT"),c=n("eEls"),l=n("udTa"),d=n("/IHD"),u=n("2DJ9"),m=n("2UXI"),p=n("RBqt"),h=n("94td");const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{isOpen:!1,currentIndex:e,highlightedIndex:e,isKeySelectionEngaged:!1}},g=()=>({type:"TOGGLE_SELECT"}),b=e=>{return{type:"ON_BLUR",currentTarget:e.currentTarget}},_=(e,t,n)=>({type:"CHANGE_SELECTED_INDEX",e:e,newSelectedIndex:t,trackingId:n}),v=e=>({type:"CHANGE_HIGHLIGHTED_INDEX",newHighlightedIndex:e}),k=e=>(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"TOGGLE_SELECT":const i=t.isOpen?w:E;return Object(o.f)(Object(a.a)({},t,{isOpen:!t.isOpen,highlightedIndex:t.currentIndex}),o.a.run(i,{args:[e]}));case"CLOSE_SELECT":return Object(o.f)(Object(a.a)({},t,{isOpen:!1}),o.a.run(w,{args:[e]}));case"ON_BLUR":return Object(o.f)(t,o.a.run(N,{args:[n.currentTarget]}));case"CHANGE_SELECTED_INDEX":const r=y(t,n.newSelectedIndex),s=r.currentIndex!==t.currentIndex?o.a.run(S,{args:[e,n.trackingId]}):o.a.none;return Object(o.f)(r,o.a.list([o.a.run(O,{args:[n.e]}),s],{batch:!0}));case"ON_KEYDOWN":return Object(o.f)(t,o.a.action(C(n.e,t.isOpen,n.options)));case"ON_VALID_KEYDOWN":return j(t,n.keyCode,n.options);case"CHANGE_HIGHLIGHTED_INDEX":return Object(a.a)({},t,{highlightedIndex:n.newHighlightedIndex});case"NOOP":default:return t}}),y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.highlightedIndex;return t!==e.currentIndex?Object(a.a)({},e,{currentIndex:t,isOpen:!1,isKeySelectionEngaged:!1}):Object(a.a)({},e,{isOpen:!1,isKeySelectionEngaged:!1})},j=(e,t,n)=>{if(Object(s.o)(t)){const i=n.findIndex(e=>e.label.charAt(0).toUpperCase().charCodeAt(0)==t);return Object(a.a)({},e,{currentIndex:i,highlightedIndex:i,isKeySelectionEngaged:!0})}switch(t){case s.l:return e.isOpen?y(e):Object(a.a)({},e,{isOpen:!0});case s.c:return e.isOpen?y(e):Object(a.a)({},e);case s.d:return Object(a.a)({},e,{isOpen:!1,highlightedIndex:e.currentIndex,isKeySelectionEngaged:!1});case s.n:const i=e.highlightedIndex-1,r=0,o=Math.max(i,r);return Object(a.a)({},e,{highlightedIndex:o,isKeySelectionEngaged:!0});case s.b:const c=n.length-1,l=e.highlightedIndex+1,d=Math.min(l,c);return Object(a.a)({},e,{highlightedIndex:d,isKeySelectionEngaged:!0});default:return e}},E=e=>{Object(m.d)("Opened Select",{context:e})},w=e=>{Object(m.d)("Closed Select",{context:e})},S=(e,t)=>{Object(m.d)("Selected Item",{context:e,id:t})},O=e=>{e.stopPropagation()},C=(e,t,n)=>{const a=[s.c,s.l,s.d,s.b,s.n,...s.h];return e.which===s.m&&t?(e.preventDefault(),{type:"NOOP"}):a.includes(e.which)?(e.preventDefault(),((e,t)=>({type:"ON_VALID_KEYDOWN",keyCode:e,options:t}))(e.which,n)):{type:"NOOP"}},N=Object(l.a)(0,e=>e.contains(document.activeElement)?{type:"NOOP"}:{type:"CLOSE_SELECT"}),x=e=>{let t=e.atoms,n=void 0===t?[]:t,a=e.placeholder,i=e.state,o=e.onStateChange,s=e.onBlur,l=e.options,u=e.small,m=e.titleString,p=e.toLabel,h=e.toId,f=e.hasErrors,k=void 0!==f&&f,y=e.shadow,j=void 0===y||y;const E=i.isOpen,w=i.currentIndex,S=i.highlightedIndex,O=u?"h7":"h9",C=u?"body-100":"subhead-300",N=u?"py1":"py2",x=u?"px2 px3-sm":"px3",D=Object(d.a)("absolute","w100p","shadow-3","border","shadow-card","scroll-y","max-h50","p1","bg-white","mt1","mb10","radius2px","z-dropdown-3","border-box",C,n,"border-soft-black",!E&&"visually-hide"),P=null!==w?l[w]:null,A=l.map((e,t)=>{const n=w===t,a=S===t;return r.a.createElement(I,Object.assign({key:t,onOptionSelect:Object(c.a)(o,_),onOptionHover:Object(c.a)(o,v)},{option:e,index:t,isCurrent:n,isHighlighted:a,isOpen:E,toLabel:p,toId:h,typeSize:C,yPaddingClass:N}))}),R=Object(c.a)(o,b,e=>(s&&s(),e));return r.a.createElement("div",{className:"navy-700"},m&&r.a.createElement("label",{className:"type-13 type-14-md medium mb2 soft-black","aria-hidden":"true"},m),r.a.createElement("div",{role:"listbox","aria-labelledby":"custom-select-heading-label",onBlur:R,onKeyDown:Object(c.a)(o,e=>((e,t)=>({type:"ON_KEYDOWN",options:e,e:t}))(l,e)),className:"relative w100p pointer input-keyboard-focusable-soft-black"},r.a.createElement(T,{onDropdownContainerClick:Object(c.a)(o,g),label:P?p(P):a,color:P?"soft-black":"dark-grey-500",heightSize:O,shadow:j,typeSize:C,yPaddingClass:N,xPaddingClasses:x,hasErrors:k}),r.a.createElement("ul",{className:D,role:"presentation"},A)))},T=e=>{let t=e.color,n=e.heightSize,a=e.hasErrors,i=e.label,o=e.onDropdownContainerClick,s=e.shadow,c=e.typeSize,l=e.yPaddingClass,m=e.xPaddingClasses;const f=s?"border-transparent":"border-grey-400",g=Object(d.a)(s&&"shadow-hover","border",a?"border-red-400":f,"hover-border-soft-black","transition-all","radius2px",l,m,"bg-white flex","items-center",s&&"shadow-2",n,"input-keyboard-focusable-soft-black");return r.a.createElement("div",{className:g,onClick:o,"aria-hidden":"true","aria-label":Object(h.b)("components.custom_select.select_an_option"),tabIndex:"0"},r.a.createElement(p.a,{id:"custom-select-heading-label",type:c,atoms:["grow1","text-truncate","pr1","book",t]},i),r.a.createElement(u.a,{name:"delta-down",size:"10",atoms:["shrink0"]}))},I=e=>{let t=e.option,n=e.index,a=e.isOpen,i=e.onOptionSelect,o=e.onOptionHover,s=e.isCurrent,c=e.isHighlighted,l=e.toLabel,d=e.toId,m=e.typeSize,h=e.yPaddingClass;const f=["px2 flex items-center transition-all lh3 soft-black"].concat(c?["bg-grey-400"]:[]).concat([h]).join(" ");return r.a.createElement("li",{role:"option",tabIndex:a?"0":"-1","aria-selected":s,onClick:e=>i(e,n,d(t)),onMouseOver:()=>o(n),className:f,onKeyDown:()=>{},onFocus:()=>{}},r.a.createElement(p.a,{id:"custom-select-heading-label",type:m,atoms:["mr2"]},l(t)),s&&r.a.createElement("span",{className:"radius100p shrink0 h3 w3 bg-ksr-green-400 inline-flex justify-center items-center"},r.a.createElement(u.a,{name:"check",size:"9",atoms:["relative","fill-white"]})))}},Tuxz:function(e,t,n){var a=n("+2Rf");n("+2Rf");!function(e){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e(document).on("click","a[data-method]",function(a){var i=e(this),r=i.prop("href"),o=i.data("method"),s=i.prop("target"),c=e('<form method="post" action="'+r+'"></form>'),l='<input name="_method" value="'+o+'" type="hidden" />';void 0!==n&&void 0!==t&&(l+='<input name="'+n+'" value="'+t+'" type="hidden" />'),s&&c.prop("target",s),c.hide().append(l).appendTo("body"),c[0].submit(),a.preventDefault()}),t&&e.ajaxPrefilter(function(e,n,a){e.crossDomain||a.setRequestHeader("X-CSRF-Token",t)})}(a)},U6FK:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("a+N5"),o=n.n(r),s=n("h4vE"),c=n("0VSk"),l=n("SmhT"),d=n("DQv1"),u=n("2UXI"),m=n("yQm5"),p=n.n(m);Object(s.a)("#NS__discover_advanced_sentence",function(e){var t=e.find("form"),n=e.find(".js-sentence"),a=e.find(".js-filter.js-filter-search"),r=e.find(".js-filter.js-filter-category"),s=e.find(".js-filter.js-filter-recommended"),m=e.find(".js-filter.js-filter-staff_picks"),h=e.find(".js-filter.js-filter-starred"),f=e.find(".js-filter.js-filter-backed"),g=e.find(".js-filter.js-filter-social"),b=e.find(".js-filter.js-filter-tag"),_=e.find(".js-filter.js-filter-state"),v=e.find(".js-filter.js-filter-goal"),k=e.find(".js-filter.js-filter-pledged"),y=e.find(".js-filter.js-filter-raised"),j=e.find(".js-filter.js-filter-location"),E=e.find(".js-filter.js-filter-sorts"),w=e.find(".js-close"),S=i()(".js-sentence-container"),O=i()(".js-category-hero");function C(e,t){return t=t||{},i()('<span class="'+o.a.compact(o.a.flatten(["display-none inline-block-sm mr2",t.classes])).join(" ")+'">'+e+"</span>")}function N(e,t){return i()('<span class="block inline-block-sm"></span>').append(e).append(t)}function x(e){const n="en"===c.default.locale;var l,d=i()("<div></div>"),u=[],p=[];if((e=e||T()).state=e.state||"all",e.term=i.a.trim(e.term||""),d.append(C(c.default.t("onloads.views.discover.sentence.Show_me"))),"all"===e.state&&0===e.term.length?(d.append(r),d.append(C(c.default.t("onloads.views.discover.sentence.projects"))),r.find("option:first").data("alt-label",c.default.t("onloads.views.discover.sentence.all"))):("all"!==e.state&&d.append(_),e.term.length>0&&d.append(a),d.append(C(c.default.t("onloads.views.discover.sentence.projects_in"))),d.append(r),r.find("option:first").data("alt-label",c.default.t("onloads.views.discover.sentence.All_Categories"))),e.category_id&&parseInt(e.category_id,10)>0?(r.hasClass("js-filter")||r.addClass("selected"),r.find("select").ksr_val(e.category_id),r.find(".js-filter-arrow").addClass("display-none").removeClass("inline-block"),r.find(".js-filter-delete").removeClass("display-none").addClass("inline-block")):(r.hasClass("js-filter")||r.removeClass("selected"),r.find("select").ksr_val(""),r.find(".js-filter-arrow").removeClass("display-none").addClass("inline-block"),r.find(".js-filter-delete").addClass("display-none").removeClass("inline-block")),_.find("select").ksr_val(e.state),a.find("input").val(e.term),a.find(".term").text(e.term),e.woe_id&&parseInt(e.woe_id,10)>0?(j.hasClass("js-filter")||j.addClass("selected"),j.find("select").ksr_val(e.woe_id),j.find(".js-filter-arrow").addClass("display-none").removeClass("inline-block"),j.find(".js-filter-delete").removeClass("display-none").addClass("inline-block"),d.append(N(C(c.default.t("onloads.views.discover.sentence.from")),j))):"distance"!==e.sort&&(j.hasClass("js-filter")||j.removeClass("selected"),j.find("select").ksr_val("0"),j.find(".js-filter-arrow").removeClass("display-none").addClass("inline-block"),j.find(".js-filter-delete").addClass("display-none").removeClass("inline-block"),n?d.append(N(C(c.default.t("onloads.views.discover.sentence.on")),j)):d.append(j)),e.tag_id>0&&(b.find("select").ksr_val(e.tag_id),d.append(N(C(c.default.t("onloads.views.discover.sentence.tagged_with")),b))),e.recommended&&u.push(s),e.staff_picks&&u.push(m),e.social?u.push(g):g.find("select").ksr_val("1"),e.starred?u.push(h):h.find("select").ksr_val("1"),e.backed?u.push(f):f.find("select").ksr_val("1"),(u=o.a.compact(u)).length>0&&(n&&(l=d,function(e){return e===f||e===h}(u[0])?l.append(C(c.default.t("onloads.views.discover.sentence.that"))):l.append(C(c.default.t("onloads.views.discover.sentence.that_are")))),d.append(u)),o.a.isUndefined(e.pledged)||o.a.isNull(e.pledged)||""===e.pledged||(k.find("select").ksr_val(e.pledged),p.push(k)),o.a.isUndefined(e.goal)||o.a.isNull(e.goal)||""===e.goal||(v.find("select").ksr_val(e.goal),p.push(v)),o.a.isUndefined(e.raised)||o.a.isNull(e.raised)||""===e.raised||(y.find("select").ksr_val(e.raised),p.push(y)),p.length>0){const e=n?c.default.t("onloads.views.discover.sentence.with"):"";d.append(N(C(e),p))}E.find("select").ksr_val(e.sort),"distance"===e.sort?d.append(N(E)):d.append(N(C(c.default.t("onloads.views.discover.sentence.sorted_by")),E)),t.children().detach(),t.empty(),t.html(d)}function T(){var e=p()("?"+t.serialize()).query(!0);return e.category_id=e.category_id&&parseInt(e.category_id,10),e.tag_id=e.tag_id&&parseInt(e.tag_id,10),e.woe_id=e.woe_id&&parseInt(e.woe_id,10),e}function I(e){var t={discover_interaction_param:e.param,discover_interaction_action:e.action,discover_interaction_value:e.value};o.a.extend(t,Object(u.c)("discover",T())),Object(u.d)("Discover Sentence Parameter Interaction",t)}i()(document).on("discovery:filters:term_changed",function(e,n){i.a.trim(n.term).length&&a.closest(t).length?a.find("input").val(n.term).siblings(".term").text(n.term):x(o.a.extend(T(),{term:n.term}))}),i()(document).on("discovery:categories:changed",function(e,t){r.find("select").ksr_val(t.id||0),x(),i()(document).trigger("discovery:sentence:changed",T()),I({param:"category_id",action:"change"})}),i()(document).on("discovery:locations:changed",function(e,t){j.find("select").ksr_val(t.id||0),x(),i()(document).trigger("discovery:sentence:changed",T()),I({param:"woe_id",action:"change"})}),i()(document).on("discovery:sorts:changed",function(e,t){E.find("select").ksr_val(t),x(),i()(document).trigger("discovery:sentence:changed",T()),I({param:"sort",action:"change"})}),i()(document).on("discovery:locations:updated",function(e,t){j.find("select").children().remove(),j.find("select").append(Object(d.a)("discover/_location_options",t)),j.find("select").ksr_val(t.id)}),i()(document).on("discovery:filters:changed",function(e,t){x(o.a.extend(T(),t)),i()(document).trigger("discovery:sentence:changed",T()),I({param:"term",action:"change"})}),e.find("#filters").on("click",function(e){Object(u.d)("Discovery Add Filter Pressed"),e.preventDefault()}),e.on("change","select",function(){var e=i()(this);x(),i()(document).trigger("discovery:sentence:changed",T()),I({param:e.attr("name"),action:"change",value:e.val()})}),e.on("click",".js-filter-delete",function(e){var t=i()(this);t.closest(".js-filter").detach(),x(),i()(document).trigger("discovery:sentence:changed",T()),I({param:t.siblings("input,select").attr("name"),action:"remove"}),e.preventDefault()}),e.on("keypress cut paste input blur",".search span[contenteditable], .js-filter-search span[contenteditable]",function(e){var t=i()(this),n=t.siblings("input"),a=i.a.trim(t.text()||"");"blur"===e.type||"focusout"===e.type?(x(),I({param:n.attr("name"),value:n.val(),action:"change"})):"keypress"!==e.type||e.keyCode!==l.c&&e.keyCode!==l.m?(n.val(a),i()(document).trigger("discovery:sentence:term_changed",T())):(t.blur(),e.preventDefault())}),e.find(".term").on("focus",function(){a.removeClass("shadow-2 border-transparent").addClass("border-dark-grey-500")}).on("blur",function(){a.addClass("shadow-2 border-transparent").removeClass("border-dark-grey-500")}),i()(document).on("discovery:sentence:changed",function(){S.is(":visible")&&w.hide()}),i()(document).on("discovery:sentence:load_sample",function(e,t){x(t),i()(document).trigger("discovery:sentence:changed",T())}),i()(document).on("discovery:sentence:update_params",function(e,t){var n=o.a.extend(T(),t);x(n),i()(document).trigger("discovery:sentence:changed",n)}),i()(document).on("discovery:sentence:show_sentence",function(){e.css({height:O.outerHeight()}),setTimeout(function(){e.addClass("transition-all-bezier"),S.removeClass("hide"),e.css({height:n.outerHeight()})},1),setTimeout(function(){e.removeClass("transition-all-bezier"),e.css({height:"auto"}),S.aria_set_visible()},1e3),w.hide()}),x()})},U98V:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("+2Rf"),i=n.n(a);const r=e=>{((e,t)=>{const n=i()(e).find("#"+t);!i()(e).find("iframe").length&&(n.length&&(n.empty(),window.grecaptcha.ready(function(){window.grecaptcha.render(t,{sitekey:window.recaptcha_v2_site_key})})))})(e,"g-recaptcha-container-v2"),((e,t,n)=>{const a=i()(e).find("#"+t);a.length&&window.grecaptcha.ready(function(){return a.empty(),window.grecaptcha.execute(window.recaptcha_v3_site_key,{action:n}).then(function(e){a[0].value=e}),!0})})(e,"g-recaptcha-response-v3","send_message")}},UEZD:function(e,t,n){"use strict";var a=n("prSB"),i=n("v83y"),r=n("SmhT"),o=n("/IHD"),s=n("q1tI"),c=n.n(s);class l extends s.Component{constructor(){super(...arguments),this.timeoutID=void 0,this.state={isMenuOpen:!1},this.onCloseMenu=()=>{this.setState({isMenuOpen:!1})},this.onOpenMenu=()=>{this.setState({isMenuOpen:!0})},this.onToggleMenu=()=>{this.state.isMenuOpen?this.onCloseMenu():this.onOpenMenu()},this.onBlur=()=>{this.timeoutID=setTimeout(()=>{this.state.isMenuOpen&&this.onCloseMenu()},0)},this.onFocus=()=>{clearTimeout(this.timeoutID),this.state.isMenuOpen||this.onOpenMenu()},this.onKeyDown=e=>{e.keyCode===r.d&&this.onCloseMenu()}}render(){return s.createElement("div",{role:"dialog",className:Object(o.a)("relative",...this.props.atoms?this.props.atoms:[]),onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeyDown},this.props.label({isMenuOpen:this.state.isMenuOpen,onOpenMenu:this.onFocus,onCloseMenu:this.onBlur}),this.state.isMenuOpen&&this.props.dropdown({isMenuOpen:this.state.isMenuOpen,onCloseMenu:this.onBlur}))}}var d=n("2DJ9"),u=n("94td"),m=n("kZzg"),p=n("bvYH"),h=n("1uWx"),f=n("kKlT"),g=n("b8Ld"),b=n("E2Se");n.d(t,"c",function(){return _}),n.d(t,"b",function(){return v}),n.d(t,"a",function(){return k});const _=[b.b.Bold,b.b.Italic,b.b.Header,b.b.List,b.b.Link,b.b.Image,b.b.Video,b.b.Audio,b.b.Header2,b.b.Header3,b.b.Quote],v=e=>{const t=e.atoms,n=void 0===t?[]:t,r=e.editorState,s=e.dispatch,m=e.controls,v=void 0===m?_:m,k=e.showRemoveLink,y=e.isSticky,j=void 0===y||y,E=e.tracking,w=e.topMargin,S=e.setCurrentModal,O=e.headerDropdownEnabled,C=r.getCurrentInlineStyle(),N=r.getSelection(),x=r.getCurrentContent().getBlockForKey(N.getStartKey()).getType(),T=e=>s(Object(p.q)(i.RichUtils.toggleInlineStyle(r,e))),I=e=>s(Object(p.q)(i.RichUtils.toggleBlockType(r,e))),D=e=>{E&&"function"==typeof E.editorToolClicked&&E.editorToolClicked(e)},P=Object(o.a)("z1 bg-white border-bottom border-grey-400 flex items-center px3 scroll-x visible-x-sm",j&&"stick border-bottom",w,...n),A={[h.n.style.toString()]:Object(a.a)({},h.n,{component:h.m,atoms:Object(o.a)("")}),[h.h.style.toString()]:Object(a.a)({},h.h,{component:h.g,atoms:Object(o.a)("h1")}),[h.d.style.toString()]:Object(a.a)({},h.d,{component:h.c,atoms:Object(o.a)("h2")}),[h.f.style.toString()]:Object(a.a)({},h.f,{component:h.e,atoms:Object(o.a)("h3")}),[h.p.style.toString()]:Object(a.a)({},h.p,{component:h.o,atoms:Object(o.a)("blockquote")})},R=Object.keys(A).includes(x)?A[x]:A.unstyled,F=c.a.createElement(l,{atoms:["h100p","w100p"],label:e=>{let t=e.isMenuOpen,n=e.onCloseMenu,a=e.onOpenMenu;return c.a.createElement("div",{className:"h100p flex justify-between items-center",onClick:t?n:a,role:"button"},R&&c.a.createElement("span",{className:"pr6 bold type-14"},R.label),c.a.createElement(d.a,{atoms:["pb1px"],name:"icon--delta-down",size:"15"}))},dropdown:()=>c.a.createElement("ul",{className:"w100p absolute bg-white w163px flex flex-column items-start border-box",style:{boxShadow:"0px 12px 16px rgba(0, 0, 0, 0.12)"}},Object.values(A).map((e,t,n)=>{const a=e.component;return c.a.createElement("li",{key:"header-dropdown-".concat(e.id),className:Object(o.a)("flex1 w100p border-support-300 border-left border-right border-top hover-bg-support-100 px3",t===n.length-1&&"border-bottom")},c.a.createElement(a,{isActive:x===e.style,onClick:()=>{I(e.style)},headerDropdownEnabled:O}))}))});return c.a.createElement("div",{className:P},O?c.a.createElement("div",{className:"justify-start flex items-center h10 min-w28"},F):v.includes(b.b.Header)&&c.a.createElement(h.g,{isActive:x===h.h.style,onClick:()=>{I(h.h.style),D("Header")}}),v.includes(b.b.List)&&c.a.createElement(h.k,{isActive:x===h.l.style,onClick:()=>{I(h.l.style),D("Unordered_List")}}),v.includes(b.b.Bold)&&c.a.createElement(h.a,{isActive:C.has(h.b.style),onClick:()=>{T(h.b.style),D("Strong")}}),v.includes(b.b.Italic)&&c.a.createElement(h.i,{isActive:C.has(h.j.style),onClick:()=>{T(h.j.style),D("Emphasis")}}),v.includes(b.b.Link)&&c.a.createElement(g.a,{isActive:k,onMouseDown:e=>{e.preventDefault(),Object(f.c)(s,r,S,E)},toolTip:Object(u.b)("rich_editor.Add_link"),icon:b.d.icon,toolId:b.d.id}),k&&c.a.createElement(g.a,{onMouseDown:e=>{e.preventDefault(),s(Object(p.j)()),D("Unlink")},toolTip:Object(u.b)("rich_editor.Remove_link"),icon:b.e.icon,isActive:!0,toolId:b.e.id}),v.includes(b.b.Image)&&c.a.createElement(g.a,{icon:b.c.icon,toolId:b.c.id,toolTip:Object(u.b)("rich_editor.Add_image"),onMouseDown:e=>{e.preventDefault(),s(Object(p.e)()),S("IMAGE"),D("Image")}}),v.includes(b.b.Video)&&c.a.createElement(g.a,{icon:b.g.icon,toolId:b.g.id,toolTip:Object(u.b)("rich_editor.Add_video"),onMouseDown:e=>{e.preventDefault(),S("VIDEO"),D("Asset_Video")}}),v.includes(b.b.Audio)&&c.a.createElement(g.a,{icon:b.a.icon,toolId:b.a.id,toolTip:Object(u.b)("rich_editor.Add_audio"),onMouseDown:e=>{e.preventDefault(),S("AUDIO"),D("Asset_Audio")}}),v.includes(b.b.Reward)&&c.a.createElement(g.a,{icon:b.f.icon,toolId:b.f.id,toolTip:Object(u.b)("rich_editor.Embed_reward"),onMouseDown:e=>{e.preventDefault(),S("REWARD"),D("Reward")}}))},k=e=>{const t=Object(m.a)(),n=Object(o.a)(!e.topMargin&&(t?"t10 t4-lg":!t&&"t0"),"z-toolbar-3");return c.a.createElement(v,Object.assign({},e,{isSticky:!0,atoms:[n]}))}},UNyc:function(e,t,n){"use strict";var a=n("q1tI"),i=n.n(a),r=n("2UXI"),o=n("94td"),s=n("c7Xp"),c=n("pTxv"),l=n("2DJ9"),d=n("gN63");const u=(e,t)=>Object(d.d)("\n  query($projectSlug: String!) {\n    project(slug: $projectSlug) {\n      backing {\n        id\n      }\n      flagging {\n        kind\n      }\n      state\n    }\n  }\n",{projectSlug:e},{projectShareToken:t});var m=n("SmhT"),p=n("/IHD"),h=n("RBqt");const f=e=>{const t=["radius100p","shrink0","h4","w4","inline-flex","justify-center","items-center",e.isSelected?"bg-ksr-green-700":"bg-grey-500"].join(" ");return i.a.createElement("span",{className:t},i.a.createElement(l.a,{name:"check",size:"12",atoms:["relative","fill-white"]}))},g=e=>{let t=e.id,n=e.name,a=e.option,r=e.isSelected,o=e.onChange,s=e.onClick,c=e.onKeyDown,l=e.hoverable,d=e.groupIsUnselected;const u=a.expandedComponent,m=a.label,g=a.value,b=a.subheader,_=d||r,v=b&&!r,k=u&&r,y=["border","border-grey-400","border","no-outline","mb1","transition-300","radius2px",l?"hover-border-ksr-green-700":""].join(" "),j=i.a.createElement("div",{className:Object(p.a)(y),"aria-checked":r,role:"radio"},i.a.createElement("label",{htmlFor:t,className:"flex p2 pointer",tabIndex:"0",onKeyDown:c},i.a.createElement("div",{zindex:"1",role:"radio","aria-checked":r},i.a.createElement("input",{type:"radio",name:n,id:t,value:g,className:"super-hide",onChange:o,onClick:s,checked:r,"aria-checked":r}),i.a.createElement("div",{className:"mr2"},i.a.createElement(f,{isSelected:r}))),i.a.createElement("div",{className:"grow1"},i.a.createElement(h.a,{type:"body-100",color:"soft-black",atoms:["block"],weight:"regular"},m),v&&i.a.createElement(h.a,{type:"caption-200",color:"dark-grey-500",weight:"regular"},b))),k&&i.a.createElement("div",{className:"border-grey-400 p2"},u));return i.a.createElement("div",null,_&&j)},b=[m.l,m.c];class _ extends i.a.Component{constructor(e){super(e),this.handleStateChange=e=>{this.setState(()=>({selectedOptionIndex:e,hoverable:!this.state.hoverable}))},this.handleChange=(e,t,n)=>{this.handleStateChange(n)},this.handleToggle=(e,t)=>{e.target&&e.target.focus();const n=null!=t&&t===this.state.selectedOptionIndex?null:t;this.handleStateChange(n)},this.handleClick=(e,t,n)=>{this.handleToggle(e,n)},this.handleKeyDown=(e,t,n)=>{if(e.target===e.currentTarget&&b.includes(e.keyCode))switch(e.keyCode){case m.l:case m.c:this.handleToggle(e,n);default:return null}},this.render=()=>{const e=null===this.state.selectedOptionIndex,t=this.options.map((t,n)=>{const a=this.state.selectedOptionIndex===n,r="".concat(this.id,"-radio-option-").concat(n);return i.a.createElement(g,{isSelected:a,groupIsUnselected:e,onChange:e=>this.handleChange(e,t,n),onClick:e=>this.handleClick(e,t,n),onKeyDown:e=>this.handleKeyDown(e,t,n),option:t,hoverable:this.state.hoverable,key:r,id:r,name:this.id})});return i.a.createElement("div",{id:this.id,role:"radiogroup"},t)},this.id=e.id,this.options=e.options,this.state={selectedOptionIndex:null,hoverable:!0}}}var v=n("pj8f"),k=n("tr1H");const y={context:{tags:k.a.SYSINT}},j=(e,t)=>{v.Honeybadger.notify(e+JSON.stringify(t),y)},E=e=>{j("Fetch for project flagging (aka project reporting) status failed: ",e)},w=e=>{j("Submit for project flagging (aka project reporting) status failed: ",e)},S=(e,t)=>e&&"SUCCESSFUL"===t,O=()=>{const e=document.createElement("a");return e.href=window.current_project.data.urls.web.project,encodeURIComponent(e.pathname)},C=()=>window.current_project.data.slug,N=e=>"".concat("project_page.flagging.").concat(e),x=e=>Object(o.b)(N(e));var T=n("DRAL");const I="flagging unsubmitted",D="flagging submitted",P="flagging created",A="flagging failed",R=6e4;class F extends i.a.Component{constructor(){super(...arguments),this.state={details:"",link:"",flaggingFormStatus:I},this.handleTextAreaChange=e=>{e.persist(),this.setState(()=>({details:e.target.value}))},this.handleLinkChange=e=>{e.persist(),this.setState(()=>({link:e.target.value}))},this.formatDetails=e=>""==e?null:e.substring(0,R),this.getFormData=()=>{const e=this.state,t=e.link,n=e.details;return{link:""!==t?t:null,details:this.formatDetails(n),kind:this.props.kind}},this.handleFormFailure=e=>{w(e),this.setState(()=>({flaggingFormStatus:A}))},this.handleSuccess=()=>{this.props.onSuccess(this.props.isPostFundingIssue)},this.handleFormResponse=e=>{e.errors?this.handleFormFailure(e):null===e.data.createFlagging.flagging.kind?this.handleFormFailure(e):(this.setState(()=>({flaggingFormStatus:P})),this.handleSuccess())},this.handleFormSubmit=()=>{this.setState(()=>({flaggingFormStatus:D})),Object(T.b)(this.getFormData(),Object(s.b)()).then(e=>{this.handleFormResponse(e)}).catch(e=>{this.handleFormFailure(e)})},this.textAreaAreDisabled=()=>this.state.flaggingFormStatus===D||this.state.flaggingFormStatus===P,this.detailsAreaIsValid=()=>""!==this.state.details,this.componentWillUnmount=()=>{document.removeEventListener("click",this.handleFormSubmit),document.removeEventListener("change",this.handleTextAreaChange),document.removeEventListener("change",this.handleLinkChange)},this.detailsArea=()=>i.a.createElement("textarea",{id:"project-report-details",role:"textbox","aria-multiline":"true",onChange:this.handleTextAreaChange,value:this.state.details,className:"textarea mb2 p2 text-10",rows:this.props.detailsRows,disabled:this.textAreaAreDisabled(),placeholder:this.props.detailsPlaceholder}),this.linkAreaIsValid=()=>""!==this.state.link,this.linkArea=()=>i.a.createElement("textarea",{id:"project-report-link",role:"textbox",onChange:this.handleLinkChange,value:this.state.link,className:"textarea text-10",rows:this.props.linkRows,disabled:this.textAreaAreDisabled(),placeholder:this.props.linkPlaceholder}),this.submitButtonIsDisabled=()=>!(!this.props.requireDetails||this.detailsAreaIsValid())||!(!this.props.requireLink||this.linkAreaIsValid()),this.submitButtonDefaultState=()=>i.a.createElement(c.c,{theme:"trust",id:"project-report-submit",disabled:this.submitButtonIsDisabled(),onClick:this.handleFormSubmit},x("Report_project_submit")),this.submitButtonLoadingState=()=>i.a.createElement("div",null,i.a.createElement(l.a,{size:"large",name:"icon--circle-loader",atoms:["ml1"]}),i.a.createElement("em",{className:"ml2 dark-grey-300"},x("Submitting"))),this.submitButtonFailedState=()=>i.a.createElement("p",{className:"red ml1"},x("Flagging_failed_message")),this.submitButtonCreatedState=()=>i.a.createElement("div",null),this.submitButton=()=>{switch(this.state.flaggingFormStatus){case D:return this.submitButtonLoadingState();case A:return this.submitButtonFailedState();case P:return this.submitButtonCreatedState();default:return this.submitButtonDefaultState()}},this.render=()=>i.a.createElement("div",{role:"form"},i.a.createElement("div",{className:"field mt2"},this.props.collectDetails&&this.detailsArea(),this.props.collectLink&&this.linkArea(),this.submitButton()))}}F.defaultProps={collectLink:!1,collectDetails:!0,detailsRows:"4",linkRows:"1",detailsPlaceholder:x("Please_tell_us_more"),linkPlaceholder:x("Please_provide_us_with_a_link"),requireDetails:!0,requireLink:!1,kind:null,onSuccess:null,isPostFundingIssue:!1};const L={VICES_DRUGS:"VICES_DRUGS",VICES_ALCOHOL:"VICES_ALCOHOL",VICES_WEAPONS:"VICES_WEAPONS",HEALTH_CLAIMS:"HEALTH_CLAIMS",HEALTH_REGULATIONS:"HEALTH_REGULATIONS",HEALTH_GMOS:"HEALTH_GMOS",HEALTH_LIVE_ANIMALS:"HEALTH_LIVE_ANIMALS",HEALTH_ENERGY_FOOD_AND_DRINK:"HEALTH_ENERGY_FOOD_AND_DRINK",FINANCIAL_CONTESTS_COUPONS:"FINANCIAL_CONTESTS_COUPONS",FINANCIAL_SERVICES:"FINANCIAL_SERVICES",FINANCIAL_POLITICAL_DONATIONS:"FINANCIAL_POLITICAL_DONATIONS",OFFENSIVE_CONTENT_HATE:"OFFENSIVE_CONTENT_HATE",OFFENSIVE_CONTENT_PORN:"OFFENSIVE_CONTENT_PORN",RESALE_RESELLING:"RESELLING",RESALE_PLAGIARISM:"PLAGIARISM",RESALE_COPYRIGHT:"COPYRIGHT",PROTOTYPE_MISREPRESENTATION:"PROTOTYPE_MISREPRESENTATION",MISREP_SUPPORT_IMPERSONATION:"MISREP_SUPPORT_IMPERSONATION",MISREP_SUPPORT_OUTSTANDING_FULFILLMENT:"MISREP_SUPPORT_OUTSTANDING_FULFILLMENT",MISREP_SUPPORT_SUSPICIOUS_PLEDGING:"MISREP_SUPPORT_SUSPICIOUS_PLEDGING",MISREP_SUPPORT_OTHER:"MISREP_SUPPORT_OTHER",NOT_PROJECT_CHARITY:"NOT_PROJECT_CHARITY",NOT_PROJECT_STUNT:"NOT_PROJECT_STUNT_OR_HOAX",NOT_PROJECT_OTHER:"NOT_PROJECT_OTHER",NOT_PROJECT_PERSONAL_OR_BUSINESS_EXPENSE:"NOT_PROJECT_PERSONAL_EXPENSES",NOT_PROJECT_BAREBONES:"NOT_PROJECT_BAREBONES",GUIDELINES_VIOLATION_SPAM:"GUIDELINES_SPAM",GUIDELINES_VIOLATION_ABUSE:"GUIDELINES_ABUSE",POST_FUNDING_ISSUES_YES_UNSATISFIED:"POST_FUNDING_REWARD_NOT_AS_DESCRIBED",POST_FUNDING_ISSUES_YES_DELAYED:"POST_FUNDING_REWARD_DELAYED",POST_FUNDING_ISSUES_NO_NEVER_RECEIVED:"POST_FUNDING_SHIPPED_NEVER_RECEIVED",POST_FUNDING_ISSUES_NO_SELLING_ELSEWHERE:"POST_FUNDING_CREATOR_SELLING_ELSEWHERE",POST_FUNDING_ISSUES_NO_CREATOR_UNCOMMUNICATIVE:"POST_FUNDING_CREATOR_UNCOMMUNICATIVE",POST_FUNDING_ISSUES_NO_CREATOR_POOR_UPDATES:"POST_FUNDING_CREATOR_INAPPROPRIATE",POST_FUNDING_ISSUES_NO_SUSPICIOUS_BEHAVIOR:"POST_FUNDING_SUSPICIOUS_THIRD_PARTY"},M=e=>{let t=e.kind,n=e.onSuccess;return i.a.createElement(F,{kind:t,onSuccess:n,detailsRows:"9",detailsPlaceholder:x("prohibited_items_form.placeholder")})},U=e=>{let t=e.onSuccess;return[{label:x("prohibited_items_form.drugs_or_weapons.items.drugs_tobacco_vapes.item"),subheader:x("prohibited_items_form.drugs_or_weapons.items.drugs_tobacco_vapes.example"),value:L.VICES_DRUGS,expandedComponent:i.a.createElement(M,{kind:L.VICES_DRUGS,onSuccess:t})},{label:x("prohibited_items_form.drugs_or_weapons.items.alcohol_as_a_reward.item"),subheader:x("prohibited_items_form.drugs_or_weapons.items.alcohol_as_a_reward.example"),value:L.VICES_ALCOHOL,expandedComponent:i.a.createElement(M,{kind:L.VICES_ALCOHOL,onSuccess:t})},{label:x("prohibited_items_form.drugs_or_weapons.items.weapons_replicas.item"),subheader:x("prohibited_items_form.drugs_or_weapons.items.weapons_replicas.example"),value:L.VICES_ALCOHOL,expandedComponent:i.a.createElement(M,{kind:L.VICES_ALCOHOL,onSuccess:t})}]},B=e=>{let t=e.onSuccess;return[{label:x("prohibited_items_form.health_claims.items.claims_to_cure.item"),subheader:x("prohibited_items_form.health_claims.items.claims_to_cure.example"),value:L.HEALTH_CLAIMS,expandedComponent:i.a.createElement(M,{kind:L.HEALTH_CLAIMS,onSuccess:t})},{label:x("prohibited_items_form.health_claims.items.illegal_items.item"),subheader:x("prohibited_items_form.health_claims.items.illegal_items.example"),value:L.HEALTH_REGULATIONS,expandedComponent:i.a.createElement(M,{kind:L.HEALTH_REGULATIONS,onSuccess:t})},{label:x("prohibited_items_form.health_claims.items.gmo.item"),subheader:x("prohibited_items_form.health_claims.items.gmo.example"),value:L.HEALTH_GMO,expandedComponent:i.a.createElement(M,{kind:L.HEALTH_GMO,onSuccess:t})},{label:x("prohibited_items_form.health_claims.items.live_animals.item"),subheader:x("prohibited_items_form.health_claims.items.live_animals.example"),value:L.HEALTH_LIVE_ANIMALS,expandedComponent:i.a.createElement(M,{kind:L.HEALTH_LIVE_ANIMALS,onSuccess:t})},{label:x("prohibited_items_form.health_claims.items.energy_food_and_drink.item"),subheader:x("prohibited_items_form.health_claims.items.energy_food_and_drink.example"),value:L.HEALTH_ENERGY_FOOD_AND_DRINK,expandedComponent:i.a.createElement(M,{kind:L.HEALTH_ENERGY_FOOD_AND_DRINK,onSuccess:t})}]},q=e=>{let t=e.onSuccess;return[{label:x("prohibited_items_form.financial.items.contests.item"),subheader:x("prohibited_items_form.financial.items.contests.example"),value:L.FINANCIAL_CONTESTS_COUPONS,expandedComponent:i.a.createElement(M,{kind:L.FINANCIAL_CONTESTS_COUPONS,onSuccess:t})},{label:x("prohibited_items_form.financial.items.services.item"),subheader:x("prohibited_items_form.financial.items.services.example"),value:L.FINANCIAL_SERVICES,expandedComponent:i.a.createElement(M,{kind:L.FINANCIAL_SERVICES,onSuccess:t})},{label:x("prohibited_items_form.financial.items.political.item"),subheader:x("prohibited_items_form.financial.items.political.example"),value:L.FINANCIAL_POLITICAL_DONATIONS,expandedComponent:i.a.createElement(M,{kind:L.FINANCIAL_POLITICAL_DONATIONS,onSuccess:t})}]},$=e=>{let t=e.onSuccess;return[{label:x("prohibited_items_form.innappropriate_content.items.offensive.item"),subheader:x("prohibited_items_form.innappropriate_content.items.offensive.example"),value:L.OFFENSIVE_CONTENT_HATE,expandedComponent:i.a.createElement(M,{kind:L.OFFENSIVE_CONTENT_HATE,onSuccess:t})},{label:x("prohibited_items_form.innappropriate_content.items.pornography.item"),subheader:x("prohibited_items_form.innappropriate_content.items.pornography.example"),value:L.OFFENSIVE_CONTENT_PORN,expandedComponent:i.a.createElement(M,{kind:L.OFFENSIVE_CONTENT_PORN,onSuccess:t})}]},H=e=>{let t=e.onSuccess;return[{label:x("prohibited_items_form.drugs_or_weapons.header"),value:"drugs_or_weapons",expandedComponent:i.a.createElement(_,{id:"project-flagging-prohibited-items-drugs-or-weapons-radio-group",options:U({onSuccess:t})})},{label:x("prohibited_items_form.health_claims.header"),value:"health",expandedComponent:i.a.createElement(_,{id:"project-flagging-prohibited-items-health-claims-radio-group",options:B({onSuccess:t})})},{label:x("prohibited_items_form.financial.header"),value:"financial",expandedComponent:i.a.createElement(_,{id:"project-flagging-prohibited-items-financial-radio-group",options:q({onSuccess:t})})},{label:x("prohibited_items_form.innappropriate_content.header"),value:"innappropriate",expandedComponent:i.a.createElement(_,{id:"project-flagging-prohibited-items-innappropriate-content-radio-group",options:$({onSuccess:t})})}]},V=e=>{let t=e.onSuccess;return i.a.createElement(_,{id:"project-flagging-prohibited-items-radio-group",options:H({onSuccess:t})})},z=e=>{let t=e.kind,n=e.onSuccess,a=e.placeholder;return i.a.createElement(F,{kind:t,onSuccess:n,detailsRows:"5",detailsPlaceholder:a})},W=e=>{let t=e.onSuccess;return[{label:x("misrep_support_form.impersonation"),value:L.MISREP_SUPPORT_IMPERSONATION,expandedComponent:i.a.createElement(z,{kind:L.MISREP_SUPPORT_IMPERSONATION,placeholder:x("misrep_support_form.impersonation_placeholder"),onSuccess:t})},{label:x("misrep_support_form.outstanding_fulfillment"),value:L.MISREP_SUPPORT_OUTSTANDING_FULFILLMENT,expandedComponent:i.a.createElement(z,{kind:L.MISREP_SUPPORT_OUTSTANDING_FULFILLMENT,placeholder:x("misrep_support_form.outstanding_fulfillment_placeholder"),onSuccess:t})},{label:x("misrep_support_form.suspicious_pledging"),value:L.MISREP_SUPPORT_SUSPICIOUS_PLEDGING,expandedComponent:i.a.createElement(z,{kind:L.MISREP_SUPPORT_SUSPICIOUS_PLEDGING,placeholder:x("misrep_support_form.suspicious_pledging_placeholder"),onSuccess:t})},{label:x("misrep_support_form.other"),value:L.MISREP_SUPPORT_OTHER,expandedComponent:i.a.createElement(z,{kind:L.MISREP_SUPPORT_OTHER,placeholder:x("misrep_support_form.other_placeholder"),onSuccess:t})}]},K=e=>{let t=e.onSuccess;return i.a.createElement(_,{id:"project-flagging-misrep-support-radio-group",options:W({onSuccess:t})})},Y=e=>{let t=e.onSuccess;return i.a.createElement(F,{id:"project-flagging-false-claims-radio-group",kind:L.PROTOTYPE_MISREPRESENTATION,onSuccess:t,detailsPlaceholder:x("false_claims_form.placeholder"),collectLink:!1,detailsRows:"6"})},G=e=>{let t=e.kind,n=e.onSuccess,a=e.placeholder;return i.a.createElement(F,{kind:t,onSuccess:n,detailsPlaceholder:a,detailsRows:"5"})},J=e=>{let t=e.onSuccess;return[{label:x("not_project_form.charity"),value:L.NOT_PROJECT_CHARITY,expandedComponent:i.a.createElement(G,{kind:L.NOT_PROJECT_CHARITY,placeholder:x("not_project_form.charity_placeholder"),onSuccess:t})},{label:x("not_project_form.stunt"),value:L.NOT_PROJECT_STUNT,expandedComponent:i.a.createElement(G,{kind:L.NOT_PROJECT_STUNT,placeholder:x("not_project_form.stunt_placeholder"),onSuccess:t})},{label:x("not_project_form.personal_or_business_expense"),value:L.NOT_PROJECT_PERSONAL_OR_BUSINESS_EXPENSE,expandedComponent:i.a.createElement(G,{kind:L.NOT_PROJECT_PERSONAL_OR_BUSINESS_EXPENSE,placeholder:x("not_project_form.personal_or_business_expense_placeholder"),onSuccess:t})},{label:x("not_project_form.barebones"),value:L.NOT_PROJECT_BAREBONES,expandedComponent:i.a.createElement(G,{kind:L.NOT_PROJECT_BAREBONES,placeholder:x("not_project_form.barebones_placeholder"),onSuccess:t})},{label:x("not_project_form.other"),value:L.NOT_PROJECT_OTHER,expandedComponent:i.a.createElement(G,{kind:L.NOT_PROJECT_OTHER,placeholder:x("not_project_form.other_placeholder"),onSuccess:t})}]},Q=e=>{let t=e.onSuccess;return i.a.createElement(_,{id:"project-flagging-not-project-radio-group",options:J({onSuccess:t})})},X=i.a.createElement("a",{target:"blank",href:"/rules?ref=".concat("project-page-report")},x("Our_rules")),Z=i.a.createElement("a",{target:"blank",href:"/rules/prohibited?ref=".concat("project-page-report")},x("Prohibited_items")),ee=i.a.createElement("a",{target:"blank",href:"/help/community?ref=".concat("project-page-report")},x("Community_guidelines")),te=i.a.createElement("a",{target:"blank",href:"/help/copyright?ref=".concat("project-page-report")},x("Copyright_policy")),ne=i.a.createElement("a",{target:"blank",href:"/help/trademark?ref=".concat("project-page-report")},x("Trademark_policy")),ae=(i.a.createElement("a",{target:"blank",href:"/trust?ref=".concat("project-page-report")},x("Here")),e=>{let t=e.kind,n=e.placeholder,a=e.detailsRows,r=e.onSuccess;return i.a.createElement(F,{kind:t,detailsRows:a,onSuccess:r,collectLink:!1,detailsPlaceholder:n})}),ie=e=>{let t=e.onSuccess;return[{label:x("resale_form.reselling"),value:L.RESALE_RESELLING,expandedComponent:i.a.createElement(ae,{kind:L.RESALE_RESELLING,onSuccess:t,placeholder:x("resale_form.reselling_placeholder"),detailsRows:"9"})},{label:x("resale_form.plagiarism"),value:L.RESALE_PLAGIARISM,expandedComponent:i.a.createElement(ae,{kind:L.RESALE_PLAGIARISM,onSuccess:t,placeholder:x("resale_form.plagiarism_placeholder"),detailsRows:"9"})},{label:x("resale_form.copyright"),value:L.RESALE_COPYRIGHT,expandedComponent:i.a.createElement("div",null,i.a.createElement("p",null,i.a.createElement(o.a,{i18nKey:N("intellect_prop_form.expanded"),copyrightPolicyLink:te,trademarkPolicyLink:ne,atoms:["type-13"]})))}]},re=e=>{let t=e.onSuccess;return i.a.createElement(_,{id:"project-flagging-resale-radio-group",options:ie({onSuccess:t})})},oe=e=>{let t=e.onSuccess;return[{label:x("rules_form.prohibited_items"),subheader:i.a.createElement(o.a,{i18nKey:N("prohibited_items_form.preface"),prohibitedItemsLink:Z}),value:"PROHIBITED_ITEMS",expandedComponent:i.a.createElement(V,{onSuccess:t})},{label:x("rules_form.resale"),subheader:x("resale_form.preface"),value:"RESALE",expandedComponent:i.a.createElement(re,{onSuccess:t})},{label:x("rules_form.false_claims"),subheader:x("false_claims_form.preface"),value:"FALSE_CLAIMS",expandedComponent:i.a.createElement(Y,{onSuccess:t})},{label:x("rules_form.misrep_support"),subheader:x("misrep_support_form.preface"),value:"MISREP_SUPPORT",expandedComponent:i.a.createElement(K,{onSuccess:t})},{label:x("rules_form.not_project"),subheader:x("not_project_form.preface"),value:"NOT_PROJECT",expandedComponent:i.a.createElement(Q,{onSuccess:t})}]},se=e=>{let t=e.onSuccess;return i.a.createElement(_,{id:"project-flagging-rules-radio-group",options:oe({onSuccess:t})})},ce=e=>{let t=e.onSuccess;return[{label:x("community_guidelines_form.spam"),subheader:x("community_guidelines_form.spam_example"),value:L.GUIDELINES_VIOLATION_SPAM,expandedComponent:i.a.createElement(F,{kind:L.GUIDELINES_VIOLATION_SPAM,onSuccess:t,collectLink:!1,detailsRows:"8",detailsPlaceholder:x("community_guidelines_form.placeholder")})},{label:x("community_guidelines_form.abuse"),subheader:x("community_guidelines_form.abuse_example"),value:L.GUIDELINES_VIOLATION_ABUSE,expandedComponent:i.a.createElement(F,{kind:L.GUIDELINES_VIOLATION_ABUSE,onSuccess:t,collectLink:!1,detailsRows:"8",detailsPlaceholder:x("community_guidelines_form.placeholder")})}]},le=e=>{let t=e.onSuccess;return i.a.createElement(_,{id:"project-flagging-community-guidelines-radio-group",options:ce({onSuccess:t})})},de=e=>{let t=e.kind,n=e.onSuccess,a=e.placeholder;return i.a.createElement(F,{kind:t,onSuccess:n,isPostFundingIssue:!0,detailsPlaceholder:a,detailsRows:"9"})},ue=e=>{let t=e.onSuccess;return[{label:x("post_funding_issues_form.yes_unsatisfied"),value:L.POST_FUNDING_ISSUES_YES_UNSATISFIED,expandedComponent:i.a.createElement(de,{kind:L.POST_FUNDING_ISSUES_YES_UNSATISFIED,onSuccess:t,placeholder:x("post_funding_issues_form.yes_unsatisfied_placeholder")})},{label:x("post_funding_issues_form.yes_delayed"),value:L.POST_FUNDING_ISSUES_YES_DELAYED,expandedComponent:i.a.createElement(de,{kind:L.POST_FUNDING_ISSUES_YES_DELAYED,onSuccess:t,placeholder:x("post_funding_issues_form.yes_delayed_placeholder")})}]},me=e=>{let t=e.onSuccess;return[{label:x("post_funding_issues_form.no_never_received"),value:L.POST_FUNDING_ISSUES_NO_NEVER_RECEIVED,expandedComponent:i.a.createElement(de,{kind:L.POST_FUNDING_ISSUES_NO_NEVER_RECEIVED,onSuccess:t,placeholder:x("post_funding_issues_form.no_placeholder")})},{label:x("post_funding_issues_form.no_selling_elsewhere"),value:L.POST_FUNDING_ISSUES_NO_SELLING_ELSEWHERE,expandedComponent:i.a.createElement(de,{kind:L.POST_FUNDING_ISSUES_NO_SELLING_ELSEWHERE,onSuccess:t,placeholder:x("post_funding_issues_form.no_placeholder")})},{label:x("post_funding_issues_form.no_creator_uncommunicative"),value:L.POST_FUNDING_ISSUES_NO_CREATOR_UNCOMMUNICATIVE,expandedComponent:i.a.createElement(de,{kind:L.POST_FUNDING_ISSUES_NO_CREATOR_UNCOMMUNICATIVE,onSuccess:t,placeholder:x("post_funding_issues_form.no_placeholder")})},{label:x("post_funding_issues_form.no_creator_poor_updates"),value:L.POST_FUNDING_ISSUES_NO_CREATOR_POOR_UPDATES,expandedComponent:i.a.createElement(de,{kind:L.POST_FUNDING_ISSUES_NO_CREATOR_POOR_UPDATES,onSuccess:t,placeholder:x("post_funding_issues_form.no_placeholder")})},{label:x("post_funding_issues_form.no_suspicious_behavior"),value:L.POST_FUNDING_ISSUES_NO_SUSPICIOUS_BEHAVIOR,expandedComponent:i.a.createElement(de,{kind:L.POST_FUNDING_ISSUES_NO_SUSPICIOUS_BEHAVIOR,onSuccess:t,placeholder:x("post_funding_issues_form.no_placeholder")})}]},pe=e=>{let t=e.onSuccess;return[{label:x("post_funding_issues_form.yes_issue"),value:"post_funding_issues_recieved_reward",expandedComponent:i.a.createElement(_,{id:"project-flagging-post-funding-issues-recieved-reward-radio-group",options:ue({onSuccess:t})})},{label:x("post_funding_issues_form.no_issue"),value:"post_funding_issues_did_not_recieve_reward",expandedComponent:i.a.createElement(_,{id:"project-flagging-post-funding-issues-did-not-recieve-reward-radio-group",options:me({onSuccess:t})})}]},he=e=>{let t=e.onSuccess;return i.a.createElement("div",null,i.a.createElement("div",{className:"mb1 text-11"},i.a.createElement("span",null,x("post_funding_issues_form.prompt"))),i.a.createElement(_,{id:"project-flagging-post-funding-issues-radio-group",options:pe({onSuccess:t})}))},fe=e=>{let t=e.showPostFundingOption,n=e.onSuccess,a=[];return t&&(a=[{label:x("post_funding_issues_form.header"),subheader:x("post_funding_issues_form.body"),value:"post-funding",expandedComponent:i.a.createElement(he,{onSuccess:n})}]),[...a,{label:i.a.createElement(o.a,{i18nKey:N("Our_rules_label_heading"),ourRulesLink:X}),subheader:i.a.createElement(o.a,{i18nKey:N("Our_rules_label_body"),prohibitedItemsLink:Z}),value:"rules",expandedComponent:i.a.createElement(se,{onSuccess:n})},{label:x("community_guidelines_form.header"),subheader:i.a.createElement(o.a,{i18nKey:N("community_guidelines_form.preface"),communityGuidelinesLink:ee}),value:"guidelines",expandedComponent:i.a.createElement(le,{onSuccess:n})},{label:x("intellect_prop_form.header"),subheader:x("intellect_prop_form.body"),value:"ip",expandedComponent:i.a.createElement("div",null,i.a.createElement("p",null,i.a.createElement(o.a,{i18nKey:N("intellect_prop_form.expanded"),copyrightPolicyLink:te,trademarkPolicyLink:ne,atoms:["type-13"]})))}]},ge=e=>{let t=e.showPostFundingOption,n=e.onSuccess;return i.a.createElement(_,{id:"project-flagging-radio-group",options:fe({showPostFundingOption:t,onSuccess:n})})};n.d(t,"a",function(){return we});const be="unknown",_e="fetching_flagging",ve="flagging_fetch_failed",ke="flagging_successful",ye="user_has_flagged",je="user_has_not_flagged",Ee="report-this-project";class we extends i.a.Component{constructor(){super(...arguments),this.state={flaggingStatus:be,hasBackedProject:!1,projectState:"LIVE",isPostFundingIssue:!1},this.componentWillUnmount=()=>{document.removeEventListener("click",this.handleFormSubmit)},this.handleSuccess=e=>{this.setState(()=>({flaggingStatus:ke,isPostFundingIssue:e}))},this.handleFormFailure=e=>{E(e),this.setState(()=>({flaggingStatus:ve}))},this.handleFormSubmit=()=>{this.setState(()=>({flaggingStatus:_e})),u(C(),Object(s.b)()).then(e=>{this.handleFormResponse(e)}).catch(e=>{this.handleFormFailure(e)})},this.handleFormResponse=e=>{if(e.errors)this.handleFormFailure(e);else if(null==e.data.project)this.handleFormFailure(e);else{const t=e.data.project,n=t.backing,a=t.flagging,i=t.state,r=!!n,o=a?ye:je;this.setState(()=>({flaggingStatus:o,hasBackedProject:r,projectState:i}))}},this.clickProps=()=>window.current_user?{onClick:this.handleFormSubmit}:{href:"/login?then=".concat(O(),"#").concat(Ee)},this.showPostFundingOption=()=>S(this.state.hasBackedProject,this.state.projectState),this.statusUserHasFlaggedProject=()=>i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:"pr2"},i.a.createElement(f,{isSelected:!0})),i.a.createElement("div",{className:"flex1"},i.a.createElement(o.a,{i18nKey:N("Already_flagged"),ourRulesLink:i.a.createElement("a",{target:"blank",href:"/rules"},x("Our_rules")),communityGuidelinesLink:ee}))),this.statusUnknown=()=>i.a.createElement(c.d,Object.assign({id:"report-this-project-button",theme:"support"},this.clickProps()),x("Report_project")),this.statusFetching=()=>i.a.createElement("div",null,i.a.createElement(l.a,{size:"large",name:"icon--circle-loader"})),this.statusFetchingFailed=()=>i.a.createElement("div",{className:"red"},x("Fetch_flagging_failed_message")),this.statusFlaggingSuccess=()=>{Object(r.d)("Completed Project Report");let e=this.state.isPostFundingIssue?x("Flagging_success_post_funding_message"):x("Flagging_success_message");return i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:"pr2"},i.a.createElement(f,{isSelected:!0})),i.a.createElement("div",{id:"flagging-success-message",className:"flex1"},e))},this.statusUnknownError=()=>i.a.createElement("div",{id:"flagging-unknown-error-message"},x("Unknown_error")),this.statusUserHasNotFlaggedProject=()=>(Object(r.d)("Started Project Report"),i.a.createElement(ge,{showPostFundingOption:this.showPostFundingOption(),onSuccess:this.handleSuccess})),this.statusCurrent=()=>{switch(this.state.flaggingStatus){case ye:return this.statusUserHasFlaggedProject();case je:return this.statusUserHasNotFlaggedProject();case be:return this.statusUnknown();case _e:return this.statusFetching();case ke:return this.statusFlaggingSuccess();case ve:return this.statusFetchingFailed();default:return this.statusUnknownError()}},this.render=()=>i.a.createElement("div",{id:Ee},this.statusCurrent())}}},UUNB:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("DjBF"),i=n("q1tI");const r=e=>{const t=Object(i.useState)(!1),n=Object(a.a)(t,2),r=n[0],o=n[1],s=t=>{t.which===e&&o(!0)},c=t=>{t.which===e&&o(!1)};return Object(i.useEffect)(()=>(window.addEventListener("keydown",s),window.addEventListener("keyup",c),()=>{window.removeEventListener("keydown",s),window.removeEventListener("keyup",c)}),[]),r}},UsaK:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n("+2Rf"),i=n.n(a),r=n("S1QU"),o=n("/AD1"),s=n("h4vE"),c=n("zm9w"),l=n("0VSk");function d(){i()(document).on("render_shipping_select",function(e,t){!function(e,t){var n={},a=e.clone();i()(t.shipping_rules).each(function(e,t){n[t.location_id]=t}),a.find('option:not([value=""])').each(function(){var e,t=i()(this),a=t.val(),r=n[a];r?(e=parseFloat(r.cost),t.text(e>0?l.default.t("onloads.views.pledges.checkout_shipping.location_name_and_shipping_amount",{name:t.data("name"),amount:c.a.money(e,{precision:0,currency:o.a.get("currency")})}):t.data(name))):t.remove();return t}),e.html(a.html()),e.val(r.a.get("location_id")),e.val(e.val()).trigger("change")}(t.select,t.reward)})}Object(s.a)(".NS_pledges__shipping_select",d)},UujG:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var a=n("prSB"),i=n("2DJ9"),r=n("94td"),o=n("/IHD"),s=n("q1tI");function c(e,t,n,a){return e.map(e=>({label:t(e).toString(),value:n(e).toString(),disabled:a?a(e):void 0}))}const l=Object(o.a)("o0p","absolute","t0","l0","b0","r0","w100p","h100p","z1"),d=Object(o.a)("relative","border","border-grey-400","p2");class u extends s.Component{render(){const e=this.props,t=e.id,n=e.options,c=e.selectedValue,u=e.onBlur,m=e.onChange,p=void 0===m?()=>{}:m,h=e.placeholder,f=e.hasErrors,g=e.required,b=e.disabled,_=e.clearable,v=e.withDropdownIcon,k=void 0===v||v,y=Object(a.a)({placeholder:[],active:[],disabled:[],enabled:[]},this.props.atoms);if(0===n.length)return null;const j=h?s.createElement("option",{"aria-selected":!1,disabled:!0,value:""},h):null,E=n.filter(e=>e.value===c),w=E.length?E[0].label:h,S=E.length?E[0].selectedItemPreview&&E[0].selectedItemPreview():void 0,O=h===w?y.placeholder:y.active,C=Object(o.a)(d,O,f&&"border-red-400",b?y.disabled:y.enabled),N=Object(o.a)(l,b?"cursor-default":"pointer",f&&"has-errors");return s.createElement("div",{className:C},s.createElement("label",null,S,w,_&&c&&s.createElement("button",{"aria-label":Object(r.b)("components.simple_select.clear_value"),className:"z5 absolute r5 t1 b0 my-auto",type:"button",onClick:e=>{e.preventDefault(),p("")}},s.createElement(i.a,{name:"icon--cross",size:"14"})),k&&!b&&s.createElement(i.a,{atoms:["absolute r2 t0 b0 my-auto"],name:"icon--delta-down",size:"14"}),s.createElement("select",{id:t,onBlur:u,required:g,value:c,disabled:b,className:N,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(e=>p(e.target.value))},j,n.map((e,t)=>s.createElement("option",{"aria-selected":e.value===c,disabled:e.disabled,value:e.value,key:t},e.label)))))}}},"V+iF":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Posts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"posts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"forActivePrompt"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:183}};n.loc.source={body:"query Posts($projectSlug: String!) {\n  project(slug: $projectSlug) {\n    id\n    posts(forActivePrompt: true) {\n      edges {\n        node {\n          id\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.Posts=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"Posts")},V9aw:function(e,t){e.exports=function(e){return e.placeholder}},"VA/9":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("mv45"),i=n("B6g3");const r=Object(a.j)(i.a,e=>({userMetadata:e.ownProps.userMetadata,updateUserSetting:t=>e.mutate({variables:{input:{setting:t}}}),onCloseModal:e.ownProps.onCloseModal}))},"VTv/":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE");n("c48Q"),n("RIhn");Object(r.a)(".js-asset-uploads",function(e){var t=e.find(".js-asset-uploads--tracks");e.on("ksr_uploader:uploaded",function(e,n){var a=i()(this).data("subtitles-path");a&&0!==t.length&&(t.empty(),i.a.ajax({url:a,method:"GET",data:{captionable_id:n.id,captionable_type:n.type}}).success(function(e){t.html(e.html)}))}),e.on("ksr_uploader:remove",function(){t.empty()})}),i()(".js-asset-uploads--tracks").livequery(function(){i()(this).videoTracksEditor()})},VeZw:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("RIhn");function r(e){var t=e.find(".js-block-user").data("is-blocking"),n=e.find(".js-follow-user");t?n.addClass("hidden"):n.removeClass("hidden")}i()(".js-social-actions").livequery(function(){var e=i()(this);r(e),e.on("ksr:block_user ksr:unblock_user",function(){e.find(".js-follow-user").trigger("ksr:set_to_follow"),r(e)})})},ViW2:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE"),o=n("GRmu"),s=n("0VSk"),c=n("2UXI");n("nra7");Object(r.a)("#credit_cards_new",function(e){var t,n=e.find(".js-new-card-form"),a=e.find(".js-credit-card-choice"),r=e.find(".js-edit-ccs"),l=s.default.t("onloads.views.credit_cards.new.This_card_will_not_be_shown_again"),d=s.default.t("onloads.views.credit_cards.new.Edit_credit_cards"),u=s.default.t("onloads.views.credit_cards.new.Cancel"),m=s.default.t("onloads.views.credit_cards.new.Looks_like_something_went_wrong");a.on("click",".js-remove-cc-btn",function(e){t=i()(e.delegateTarget)}),i()(document).on("click",".js-yes-remove-btn",function(e){e.preventDefault();var r=i()(this).attr("href");i.a.getJSON(r,function(){(i()(".modal_dialog").trigger("close.modal_dialog"),t.remove(),Object(o.a)({success:l}),i()(".js-credit-card-choice").length)?a.find(".js-credit-card-info").first().click():(i()(".js-stored-card-form").html(n),n.show())}).fail(function(){i()(".modal_dialog").trigger("close.modal_dialog"),Object(o.a)({error:m})})}),r.on("click",function(e){e.preventDefault(),a.find(".js-remove-cc-btn").toggle(),r.toggleClass("js-editing-inactive"),r.hasClass("js-editing-inactive")?(i()(this).text(d),Object(c.d)("Collapsed Edit Payment Sources Form")):(i()(this).text(u),Object(c.d)("Expanded Edit Payment Sources Form"))})}),Object(r.a)("#old_build_payments_form",function(){var e,t;0===i()("#react-payments-form").length&&(e=i()("#new_card_form").find("form"),t=i()(".selected input.card_toggle"),i()("#credit_card_form .errored").not(".hide").length&&(t=i()("#new-card input.card_toggle")),t.length||(t=i()("input.card_toggle:first")),i()(document).on("change click","input.card_toggle",function(t){t.preventDefault();var n,a=i()(this),r=i()("#new_card_form");a.is("input.card_toggle")||(a=a.find("input.card_toggle")),(n=i()("input.card_toggle").not(a)).prop("checked",!1),a.prop("checked",!0),n.closest(".payment_option").removeClass("selected"),a.closest(".payment_option").addClass("selected"),a.closest("#new-card").length?(r.slideDown(400),e=r.find("form")):(r.slideUp(400),e=a.closest("form"))}),i()(document).on("click",".js-pledge-submit",function(t){t.preventDefault(),i()(".payment_option.selected").find(".account_toggle.radio").length?e=i()("#sepa-account-info"):i()(".js-credit-card-choice").length||(e=i()("#new_card_form").find("form")),e.submit()}),t.prop("checked",!0).trigger("change"))});var l=n("0sfg"),d=n.n(l);Object(r.a)("#new-sepa-account",function(e){if(i()("#react-payments-form").length>0)return;const t={account_name_presence:s.default.t("sepa.errors.account_name_presence"),account_number_presence:s.default.t("sepa.errors.account_number_presence"),account_number_invalid:s.default.t("sepa.errors.account_number_invalid"),account_terms_accepted:s.default.t("sepa.errors.account_terms"),unknown_error:s.default.t("onloads.views.credit_cards.form.Embarrassing_unknown_error_occurred"),stripe_timeout:s.default.t("onloads.views.credit_cards.form.Embarrassing_processing_your_pledge")},n=e.find("#new_sepa_account_form"),a=n.find(".errored"),r=i()("#saving-layer"),o=n.data("public-key"),l=n.find(":input"),u=n.find("input[name=sepa_account_name]"),m=n.find("input[name=sepa_account_number]"),p=n.find("input[name=sepa_accept_terms]"),h=n.find("input[name=reusable]"),f=n.data("checkout-reward-id"),g=n.data("checkout-id"),b=""===n.data("checkout-is-guest"),_=(e,t)=>{Object(c.d)("Checkout Error",{type:e,context:t,checkout_reward_id:f,checkout_id:g,checkout_is_guest:b})},v=(e,n)=>{const a=i()(n),r=a.data("error");t.hasOwnProperty(r)&&(_(r),a.closest("li").addClass("invalid").find(".js-error-message").removeClass("hide h0").addClass("block mb1").text(t[r]))},k=(e,t)=>{i()(t).data("error",null).closest("li").removeClass("invalid").find(".js-error-message").removeClass("block mb1").addClass("hide h0")};u.validates_presence({error:"account_name_presence"}),m.validates_presence({error:"account_number_presence"}).validates_custom(e=>0===e.indexOf("DE")&&d.a.isValid(e),{error:"account_number_invalid"}),p.validates_custom(()=>p.is(":checked"),{error:"account_terms_accepted"}),l.on("paste keyup cut change input click",e=>{setTimeout(function(){i()(e.target).validate()},0)}).on("blur",e=>i()(e.target).each(v)).on("validate:valid",e=>i()(e.target).each(k)).on("validate:invalid",(e,t)=>i()(e.target).data("error",t));const y=i()("#js-stripe_form"),j=y.find("input[name=stripe_card_id]"),E=y.find("input[name=payment_type]"),w=y.find("input[name=reusable]");e.on("click",".sepa-terms__toggle",function(e){e.preventDefault(),i()(".sepa-terms__mandate").toggleClass("sepa-terms__mandate--expanded")}),n.on("submit",function(e){if(e.preventDefault(),!n.validate())return void l.each(v);a.hide(),r.show();const t=setTimeout(function(){r.removeClass("spinning").find(".modal_dialog_body").html(s.default.t("onloads.views.credit_cards.form.Well_this_is_embarrassing_Processing_your_pledge")),_("stripe_timeout")},3e4);Stripe.setPublishableKey(o),Stripe.source.create({currency:"eur",sepa_debit:{iban:m.val()},owner:{name:u.val()},type:"sepa_debit"},(e,n)=>{clearTimeout(t),r.hide(),S(n)})});const S=e=>{e.error?(a.html(e.error.message),a.show(),_("stripe_token",e.error.message)):(E.val("bank_account"),j.val(e.id),w.val(h.val()),y.submit())};i()(document).on("change click","input.account_toggle",function(){i()(this).closest(".payment_option").addClass("selected");var e=i()("input.card_toggle");e.closest(".payment_option").removeClass("selected"),e.prop("checked",!1),n.slideDown(400,"easeOutQuad"),i()("#new_card_form").slideUp(400,"easeOutQuad")}),i()(document).on("change click","input.card_toggle",function(){i()("input.account_toggle").prop("checked",!1),i()("input.account_toggle").closest(".payment_option").removeClass("selected"),n.slideUp(400,"easeOutQuad")})})},VnOs:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()(function(){i()(document).on("submit",".NS_backer_backing_notes__form",function(){var e=i()(this);e.trigger("backer_backing_note:added",[e.data("backing_id"),e.find("textarea").val()])})})},W2lQ:function(e,t,n){"use strict";n("bxGQ");var a=n("+2Rf");n("+2Rf");!function(e){function t(t){this.$container=e(t),this.embed()}e.fn.sound_player=function(){return e(this).each(function(){var n=e(this).data("ksr_video");n||(n=new t(e(this)),e(this).data("sound_player",n))})},e.extend(t.prototype,{embed:function(t){var n="v"+parseInt(1e8*Math.random(),10),a=this;this.$container.find("span").attr("id",n),swfobject.embedSWF("https://d3mlfyygrfdi2i.cloudfront.net/321f/kickplayer.swf",n,this.$container.width(),this.$container.height(),"9.0.115","https://d3mlfyygrfdi2i.cloudfront.net/7b65/expressInstall.swf",{displayheight:this.$container.height(),file:encodeURI(this.$container.attr("data-file")),backcolor:"000000",screencolor:"000000",controlbar:"bottom","controlbar.idlehide":"false",autostart:t,audioonly:!0,skin:"https://d3mlfyygrfdi2i.cloudfront.net/cc3a/kickskin.swf"},{allowscriptaccess:"always",wmode:"opaque",menu:"false"},{id:"sound_player_"+n,class:"ksr_player",name:"sound_player_"+n},function(n){if(n.success)a.jwplayer=jwplayer(n.ref);else{var i=e("<audio />",{src:a.$container.attr("data-file"),controls:!0,autoplay:t});a.$container.html(i),a.$audio=i}}),this.initialized=!0}})}(a)},W6lR:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return o});const a=e=>{const t=e.getAttribute("data-reward-starts_at"),n=e.getAttribute("data-reward-estimated_delivery_on");return{id:e.getAttribute("data-id")||"",description:e.getAttribute("data-reward-description"),estimatedDeliveryOn:n?1e3*parseInt(n,10):null,isMaxPledge:"true"===e.getAttribute("data-reward-is_max_pledge"),name:e.getAttribute("data-reward-name"),shippingSummary:e.getAttribute("data-reward-shipping_summary"),startsAt:t?parseInt(t,10):null,available:"true"===e.getAttribute("data-reward-available"),amount:{currency:e.getAttribute("data-reward-amount_currency"),amount:e.getAttribute("data-reward-amount_amount")}}},i=()=>{var e,t;return null===(e=window.current_project)||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.backing},r=()=>{var e,t;return null===(e=window.current_project)||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.state},o=()=>{var e,t,n,a;return null===(e=window.current_project)||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:null===(n=t.urls)||void 0===n?void 0:null===(a=n.web)||void 0===a?void 0:a.project}},WJbx:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("0VSk"),o=n("ZCIj"),s=n("2UXI");i()(function(){var e,t=i()(".NS_layouts__user_dropdown"),n=!1,a=!1;function c(){t.find("#menu-me-backed").length&&t.find(".user-dropdown").addClass("backer"),t.find("#menu-me-created").length&&t.find(".user-dropdown").addClass("creator")}function l(e){var n=t.find("#menu-me-children");o.b.setItem("user_dropdown_backer_creator_columns_html",e),n.children(".NS_layouts__user_dropdown_backer_creator_columns").remove(),n.append(e),c()}function d(e){a||(a=i.a.ajax({url:t.data("user_dropdown_backer_creator_columns_path"),type:"get",dataType:"html",data:{i18n:r.default.enabled},beforeSend:function(e){e.setRequestHeader("Accept","text/javascript, */*")},success:function(e){l(e),n=!0},complete:function(){e&&e(),a=!1}}))}(e=o.b.getItem("user_dropdown_backer_creator_columns_html"))&&(l(e),n=!0),c(),i()(".js-user-menu-tab").on("user_dropdown:open",function(){var e=i()(this);n?e.addClass("selected"):d(function(){e.addClass("selected")})}),i()(".js-user-menu-tab, .js-user-menu-tab > a").one("click",function(){Object(s.d)("Account Menu Dropdown",{new_indicator_visible:i()(this).find(".indicator").is(":visible")}),d()}),i()(document).on("user_dropdown:refresh_from_remote",function(){d()}),i()("body").is(".just_logged_out")&&o.b.removeItem("user_dropdown_backer_creator_columns_html")})},WSTq:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var a=n("/kEZ"),i=n.n(a),r=n("2DJ9"),o=n("lX80"),s=n("LdJi"),c=n("f/gE"),l=n("94td"),d=n("SmhT"),u=n("/IHD"),m=n("z0kN"),p=n("q1tI"),h=n.n(p);class f extends p.Component{constructor(){super(...arguments),this.onEscape=e=>{let t=e.keyCode;const n=this.props.onClose;t===d.d&&n()},this.toggleClipClass=()=>{this.props.clipOnMobileOnly||(document.body.classList.toggle("clip"),document.documentElement.classList.toggle("clip"))}}componentDidMount(){this.props.hideClosing||document.addEventListener("keydown",this.onEscape),this.toggleClipClass()}componentWillUnmount(){this.props.hideClosing||document.removeEventListener("keydown",this.onEscape),this.toggleClipClass()}render(){const e=this.props,t=e.atoms,n=e.children,a=e.headerCopy,d=e.subHeaderCopy,f=e.onClose,b=e.secondaryCloseCopy,_=e.secondaryCloseFn,v=e.size,k=e.grabFocus,y=e.bgColor,j=e.clipOnMobileOnly,E=void 0!==j&&j,w=e.animationClasses,S=void 0===w?[]:w,O=e.animationId,C=void 0===O?"":O,N=e.closeIconColor,x=void 0===N?"fill-navy-500":N,T=e.hideClosing,I=void 0!==T&&T,D="fullScreen"===v?"absolute t5 r8 pointer block py0 bg-transparent":"absolute t0 r-5 pointer hide block-sm py0 bg-transparent",P=E?"clip visible-sm":"clip",A=(()=>"fullScreen"===v?"shadow-low ".concat(y||"bg-white"," p4 h100vh auto-scroll-y ").concat(P):"shadow-low ".concat(y||"bg-white"," p4 max-h70vh auto-scroll-y ").concat(P))(),R=Object(u.a)("w100p m-auto pointer-events-auto relative",S,t);return h.a.createElement("div",{className:"fixed t0 b0 l0 r0 z-modal-3"},"fullScreen"!==v&&h.a.createElement("div",{onClick:I?void 0:f,role:"presentation",className:"absolute w100p h100p bg-grey-100_95 z1"}),h.a.createElement(s.a,{full:!0,atoms:["absolute","w100p"]},h.a.createElement(c.a,null,h.a.createElement(o.a,Object.assign({center:!0},g[v]),h.a.createElement(i.a,{className:"relative",role:"dialog","aria-label":a||"Modal",focusTrapOptions:{clickOutsideDeactivates:!0,initialFocus:k?"#focus-grabber":""}},h.a.createElement("div",{className:"z2 flex relative flex-column pointer-events-none h100vh"},h.a.createElement("div",{id:C,className:R},k&&h.a.createElement("div",{id:"focus-grabber"}),h.a.createElement("div",{className:A},a&&h.a.createElement("h1",{id:Object(m.b)(a),className:"type-18 medium black ".concat(d?"mb2":"mb4"," center")},a),d,p.Children.map(n,e=>e)),"fullScreen"!==v&&!I&&h.a.createElement("div",{className:"pt1 pt4-md text-center"},h.a.createElement("button",{id:"modal-secondary-close",className:"pointer text-underline type-14 navy-600 bg-transparent",onClick:_||f},b)),!I&&h.a.createElement("button",{onClick:f,className:D,id:"modal-primary-close"},h.a.createElement(r.a,{name:"x",label:Object(l.b)("overlay_modal.close"),atoms:[x]})))))))))}}f.defaultProps={secondaryCloseCopy:Object(l.b)("overlay_modal.close"),grabFocus:!0};const g={large:{smWidth:8,lgWidth:6},small:{smWidth:5,lgWidth:4},fullScreen:{smWidth:12,lgWidth:12}}},WbKZ:function(e,t,n){"use strict";n("2sRD"),n("+2Rf");!function(e){function t(t,n){this.$field=t,this.$calendar=void 0,this.options=e.extend({calendar:{},position:"right"},n),this._in_manual_edit=!1,this._blurs_to_ignore=-1,this._attach()}e.fn.datetime_picker_field=function(n){return this.each(function(){new t(e(this),n)})},e.extend(t.prototype,{_attach:function(){var e=this;this.$field.focus(function(){e._in_time_field=!1,e._ensure_calendar()}),this.$field.blur(function(){e._hide_calendar_or_refocus(),e._blurs_to_ignore-=1}),e.$field.bind("keypress cut paste input",function(){e._handle_edit()})},_ensure_calendar:function(){if(this.$calendar)return this.$calendar;var t=this,n=e("<div></div>"),a=e.extend({selected_date:this.get_selected_datetime()},this.options.calendar);return this.options.class_name?n.addClass(this.options.class_name):(n.css("position","absolute"),n.css("z-index",1e3)),"bottom"===this.options.position?(n.css("left",this.$field.offset().left),n.css("top",this.$field.offset().top+this.$field.outerHeight()+20)):(n.css("left",this.$field.offset().left+this.$field.width()+20),n.css("top",this.$field.offset().top)),n.hide(),this._get_surrounding_element().append(n),n.calendar_date_picker(a),n.mousedown(function(){t._in_time_field=!1,t._blurs_to_ignore+=1}),n.find("label").mousedown(function(e){t._in_time_field=!0,t._blurs_to_ignore+=1,e.stopPropagation()}),n.find("input").blur(function(){t._hide_calendar_or_refocus(),t._blurs_to_ignore-=1}),t._blurs_to_ignore=0,n.bind("calendar_date_picker:date_selected",function(e,n){if(!t._in_manual_edit){var a=t.options.format_callback(n);a!==t.$field.val()&&(t.$field.val(a),t.$field.trigger("input"),t.options.calendar.time_text||(t._hide_calendar(),t._focus_next()))}}),n.find(".time input").bind("keydown",function(n){13===n.keyCode&&(e(this).blur(),t._hide_calendar())}),this.$calendar=n,n.fadeIn(),this.options.open_calendar_callback&&this.options.open_calendar_callback(),this.$calendar},_hide_calendar:function(){this.$calendar&&(this.$calendar.fadeOut(function(){e(this).remove()}),this.$calendar=void 0,this.options.close_calendar_callback&&this.options.close_calendar_callback())},_focus_next:function(){var e=this.$field.parents("form:eq(0)").find(":input"),t=e.index(this.$field);t>-1&&t+1<e.length&&e.eq(t+1).focus()},_reformat_value:function(){this.$field.val(this.options.format_callback(this.get_selected_datetime()))},_hide_calendar_or_refocus:function(){var e=this;this._blurs_to_ignore<=0?(this._hide_calendar(),this._reformat_value()):window.setTimeout(function(){e._in_time_field?e.$calendar&&e.$calendar.length&&e.$calendar.find("input").focus():e.$field.focus()})},_handle_edit:function(){this._in_manual_edit=!0,this.$calendar&&this.$calendar.trigger("calendar_date_picker:select_date",this.get_selected_datetime()),this._in_manual_edit=!1},get_selected_datetime:function(){var e=this.$field.val();return this.options.parse_callback(e)},_get_surrounding_element:function(){return this.options.surrounding_element?e(this.options.surrounding_element):e("body")}})}(n("+2Rf"))},WiXe:function(e,t,n){var a=n("+2Rf");n("+2Rf");!function(e){"use strict";e.extend({tablesorter:new function(){var t=this;function n(){var e=arguments.length>1?Array.prototype.slice.call(arguments):arguments[0];"undefined"!=typeof console&&void 0!==console.log?console.log(e):alert(e)}function a(e,t){n(e+" ("+((new Date).getTime()-t.getTime())+"ms)")}function i(e){for(var t in e)return!1;return!0}function r(t,n,a){if(!n)return"";var i=t.config,r=i.textExtraction,o="";return o="simple"===r?i.supportsTextContent?n.textContent:e(n).text():"function"==typeof r?r(n,t,a):"object"==typeof r&&r.hasOwnProperty(a)?r[a](n,t,a):i.supportsTextContent?n.textContent:e(n).text(),e.trim(o)}function o(e,a,i,o){for(var s,c=t.parsers.length,l=!1,d="",u=!0;""===d&&u;)a[++i]?(d=r(e,l=a[i].cells[o],o),e.config.debug&&n("Checking if value was empty on row "+i+", column: "+o+': "'+d+'"')):u=!1;for(;--c>=0;)if((s=t.parsers[c])&&"text"!==s.id&&s.is&&s.is(d,e,l))return s;return t.getParserById("text")}function s(e){var i,r,s,c,l,d,u,m,p=e.config,h=p.$tbodies=p.$table.children("tbody:not(."+p.cssInfoBlock+")"),f="";if(0===h.length)return p.debug?n("*Empty table!* Not building a parser cache"):"";if(p.debug&&(m=new Date,n("Detecting parsers for each column")),(i=h[0].rows)[0])for(r=[],s=i[0].cells.length,c=0;c<s;c++)l=(l=p.$headers.filter(":not([colspan])")).add(p.$headers.filter('[colspan="1"]')).filter('[data-column="'+c+'"]:last'),d=p.headers[c],u=t.getParserById(t.getData(l,d,"sorter")),p.empties[c]=t.getData(l,d,"empty")||p.emptyTo||(p.emptyToBottom?"bottom":"top"),p.strings[c]=t.getData(l,d,"string")||p.stringTo||"max",u||(u=o(e,i,-1,c)),p.debug&&(f+="column:"+c+"; parser:"+u.id+"; string:"+p.strings[c]+"; empty: "+p.empties[c]+"\n"),r.push(u);p.debug&&(n(f),a("Completed detecting parsers",m)),p.parsers=r}function c(i){var o,s,c,l,d,u,m,p,h,f,g=i.tBodies,b=i.config,_=b.parsers,v=[];if(b.cache={},!_)return b.debug?n("*Empty table!* Not building a cache"):"";for(b.debug&&(f=new Date),b.showProcessing&&t.isProcessing(i,!0),m=0;m<g.length;m++)if(b.cache[m]={row:[],normalized:[]},!e(g[m]).hasClass(b.cssInfoBlock)){for(o=g[m]&&g[m].rows.length||0,s=g[m].rows[0]&&g[m].rows[0].cells.length||0,d=0;d<o;++d)if(h=[],(p=e(g[m].rows[d])).hasClass(b.cssChildRow))b.cache[m].row[b.cache[m].row.length-1]=b.cache[m].row[b.cache[m].row.length-1].add(p);else{for(b.cache[m].row.push(p),u=0;u<s;++u)c=r(i,p[0].cells[u],u),l=_[u].format(c,i,p[0].cells[u],u),h.push(l),"numeric"===(_[u].type||"").toLowerCase()&&(v[u]=Math.max(Math.abs(l)||0,v[u]||0));h.push(b.cache[m].normalized.length),b.cache[m].normalized.push(h)}b.cache[m].colMax=v}b.showProcessing&&t.isProcessing(i),b.debug&&a("Building cache for "+o+" rows",f)}function l(n,r){var o,s,c,l,d,u,m,p,h,f,g,b,_=n.config,v=_.widgetOptions,k=n.tBodies,y=[],j=_.cache;if(!i(j)){for(_.debug&&(b=new Date),h=0;h<k.length;h++)if((d=e(k[h])).length&&!d.hasClass(_.cssInfoBlock)){for(u=t.processTbody(n,d,!0),o=j[h].row,l=(c=(s=j[h].normalized).length)?s[0].length-1:0,m=0;m<c;m++)if(g=s[m][l],y.push(o[g]),!_.appender||_.pager&&(!_.pager.removeRows||!v.pager_removeRows)&&!_.pager.ajax)for(f=o[g].length,p=0;p<f;p++)u.append(o[g][p]);t.processTbody(n,u,!1)}_.appender&&_.appender(n,y),_.debug&&a("Rebuilt table",b),r||_.appender||t.applyWidget(n),e(n).trigger("sortEnd",n),e(n).trigger("updateComplete",n)}}function d(e){return/^d/i.test(e)||1===e}function u(i){var r,o,s,c,l,u,m,h=function(t){var n,a,i,r,o,s,c,l,d,u,m,p,h=[],f={},g=0,b=e(t).find("thead:eq(0), tfoot").children("tr");for(n=0;n<b.length;n++)for(s=b[n].cells,a=0;a<s.length;a++){for(l=(c=(o=s[a]).parentNode.rowIndex)+"-"+o.cellIndex,d=o.rowSpan||1,u=o.colSpan||1,void 0===h[c]&&(h[c]=[]),i=0;i<h[c].length+1;i++)if(void 0===h[c][i]){m=i;break}for(f[l]=m,g=Math.max(m,g),e(o).attr({"data-column":m}),i=c;i<c+d;i++)for(void 0===h[i]&&(h[i]=[]),p=h[i],r=m;r<m+u;r++)p[r]="x"}return t.config.columns=g+1,f}(i),f=i.config;f.headerList=[],f.headerContent=[],f.debug&&(m=new Date),c=f.cssIcon?'<i class="'+f.cssIcon+" "+t.css.icon+'"></i>':"",f.$headers=e(i).find(f.selectorHeaders).each(function(n){o=e(this),r=f.headers[n],f.headerContent[n]=e(this).html(),l=f.headerTemplate.replace(/\{content\}/g,e(this).html()).replace(/\{icon\}/g,c),f.onRenderTemplate&&(s=f.onRenderTemplate.apply(o,[n,l]))&&"string"==typeof s&&(l=s),e(this).html('<div class="tablesorter-header-inner">'+l+"</div>"),f.onRenderHeader&&f.onRenderHeader.apply(o,[n]),this.column=h[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=d(t.getData(o,r,"sortInitialOrder")||f.sortInitialOrder)?[1,0,2]:[0,1,2],this.count=-1,this.lockedOrder=!1,void 0!==(u=t.getData(o,r,"lockedOrder")||!1)&&!1!==u&&(this.order=this.lockedOrder=d(u)?[1,1,1]:[0,0,0]),o.addClass(t.css.header+" "+f.cssHeader),f.headerList[n]=this,o.parent().addClass(t.css.headerRow+" "+f.cssHeaderRow),o.attr("tabindex",0)}),p(i),f.debug&&(a("Built headers:",m),n(f.$headers))}function m(e,t,n){var a=e.config;a.$table.find(a.selectorRemove).remove(),s(e),c(e),_(a.$table,t,n)}function p(n){var a,i=n.config;i.$headers.each(function(n,r){a="false"===t.getData(r,i.headers[n],"sorter"),r.sortDisabled=a,e(r)[a?"addClass":"removeClass"]("sorter-false")})}function h(n){var a,i,r,o,s=n.config,c=s.sortList,l=[t.css.sortAsc+" "+s.cssAsc,t.css.sortDesc+" "+s.cssDesc],d=e(n).find("tfoot tr").children().removeClass(l.join(" "));for(s.$headers.removeClass(l.join(" ")),o=c.length,i=0;i<o;i++)if(2!==c[i][1]&&(a=s.$headers.not(".sorter-false").filter('[data-column="'+c[i][0]+'"]'+(1===o?":last":""))).length)for(r=0;r<a.length;r++)a[r].sortDisabled||(a.eq(r).addClass(l[c[i][1]]),d.length&&d.filter('[data-column="'+c[i][0]+'"]').eq(r).addClass(l[c[i][1]]))}function f(e,t){return e&&e[t]&&e[t].type||""}function g(e){var n,r,o,s,c,l,d,u,m,p,h,g,b,_=0,v=e.config,k=v.textSorter||"",y=v.sortList,j=y.length,E=e.tBodies.length;if(!v.serverSideSorting&&!i(v.cache)){for(v.debug&&(p=new Date),r=0;r<E;r++)l=v.cache[r].colMax,(d=v.cache[r].normalized).length,m=d&&d[0]?d[0].length-1:0,d.sort(function(a,i){for(n=0;n<j;n++){if(c=y[n][0],u=y[n][1],g=(_=0===u)?a:i,b=_?i:a,o=v.string[v.empties[c]||v.emptyTo],""===g[c]&&0!==o)return("boolean"==typeof o?o?-1:1:o||1)*(_?1:-1);if(""===b[c]&&0!==o)return("boolean"==typeof o?o?1:-1:-o||-1)*(_?1:-1);if((s=/n/i.test(f(v.parsers,c)))&&v.strings[c]?(s="boolean"==typeof v.string[v.strings[c]]?(_?1:-1)*(v.string[v.strings[c]]?-1:1):v.strings[c]&&v.string[v.strings[c]]||0,h=v.numberSorter?v.numberSorter(g[c],b[c],_,l[c],e):t.sortNumeric(g[c],b[c],s,l[c])):h="function"==typeof k?k(g[c],b[c],_,c,e):"object"==typeof k&&k.hasOwnProperty(c)?k[c](g[c],b[c],_,c,e):t.sortNatural(g[c],b[c]),h)return h}return a[m]-i[m]});v.debug&&a("Sorting on "+y.toString()+" and dir "+u+" time",p)}}function b(e,t){var n=e[0].config;n.pager&&!n.pager.ajax&&e.trigger("updateComplete"),"function"==typeof t&&t(e[0])}function _(e,t,n){!1===t||e[0].isProcessing?b(e,n):e.trigger("sorton",[e[0].config.sortList,function(){b(e,n)}])}function v(n){var a,o,d=n.config,f=d.$table;d.$headers.find(d.selectorSort).add(d.$headers.filter(d.selectorSort)).unbind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter").bind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter",function(a,r){if(!(1!==(a.which||a.button)&&!/sort|keypress/.test(a.type)||"keypress"===a.type&&13!==a.which||"mouseup"===a.type&&!0!==r&&(new Date).getTime()-o>250)){if("mousedown"===a.type)return o=(new Date).getTime(),"INPUT"===a.target.tagName?"":!d.cancelSelection;d.delayInit&&i(d.cache)&&c(n);var s=(/TH|TD/.test(this.tagName)?e(this):e(this).parents("th, td").filter(":first"))[0];s.sortDisabled||function(n,a,i){var r,o,s,c,d,u=n.config,m=!i[u.sortMultiSortKey],p=e(n);if(p.trigger("sortStart",n),a.count=i[u.sortResetKey]?2:(a.count+1)%(u.sortReset?3:2),u.sortRestart&&(o=a,u.$headers.each(function(){this===o||!m&&e(this).is("."+t.css.sortDesc+",."+t.css.sortAsc)||(this.count=-1)})),o=a.column,m){if(u.sortList=[],null!==u.sortForce)for(r=u.sortForce,s=0;s<r.length;s++)r[s][0]!==o&&u.sortList.push(r[s]);if((c=a.order[a.count])<2&&(u.sortList.push([o,c]),a.colSpan>1))for(s=1;s<a.colSpan;s++)u.sortList.push([o+s,c])}else if(u.sortAppend&&u.sortList.length>1&&t.isValueInArray(u.sortAppend[0][0],u.sortList)&&u.sortList.pop(),t.isValueInArray(o,u.sortList))for(s=0;s<u.sortList.length;s++)d=u.sortList[s],c=u.$headers[d[0]],d[0]===o&&(d[1]=c.order[a.count],2===d[1]&&(u.sortList.splice(s,1),c.count=-1));else if((c=a.order[a.count])<2&&(u.sortList.push([o,c]),a.colSpan>1))for(s=1;s<a.colSpan;s++)u.sortList.push([o+s,c]);if(null!==u.sortAppend)for(r=u.sortAppend,s=0;s<r.length;s++)r[s][0]!==o&&u.sortList.push(r[s]);p.trigger("sortBegin",n),setTimeout(function(){h(n),g(n),l(n)},1)}(n,s,a)}}),d.cancelSelection&&d.$headers.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"}),f.unbind("sortReset update updateRows updateCell updateAll addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(".tablesorter ")).bind("sortReset.tablesorter",function(e){e.stopPropagation(),d.sortList=[],h(n),g(n),l(n)}).bind("updateAll.tablesorter",function(e,a,i){e.stopPropagation(),t.refreshWidgets(n,!0,!0),t.restoreHeaders(n),u(n),v(n),m(n,a,i)}).bind("update.tablesorter updateRows.tablesorter",function(e,t,a){e.stopPropagation(),p(n),m(n,t,a)}).bind("updateCell.tablesorter",function(t,a,i,o){t.stopPropagation(),f.find(d.selectorRemove).remove();var s,c,l,u=f.find("tbody"),m=u.index(e(a).parents("tbody").filter(":first")),p=e(a).parents("tr").filter(":first");a=e(a)[0],u.length&&m>=0&&(c=u.eq(m).find("tr").index(p),l=a.cellIndex,s=d.cache[m].normalized[c].length-1,d.cache[m].row[n.config.cache[m].normalized[c][s]]=p,d.cache[m].normalized[c][l]=d.parsers[l].format(r(n,a,l),n,a,l),_(f,i,o))}).bind("addRows.tablesorter",function(e,t,i,o){e.stopPropagation();var c,l=t.filter("tr").length,u=[],m=t[0].cells.length,p=f.find("tbody").index(t.parents("tbody").filter(":first"));for(d.parsers||s(n),c=0;c<l;c++){for(a=0;a<m;a++)u[a]=d.parsers[a].format(r(n,t[c].cells[a],a),n,t[c].cells[a],a);u.push(d.cache[p].row.length),d.cache[p].row.push([t[c]]),d.cache[p].normalized.push(u),u=[]}_(f,i,o)}).bind("sorton.tablesorter",function(t,a,r,o){var s=n.config;t.stopPropagation(),f.trigger("sortStart",this),function(t,n){var a,i,r,o=t.config,s=n||o.sortList;o.sortList=[],e.each(s,function(t,n){a=[parseInt(n[0],10),parseInt(n[1],10)],(r=o.$headers[a[0]])&&(o.sortList.push(a),i=e.inArray(a[1],r.order),r.count=i>=0?i:a[1]%(o.sortReset?3:2))})}(n,a),h(n),s.delayInit&&i(s.cache)&&c(n),f.trigger("sortBegin",this),g(n),l(n,o),"function"==typeof r&&r(n)}).bind("appendCache.tablesorter",function(e,t,a){e.stopPropagation(),l(n,a),"function"==typeof t&&t(n)}).bind("applyWidgetId.tablesorter",function(e,a){e.stopPropagation(),t.getWidgetById(a).format(n,d,d.widgetOptions)}).bind("applyWidgets.tablesorter",function(e,a){e.stopPropagation(),t.applyWidget(n,a)}).bind("refreshWidgets.tablesorter",function(e,a,i){e.stopPropagation(),t.refreshWidgets(n,a,i)}).bind("destroy.tablesorter",function(e,a,i){e.stopPropagation(),t.destroy(n,a,i)})}t.version="2.13.3",t.parsers=[],t.widgets=[],t.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"simple",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssIcon:"tablesorter-icon",cssInfoBlock:"tablesorter-infoOnly",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},t.css={table:"tablesorter",childRow:"tablesorter-childRow",header:"tablesorter-header",headerRow:"tablesorter-headerRow",icon:"tablesorter-icon",info:"tablesorter-infoOnly",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc"},t.log=n,t.benchmark=a,t.construct=function(n){return this.each(function(){var a=e.extend(!0,{},t.defaults,n);!this.hasInitialized&&t.buildTable&&"TABLE"!==this.tagName&&t.buildTable(this,a),t.setup(this,a)})},t.setup=function(a,i){if(!a||!a.tHead||0===a.tBodies.length||!0===a.hasInitialized)return i.debug?n("stopping initialization! No table, thead, tbody or tablesorter has already been initialized"):"";var r,o="",l=e(a),d=e.metadata;a.hasInitialized=!1,a.isProcessing=!0,a.config=i,e.data(a,"tablesorter",i),i.debug&&e.data(a,"startoveralltimer",new Date),i.supportsTextContent="x"===e("<span>x</span>")[0].textContent,i.supportsDataObject=((r=e.fn.jquery.split("."))[0]=parseInt(r[0],10),r[0]>1||1===r[0]&&parseInt(r[1],10)>=4),i.string={max:1,min:-1,"max+":1,"max-":-1,zero:0,none:0,null:0,top:!0,bottom:!1},/tablesorter\-/.test(l.attr("class"))||(o=""!==i.theme?" tablesorter-"+i.theme:""),i.$table=l.addClass(t.css.table+" "+i.tableClass+o),i.$tbodies=l.children("tbody:not(."+i.cssInfoBlock+")"),i.widgetInit={},u(a),function(t){if(t.config.widthFixed&&0===e(t).find("colgroup").length){var n=e("<colgroup>"),a=e(t).width();e(t.tBodies[0]).find("tr:first").children("td:visible").each(function(){n.append(e("<col>").css("width",parseInt(e(this).width()/a*1e3,10)/10+"%"))}),e(t).prepend(n)}}(a),s(a),i.delayInit||c(a),v(a),i.supportsDataObject&&void 0!==l.data().sortlist?i.sortList=l.data().sortlist:d&&l.metadata()&&l.metadata().sortlist&&(i.sortList=l.metadata().sortlist),t.applyWidget(a,!0),i.sortList.length>0?l.trigger("sorton",[i.sortList,{},!i.initWidgets]):i.initWidgets&&t.applyWidget(a),i.showProcessing&&l.unbind("sortBegin.tablesorter sortEnd.tablesorter").bind("sortBegin.tablesorter sortEnd.tablesorter",function(e){t.isProcessing(a,"sortBegin"===e.type)}),a.hasInitialized=!0,a.isProcessing=!1,i.debug&&t.benchmark("Overall initialization time",e.data(a,"startoveralltimer")),l.trigger("tablesorter-initialized",a),"function"==typeof i.initialized&&i.initialized(a)},t.isProcessing=function(n,a,i){var r=(n=e(n))[0].config,o=i||n.find("."+t.css.header);a?(r.sortList.length>0&&(o=o.filter(function(){return!this.sortDisabled&&t.isValueInArray(parseFloat(e(this).attr("data-column")),r.sortList)})),o.addClass(t.css.processing+" "+r.cssProcessing)):o.removeClass(t.css.processing+" "+r.cssProcessing)},t.processTbody=function(t,n,a){var i;if(a)return t.isProcessing=!0,n.before('<span class="tablesorter-savemyplace"/>'),i=e.fn.detach?n.detach():n.remove();i=e(t).find("span.tablesorter-savemyplace"),n.insertAfter(i),i.remove(),t.isProcessing=!1},t.clearTableBody=function(t){e(t)[0].config.$tbodies.empty()},t.restoreHeaders=function(t){var n=t.config;n.$table.find(n.selectorHeaders).each(function(t){e(this).find(".tablesorter-header-inner").length&&e(this).html(n.headerContent[t])})},t.destroy=function(n,a,i){if((n=e(n)[0]).hasInitialized){t.refreshWidgets(n,!0,!0);var r=e(n),o=n.config,s=r.find("thead:first"),c=s.find("tr."+t.css.headerRow).removeClass(t.css.headerRow+" "+o.cssHeaderRow),l=r.find("tfoot:first > tr").children("th, td");s.find("tr").not(c).remove(),r.removeData("tablesorter").unbind("sortReset update updateAll updateRows updateCell addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd ".split(" ").join(".tablesorter ")),o.$headers.add(l).removeClass([t.css.header,o.cssHeader,o.cssAsc,o.cssDesc,t.css.sortAsc,t.css.sortDesc].join(" ")).removeAttr("data-column"),c.find(o.selectorSort).unbind("mousedown.tablesorter mouseup.tablesorter keypress.tablesorter"),t.restoreHeaders(n),!1!==a&&r.removeClass(t.css.table+" "+o.tableClass+" tablesorter-"+o.theme),n.hasInitialized=!1,"function"==typeof i&&i(n)}},t.regex={chunk:/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,hex:/^0x[0-9a-f]+$/i},t.sortNatural=function(e,n){if(e===n)return 0;var a,i,r,o,s,c,l,d,u=t.regex;if(u.hex.test(n)){if((i=parseInt(e.match(u.hex),16))<(o=parseInt(n.match(u.hex),16)))return-1;if(i>o)return 1}for(a=e.replace(u.chunk,"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),r=n.replace(u.chunk,"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),d=Math.max(a.length,r.length),l=0;l<d;l++){if(s=isNaN(a[l])?a[l]||0:parseFloat(a[l])||0,c=isNaN(r[l])?r[l]||0:parseFloat(r[l])||0,isNaN(s)!==isNaN(c))return isNaN(s)?1:-1;if(typeof s!=typeof c&&(s+="",c+=""),s<c)return-1;if(s>c)return 1}return 0},t.sortText=function(e,t){return e>t?1:e<t?-1:0},t.getTextValue=function(e,t,n){if(n){var a,i=e?e.length:0,r=n+t;for(a=0;a<i;a++)r+=e.charCodeAt(a);return t*r}return 0},t.sortNumeric=function(e,n,a,i){return e===n?0:(isNaN(e)&&(e=t.getTextValue(e,a,i)),isNaN(n)&&(n=t.getTextValue(n,a,i)),e-n)},t.characterEquivalents={a:"áàâãäąå",A:"ÁÀÂÃÄĄÅ",c:"çćč",C:"ÇĆČ",e:"éèêëěę",E:"ÉÈÊËĚĘ",i:"íìİîïı",I:"ÍÌİÎÏ",o:"óòôõö",O:"ÓÒÔÕÖ",ss:"ß",SS:"ẞ",u:"úùûüů",U:"ÚÙÛÜŮ"},t.replaceAccents=function(e){var n,a="[",i=t.characterEquivalents;if(!t.characterRegex){for(n in t.characterRegexArray={},i)"string"==typeof n&&(a+=i[n],t.characterRegexArray[n]=new RegExp("["+i[n]+"]","g"));t.characterRegex=new RegExp(a+"]")}if(t.characterRegex.test(e))for(n in i)"string"==typeof n&&(e=e.replace(t.characterRegexArray[n],n));return e},t.isValueInArray=function(e,t){var n,a=t.length;for(n=0;n<a;n++)if(t[n][0]===e)return!0;return!1},t.addParser=function(e){var n,a=t.parsers.length,i=!0;for(n=0;n<a;n++)t.parsers[n].id.toLowerCase()===e.id.toLowerCase()&&(i=!1);i&&t.parsers.push(e)},t.getParserById=function(e){var n,a=t.parsers.length;for(n=0;n<a;n++)if(t.parsers[n].id.toLowerCase()===e.toString().toLowerCase())return t.parsers[n];return!1},t.addWidget=function(e){t.widgets.push(e)},t.getWidgetById=function(e){var n,a,i=t.widgets.length;for(n=0;n<i;n++)if((a=t.widgets[n])&&a.hasOwnProperty("id")&&a.id.toLowerCase()===e.toLowerCase())return a},t.applyWidget=function(n,i){var r,o,s,c=(n=e(n)[0]).config,l=c.widgetOptions,d=[];c.debug&&(r=new Date),c.widgets.length&&(c.widgets=e.grep(c.widgets,function(t,n){return e.inArray(t,c.widgets)===n}),e.each(c.widgets||[],function(e,n){(s=t.getWidgetById(n))&&s.id&&(s.priority||(s.priority=10),d[e]=s)}),d.sort(function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1}),e.each(d,function(t,a){a&&(!i&&c.widgetInit[a.id]||(a.hasOwnProperty("options")&&(l=n.config.widgetOptions=e.extend(!0,{},a.options,l),c.widgetInit[a.id]=!0),a.hasOwnProperty("init")&&a.init(n,a,c,l)),!i&&a.hasOwnProperty("format")&&a.format(n,c,l,!1))})),c.debug&&(o=c.widgets.length,a("Completed "+(!0===i?"initializing ":"applying ")+o+" widget"+(1!==o?"s":""),r))},t.refreshWidgets=function(a,i,r){var o,s=(a=e(a)[0]).config,c=s.widgets,l=t.widgets,d=l.length;for(o=0;o<d;o++)l[o]&&l[o].id&&(i||e.inArray(l[o].id,c)<0)&&(s.debug&&n("Refeshing widgets: Removing "+l[o].id),l[o].hasOwnProperty("remove")&&(l[o].remove(a,s,s.widgetOptions),s.widgetInit[l[o].id]=!1));!0!==r&&t.applyWidget(a,i)},t.getData=function(t,n,a){var i,r,o="",s=e(t);return s.length?(i=!!e.metadata&&s.metadata(),r=" "+(s.attr("class")||""),void 0!==s.data(a)||void 0!==s.data(a.toLowerCase())?o+=s.data(a)||s.data(a.toLowerCase()):i&&void 0!==i[a]?o+=i[a]:n&&void 0!==n[a]?o+=n[a]:" "!==r&&r.match(" "+a+"-")&&(o=r.match(new RegExp("\\s"+a+"-([\\w-]+)"))[1]||""),e.trim(o)):""},t.formatFloat=function(t,n){return"string"!=typeof t||""===t?t:(t=(n&&n.config?!1!==n.config.usNumberFormat:void 0===n||n)?t.replace(/,/g,""):t.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(t)&&(t=t.replace(/^\s*\(([.\d]+)\)/,"-$1")),a=parseFloat(t),isNaN(a)?e.trim(t):a);var a},t.isDigit=function(e){return!isNaN(e)||/^[\-+(]?\d+[)]?$/.test(e.toString().replace(/[,.'"\s]/g,""))}}});var t=e.tablesorter;e.fn.extend({tablesorter:t.construct}),t.addParser({id:"text",is:function(){return!0},format:function(n,a){var i=a.config;return n&&(n=e.trim(i.ignoreCase?n.toLocaleLowerCase():n),n=i.sortLocaleCompare?t.replaceAccents(n):n),n},type:"text"}),t.addParser({id:"digit",is:function(e){return t.isDigit(e)},format:function(n,a){var i=t.formatFloat((n||"").replace(/[^\w,. \-()]/g,""),a);return n&&"number"==typeof i?i:n?e.trim(n&&a.config.ignoreCase?n.toLocaleLowerCase():n):n},type:"numeric"}),t.addParser({id:"currency",is:function(e){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((e||"").replace(/[,. ]/g,""))},format:function(n,a){var i=t.formatFloat((n||"").replace(/[^\w,. \-()]/g,""),a);return n&&"number"==typeof i?i:n?e.trim(n&&a.config.ignoreCase?n.toLocaleLowerCase():n):n},type:"numeric"}),t.addParser({id:"ipAddress",is:function(e){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(e)},format:function(e,n){var a,i=e?e.split("."):"",r="",o=i.length;for(a=0;a<o;a++)r+=("00"+i[a]).slice(-3);return e?t.formatFloat(r,n):e},type:"numeric"}),t.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\//.test(e)},format:function(t){return t?e.trim(t.replace(/(https?|ftp|file):\/\//,"")):t},type:"text"}),t.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(e)},format:function(e,n){return e?t.formatFloat(""!==e&&new Date(e.replace(/-/g,"/")).getTime()||"",n):e},type:"numeric"}),t.addParser({id:"percent",is:function(e){return/(\d\s*?%|%\s*?\d)/.test(e)&&e.length<15},format:function(e,n){return e?t.formatFloat(e.replace(/%/g,""),n):e},type:"numeric"}),t.addParser({id:"usLongDate",is:function(e){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(e)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(e)},format:function(e,n){return e?t.formatFloat(new Date(e.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",n):e},type:"numeric"}),t.addParser({id:"shortDate",is:function(e){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((e||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(e,n,a,i){if(e){var r=n.config,o=r.headerList[i],s=o.dateFormat||t.getData(o,r.headers[i],"dateFormat")||r.dateFormat;e=e.replace(/\s+/g," ").replace(/[\-.,]/g,"/"),"mmddyyyy"===s?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):"ddmmyyyy"===s?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):"yyyymmdd"===s&&(e=e.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3"))}return e?t.formatFloat(new Date(e).getTime()||"",n):e},type:"numeric"}),t.addParser({id:"time",is:function(e){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(e)},format:function(e,n){return e?t.formatFloat(new Date("2000/01/01 "+e.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",n):e},type:"numeric"}),t.addParser({id:"metadata",is:function(){return!1},format:function(t,n,a){var i=n.config,r=i.parserMetadataName?i.parserMetadataName:"sortValue";return e(a).metadata()[r]},type:"numeric"}),t.addWidget({id:"zebra",priority:90,format:function(n,a,i){var r,o,s,c,l,d,u=new RegExp(a.cssChildRow,"i"),m=a.$tbodies;for(a.debug&&(l=new Date),d=0;d<m.length;d++)(r=m.eq(d)).children("tr").length>1&&(s=0,r.children("tr:visible").each(function(){o=e(this),u.test(this.className)||s++,c=s%2==0,o.removeClass(i.zebra[c?1:0]).addClass(i.zebra[c?0:1])}));a.debug&&t.benchmark("Applying Zebra widget",l)},remove:function(t,n,a){var i,r,o=n.$tbodies,s=(a.zebra||["even","odd"]).join(" ");for(i=0;i<o.length;i++)(r=e.tablesorter.processTbody(t,o.eq(i),!0)).children().removeClass(s),e.tablesorter.processTbody(t,r,!1)}})}(a)},WjF9:function(e,t,n){"use strict";var a=n("60hy");const i=Object(a.c)(window.current_user);window.current_user=i,t.a=i},"Wjt+":function(e,t,n){"use strict";var a=n("h4vE"),i=n("2UXI");Object(a.a)("body#survey_responses_edit_address",function(e){e.find(".back").click(function(e){e.preventDefault(),window.history.go(-1)}),Object(i.d)("Edit Address Page")})},Wp1a:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("q1tI"),i=n.n(a);const r=e=>t=>{let n=t.state,a=t.forField,r=t.className,o=void 0===r?"red-500 error-messages":r;const s=("string"==typeof a?[a]:a).filter(e=>!(!n.touched[e]||!n.errors[e])).map(e=>n.errors[e]).reduce((e,t)=>e.concat(t),[]);if(0===s.length)return null;return i.a.createElement("ul",{className:o},s.map(t=>i.a.createElement("li",{key:t},(t=>e[t]||t)(t))))}},Wwun:function(e,t,n){"use strict";var a=n("/kEZ"),i=n.n(a);n.d(t,"a",function(){return i.a})},"X+my":function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a={name:"support","primary-light":"soft-black","primary-dark":"black","primary-accent":"ksr-green-400"}},XB5d:function(e,t,n){"use strict";var a=n("a+N5"),i=n.n(a),r=n("h4vE"),o=n("+2Rf"),s=n.n(o),c=n("SKdt"),l=n("/AD1"),d=n("WjF9"),u=n("2UXI"),m=(n("GjXr"),n("HZYo")),p=n("v3o6"),h=n("DpK8");Object(r.a)(".NS_projects__content",function(){var e,t;void 0!==d.a&&(e=d.a.get("id")===l.a.get("creator.id"),t=l.a.get("is_backing"));var n,a,r=t||e,o=0,f=!c.a["not-mobile"],g=s()(".js-project-nav").height(),b=20;function _(){return i.a.filter(n,function(e){return!0===e.state.is_selected})}function v(){var e=_();if(e.length){var t=e[0];t.toggle_pledge_form(),t.state.is_truncated&&t.toggle_description_truncation(),t.el.$truncate_link.addClass("hide"),t.reset_pledge_form(),t.reset_pledge_error(),t.reset_country_error()}}function k(){a=s()(".js-reward-available"),window.rewards=a.map(function(e,t){var n=s()(t),a=function(e){return i.a.filter(l.a.get("rewards"),function(t){return t.id===e})}(n.data("rewardId"))[0];return a.closed_height=n.height(),a.index=n.index(),new window.RewardController(n,a)}).get(),a.on("change","select",function(e){var t=s()(e.delegateTarget).data("reward");t.shipping_rules.length&&(t.update_pledge_total(),t.reset_pledge_error()),t.validate()}),a.on("click",function(e){!function(e,t){if(o=0,"live"!==l.a.get("state")&&t.preventDefault(),!r&&!e.state.is_selected){var n=_(),a=0;n.length>0&&n[0].index<e.index&&(a=n[0].el.$rw.height()-n[0].closed_height);var i=e.el.$rw.offset().top-a-b;s()(document).scrollTo(i,100),v(),e.toggle_pledge_form(),e.state.is_truncate_worthy&&(e.toggle_description_truncation(),e.el.$truncate_link.removeClass("hide")),Object(u.d)("Checkout Reward Click",{checkout_reward_id:e.id,checkout_amount:e.reward_data.minimum})}}(s()(this).data("reward"),e)}),a.on("submit","form",function(e){var t=s()(e.delegateTarget).data("reward"),n=t.validate();if(t.state.submit_halted=!n,t.state.submit_halted&&s()(e.target).removeClass("submitting-non-ajax"),n){Object(u.d)("Checkout Reward Continue Click");const e=Object(p.a)(t);Object(m.b)(m.a.REWARD_CONTINUE_BUTTON_CLICKED,{context_page:h.a.PROJECT},e)}return n}),a.on("blur input",'input[name="backing[amount]"]',function(e){s()(e.delegateTarget).data("reward").validate()}),a.on("click",".js-desc-toggle",function(e){var t=s()(e.delegateTarget).data("reward");e.preventDefault(),t.toggle_description_truncation()})}f||(b+=g),s()(document).on("click",function(){3===(o+=1)&&(v(),o=0)}),s()(document).on("projectnav:rewards projectnav:description",function(){k()}),k()})},XCVW:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("uAMZ");i()(function(){i()(document).tipsy({gravity:"s",html:!0,live:"a.tip",fade:!0}),i()(document).tipsy({gravity:"n",html:!0,live:".tipsy_n",fade:!0}),i()(document).tipsy({gravity:"s",html:!0,live:".tipsy_s",fade:!0}),i()(document).tipsy({gravity:"se",html:!0,live:".tipsy_se",fade:!0})})},XLBa:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a,i=n("prSB"),r=n("+2Rf"),o=n.n(r),s=n("a+N5"),c=n.n(s),l=n("zm9w");function d(e,t){if(c.a.isArray(e)){var n=c()(e).map(function(e){return function(e,t){var n,a;return n=c()(e).map(function(e,n){var i=!1;return n.match(/^\!/)&&(i=!0,n=n.replace(/^\!/,"")),c.a.isArray(e)||(e=[e]),e=c()(e).map(function(e){return e+""}),a=c()(e).include(t[n]+""),i?!a:a}),c()(n).inject(function(e,t){return e||t},n[0])}(e,t)});return c()(n).inject(function(e,t){return e&&t},n[0])}}a={number:function(e){return e=Object(i.a)({precision:0},e),l.a.format_number(e.value,c.a.omit(e,"format","value"))},distance_date:function(e){return l.a.time_ago_in_words(e.value)}};const u=function(e){var t,n=e.data("format");t=(n=e.data("format"))&&"function"==typeof a[n]?a[n](e.data()):e.data("value"),e.html(t)};function m(e,t,n){o()(e).find("."+t+n.id).each(function(e,t){!function(e,t){var n,a,i="",r=o()(e),s=r.data("conditions"),c=r.attr("itemprop");void 0!==c?i=c.match(/\[(\w*)\]/)[1]:r.data("attr")&&(i=r.data("attr")),void 0!==s?("string"==typeof s&&(s=JSON.parse(s)),n=(a=d(s,t))?JSON.parse(r.data("render")):"",r.data("evaluation")!==a&&(r.html(n),r.data("evaluation",a),n.length&&m(r,"Project",t))):void 0!==i&&void 0!==t[i]&&(r.data("value",t[i]),r.attr("data-value",t[i]),u(r))}(t,n)})}const p=function(e,t){m(document,e,t)};function h(e){this.template=e,this.conditions=[]}function f(e){var t;return"string"==typeof e&&((t={})[e]=!0,e=t),e}h.prototype.if=function(e){return this.condition("and",!0,e),this},h.prototype.and=h.prototype.if,h.prototype.if_not=function(e){return this.condition("and",!1,e),this},h.prototype.unless=h.prototype.if_not,h.prototype.and_not=h.prototype.if_not,h.prototype.or=function(e){return this.condition("or",!0,e),this},h.prototype.or_not=function(e){return this.condition("or",!1,e),this},h.prototype.then=function(){var e=this;return function(){return function(t,n){return e.value=n(t),e.html()}}},h.prototype.condition=function(e,t,n){var a,i;return c.a.isObject(n)||((a={})[n]=!0,n=a),!1===t&&c.a.each(c()(n).keys(),function(e){n["!"+e]=n[e],delete n[e]}),"or"===e?(i=f(this.conditions[this.conditions.length-1]),n=f(n),this.conditions[this.conditions.length-1]=o.a.extend(!0,i,n)):"and"===e&&this.conditions.push(n),this},h.prototype.evaluation=function(){return void 0===this.cached_evaluation&&(this.cached_evaluation=d(this.conditions,this.template.proxy)),this.cached_evaluation},h.prototype.content=function(){return this.evaluation()?this.value:""},h.prototype.html=function(){var e=o()("<data>");return e.attr(this.html_options()),e.html(this.content()),e[0].outerHTML},h.prototype.html_options=function(){return{class:this.template.class_name,"data-conditions":JSON.stringify(this.conditions),"data-render":JSON.stringify(this.value),"data-evaluation":d}}},XM0S:function(e,t,n){"use strict";var a=n("+DSo");const i=(e,t)=>e.replace(a.a,function(e,n){return null==t[n]?e:t[n]}).replace(a.b,function(e,n){return null==t[n]?e:t[n]});t.a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(a.c)(e,t,n);return void 0===r&&(r=Object(a.d)(t),console.warn("I18n key is missing: ",t)),"string"==typeof r&&(r=i(r,n)),r}},"XS+r":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c});var a=n("prSB"),i=n("gN63"),r=n("atWj");const o=e=>Object(i.e)(r.c,{input:e}),s=e=>{const t=e.id,n=e.imageWidth,o=e.assetWidth;return Object(i.e)(r.b,Object(a.a)({id:t},n?{imageWidth:n}:{},{},o?{assetWidth:o}:{}))},c=e=>{let t=e.fileType;return Object(i.e)(r.e,{fileType:t}).then(e=>{let t=e.uploadLimit;const n=t.contentTypes.filter(e=>null!==e);return{megabytes:t.megabytes,bytes:t.bytes,contentTypes:n}})}},XUhl:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("a+N5"),o=n.n(r),s=n("SKdt"),c=n("ZCIj"),l=n("2UXI"),d=n("TIPN"),u=n("yQm5"),m=n.n(u),p=(n("MLrq"),n("eH4U")),h=n("vtU4"),f=n("dTnv"),g=n("109u"),b=n("NjHa"),_=n("CGP4"),v=n("aiSh"),k=n("pj8f"),y=n("Qin/"),j=n("n8gV"),E=n("q1tI"),w=n.n(E),S=n("4KRT"),O=n("i8i4"),C=n.n(O),N=n("/MKj"),x=n("4U8H"),T=n("kZzg"),I=n("kQ6V"),D=n("z+X6"),P=n("xWgL"),A=n("3Zop");const R=Object(D.a)(A.a),F=()=>{Object(v.a)(k.Honeybadger.notify.bind(k.Honeybadger));const e=document.getElementById("react-campaign"),t=Object(T.a)()?"t17-md":"t20-md";if(e){const n=e.dataset.slug||"empty",a="/projects/".concat(n,"/");C.a.render(w.a.createElement(S.a,{client:j.a},w.a.createElement(N.a,{store:R},w.a.createElement(P.b,{basePath:a,slug:n,stickyTopAtom:t,getHeightOffset:Object(I.a)(["project-nav","admin-nav"]),isFlaggingDisabled:!1,isFAQDisabled:!1}))),e)}};F();Object(v.a)(k.Honeybadger.notify.bind(k.Honeybadger));const L=()=>{const e=document.getElementById("react-campaign-nav");if(e&&e.dataset&&e.dataset.campaign){const t=JSON.parse(e.dataset.campaign),n=t.slug,a=t.projectHasSkills,i=t.projectHasCommunity,r=t.projectFAQsCount,o=t.updateCount,s=t.commentsCount,c=t.manageYourPledge,l=t.backThisProject,d=t.projectPid,u=t.watchingProjectData&&JSON.parse(t.watchingProjectData),m={projectIsLaunched:u.project_is_launched,projectCanRemind:u.project_can_remind,isWatching:u.user_is_watching},p="/projects/".concat(n,"/")||!1,h=document.getElementById("admin-nav")?"t10":"t0",f=Object(x.a)(p,{projectHasSkills:a,projectHasCommunity:i,projectFAQsCount:r,projectHasEnvironmentalCommitments:R.getState().environmentalCommitmentsExists,projectBudgetExists:R.getState().projectBudgetExists,updateCount:o,commentsCount:s});C.a.render(w.a.createElement(S.a,{client:j.a},w.a.createElement(N.a,{store:R},w.a.createElement(y.a,{basePath:p,pid:d,backThisProject:l,managePledge:c,showRemindMe:!0,state:R.getState(),dispatch:R.dispatch,watchProjectData:m,stickyTopAtom:h,usesRouter:!1,navigationConfig:f}))),e)}};L(),R.subscribe(L);var M=n("A3pT"),U=n("PDRc"),B=n("fivf"),q=n("Y0SK"),$=(n("U3M1"),n("HZYo")),H=n("DpK8");i()(function(){var e=i()(".NS_projects__project_nav, .NS_projects__header_nav"),t=i()(".NS_projects__content"),n=e.find(".js-load-project-content");if(e.length&&t.length){if(e.find(".js-track-back-this-project").on("click",function(){return Object($.b)($.a.PROJECT_PAGE_PLEDGE_BUTTON_CLICKED,{context_location:"sticky_nav"}),!0}),i()(".NS_projects__description_section")&&Object($.b)($.a.PROJECT_PAGE_VIEWED,{context_page:H.a.PROJECT}),i()(document).on("projectnav:description",function(){Object(g.projectFlaggingInit)(),Object(b.backerRewardsInit)(),Object(f.renderCreatorBio)(),Object(U.a)(),Object(M.budgetGraphicInit)(),Object(q.d)()&&(L(),F())}),i()(document).on("projectnav:comments",function(){Object(_.commentsInit)()}),i()(document).on("projectnav:updates",function(){B.history.push({pathname:window.location.pathname}),Object(B.initProjectPostInterface)()}),function(){var t=window.location.pathname.replace(/\/\d*$/,""),a=o.a.map(n,function(e){return e.pathname.split("/").pop()});a.push("posts");var r=t.split("/").pop();if(o.a.contains(a,r)&&!window.location.hash&&k(),s.a.phone&&("posts"===r||"updates"===r)){const t=i()("a.is-active"),n=t.offset().left,a=t.outerWidth(),r=i()(window).width();e.scrollLeft(n-(r-a)/2)}}(),n.on("click",function(e){var t=i()(this);e.preventDefault();const n=t.data("content");if(Object(p.c)(h.b.VIEW_POST.path)&&"updates"===n){const e=window.location.pathname,t=e.substring(0,e.lastIndexOf("/"));B.history.push({pathname:t})}else if(m()(t.prop("href")).pathname()!==m()(window.location).pathname()){var a=new CustomEvent("campaignNavTabChange",{detail:{content:n}});window.dispatchEvent(a);var r=t.attr("data-content");v(t.attr("href"),r)}}),t.on("click",".js-faq-link",function(e){y(e,"Check")}),t.on("click",".js-add-faq-link",function(e){y(e,"Post")}),s.a["not-touchable"]){var a=skrollr.init({forceHeight:!1});i()(document).one("ksr:video_player_resize",function(){a.refresh()})}var r={about:!1,budget_graphic:!1,risks:!1,last_rewards:!1,recs:!1},u=o.a.debounce(function(){j("about",i()(".js-project-nav"))&&w("about",E(i()(".js-project-nav"))),j("last_rewards",i()(".js-project-rewards"),!0)&&w("last_rewards",E(i()(".js-project-rewards"))+i()(".js-project-rewards").height()),j("budget_graphic",i()("#react-budget-graphic"))&&w("budget_graphic",E(i()("#react-budget-graphic"))),j("risks",i()(".js-risks"))&&w("risks",E(i()(".js-risks"))),j("recommended",i()(".js-recs"))&&w("recommended",E(i()(".js-recs")))},1e3);i()(document).scroll(u),"emojilocale"===c.b.getItem("ksr10locale")&&(i()("#rewards-emoji").html('<div class="type-21">📦</div>'),i()("#campaign-emoji").html('<div class="type-21">📣</div>'),i()("#faq-emoji").html('<div class="type-21">\n        🤔\n        <span class="count">'.concat(i()("#faq-emoji").attr("emoji-data"),"</span>\n      </div>")),i()("#help-wanted-emoji").html('<div class="type-21">👋</div>'),i()("#updates-emoji").html('<div class="type-21">\n        📰\n        <span class="count">'.concat(i()("#updates-emoji").attr("emoji-data"),"</span>\n      </div>")),i()("#comments-emoji").html('<div class="type-21">\n        💬\n      </div>'),i()("#community-emoji").html('<div class="type-21">🤝</div>'))}function v(a,r){var o=".js-project-"+r+"-content",s=t.find(o);!function(e,t){window.history&&window.history.replaceState?window.history.replaceState(null,null,e):window.location.hash=t}(a,r),function(t){var a=e.find(".js-load-project-"+t);n.removeClass("is-active"),a.addClass("is-active")}(r),t.find(".js-project-content").removeClass("visible").fadeOut(200,function(){i()(this).empty(),window.setTimeout(function(){s.fadeIn()},200)}),i.a.ajax({url:a,cache:!1,success:function(e){s.html(e),k(),i()(document).trigger("projectnav:"+r),ga("send",{hitType:"pageview",page:window.location.pathname,title:document.title})}})}function k(){Object(d.a)({to:t.position().top+70,easing:"easeOutQuint",duration:200})}function y(e,t){e.preventDefault(),v(i()(e.target).attr("href"),"faqs"),Object(l.d)("Clicked"+t+"FAQ",{context:i()(e.target).data("context")})}function j(e,t,n){if(!r[e]&&!function(e){return 0===e.length||e.is(":hidden")}(t)){var a=n?t.height():0;return i()(document).scrollTop()+window.innerHeight>=E(t)+a}}function E(e){return e.offset().top}function w(e,t){Object(l.d)("Viewed Project Page Section",{context:e,page_pixel_length:i()(document).height(),pixel_position:t}),r[e]=!0}})},XfPQ:function(e,t,n){"use strict";var a=n("L/h+"),i=n("daZV"),r=n("WSTq"),o=n("mv45"),s=n("94td"),c=n("a8OY"),l=n("vtU4"),d=n("q1tI"),u=n("prSB"),m=n("mwIZ"),p=n.n(m),h=n("4KRT");const f=n("Yzh4").PostLikers,g=(e,t)=>{const n=t.fetchMoreResult;return null===n.post||null===n.post.fans||null===n.post.fans.edges?e:Object(u.a)({},n,{post:Object(u.a)({},n.post,{fans:Object(u.a)({},n.post.fans,{edges:[...p()(e,"post.fans.edges",[]),...p()(n,"post.fans.edges",[])],pageInfo:n.post.fans.pageInfo})})})},b=Object(o.c)(e=>{if(!e.data||!e.data.post)return Object(o.d)(e.data.error);const t=e.data,n=t.fetchMore,a=t.post,i=t.me,r=a.fans,s=r&&r.edges||[],c=r&&r.pageInfo.endCursor,l=s.map(e=>e&&e.node).map(e=>({id:e?e.id:"",name:e?e.name:"",slug:e?e.slug:"",imageUrl:e?e.imageUrl:""})).reduce((e,t)=>i&&a.isLiked&&t.id===i.id?[t,...e.filter(e=>e.id!==t.id)]:[...e,t],[]);return Object(o.l)({likers:l,hasNextPage:!!r&&r.pageInfo.hasNextPage,totalLikers:r?r.totalCount:0,isFetchingMore:e.data.loading,likersShowing:l.length,onFetchMore:()=>n({variables:{id:e.ownProps.id,cursor:c},query:f,updateQuery:g})})}),_=Object(h.c)(f,b);n.d(t,"a",function(){return v});const v=e=>d.createElement(r.a,{size:"small",onClose:e.onClose,headerCopy:Object(s.b)("project_updates.Likes")},d.createElement(k,{id:e.id})),k=Object(o.a)(_,c.b)(e=>d.createElement("div",{className:"pt4"},e.likers.map((e,t)=>d.createElement("a",{key:t,href:l.b.USER_PROFILE.url(e.slug),className:"post-liker keyboard-focusable soft-black mb2 flex items-center px3"},d.createElement("div",{className:"shrink0"},d.createElement(a.a,{size:6,imageUrl:e.imageUrl})),d.createElement("span",{className:"post-liker__name type-16 pl2"},e.name))),d.createElement(i.a,{buttonI18nKey:"project_updates.Load_more",remainingI18nKey:"project_updates.Showing_x_of_y_likers",totalCount:e.totalLikers,showingCount:e.likersShowing,pageSize:100,onClick:e.onFetchMore,loading:e.isFetchingMore,hasMorePages:e.hasNextPage,atoms:["py6","w75p-md","m-auto","theme--support"]})))},"Xr/1":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("2UXI");n("1uyb");i()(function(){i()(document).on("click",".js-read_more",function(e){var t=i()(this).closest(".js-read_more_context"),n=t.data("mixpanel_context"),a=t.find(".js-less"),o=t.find(".js-more");a.addClass("hide"),a.find(".video-player").trigger("ksr_video:pause"),o.removeClass("hide"),i.a.scrollTo(t),n&&Object(r.d)(n+" Read More"),e.preventDefault()}),i()(document).on("click",".js-read_less",function(e){var t=i()(this).closest(".js-read_more_context"),n=t.data("mixpanel_context"),a=t.find(".js-less"),o=t.find(".js-more");a.removeClass("hide"),o.addClass("hide"),o.find(".video-player").trigger("ksr_video:pause"),i.a.scrollTo(t),n&&Object(r.d)(n+" Read Less"),e.preventDefault()})})},Xt0b:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("GRmu"),o=n("0VSk");n("RIhn");i()("form.requires-confirmation","submit").livequery(function(e){var t=i()(this);i()(this).find("input.confirmation").is(":checked")||(setTimeout(function(){t.removeClass("submitting-non-ajax")},100),Object(r.a)({error:o.default.t("onloads.initializers.form_requires_confirmation.Please_accept_the_Rules")}),e.preventDefault())})},Y0SK:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"e",function(){return d}),n.d(t,"d",function(){return u});var a=n("Z0cm"),i=n.n(a),r=n("g84z"),o=n("arGM");const s=(e,t)=>{const n=Object(r.a)(window.location.search),a=Object.keys(n).length>0?Object(o.c)(n):"";return[[(e=>e.replace(/\/$/,""))(e),(e=>e.replace(/^\//,""))(t)].join("/"),a].join("")},c=e=>Boolean(e&&"description story risks-and-challenges environmental-commitments project-budget".includes(e)),l=e=>{if(!e)return!1;const t=window.pageYOffset||document.documentElement.scrollTop,n=e.getBoundingClientRect(),a=n.top+t+n.height;return window.scrollY>a},d=(e,t)=>i()(t.renderPath)?t.renderPath.map(t=>"".concat(e).concat(t)):"".concat(e).concat(t.renderPath||t.path);function u(){return window.showNewCampaignNav}},YEaP:function(e,t,n){"use strict";var a={pageX:function(e){return e.originalEvent&&e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX}};t.a=a},YHJg:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("RIhn");i()("span.character_counter").livequery(function(){var e=i()(this);i()(document).on("keyup",e.attr("rel"),function(){e.html(parseInt(i()(this).attr("maxlength"),10)-i()(this).val().length)})})},YW8a:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("6Tov"),n("RIhn");i()(function(){i()(".js-lazy-image").livequery(function(){i()(this).unveil(500,function(){var e=i()('<div class="loader-dots loader-dots--mega loader-dots--inline loader-dots--overlay" />').css("visibility","hidden");i()(this).after(e);var t={x:i()(this).offset().left+this.clientWidth/2-e.width()/2,y:i()(this).offset().top+this.clientHeight/2-e.height()/2};e.css("top","".concat(parseInt(t.y),"px")).css("left","".concat(parseInt(t.x),"px")).css("visibility","visible"),i()(this).load(()=>e.remove())})})})},Yl26:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("ZCIj");i()(function(){["history","banner_canada_projects_animated","banner_canada_hide","banner_iphone_animated","banner_iphone_hide","banner_social_animated","banner_social_hide","banner_stripe_build_transition_hide","banner_verified_identity_hide","banner_yir_animated","ppjun2016","yir_banner_hide","yir_launch_banner","yir_takeover_hide","history_v1","video_mode_projects_seen","video_mode_seen"].forEach(function(e){r.b.removeItem(e)}),r.b.getItem("dismiss_post_funding_onboarding")&&r.b.setItem("dismiss_spotlight_onboarding","true"),r.b.removeItem("dismiss_post_funding_onboarding")})},Ylt3:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("a+N5"),o=n.n(r),s=n("h4vE"),c=n("SKdt"),l=n("SmhT");Object(s.a)("#NS_discover__filters",function(e){var t,n,a,r,s,d,u,m,p,h,f,g,b=e.find(".tags");function _(){e.trigger("ksr_popover:close"),i()(document).trigger("discovery:filters:changed",v())}function v(){var e={};return e.term=t.val(),e.state=m.find("select").val(),e.goal=p.find("select").val(),e.pledged=h.find("select").val(),e.raised=f.find("select").val(),e.recommended=r.find("a").is(".ksr-green-500"),e.staff_picks=a.find("a").is(".ksr-green-500"),e.starred=s.find("a").is(".ksr-green-500"),e.social=d.find("a").is(".ksr-green-500"),e.backed=u.find("a").is(".ksr-green-500"),e}function k(e){t.val(e.term);var n={recommended:r,staff_picks:a,starred:s,social:d,backed:u};o.a.forEach(n,function(t,n){e[n]?t.find("a").addClass("ksr-green-500").removeClass("black"):t.find("a").removeClass("ksr-green-500").addClass("black")}),b.find(".selected").removeClass("selected"),b.find("#tag_"+(e.tag_id||0)).addClass("selected"),m.find("select").ksr_val(e.state||""),p.find("select").ksr_val(e.goal||""),h.find("select").ksr_val(e.pledged||""),f.find("select").ksr_val(e.raised||"")}t=e.find(".js-search_term input"),n=e.find(".js-featured"),a=n.find(".js-staff_picks"),r=n.find(".js-recommended"),s=n.find(".js-starred"),d=n.find(".js-social"),u=n.find(".js-backed"),m=e.find(".js-states"),p=e.find(".js-goals"),h=e.find(".js-pledged"),f=e.find(".js-raised"),t.on("cut paste input keydown",function(t){t.keyCode===l.c?_():-1===o.a.indexOf(l.j,t.keyCode)&&(i()(document).trigger("discovery:filters:term_changed",v()),e.trigger("ksr_popover:reposition"))}),e.find(".js-search_term_button").on("click",function(){_()}).on("keydown",function(e){e.keyCode!==l.c&&e.keyCode!==l.l||_()}),n.find("li > a").on("click",function(t){i()(this).toggleClass("ksr-green-500").toggleClass("black"),i()(document).trigger("discovery:filters:changed",v()),e.trigger("ksr_popover:reposition"),t.preventDefault()}),b.find("li > a").on("click",function(t){var n=i()(this).closest("li");n.siblings(".selected").removeClass("selected"),n.toggleClass("selected"),i()(document).trigger("discovery:filters:changed",v()),e.trigger("ksr_popover:reposition"),t.preventDefault()}),e.find("select").on("change",function(){i()(document).trigger("discovery:filters:changed",v()),e.trigger("ksr_popover:reposition")}),i()(document).on("discovery:sentence:changed",function(e,t){k(t)}),i()(document).on("discovery:sentence:term_changed",function(e,n){t.val(n.term)}),i()(document).on("discovery:filters:load_sample",function(e,t){k({tag_id:(t.tag||{}).id})}),e.on("ksr_popover:opened",function(){g=t.val()||"",c.a["not-touchable"]&&t.focus()}),e.on("ksr_popover:closed",function(){var n=t.val()||"";i.a.trim(n)!==i.a.trim(g)&&(i()(document).trigger("discovery:filters:changed",v()),e.trigger("ksr_popover:reposition"))})})},Ynzd:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("2DJ9"),i=n("/IHD"),r=n("q1tI"),o=n.n(r);const s=e=>{const t="dark-grey-500 hover-soft-black text-underline type-13 medium",n=Object(i.a)("flex",e.className);return o.a.createElement("div",{className:n},o.a.createElement("a",{className:t,href:e.categoryUrl},e.categoryName),o.a.createElement("a",{className:Object(i.a)(t,"ml4"),href:e.locationUrl},o.a.createElement(a.a,{name:"map-pin",size:"12",atoms:["mr3px","mb1px","fill-dark-grey-500"]}),e.locationName))}},Yoag:function(e,t,n){var a=n("dTAl"),i=n("RrRF"),r=4294967295;function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=r,this.__views__=[]}o.prototype=a(i.prototype),o.prototype.constructor=o,e.exports=o},Yzh4:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostLikers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isLiked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fans"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"72"}}],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:367}};n.loc.source={body:"query PostLikers($id: ID!, $cursor: String) {\n  me {\n    id\n  }\n  post(id: $id) {\n    id\n    isLiked\n    fans(first: 100, after: $cursor) {\n      edges {\n        cursor\n        node {\n          id\n          name\n          slug\n          imageUrl(width: 72)\n        }\n      }\n      totalCount\n      pageInfo {\n        endCursor\n        hasNextPage\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.PostLikers=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"PostLikers")},ZCHx:function(e,t,n){"use strict";var a=n("UujG");n.d(t,"b",function(){return a.b});var i=n("T3Mw");n.d(t,"a",function(){return i.a})},ZCIj:function(e,t,n){"use strict";n.d(t,"a",function(){return r});const a={},i=()=>"undefined"!=typeof window?(void 0===window.__KSR_IN_MEMORY_STORAGE_CACHE__&&(window.__KSR_IN_MEMORY_STORAGE_CACHE__=a),window.__KSR_IN_MEMORY_STORAGE_CACHE__):a;const r=(()=>{if(!window)return!1;if(void 0!==window.__KSR_LOCAL_STORAGE_SUPPORTED__)return window.__KSR_LOCAL_STORAGE_SUPPORTED__;if(void 0===window.localStorage)return!1;try{const e=window.localStorage,t="__KSR_storagetest__";return e.setItem(t,"1"),e.removeItem(t),window.__KSR_LOCAL_STORAGE_SUPPORTED__=!0,!0}catch(e){return window.__KSR_LOCAL_STORAGE_SUPPORTED__=!1,!1}})()?new class{constructor(){this.isPersisted=!0,this.getItem=window.localStorage.getItem.bind(window.localStorage),this.setItem=window.localStorage.setItem.bind(window.localStorage),this.removeItem=window.localStorage.removeItem.bind(window.localStorage),this.key=window.localStorage.key.bind(window.localStorage),this.clear=window.localStorage.clear.bind(window.localStorage)}get length(){return window.localStorage.length}}:new class{constructor(){this.isPersisted=!1,this.cache=void 0,this.cache=i()}getItem(e){return e in this.cache?this.cache[e]:null}setItem(e,t){this.cache[e]=String(t)}removeItem(e){delete this.cache[e]}key(e){const t=Object.keys(this.cache);return e in t?t[e]:null}clear(){Object.keys(this.cache).forEach(e=>{delete this.cache[e]})}get length(){return Object.keys(this.cache).length}};t.b=r},ZCQN:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("OUkx"),n("RIhn");i()(function(){i()(".js-lazy-video").livequery(function(){const e=this,t=i()(this);t.whenNear(500,function(){e.src=t.data("src")})})})},ZCb5:function(e,t,n){"use strict";n("b8Ld");var a=n("UEZD");n.d(t,"a",function(){return a.a}),n.d(t,"b",function(){return a.b})},ZJoU:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE"),o=n("GRmu"),s=n("/AD1");Object(r.a)(".NS-projects__admin_keyboard_control",function(e){i()(document).on("keydown",function(t){if(t.ctrlKey){var n=e.find("#project_moderated_state"),a=e.find("form"),r="";switch(t.which){case 65:if("submitted"===s.a.get("state"))return;r="acceptable";break;case 84:r="tolerated";break;default:return}n.val(r),i.a.ajax({url:a.attr("action"),type:a.attr("method"),dataType:"json",data:a.serialize(),success:function(){Object(o.a)({info:r})}}),i()("#admin-nav-wrap span.moderation_status").text(r.substring(0,3))}})})},ZY8h:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("qcI4"),o=n("GRmu"),s=n("0VSk"),c=n("2UXI"),l=n("yQm5"),d=n.n(l),u=(n("RIhn"),n("/AD1"));i()(".js-could-have-comments").length&&i()(".load_new_comments").livequery(function(){var e,t,n,a,l=i()(".load_new_comments");function m(e){void 0===e&&(e={}),(e.comments_count||u.a.get("comments_count"))-(e.comments_loaded||u.a.get("comments_loaded"))>0?l.show():l.hide()}function p(e,t){var n,a=i()(this),r=new d.a(this.href).removeQuery("cursor").addQuery({cursor:e});"asc"===t&&r.addQuery({direction:t}),n=r.toString(),i.a.ajax({url:n,beforeSend:function(){a.addClass("loading")},complete:function(){a.removeClass("loading")},success:function(e){var n="asc"===t?"prepend":"append";"asc"===t&&u.a.set("comments_loaded",e.comments_count),u.a.set("comments_count",e.comments_count),i()("ol.list-comments ol.comments:first")[n](e.comments)},error:function(){Object(o.a)({error:s.default.t("onloads.views.comments.list.Sorry_we_couldnt_load_comments_just_now")})}})}l.length&&(e=l.find("a"),t=i()(".Project"+u.a.get("id")+'[itemprop="Project[comments_count]"]'),n=(n=i.a.trim(t.text())).replace(/\D/g,""),u.a.set("comments_count",parseInt(n,10)),i()(".latest_comment").livequery(function(){a||(a=!0,u.a.on_change("comments_count",m),u.a.on_change("comments_loaded",m)),u.a.set("comments_loaded",u.a.get("comments_count")),m()}),i()(".earliest_comment").livequery(function(){i()("a.older_comments").hide()}),i()(".comment").livequery(function(){var e,t=i()(this).find('[itemprop="Comment[created_at]"]'),n={};t.each(function(t,a){var r,o=i()(a);if(!o.attr("itemprop"))return;if(!(r=o.attr("itemprop").match(/Comment\[(\w+)\]/)))return;const s=o.data("value");n[r[1]]=s.match(/^"/)?JSON.parse(s):s,e||(e=o.attr("class").match(/Comment(\d+)/)[1])}),(r.d.find(e)||new r.d({id:e})).set(n)}),e.click(function(e){if(!i()(this).hasClass(".loading")){e.preventDefault();var t=i()(".comments li:first");Object(c.d)("Project Comment Load New"),u.a.get("comments_count")-u.a.get("comments_loaded")>50?window.location.href=window.location.href:p.call(this,t.attr("id").match(/\d+/)[0],"asc")}}),i()(document).on("click",".older_comments",function(e){e.preventDefault();var t=i()(".comments li:last");!i()(this).hasClass(".loading")&&t.length&&(Object(c.d)("Project Comment Load Older"),p.call(this,t.attr("id").match(/\d+/)[0],"desc"))}),i()(".comment-moderation, .backer_info","ol.list-comments").livequery(function(){i()(this).removeClass("hidden")}),i()(document).on("submit","ol.list-comments form.delete_comment",function(e){e.preventDefault();var t=i()(this),n=t.closest(".comment");i.a.ajax({url:t.attr("action"),dataType:"json",type:"delete",success:function(){n.hide(),i()("#project-edit-nav .preview .count").text(function(e,t){return parseInt(t,10)-1}),i()(".NS_comments__comment").length||i()(".project_preview_comments").removeClass("has_comments")}})}))})},ZnTL:function(e,t,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Campaign"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"risks"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"story"},arguments:[{kind:"Argument",name:{kind:"Name",value:"assetWidth"},value:{kind:"IntValue",value:"680"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSharingProjectBudget"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"spreadsheet"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayMode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"public"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phase"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rowNum"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dataLastUpdatedAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"environmentalCommitments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitmentCategory"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RewardDetails"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:515}};a.loc.source={body:'#import "../../graph/reward-details.graphql"\nquery Campaign($slug: String!) {\n  project(slug: $slug) {\n    currency\n    id\n    risks\n    story(assetWidth: 680)\n    isSharingProjectBudget\n    spreadsheet {\n      displayMode\n      public\n      url\n      data {\n        name\n        value\n        phase\n        rowNum\n      }\n      dataLastUpdatedAt\n    }\n    environmentalCommitments {\n      id\n      commitmentCategory\n      description\n    }\n    rewards {\n      nodes {\n        ...RewardDetails\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};a.definitions=a.definitions.concat(n("AZSU").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)}));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}a.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),r[e.name.value]=t}}),e.exports=a,e.exports.Campaign=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,i=new Set,s=new Set;for(a.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){i.has(e)||(i.add(e),(r[e]||new Set).forEach(function(e){s.add(e)}))})}return i.forEach(function(t){var a=o(e,t);a&&n.definitions.push(a)}),n}(a,"Campaign")},a1e3:function(e,t,n){"use strict";n.d(t,"d",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return m}),n.d(t,"e",function(){return p}),n.d(t,"a",function(){return k});var a=n("prSB"),i=n("VphZ"),r=n("q1tI"),o=n.n(r),s=n("MHsd"),c=n("zm9w");const l=e=>({precision:0,currency:e});function d(e,t){const n=[];for(let a=0;a<e;a+=1)for(let e=0;e<t;e+=1)n.push({value:Math.floor(20*Math.random()+3),phase:"Phase ".concat(a),description:"",name:"random",rowNum:parseInt("".concat(a,"000").concat(e),10)});return Object(s.a)(n)}const u=.06,m=[{name:"bg1",color:"#059968",file:"https://ksr-static.imgix.net/xglb1yux-hatch_light_green_pattern_overlays_20190901.png?ixlib=rb-2.1.0&auto=compress%2Cformat&w=1000&fit=min&s=f8e4067c30dc50a64ea0be61265034cf"},{name:"bg2",color:"#71A0FF",file:"https://ksr-static.imgix.net/qm5rth84-dot_line_white_2_pattern_overlays_20190901.png?ixlib=rb-2.1.0&s=9f6dccf878d4c0e8ace139d23d92daac"},{name:"bg3",color:"#a3a3a3",file:"https://ksr-static.imgix.net/2pgrzep-scattered_dots_black_pattern_overlays_20190901.png?ixlib=rb-2.1.0&auto=compress%2Cformat&w=1000&fit=min&s=ab92dedfe65eaac84541e80801e33c9c"},{name:"bg4",color:"#37d893",file:"https://ksr-static.imgix.net/l9o3ber7-grid_dark_green_pattern_overlays_20190901.png?ixlib=rb-2.1.0&auto=compress%2Cformat&w=1000&fit=min&s=fff84ee3a653f0c199d88da38a01bad4"},{name:"bg5",color:"#464646",file:"https://ksr-static.imgix.net/v0js8b2e-dot_line_white_pattern_overlays_20190901.png?ixlib=rb-2.1.0&auto=compress%2Cformat&w=1000&fit=min&s=19fd520663295a5625535b99b3b8ba2f"}],p=[["#33ad7e","#00664b","#003322"],["#5555FF","#3B3BCC","#00007D"],["#cccccc","#999999","#848484"],["#c7f5df","#73e5ae","#00b771"],["#919191","#666666","#191919"]],h=i.e().value(e=>e.value).sort(null),f=i.e().value(e=>e.value).sort(null).value(e=>e.value),g=i.a().innerRadius(50*.699).outerRadius(43.8).padAngle(u).padRadius(42.5),b=i.a().innerRadius(46.2).outerRadius(50).padAngle(u).padRadius(42.5);function _(e){const t=i.d({startAngle:0,endAngle:0},e);return e=>String(g(t(e)))}function v(e){const t=i.d({startAngle:e.data.parentAngle,endAngle:e.data.parentAngle},Object(a.a)({},e,{startAngle:e.startAngle+(e.data.startingAngle?0:-u/2),endAngle:e.endAngle+(e.data.endingAngle?0:u/2)}));return e=>String(b(t(e)))}const k=e=>{let t=e.size,n=void 0===t?150:t,s=e.categoryData,d=e.hoverChoice,u=e.hoverChoiceValue,g=e.displayValues,b=e.currencySymbol;const k=Object(r.useRef)(null);return Object(r.useEffect)(()=>{const e=s.reduce((e,t)=>e.concat(t.values.map((e,t)=>Object(a.a)({},e,{index:t}))),[]),t=h(s),r=e.map(e=>Object(a.a)({},e,{parentAngle:t[e.categoryNum].endAngle}));let o=-1;for(let e=0;e<r.length;e+=1)e===r.length-1&&(r[e].endingAngle=!0),r[e].categoryNum!==o&&(r[e].startingAngle=!0,o=r[e].categoryNum,r[e-1]&&(r[e-1].endingAngle=!0));const c=f(r),l=i.f(k.current).append("g").attr("transform","translate(".concat(n/2,", ").concat(n/2,") scale(").concat(n/100,", ").concat(n/100,")")),d=l.append("defs");for(const e of m)d.append("pattern").attr("id",e.name).attr("width",1).attr("height",1).attr("patternUnits","objectBoundingBox").append("image").attr("class","bgimage").attr("x",0).attr("y",0).attr("width",100/n*400).attr("height",100/n*400).attr("href",e.file);l.selectAll("path.innerArc").data(t).join(e=>e.append("path").attr("class",(e,t)=>"innerArc innerArc".concat(t)).attr("fill",e=>{let t=e.data;return m[t.categoryNum].color}).style("opacity",1).style("transition","opacity 100ms ease-in-out")).transition().ease(i.b).duration(1e3).attrTween("d",_),l.selectAll("innerArcTexture").data(t).join(e=>e.append("path").attr("class","innerArcTexture").attr("fill",(e,t)=>"url(#".concat(m[t].name,")"))).transition().ease(i.b).duration(1e3).attrTween("d",_),l.selectAll("path.outerArc").data(c).join(e=>e.append("path").attr("class","outerArc").attr("fill",(e,t)=>{let n=e.data;return p[n.categoryNum][n.index%p[n.categoryNum].length]}).style("opacity",1).style("transition","opacity 70ms ease-in-out")).transition().delay(700).ease(i.c).duration(1e3).attrTween("d",v);if(u){const t=e.reduce((e,t)=>e+t.value,0),a=l.append("text").attr("text-anchor","middle").attr("x",-1).attr("y",3).attr("width",n).attr("height",n).attr("font-size",8).style("opacity",0).text("".concat(b).concat(t)),i=a.node();i&&a.attr("font-size",Math.min(8,52/i.getComputedTextLength()*8)),g&&a.style("opacity",1)}},[]),Object(r.useEffect)(()=>{const e=i.f(k.current);e.selectAll("path").style("opacity",e=>{let t=e.data;return t.phase!==d&&t.rowNum!==d&&d?.1:1}),u?g&&b?e.select("text").text("".concat(b).concat(c.a.money(u,l(b)))):e.select("text").text("".concat(u,"%")):e.select("text").text("")},[d,g]),o.a.createElement("svg",{width:n,height:n,viewBox:"0 0 ".concat(n," ").concat(n),preserveAspectRatio:"xMinYMid",ref:k})}},a1zH:function(e,t,n){var a=n("y4QH"),i=n("MMiu"),r=n("t2dP"),o=n("EldB"),s=n("5sOR"),c=n("V9aw"),l=n("pzgU"),d=n("6KkN"),u=n("Kz5y"),m=1,p=2,h=8,f=16,g=128,b=512;e.exports=function e(t,n,_,v,k,y,j,E,w,S){var O=n&g,C=n&m,N=n&p,x=n&(h|f),T=n&b,I=N?void 0:o(t);return function m(){for(var p=arguments.length,h=Array(p),f=p;f--;)h[f]=arguments[f];if(x)var g=c(m),b=r(h,g);if(v&&(h=a(h,v,k,x)),y&&(h=i(h,y,j,x)),p-=b,x&&p<S){var D=d(h,g);return s(t,n,e,m.placeholder,_,h,D,E,w,S-p)}var P=C?_:this,A=N?P[t]:t;return p=h.length,E?h=l(h,E):T&&p>1&&h.reverse(),O&&w<p&&(h.length=w),this&&this!==u&&this instanceof m&&(A=I||o(A)),A.apply(P,h)}}},a5q3:function(e,t,n){var a=n("Of+w"),i=a&&new a;e.exports=i},a8OY:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var a=n("egyr"),i=n("mv45"),r=n("q1tI");const o=()=>r.createElement("div",{className:"text-center py6"},r.createElement(a.a,{size:"large"})),s=e=>t=>Object(i.h)(t)?r.createElement(o,null):r.createElement(e,t)},a9CO:function(e,t,n){"use strict";var a=n("KKf6"),i=n("+2Rf");n("+2Rf");i.browser=a.a},aNAf:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("o3IG");function i(){return Object(a.b)("ios_mp_distinct_id")||Object(a.b)("vis")||Object(a.c)("vis",[Math.floor(1e20*Math.random()).toString(16).slice(0,16),Math.floor(1e20*Math.random()).toString(16).slice(0,16),Math.floor(1e20*Math.random()).toString(16).slice(0,16)].join("-")+"v1",new Date(2025,12,31),"/")}},aYzK:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a=n("9S5P").FetchProjectSignalAndWatchStatus},aaNh:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("2DJ9"),i=n("T8n5"),r=n("3ZBc"),o=n("q1tI"),s=n.n(o);const c=e=>{let t=e.isWatched,n=e.watchCopy,o=e.onClick;return s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:"hide-lg",onClick:o},s.a.createElement("div",{className:"flex justify-start items-center px2 min-w20 border-box radius4px border border1px border-".concat(t?"celebrate-500":"support-300"),style:{height:"40px"}},s.a.createElement(a.a,{name:"icon--bookmark-outline",size:"medium",atoms:["fill-".concat(t?"celebrate-500":"support-500")]}),s.a.createElement(i.a,{type:"body-100",color:t?"celebrate-500":"soft-black",atoms:["m0","pl2"],style:{fontFamily:'"Maison Neue Book", "Helvetica Neue", Helvetica, Arial, sans-serif'}},n))),s.a.createElement("div",{className:"hide block-lg mb1"},s.a.createElement(r.a,{hasShadow:!0,interaction:"watch",isActive:t,onClick:o,tooltipLabel:n})))}},aiSh:function(e,t,n){"use strict";var a=n("q5Sr"),i=n("prSB"),r=n("K/JX"),o=n("dMq0"),s=n("1jQf"),c=n("I71+"),l=n("4Tsn"),d=n("lTCR"),u=n.n(d),m=n("n+nq");const p={__schema:{queryType:{name:"Query"},mutationType:{name:"Mutation"},subscriptionType:null,types:[{kind:"INTERFACE",name:"Node",description:"An object with an ID.",fields:[{name:"id",description:"ID of the object.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"ID",ofType:null}},isDeprecated:!1,deprecationReason:null}],inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"Backing",ofType:null},{kind:"OBJECT",name:"Reward",ofType:null},{kind:"OBJECT",name:"Photo",ofType:null},{kind:"OBJECT",name:"RewardItem",ofType:null},{kind:"OBJECT",name:"Project",ofType:null},{kind:"OBJECT",name:"Comment",ofType:null},{kind:"OBJECT",name:"User",ofType:null},{kind:"OBJECT",name:"Address",ofType:null},{kind:"OBJECT",name:"Conversation",ofType:null},{kind:"OBJECT",name:"Message",ofType:null},{kind:"OBJECT",name:"CuratedPage",ofType:null},{kind:"OBJECT",name:"Location",ofType:null},{kind:"OBJECT",name:"Organization",ofType:null},{kind:"OBJECT",name:"PushProject",ofType:null},{kind:"OBJECT",name:"AttachedAudio",ofType:null},{kind:"OBJECT",name:"AttachedVideo",ofType:null},{kind:"OBJECT",name:"UserUrl",ofType:null},{kind:"OBJECT",name:"Category",ofType:null},{kind:"OBJECT",name:"ProjectFeaturedImage",ofType:null},{kind:"OBJECT",name:"Flagging",ofType:null},{kind:"OBJECT",name:"Video",ofType:null},{kind:"OBJECT",name:"VideoTrack",ofType:null},{kind:"OBJECT",name:"VideoTrackCue",ofType:null},{kind:"OBJECT",name:"ProjectProfile",ofType:null},{kind:"OBJECT",name:"Tag",ofType:null},{kind:"OBJECT",name:"CreatorInterview",ofType:null},{kind:"OBJECT",name:"InterviewAnswer",ofType:null},{kind:"OBJECT",name:"InterviewQuestion",ofType:null},{kind:"OBJECT",name:"CreatorPrompt",ofType:null},{kind:"OBJECT",name:"FreeformPost",ofType:null},{kind:"OBJECT",name:"ShippingRule",ofType:null},{kind:"OBJECT",name:"Checkout",ofType:null},{kind:"OBJECT",name:"Survey",ofType:null}]},{kind:"INTERFACE",name:"Commentable",description:"Something that can be commented on",fields:[{name:"canComment",description:"True if the current user can comment",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Boolean",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"canUserRequestUpdate",description:"Whether a user can request an update about this project from the Creator",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Boolean",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"comments",description:"List of comments on the commentable",args:[{name:"after",description:"Returns the elements in the list that come after the specified cursor.",type:{kind:"SCALAR",name:"String",ofType:null},defaultValue:null},{name:"before",description:"Returns the elements in the list that come before the specified cursor.",type:{kind:"SCALAR",name:"String",ofType:null},defaultValue:null},{name:"first",description:"Returns the first _n_ elements from the list.",type:{kind:"SCALAR",name:"Int",ofType:null},defaultValue:null},{name:"last",description:"Returns the last _n_ elements from the list.",type:{kind:"SCALAR",name:"Int",ofType:null},defaultValue:null}],type:{kind:"OBJECT",name:"CommentConnection",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"commentsCount",description:"Comment count - defaults to root level comments only",args:[{name:"withReplies",description:"",type:{kind:"SCALAR",name:"Boolean",ofType:null},defaultValue:"false"}],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Int",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"projectRelayId",description:"The root project id under which the comment is nested",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"ID",ofType:null}},isDeprecated:!1,deprecationReason:null}],inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"Project",ofType:null},{kind:"OBJECT",name:"CreatorInterview",ofType:null},{kind:"OBJECT",name:"FreeformPost",ofType:null}]},{kind:"UNION",name:"AttachedMedia",description:"Attached Media",fields:null,inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"AttachedAudio",ofType:null},{kind:"OBJECT",name:"AttachedVideo",ofType:null},{kind:"OBJECT",name:"Photo",ofType:null}]},{kind:"UNION",name:"FlaggableContent",description:"Types that can be reported by users",fields:null,inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"Message",ofType:null},{kind:"OBJECT",name:"Project",ofType:null}]},{kind:"INTERFACE",name:"Postable",description:"Something that can be posted",fields:[{name:"actions",description:"Actions you can currently perform",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"OBJECT",name:"PostActions",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"author",description:"The author of the project update.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"OBJECT",name:"User",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"authorRole",description:"The author role of the project update.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"ENUM",name:"PostAuthorRole",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"createdAt",description:"The date the project update was created.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"DateTime",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"excludedRewards",description:"All rewards belonging to a post that were specifically marked by a creator to\nbe excluded from receiving a post notification. This does not, however,\ninclude the no reward tier.",args:[{name:"after",description:"Returns the elements in the list that come after the specified cursor.",type:{kind:"SCALAR",name:"String",ofType:null},defaultValue:null},{name:"before",description:"Returns the elements in the list that come before the specified cursor.",type:{kind:"SCALAR",name:"String",ofType:null},defaultValue:null},{name:"first",description:"Returns the first _n_ elements from the list.",type:{kind:"SCALAR",name:"Int",ofType:null},defaultValue:null},{name:"last",description:"Returns the last _n_ elements from the list.",type:{kind:"SCALAR",name:"Int",ofType:null},defaultValue:null}],type:{kind:"OBJECT",name:"RewardConnection",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"fans",description:"Users that have liked this project update.",args:[{name:"after",description:"Returns the elements in the list that come after the specified cursor.",type:{kind:"SCALAR",name:"String",ofType:null},defaultValue:null},{name:"before",description:"Returns the elements in the list that come before the specified cursor.",type:{kind:"SCALAR",name:"String",ofType:null},defaultValue:null},{name:"first",description:"Returns the first _n_ elements from the list.",type:{kind:"SCALAR",name:"Int",ofType:null},defaultValue:null},{name:"last",description:"Returns the last _n_ elements from the list.",type:{kind:"SCALAR",name:"Int",ofType:null},defaultValue:null}],type:{kind:"OBJECT",name:"UserConnection",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"hasExcludedNoRewardTier",description:"True if creator has excluded the no reward tier from receiving a post notification.",args:[],type:{kind:"SCALAR",name:"Boolean",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"id",description:"",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"ID",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"includedRewards",description:"All rewards that were marked to recieve a post notification, excluding the no reward tier.",args:[{name:"after",description:"Returns the elements in the list that come after the specified cursor.",type:{kind:"SCALAR",name:"String",ofType:null},defaultValue:null},{name:"before",description:"Returns the elements in the list that come before the specified cursor.",type:{kind:"SCALAR",name:"String",ofType:null},defaultValue:null},{name:"first",description:"Returns the first _n_ elements from the list.",type:{kind:"SCALAR",name:"Int",ofType:null},defaultValue:null},{name:"last",description:"Returns the last _n_ elements from the list.",type:{kind:"SCALAR",name:"Int",ofType:null},defaultValue:null}],type:{kind:"OBJECT",name:"RewardConnection",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"isLiked",description:"Whether or not the current user has liked this project update.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Boolean",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"isPublic",description:"True if marked as a public public post, false if the post is backers only.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Boolean",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"isVisible",description:"True if the post's content is visible to the user.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Boolean",ofType:null}},isDeprecated:!0,deprecationReason:"Query the read field in post abilities instead."},{name:"likesCount",description:"The number of likes a post has.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Int",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"nextPost",description:"The next post.",args:[],type:{kind:"INTERFACE",name:"Postable",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"number",description:"The project update number.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Int",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"pinnedAt",description:"The date the project update was pinned.",args:[],type:{kind:"SCALAR",name:"DateTime",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"previousPost",description:"The previous post.",args:[],type:{kind:"INTERFACE",name:"Postable",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"project",description:"Project that belongs to post.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"OBJECT",name:"Project",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"publishedAt",description:"The date the project update was published.",args:[],type:{kind:"SCALAR",name:"DateTime",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"timeLeftToEdit",description:"How much time a creator or collaborator has left to edit the post.",args:[],type:{kind:"SCALAR",name:"String",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"title",description:"The project update's title.",args:[],type:{kind:"SCALAR",name:"String",ofType:null},isDeprecated:!1,deprecationReason:null},{name:"type",description:"The post type.",args:[],type:{kind:"NON_NULL",name:null,ofType:{kind:"ENUM",name:"Post",ofType:null}},isDeprecated:!1,deprecationReason:null},{name:"updatedAt",description:"The date the project update was last edited.",args:[],type:{kind:"SCALAR",name:"DateTime",ofType:null},isDeprecated:!1,deprecationReason:null}],inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"CreatorInterview",ofType:null},{kind:"OBJECT",name:"FreeformPost",ofType:null}]},{kind:"UNION",name:"RichTextItem",description:"Rich text items: Paragraph, Headers, List, Quote, Photo, Audio, Video or Oembed",fields:null,inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"RichTextAudio",ofType:null},{kind:"OBJECT",name:"RichTextHeader1",ofType:null},{kind:"OBJECT",name:"RichTextHeader2",ofType:null},{kind:"OBJECT",name:"RichTextHeader3",ofType:null},{kind:"OBJECT",name:"RichTextList",ofType:null},{kind:"OBJECT",name:"RichTextOembed",ofType:null},{kind:"OBJECT",name:"RichTextParagraph",ofType:null},{kind:"OBJECT",name:"RichTextPhoto",ofType:null},{kind:"OBJECT",name:"RichTextQuote",ofType:null},{kind:"OBJECT",name:"RichTextVideo",ofType:null}]},{kind:"UNION",name:"TimelineEventData",description:"Types that can be reported by users",fields:null,inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"CreatorInterview",ofType:null},{kind:"OBJECT",name:"FreeformPost",ofType:null},{kind:"OBJECT",name:"Project",ofType:null}]},{kind:"UNION",name:"PaymentSource",description:"Payment sources",fields:null,inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"BankAccount",ofType:null},{kind:"OBJECT",name:"CreditCard",ofType:null}]},{kind:"UNION",name:"Editorial",description:"Editorial tool to create and modify content modules on discovery pages",fields:null,inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"Article",ofType:null},{kind:"OBJECT",name:"BespokeComponent",ofType:null},{kind:"OBJECT",name:"EditorialRichText",ofType:null},{kind:"OBJECT",name:"ExploreSubcategories",ofType:null},{kind:"OBJECT",name:"FeaturedProjectCollection",ofType:null},{kind:"OBJECT",name:"Header",ofType:null},{kind:"OBJECT",name:"MastheadImage",ofType:null},{kind:"OBJECT",name:"NewsCollection",ofType:null},{kind:"OBJECT",name:"NewsletterSignUp",ofType:null},{kind:"OBJECT",name:"ProjectCollection",ofType:null},{kind:"OBJECT",name:"PromoCollection",ofType:null},{kind:"OBJECT",name:"ShortText",ofType:null},{kind:"OBJECT",name:"SingleProjectContainer",ofType:null}]},{kind:"UNION",name:"Attachable",description:"An object that can be associated with uploaded assets",fields:null,inputFields:null,interfaces:null,enumValues:null,possibleTypes:[{kind:"OBJECT",name:"FreeformPost",ofType:null},{kind:"OBJECT",name:"InterviewAnswer",ofType:null},{kind:"OBJECT",name:"Project",ofType:null},{kind:"OBJECT",name:"Survey",ofType:null}]}],directives:[{name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],args:[{name:"if",description:"Skipped when true.",type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Boolean",ofType:null}},defaultValue:null}]},{name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],args:[{name:"if",description:"Included when true.",type:{kind:"NON_NULL",name:null,ofType:{kind:"SCALAR",name:"Boolean",ofType:null}},defaultValue:null}]},{name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:["FIELD_DEFINITION","ENUM_VALUE"],args:[{name:"reason",description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted in [Markdown](https://daringfireball.net/projects/markdown/).",type:{kind:"SCALAR",name:"String",ofType:null},defaultValue:'"No longer supported"'}]}]}};function h(){const e=Object(a.a)(["\n  query {\n    me {\n      id\n    }\n  }\n"]);return h=function(){return e},e}n.d(t,"a",function(){return f}),n.d(t,"b",function(){return g});const f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;const n=new c.a({uri:"/graph",credentials:"same-origin",headers:{"X-CSRF-Token":Object(m.b)(document)},batchMax:t}),a=Object(l.a)(t=>{let n=t.graphQLErrors,a=t.networkError;Array.isArray(n)&&n.forEach(t=>{const n=new Error(t.message);e(n,"GraphQL Error")}),void 0!==a&&console.error("GraphQL Network Error:",a)}),d=new s.a((e,t)=>{const n=e.getContext(),a=n.headers,r=void 0===a?{}:a,o=n.projectShareToken;return o&&e.setContext({headers:Object(i.a)({},r,{"Project-Share-Token":o})}),t?t(e):null}),u=new r.b({introspectionQueryResultData:p});return new o.a({link:s.a.from([a,d,n]),cache:new r.a({fragmentMatcher:u}),queryDeduplication:!0,connectToDevTools:!1})},g=((e,t)=>{const n=new s.a(()=>null),a=new r.a;return a.writeQuery({query:e,data:t}),new o.a({link:n,cache:a})})(u()(h()),{me:{__typename:"User",id:"123"}})},arGM:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"e",function(){return m}),n.d(t,"d",function(){return p}),n.d(t,"b",function(){return h});var a=n("prSB"),i=n("eEls"),r=n("g84z"),o=n("z0kN");const s=e=>Object.keys(e).filter(t=>null!==e[t]&&void 0!==e[t]).map(t=>[t,e[t]].map(encodeURIComponent).join("=")).sort().join("&"),c=Object(i.a)(Object(o.a)("?"),s),l=e=>e.toLowerCase().replace(/\//,"-").replace(/[^a-zA-Z0-9\s-_]/g,"").replace(/[\s|_]/g,"-").replace(/--+/g,"-").replace(/-$/,""),d=e=>(t,n)=>p(t,{ref:e},n),u=e=>{let t=e.ref,n=e.truncate,a=void 0!==n&&n,i=e.clean,r=void 0!==i&&i;return Array.isArray(t)?(a&&t.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return e.substring(0,t-1).replace(/\-$/,"")}(t.pop())),t=t.join("-")):u({ref:[t],truncate:a,clean:r}),d(r?l(t):t)},m=e=>e.split("?")[0],p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=e||"";const o=Object(r.a)(e),c=Object(a.a)({},o,{},t);return[[i.noBaseEncode?m(e):encodeURI(m(e)),s(c)].filter(Boolean).join("?"),n?encodeURI(n):null].filter(Boolean).join("#")},h=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return[e,t+1,n].filter(Boolean).join("-")}},atWj:function(e,t,n){"use strict";let a,i,r;n.d(t,"a",function(){return i}),n.d(t,"f",function(){return r}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return d}),function(e){e.DELETED="DELETED",e.MISSING="MISSING",e.PROCESSING="PROCESSING",e.SUCCESSFUL="SUCCESSFUL"}(a||(a={})),function(e){e.ENCODED="ENCODED",e.ENCODING="ENCODING",e.FAILED="FAILED"}(i||(i={})),function(e){e.ASSET_VIDEO="ASSET_VIDEO",e.AUDIO="AUDIO",e.PHOTO="PHOTO",e.SMALLER_VIDEO="SMALLER_VIDEO",e.SOUND="SOUND",e.VIDEO="VIDEO"}(r||(r={}));const o=n("3soH"),s=o.AttachedAsset,c=o.CreateAsset,l=o.DeleteAsset,d=o.UploadLimit},b8Ld:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n("lHf8"),i=n("2DJ9"),r=n("RBqt"),o=n("94td"),s=n("/IHD"),c=n("q1tI"),l=n("1uWx");const d=e=>{let t=e.isActive,n=void 0!==t&&t,d=e.onMouseDown,u=e.label,m=e.toolTip,p=e.icon,h=e.toolId,f=e.headerDropdownEnabled;const g="h9 w100p flex justify-start",b=Object(s.a)("hover-item-fill-ksr-green-500",n&&"fill-ksr-green-500"),_=Object(s.a)("flex bold px2 py3 hover-target hover-ksr-green-500",n&&"fill-ksr-green-500");if(h===l.h.id||h===l.d.id||h===l.f.id||h===l.p.id||h===l.n.id){const e={[l.h.id]:f?{label:"rich_editor.Header_1",atoms:g,typefont:void 0,spanAtoms:["type-24"]}:{label:"rich_editor.Headline",atoms:Object(s.a)("bold hover-target p2 py1-md keyboard-focusable keyboard-focusable-ksr-green-700",n?"bg-grey-300 ksr-green-700":"soft-black"),typefont:"body-100",spanAtoms:["hover-item-ksr-green-500"]},[l.d.id]:{label:"rich_editor.Header_2",atoms:g,typefont:void 0,spanAtoms:["type-21"]},[l.f.id]:{label:"rich_editor.Header_3",atoms:g,typefont:void 0,spanAtoms:["type-18"]},[l.p.id]:{label:"rich_editor.Block_quote",atoms:g,typefont:"subhead-200",spanAtoms:["type-18-md","border-left","border-left3px","border-create-500","pl2"]},[l.n.id]:{label:"rich_editor.Normal_text",atoms:"".concat(g," create-700"),typefont:"body-100",spanAtoms:[""]}}[h];return c.createElement("button",{type:"button",className:e.atoms,onMouseDown:d},c.createElement(r.a,{atoms:e.spanAtoms,type:e.typefont},Object(o.b)(e.label)))}return c.createElement("span",{className:"ksr-tooltip","data-tooltip":m},c.createElement(a.a,{color:"black",atoms:[_],onMouseDown:d,type:"button"},u||c.createElement(i.a,{atoms:[b],label:m,name:p,size:"medium"})))}},bYgN:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("WiXe");i()(document).ready(function(){i()(".sortable_table").tablesorter({textExtraction:function(e){var t;return void 0!==(t=i()(e).closest("td").data("table-value"))?t:e.innerHTML.replace(/[,?!\s,%$]/g,"")}})})},bbO9:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("0VSk");i()(function(){if("undefined"==typeof ga)return;var e;ga("set","customTask",(e=[{name:"EMAIL",regex:/.{4}@.{4}/g}],function(t){window._ga_originalSendHitTask=window._ga_originalSendHitTask||t.get("sendHitTask"),t.set("sendHitTask",function(t){var n=t,a=window._ga_originalSendHitTask;try{if(void 0!==e&&e.length){for(var i=t.get("hitPayload").split("&"),r=0;r<i.length;r++){var o,s=i[r].split("=");try{o=decodeURIComponent(decodeURIComponent(s[1]))}catch(e){o=decodeURIComponent(s[1])}e.forEach(function(e){o=o.replace(e.regex,"[REDACTED "+e.name+"]")}),s[1]=encodeURIComponent(o),i[r]=s.join("=")}t.set("hitPayload",i.join("&"),!0)}a(t)}catch(e){a(n)}})})),ga("create",analytics_vars.google_analytics_id,"auto");let t=null,n=null,a=null,i=!1,o=!1,s=null;try{void 0!==window.current_project&&(t=window.current_project.data.category.parent_name,n=window.current_project.data.category.name,a=window.current_project.data.state,s=window.current_project.data.id,"true"===analytics_vars.logged_in&&(i=window.current_project.data.is_backing)),void 0!==window.current_user&&(o=window.current_user.data.is_superbacker)}catch(e){}var c={dimension1:t,dimension2:analytics_vars.logged_in,dimension3:analytics_vars.social_user,dimension4:a,dimension5:r.default.browser_language,dimension6:r.default.chosen_language,dimension7:r.default.calculated_language,dimension8:r.default.display_language,dimension10:i?i.toString():"false",dimension11:o?o.toString():"false",dimension12:s,dimension13:n};if(ga("set",c),"undefined"==typeof ga_pageview_sent){window.ga_pageview_sent=!0;try{ga("send","pageview")}catch(e){}}})},be4H:function(e,t,n){var a=n("6T1N"),i=n("xs/l"),r=i(function(e,t){return a(e,256,void 0,void 0,void 0,t)});e.exports=r},bvYH:function(e,t,n){"use strict";var a=n("prSB"),i=n("v83y"),r=n("JPcv"),o=n("94td"),s=n("gN63"),c=n("0fse"),l=n("ijK7");const d=(e,t)=>n=>{const i=Object(a.a)({id:e,attachableAssoc:t},n);return Object(s.c)("\n  mutation($input: CreateAssetInput!) {\n    upload: createAsset(input: $input) {\n      image: asset {\n        ... on Photo {\n          id\n        }\n      }\n    }\n  }\n",{input:i})},u=e=>t=>{const n={attachable_id:e,asset_id:t};return Object(s.c)("\n  mutation($input: DeleteAssetInput!) {\n    deleteAsset(input: $input) {\n      clientMutationId\n    }\n  }\n",{input:n})};var m=n("/Jws");const p=(e,t)=>{const n=e.getCurrentContent(),a=e.getSelection(),o=i.Modifier.removeRange(n,a,"backward"),s=o.getSelectionAfter(),c=i.Modifier.splitBlock(o,s),l=c.getSelectionAfter(),d=i.Modifier.setBlockType(c,l,"atomic"),u=[new i.ContentBlock({key:Object(i.genKey)(),type:"atomic",text:" ",characterList:Object(r.List)(),data:Object(r.Map)(t)}),new i.ContentBlock({key:Object(i.genKey)(),type:"unstyled",text:"",characterList:Object(r.List)()})],m=i.BlockMapBuilder.createFromArray(u),p=i.Modifier.replaceWithFragment(d,l,m),h=p.merge({selectionBefore:a,selectionAfter:p.getSelectionAfter()});return i.EditorState.push(e,h,"insert-fragment")};var h=n("L+5T"),f=n("kKlT");n.d(t,"a",function(){return g}),n.d(t,"b",function(){return _}),n.d(t,"k",function(){return v}),n.d(t,"d",function(){return k}),n.d(t,"e",function(){return w}),n.d(t,"f",function(){return S}),n.d(t,"g",function(){return O}),n.d(t,"h",function(){return C}),n.d(t,"i",function(){return N}),n.d(t,"j",function(){return x}),n.d(t,"l",function(){return T}),n.d(t,"m",function(){return I}),n.d(t,"n",function(){return D}),n.d(t,"o",function(){return P}),n.d(t,"q",function(){return A}),n.d(t,"r",function(){return R}),n.d(t,"s",function(){return F}),n.d(t,"t",function(){return L}),n.d(t,"p",function(){return M}),n.d(t,"u",function(){return U}),n.d(t,"c",function(){return V});const g=e=>({type:"CLOSE_IMAGE_MODAL",isDirty:e}),b=()=>({type:"CLOSE_IMAGE_SAFELY"}),_=()=>({type:"CLOSE_REMOVE_ASSET_MODAL"}),v=()=>({type:"SHOW_LOADER"}),k=()=>({type:"HIDE_LOADER"}),y=(e,t)=>({type:"IMAGE_UPLOAD_SUCCESS",id:e,src:t}),j=()=>({type:"IMAGE_UPLOAD_DELETE"}),E=()=>({type:"NOOP"}),w=()=>({type:"OPEN_CREATE_IMAGE_MODAL"}),S=e=>({type:"OPEN_EDIT_IMAGE_MODAL",block:e}),O=e=>({type:"OPEN_EDIT_REWARD_MODAL",block:e}),C=e=>({type:"OPEN_REMOVE_ASSET_MODAL",block:e}),N=()=>({type:"REMOVE_ASSET"}),x=()=>({type:"REMOVE_LINK"}),T=(e,t)=>({type:"SUBMIT_EMBED",response:e,embedUrl:t}),I=e=>({type:"SUBMIT_EMBED_REWARD",reward:e}),D=()=>({type:"SUBMIT_IMAGE"}),P=(e,t)=>({type:"SUBMIT_LINK",linkUrl:e,linkText:t}),A=e=>({type:"UPDATE_EDITOR_STATE",newEditorState:e}),R=e=>({type:"UPDATE_IMAGE_ALT_TEXT",altText:e}),F=e=>({type:"UPDATE_IMAGE_CAPTION",caption:e}),L=e=>({type:"UPDATE_IMAGE_CLICKTHROUGH",url:e}),M=(e,t)=>({type:"SUBMIT_VIDEO_UPLOAD",assetId:e,assetHtml:t}),U=(e,t)=>({type:"UPDATE_LINK_VALUES",linkText:e,linkUrl:t}),B=()=>new Promise((e,t)=>{q()?e():t()}),q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Are you sure you want to discard your changes?";return window.confirm(e)},$=(e,t,n)=>u(e)(Object(s.b)(n,t)).then(E),H=e=>"IMAGE"===e?"Photo":"AUDIO"===e?"AttachedAudio":"VIDEO"===e?"AttachedVideo":null,V=Object(c.b)({story:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(h.b)({}),t=arguments.length>1?arguments[1]:void 0;const n=e.editorState.getSelection();switch(t.type){case"SET_CURRENT_MODAL":return Object(a.a)({},e,{currentModal:t.currentModal});case"UPDATE_LINK_VALUES":return Object(a.a)({},e,{linkText:t.linkText,linkUrl:t.linkUrl||null});case"CLOSE_IMAGE_MODAL":return t.isDirty?Object(c.f)(e,c.a.run(B,{successActionCreator:b,failActionCreator:E})):Object(c.f)(e,c.a.action({type:"CLOSE_IMAGE_SAFELY"}));case"CLOSE_IMAGE_SAFELY":return Object(c.f)(Object(a.a)({},e,{errors:"",key:e.key+1,imageAltText:"",imageCaption:"",imageId:null,imageSrc:null,imageUrl:"",currentModal:null,subjectBlock:null}),c.a.action(m.a.actions.uploadReset()));case"CLOSE_REMOVE_ASSET_MODAL":return Object(a.a)({},e,{currentModal:null,subjectBlock:null});case"SHOW_LOADER":return Object(a.a)({},e,{showLoader:!0});case"HIDE_LOADER":return Object(a.a)({},e,{showLoader:!1});case"IMAGE_UPLOAD_DELETE":return Object(a.a)({},e,{imageId:null,imageSrc:null});case"IMAGE_UPLOAD_SUCCESS":return Object(a.a)({},e,{imageId:Object(s.a)(t.id),imageSrc:t.src});case"OPEN_CREATE_IMAGE_MODAL":return Object(c.f)(e,c.a.action(m.a.actions.imageUploaderInitialize(d(e.attachableId,e.attachableAssoc),u(e.attachableId),y,j)));case"OPEN_EDIT_IMAGE_MODAL":const h=t.block.getData().get("alt")||"",g=t.block.getData().get("caption")||"",_=t.block.getData().get("href");return Object(a.a)({},e,{currentModal:"IMAGE",imageAltText:h,imageCaption:g,imageUrl:_||"",subjectBlock:t.block});case"OPEN_EDIT_REWARD_MODAL":return Object(a.a)({},e,{curentModal:"REWARD",subjectBlock:t.block});case"OPEN_REMOVE_ASSET_MODAL":return Object(a.a)({},e,{currentModal:"REMOVE_ASSET",subjectBlock:t.block});case"REMOVE_ASSET":if(!e.subjectBlock)return e;const v=e.editorState.getCurrentContent(),k=e.subjectBlock.getKey(),w=e.subjectBlock.getData().get("id"),S=i.SelectionState.createEmpty(k).merge({anchorKey:v.getKeyBefore(k),anchorOffset:v.getBlockForKey(v.getKeyBefore(k)).getLength(),focusOffset:e.subjectBlock.getLength()}),O=i.EditorState.push(e.editorState,i.Modifier.removeRange(v,S,"backward"),"remove-range"),C=H(e.subjectBlock.getData().get("type"));return Object(c.f)(Object(a.a)({},e,{editorState:O,key:e.key+1,currentModal:null,subjectBlock:null}),C?c.a.run($,{args:[e.attachableId,w,C]}):c.a.none);case"REMOVE_LINK":const N=Object(l.d)(e.editorState,"LINK");if(0===N.length)return e;const x=N[0],T=new i.SelectionState({anchorKey:x.blockKey,anchorOffset:x.start,focusKey:x.blockKey,focusOffset:x.end}),I=i.RichUtils.toggleLink(e.editorState,T,null);return Object(a.a)({},e,{editorState:I,showRemoveLink:!1});case"SUBMIT_EMBED":{const n=p(e.editorState,{href:t.embedUrl,rawHtml:t.response,type:"OEMBED"});return Object(a.a)({},e,{editorState:n,key:e.key+1})}case"SUBMIT_EMBED_REWARD":{let n;return n=e.subjectBlock?i.EditorState.set(e.editorState,{currentContent:i.Modifier.mergeBlockData(e.editorState.getCurrentContent(),i.SelectionState.createEmpty(e.subjectBlock.getKey()),Object(r.Map)({reward:t.reward}))}):p(e.editorState,{reward:t.reward,type:"REWARD"}),Object(a.a)({},e,{editorState:n,key:e.key+1})}case"SUBMIT_IMAGE":{if(e.imageUrl&&!Object(f.d)(Object(f.a)(e.imageUrl)))return Object(a.a)({},e,{errors:Object(o.b)("rich_editor.Please_enter_a_valid_URL")});let t;return t=e.subjectBlock?i.EditorState.set(e.editorState,{currentContent:i.Modifier.mergeBlockData(e.editorState.getCurrentContent(),i.SelectionState.createEmpty(e.subjectBlock.getKey()),Object(r.Map)({alt:e.imageAltText,caption:e.imageCaption,href:e.imageUrl}))}):p(e.editorState,{alt:e.imageAltText,caption:e.imageCaption,href:e.imageUrl,id:e.imageId,src:e.imageSrc,type:"IMAGE"}),Object(c.f)(Object(a.a)({},e,{editorState:t,key:e.key+1,imageAltText:"",imageCaption:"",imageId:null,imageSrc:null,imageUrl:"",currentModal:null,subjectBlock:null}),c.a.action(m.a.actions.uploadReset()))}case"SUBMIT_LINK":const D=Object(f.a)(t.linkUrl),P=Object(l.d)(e.editorState,"LINK")[0],A=e.editorState.getCurrentContent();if(P){const r=A.mergeEntityData(P.entityKey,{url:D}),o=new i.SelectionState({anchorKey:P.blockKey,anchorOffset:P.start,focusKey:P.blockKey,focusOffset:P.end}),s=i.Modifier.replaceText(r,o,t.linkText,void 0,P.entityKey),c=i.EditorState.forceSelection(i.EditorState.push(e.editorState,s,"apply-entity"),n);return Object(a.a)({},e,{editorState:c,errors:"",key:e.key+1,linkText:"",linkUrl:"",currentModal:null})}{const r=A.createEntity("LINK","MUTABLE",{url:D,target:"_blank"}),o=r.getLastCreatedEntityKey(),s=t.linkText||t.linkUrl,c=n.isCollapsed()?Object(l.g)(r,n,o,s):i.Modifier.replaceText(r,n,s,void 0,o),d=i.EditorState.push(e.editorState,c,"apply-entity"),u=i.RichUtils.toggleLink(d,n,o);return Object(a.a)({},e,{editorState:i.EditorState.forceSelection(u,n),errors:"",key:e.key+1,linkText:"",linkUrl:"",currentModal:null,showRemoveLink:!0})}case"UPDATE_EDITOR_STATE":return 1===Object(l.d)(t.newEditorState,"LINK").length?Object(a.a)({},e,{editorState:t.newEditorState,showRemoveLink:!0}):Object(a.a)({},e,{editorState:t.newEditorState,showRemoveLink:!1});case"UPDATE_IMAGE_ALT_TEXT":return Object(a.a)({},e,{imageAltText:t.altText});case"UPDATE_IMAGE_CAPTION":return Object(a.a)({},e,{imageCaption:t.caption});case"UPDATE_IMAGE_CLICKTHROUGH":return Object(a.a)({},e,{errors:"",imageUrl:t.url});case"SUBMIT_VIDEO_UPLOAD":{const n=p(e.editorState,{id:Object(s.a)(t.assetId),rawHtml:t.assetHtml,type:"VIDEO"});return Object(a.a)({},e,{editorState:n,key:e.key+1})}default:return e}},imageUploader:m.a.reducer})},c48Q:function(e,t,n){"use strict";var a=n("GRmu"),i=n("0VSk"),r=n("+2Rf");n("+2Rf");!function(e){function t(t){var n=t.data("status-url");n&&e.pollster(n,function(n){var r,o=t.data("track-label");return n.ok?(r=e(n.html),t.replaceWith(r),Object(a.a)({success:i.default.t("library.video_tracks_editor.Successfully_imported_label",{label:o})}),!0):!!n.error&&(r=e(n.html),t.replaceWith(r),Object(a.a)({error:i.default.t("library.video_tracks_editor.Something_went_wrong_while_importing_label",{label:o,error:n.error})}),!0)},{delay:1e3})}e.fn.videoTracksEditor=function(){var n=e(this);n.on("click",".js-add-track",function(t){var n=e(t.currentTarget),a=n.closest(".js-subtitles"),i=a.find(".js-language-select"),r=a.find(".js-track-list"),o=i.find("option:selected").val();e.ajax({method:"POST",url:n.data("create-track-path"),data:{language:o,captionable_type:n.data("captionable-type"),captionable_id:n.data("captionable-id")},dataType:"json"}).success(function(e){r.append(e.html),i.find('option[value="'+o+'"]').prop("disabled",!0),i.ksr_val(i.find("option").not("[disabled]").first().val())}),t.preventDefault()}),n.on("click",".js-captionable--destroy-track",function(t){var n=e(t.currentTarget),a=n.closest(".js-subtitles").find(".js-language-select"),r=n.data("path");t.preventDefault(),confirm(i.default.t("library.video_tracks_editor.Are_you_sure_you_want_to_delete_this_track"))&&e.ajax({method:"DELETE",url:r}).success(function(e){var t=n.data("language");e.ok&&(a.find('option[value="'+t+'"]').prop("disabled",!1),n.closest(".js-captionable--track-item").remove())})}),n.on("change",".js-importer--input",function(){var n,r=e(this),o=r.closest(".js-importer"),s=r.closest(".js-captionable--track-item"),c=o.find(".js-importer--text"),l=this.files&&this.files[0],d=new FormData;l&&(r.hide(),c.text(i.default.t("library.video_tracks_editor.Uploading")),d.append("track[file]",l),(n=e.ajax({url:r.data("url"),type:"PUT",processData:!1,contentType:!1,data:d})).success(function(n){var i;n.ok?(i=e(n.html),s.replaceWith(i),t(i)):Object(a.a)({error:n.error})}),n.error(function(){Object(a.a)({error:i.default.t("library.video_tracks_editor.Something_went_wrong_while_uploading_file",{file:l.name})}),r.show()}))}),n.find(".js-captionable--track-item").each(function(){t(e(this))})}}(r)},"c6/r":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("4LGs");const i={"&#39;":"'","&#96;":"`","&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`","&#x2F;":"/","\u2028":" ","\u2029":" "},r=e=>Object(a.a)(i,e)},c7Xp:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var a=n("prSB"),i=n("g84z");const r=()=>Object(i.a)(window.location.search).token,o=e=>{const t=e||{options:{}};return Object(a.a)({},t,{options:Object(a.a)({},t.options,{context:{projectShareToken:r()}})})}},c9hQ:function(e,t,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateUserSettings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateUserSettingInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateUserSetting"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"user"},directives:[]}]}}]}}]}}],loc:{start:0,end:172}};a.loc.source={body:'#import "./user-fragment.graphql"\n\nmutation UpdateUserSettings($input: UpdateUserSettingInput!) {\n  updateUserSetting(input: $input) {\n    user {\n      ...user\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};a.definitions=a.definitions.concat(n("iHOZ").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)}));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}a.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),r[e.name.value]=t}}),e.exports=a,e.exports.UpdateUserSettings=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,i=new Set,s=new Set;for(a.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){i.has(e)||(i.add(e),(r[e]||new Set).forEach(function(e){s.add(e)}))})}return i.forEach(function(t){var a=o(e,t);a&&n.definitions.push(a)}),n}(a,"UpdateUserSettings")},cCNM:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("94td"),o=n("GRmu"),s=n("/AD1"),c=n("gN63");var l=n("g84z");i()(function(){i()(document).on("click",".js-watch a",function(e){e.preventDefault();const t=Object(l.a)(window.location.search).token;((e,t)=>Object(c.d)("\n  mutation WatchProject($projectId: ID!) {\n    watchProject(input:{id: $projectId}) {\n      project {\n        isWatched\n        pid\n      }\n    }\n  }\n",{projectId:e},{projectShareToken:t}))(Object(c.b)("Project",s.a.data.id),t).then(e=>{if(e.errors){const t=e.errors.map(e=>e.message);throw new Error(t.join(","))}e.data&&(s.a.set("is_starred",!0),Object(o.a)({success:Object(r.b)("project_page.back_and_star.We_will_email_you")}))}).catch(e=>{Object(o.a)({error:e})})})})},cDWt:function(e,t,n){"use strict";function a(){}function i(e){if(!(this instanceof i))return new i(e);this.value=e}function r(e){if(!(this instanceof r))return new r(e);this.value=e}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r}),i.prototype=new a,r.prototype=new a,i.prototype.isSuccess=!0,i.prototype.isFailure=!1,r.prototype.isSuccess=!1,r.prototype.isFailure=!0,i.prototype.toString=function(){return"Validation.Success("+this.value+")"},r.prototype.toString=function(){return"Validation.Failure("+this.value+")"},i.prototype.concat=function(e){return e},r.prototype.concat=function(e){return e.isSuccess?this:r(this.value.concat(e.value))}},"cWj/":function(e,t,n){var a=n("OBhP"),i=n("ut/Y"),r=1;e.exports=function(e){return i("function"==typeof e?e:a(e,r))}},cgaT:function(e,t,n){"use strict";n("Q5rT"),n("M7Yo"),n("QUFf"),n("LYY6"),n("eQoz"),n("z+4m"),n("jRr9"),n("+2Rf"),n("+2Rf")},d5To:function(e,t,n){"use strict";var a=n("c7Xp"),i=n("4KRT"),r=n("q5Sr"),o=n("lTCR"),s=n.n(o);const c=25,l=3,d="creator",u="collaborator",m="superbacker",p=[d,u],h="|--:)--;)--:D--XD--|",f={REPLY_FORM_OPENED:"comments_reply_form_opened",LOAD_MORE_COMMENTS:"comments_load_more_comments_clicked",LOAD_PREVIOUS_REPLIES:"comments_load_previous_replies_clicked",LOAD_MORE_COMMENTS_TIME:"comments_load_more_comments_time",LOAD_PREVIOUS_REPLIES_TIME:"comments_load_previous_replies_time",SHOW_NEWER_COMMENTS_LOAD:"comments_show_newer_load"};function g(){const e=Object(r.a)(["\n  query($commentableId: ID!) {\n    commentable: node(id: $commentableId) {\n      commentsCount\n    }\n  }\n"]);return g=function(){return e},e}function b(){const e=Object(r.a)(["\n  query($id: ID!, $replyCursor: String) {\n    node(id: $id) {\n      ...CommentInfo\n      ...CommentReplies\n    }\n  }\n  ","\n  ","\n"]);return b=function(){return e},e}function _(){const e=Object(r.a)(['\n  query(\n    $commentableId: ID!\n    $nextCursor: String\n    $previousCursor: String\n    $replyCursor: String\n    $first: Int\n    $last: Int\n  ) {\n    commentable: node(id: $commentableId) {\n      id\n      ... on Project {\n        url\n      }\n      ... on Commentable {\n        canComment\n        commentsCount\n        projectRelayId\n        canUserRequestUpdate\n        comments(\n          first: $first\n          last: $last\n          after: $nextCursor\n          before: $previousCursor\n        ) @connection(key: "comments") {\n          edges {\n            node {\n              ...CommentInfo\n              ...CommentReplies\n            }\n          }\n          pageInfo {\n            startCursor\n            hasNextPage\n            hasPreviousPage\n            endCursor\n          }\n        }\n      }\n    }\n    me {\n      id\n      name\n      imageUrl(width: 200)\n      isKsrAdmin\n      url\n    }\n  }\n  ',"\n  ","\n"]);return _=function(){return e},e}function v(){const e=Object(r.a)(["\n    fragment CommentReplies on Comment {\n      replies(last: ",", before: $replyCursor) {\n        totalCount\n        nodes {\n          ...CommentInfo\n        }\n        pageInfo {\n          startCursor\n          hasPreviousPage\n        }\n      }\n    }\n  "]);return v=function(){return e},e}function k(){const e=Object(r.a)(["\n    fragment CommentInfo on Comment {\n      id\n      body\n      createdAt\n      parentId\n      author {\n        id\n        imageUrl(width: 200)\n        name\n        url\n      }\n      authorBadges\n      canReport\n      canDelete\n      hasFlaggings\n      deletedAuthor\n      deleted\n      authorCanceledPledge\n    }\n  "]);return k=function(){return e},e}const y={commentInfo:s()(k()),commentReplies:s()(v(),l)},j=s()(_(),y.commentInfo,y.commentReplies),E=s()(b(),y.commentInfo,y.commentReplies);s()(g());var w=n("q1tI"),S=n.n(w),O=n("qPAc");const C=S.a.createContext();class N extends S.a.Component{constructor(){super(...arguments),this.configureContext=e=>{const t=e.commentable,n=e.config;return{createTrackingEventName:n.createTrackingEventName,pollUrl:n.pollUrlFactory(t),placeholderText:n.placeholderText,submitButtonText:n.submitButtonText,showCommentsWithoutPledges:n.showCommentsWithoutPledges,isReplyingEnabled:n.isReplyingEnabled,showNonBackerMessage:n.showNonBackerMessage,hideBackground:n.hideBackground,canUserRequestUpdate:t.canUserRequestUpdate,projectRelayId:t.projectRelayId}}}render(){const e=this.props.children;return S.a.createElement(C.Provider,{value:this.configureContext(this.props)},e)}}const x=C.Consumer;var T=n("94td"),I=n("pj8f"),D=n("vXqN");var P=Object(D.a)({onComponentError:(e,t,n)=>I.Honeybadger.notify(JSON.stringify(e)+" "+JSON.stringify(t.componentStack),{context:{tags:["project_communities"].concat(n).join(",")}})});function A(){const e=Object(r.a)(["\n  mutation($commentableId: ID!, $body: String!, $parentId: ID) {\n    createComment(\n      input: { commentableId: $commentableId, body: $body, parentId: $parentId }\n    ) {\n      comment {\n        ...CommentInfo\n        replies {\n          totalCount\n          nodes {\n            ...CommentInfo\n          }\n          pageInfo {\n            startCursor\n            hasPreviousPage\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return A=function(){return e},e}var R=s()(A(),y.commentInfo),F=n("prSB"),L=n("tr1H"),M=n("gN63"),U=n("GRmu"),B=n("2UXI"),q=n("L/h+"),$=n("pTxv"),H=n("2DJ9"),V=n("mEsB");var z=e=>{let t=e.body,n=e.displayTooltip,a=void 0!==n&&n;return S.a.createElement("div",{className:"mb3 pb3 type-14 text-italic border-bottom border-grey-400 bold"},S.a.createElement("div",{className:"".concat(a&&"w90p inline-block")},'"',t,'"'),a&&S.a.createElement(V.a,{placement:"right",label:Object(T.b)("project_page.comments.This_is_a_quoted_comment")},S.a.createElement(H.a,{name:"icon--info",size:"16"})))},W=n("NxQb"),K=n("5j0V"),Y=n("uBBe");const G=e=>{let t=e.message;return S.a.createElement("p",{className:"type-12 red-500 mb0"},t)};var J=e=>{let t=e.body,n=e.onSubmit,a=e.submitDisabled,i=e.imageUrl,r=e.errors,o=void 0===r?[]:r,s=e.onChange,c=e.maxLength,l=void 0===c?9001:c,d=e.autofocus,u=void 0!==d&&d,m=e.submitButtonText,p=e.placeholderText,h=e.displayProjectUpdateRequestPrompt,f=void 0!==h&&h,g=e.projectRelayId;const b=o.length?"red-500":"soft-black",_=window.selectedText;return S.a.createElement("div",{className:"border border-".concat(b," p3 mx2 mb2 flex items-start self-stretch bg-white")},S.a.createElement(q.a,{imageUrl:i,size:6,atoms:["shrink0"]}),S.a.createElement("div",{className:"ml3 grow1"},_&&S.a.createElement(z,{body:_,displayTooltip:!0}),S.a.createElement("form",{onSubmit:n},S.a.createElement("fieldset",{className:"m0 p0"},S.a.createElement("textarea",{autoFocus:u,name:"comment_field",maxLength:l,rows:"3",className:"relative type-14 border-none no-outline mt1",value:t,onChange:s,placeholder:_?Object(T.b)("project_page.comments.Ask_a_question"):p})),Object(W.a)("project_update_requests")&&f&&S.a.createElement("div",{"data-test-id":"comment-pur-prompt"},S.a.createElement(Y.a,{projectId:g,className:"mb3",location:K.b.comment})),S.a.createElement("div",{className:"flex items-center mb1"},S.a.createElement($.c,{type:"submit",theme:"support",disabled:a},m),o.length>0&&S.a.createElement("div",null,[...new Set(o)].map((e,t)=>S.a.createElement(G,{message:e,key:t})))))))},Q=n("Puqe"),X=n.n(Q),Z=n("UfWW"),ee=n.n(Z),te=n("xk4V"),ne=n.n(te),ae=n("arGM"),ie=n("DT56"),re=n.n(ie),oe=n("yHON"),se=n.n(oe),ce=n("ECYc"),le=n("qn6j"),de=n("1OuE"),ue=n("g84z");const me=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.pathname;const n=Object(ue.a)(e),a=X()(n,"comment");return Object(ae.d)(t,a)},pe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;return Object(ae.d)("/login",{ref:"comments",then:e})},he=e=>[...e].sort((e,t)=>se()(e.node.createdAt,t.node.createdAt)),fe=(e,t)=>({__typename:"Mutation",createComment:{__typename:"PostCommentPayload",comment:{id:"".concat("temp-comment","-").concat(ne()()),body:e.body,createdAt:Math.round(Date.now()/1e3)-1,author:Object(F.a)({},t.me,{__typename:"User"}),authorBadges:[],hasFlaggings:!1,canReport:!1,deletedAuthor:!1,deleted:!1,canDelete:!1,authorCanceledPledge:!1,parentId:t.parentId||null,replies:t.parentId?null:{__typename:"CommentReplyConnection",totalCount:0,nodes:[],pageInfo:{__typename:"PageInfo",startCursor:null,hasPreviousPage:!1,endCursor:null,hasNextPage:!1}},__typename:"Comment"}}}),ge=(e,t)=>null==t?e:(e.push({__typename:"CommentEdge",cursor:null,node:t}),e),be=(e,t)=>{if(null==t)return e;const n=((e,t)=>{let n=t.parentId;return ee()(e,{id:n})})(e.map(e=>e.node),t);if(-1===n)return e;const a=e[n],i=Object(F.a)({},a,{node:Object(F.a)({},a.node,{replies:Object(F.a)({},a.node.replies,{totalCount:a.node.replies.totalCount+1,nodes:[...a.node.replies.nodes,t],pageInfo:Object(F.a)({},a.node.replies.pageInfo)})})});return[...e].map((e,t)=>t===n?i:e)},_e=e=>(t,n)=>{let a=n.fetchMoreResult;if(!a)return t;const i=e?[...t.commentable.comments.edges,...a.commentable.comments.edges]:[...a.commentable.comments.edges,...t.commentable.comments.edges],r=e?Object(F.a)({},t.commentable.comments.pageInfo,{hasNextPage:a.commentable.comments.pageInfo.hasNextPage,endCursor:a.commentable.comments.pageInfo.endCursor}):Object(F.a)({},t.commentable.comments.pageInfo,{hasPreviousPage:a.commentable.comments.pageInfo.hasPreviousPage,startCursor:a.commentable.comments.pageInfo.startCursor});return Object(F.a)({},a,{commentable:Object(F.a)({},t.commentable,{comments:Object(F.a)({},a.commentable.comments,{edges:i,pageInfo:r})})})},ve=e=>(t,n)=>{let a=n.id,i=n.replyCursor;const r=Date.now();return e.query({query:t,variables:{replyCursor:i,id:a}}).then(n=>{Object(ce.a)(le.a.TIME,f.LOAD_PREVIOUS_REPLIES_TIME,Date.now()-r);const i=n.data,o=e.readQuery({query:t,variables:{id:a,replyCursor:null}}),s=Object(F.a)({},o,{node:Object(F.a)({},o.node,{replies:Object(F.a)({},o.node.replies,{nodes:[...i.node.replies.nodes,...o.node.replies.nodes],pageInfo:Object(F.a)({},o.node.replies.pageInfo,{},i.node.replies.pageInfo)})})});e.writeQuery({query:t,variables:{id:a,replyCursor:null},data:s})}).catch(e=>{I.Honeybadger.notify(JSON.stringify(e))})},ke=e=>()=>{Object(ce.a)(le.a.INCREMENT,f.LOAD_PREVIOUS_REPLIES),e.toggleRepliesLoading(),e.onLoadMoreReplies(e.client)(e.query,{id:e.commentId,replyCursor:e.replyCursor}).then(e.toggleRepliesLoading).catch(e.toggleRepliesLoading)},ye=e=>"number"!=typeof e||e<0?null:Object(de.b)("LLL z",e);class je extends S.a.Component{constructor(e){super(e),this.state={body:"",errors:[],disabledForm:!1,displayProjectUpdateRequestPrompt:!1},this.onChange=this.onChange.bind(this),this.onSubmit=this.onSubmit.bind(this),this.onMutate=this.onMutate.bind(this),this.getMutationOptions=this.getMutationOptions.bind(this),this.lengthCheck=this.maxLengthCheck.bind(this),this.getFormattedBody=this.getFormattedBody.bind(this),this.maxLength=9001}maxLengthCheck(e){return e.length>=this.maxLength}onChange(e){const t=e.target.value;this.props.canUserRequestUpdate&&t.match(/update/i)&&this.setState({displayProjectUpdateRequestPrompt:!0}),this.lengthCheck(t)?this.setState(e=>{const t=Object(T.b)("project_page.comments.Youve_reached_maximum");return{errors:[...e.errors,t]}}):this.setState(()=>({body:t,errors:[]}))}getFormattedBody(){const e=h;return window.selectedText&&""!==window.selectedText?window.selectedText+e+this.state.body:this.state.body}getMutationOptions(){return{variables:{body:this.getFormattedBody(),commentableId:this.props.commentableId,parentId:this.props.parentId||null},context:{projectShareToken:Object(a.b)()},optimisticResponse:fe(this.state,this.props),update:(e,t)=>{let n=t.data.createComment;const a=e.readQuery({query:j,variables:{commentableId:this.props.commentableId,replyCursor:null}}),i=Object(F.a)({},a,{commentable:Object(F.a)({},a.commentable,{commentsCount:this.props.parentId?a.commentable.commentsCount:a.commentable.commentsCount+1,comments:Object(F.a)({},a.commentable.comments,{totalCount:this.props.parentId?a.commentable.comments.totalCount:a.commentable.comments.totalCount+1,edges:this.props.parentId?be(a.commentable.comments.edges,n.comment):ge(a.commentable.comments.edges,n.comment)})})});e.writeQuery({query:j,variables:{commentableId:this.props.commentableId,replyCursor:null},data:i})}}}onMutate(){return this.props.mutate(this.getMutationOptions())}onSubmit(e){if(e.preventDefault(),this.setState({disabledForm:!0}),0!==this.state.body.replace(/\s/g,"").length)return this.onMutate().then(e=>{if(window.selectedText&&""!==window.selectedText){const t=Object(M.a)(e.data.createComment.comment.id);Object(B.d)("Created Comment From Project Page Claim Popover",{comment_id:t,full_text:window.selectedText})}Object(B.d)(this.props.createTrackingEventName),window.selectedText=null,this.setState(()=>({body:"",errors:[],disabledForm:!1}),this.props.onSuccess||(()=>{}))}).catch(e=>{I.Honeybadger.notify(JSON.stringify(e),{context:{tags:L.a.PROCOMM}}),Object(U.a)({error:Object(T.b)("project_page.comments.Something_went_wrong_comment")})}).then(()=>{this.props.refetch()});this.setState(e=>{const t=Object(T.b)("project_page.comments.Comment_body_cant_be");return{errors:[...e.errors,t],disabledForm:!1}})}render(){return S.a.createElement(J,{onSubmit:this.onSubmit,imageUrl:this.props.me.imageUrl,commentableId:this.props.commentableId,submitDisabled:this.state.disabledForm,onChange:this.onChange,body:this.state.body,errors:this.state.errors,maxLength:this.maxLength,autofocus:!!this.props.parentId,placeholderText:this.props.placeholderText,submitButtonText:this.props.submitButtonText,displayProjectUpdateRequestPrompt:this.state.displayProjectUpdateRequestPrompt,projectRelayId:this.props.projectRelayId})}}je.defaultProps={refetch:()=>new Promise(e=>e())};var Ee=je;var we=e=>S.a.createElement(x,null,t=>{let n=t.createTrackingEventName,a=t.placeholderText,i=t.submitButtonText,r=t.projectRelayId,o=t.canUserRequestUpdate;return S.a.createElement(Ee,Object.assign({},e,{placeholderText:a,submitButtonText:i,createTrackingEventName:n,projectRelayId:r,canUserRequestUpdate:o}))}),Se=Object(i.c)(R)(we,Object(a.a)());const Oe=e=>{let t=e.ctaText;return S.a.createElement("a",{className:"bold soft-black",href:pe()},t)};var Ce=e=>{return e.loggedIn?S.a.createElement("p",{className:"text-center bg-grey-200 p2 type-14"},Object(T.b)("project_page.comments.Only_backers")):S.a.createElement(T.a,{i18nKey:"project_page.comments.Only_backers_login",loginLink:S.a.createElement(Oe,{ctaText:Object(T.b)("project_page.comments.Log_in")}),i18nTag:"p",atoms:["text-center","bg-grey-200","p2","type-14"]})};var Ne=e=>{let t=e.me,n=e.commentableId,a=e.userCanComment,i=e.showNonBackerMessage;const r=(e=>e&&0!==Object.keys(e).length)(t);return a?S.a.createElement("div",{className:"mb2"},S.a.createElement(P,null,S.a.createElement(Se,{commentableId:n,me:t}))):S.a.createElement(S.a.Fragment,null,i&&S.a.createElement(P,null,S.a.createElement(Ce,{loggedIn:r})),!i&&!r&&S.a.createElement("div",{className:"text-center bg-grey-200 p2 type-14"},S.a.createElement(Oe,{ctaText:Object(T.b)("project_page.comments.Log_in_to_leave_a_comment")})))};var xe=e=>S.a.createElement(x,null,t=>{let n=t.showNonBackerMessage;return S.a.createElement(Ne,Object.assign({},e,{showNonBackerMessage:n}))}),Te=n("daZV"),Ie=n("egyr");var De=class extends S.a.Component{constructor(e){super(e),this._normalizeCommentableData=e=>{return{commentable:{commentsCount:e.commentsCount}}},this.poll=()=>{if(window.device_attributes.isBot)return null;const e=setInterval(()=>{fetch(this.props.pollUrl).then(e=>e.json()).then(e=>{let t=e.project;this.setState(()=>({data:this._normalizeCommentableData({commentsCount:t.comments_for_display_count})}))})},5e3);this.setState(()=>({intervalId:e}))},this.getNewComments=(e,t)=>{const n=()=>this.setState(()=>({loading:!1}));this.setState(()=>({loading:!0}),()=>{e({commentableId:t}).then(n,n).catch(e=>{I.Honeybadger.notify("Refetch Error: ".concat(JSON.stringify(e),"; keys: ").concat(Object.keys(e).join(", ")),{context:{tags:L.a.PROCOMM}})})})},this.messageOrSpinner=(e,t)=>e?S.a.createElement(Ie.a,null):S.a.createElement(T.a,{i18nKey:"project_page.comments.Show_new_comments",count:t}),this.state={pollId:null,intervalId:null,loading:!1,data:{commentable:{commentsCount:null}}}}componentDidMount(){if(!this.state.pollId){const e=setTimeout(this.poll.bind(this),1);this.setState(()=>({pollId:e}))}}componentWillUnmount(){clearTimeout(this.state.pollId),clearTimeout(this.state.intervalId)}render(){const e=this.props,t=e.currentCount,n=e.refetch,a=e.commentableId,i=this.state.data.commentable;if(!i||!i.commentsCount)return null;const r=i.commentsCount;return r>t?S.a.createElement("div",{className:"px2 mb2"},S.a.createElement($.c,{onClick:()=>this.getNewComments(n,a),fullWidth:!0,theme:"trust"},this.messageOrSpinner(this.state.loading,r-t))):null}};var Pe=e=>{let t=e.currentCount,n=e.refetch,a=e.commentableId;return S.a.createElement(x,null,e=>{let i=e.pollUrl;return S.a.createElement(S.a.Fragment,null,i&&S.a.createElement(De,{currentCount:t,refetch:n,pollUrl:i,commentableId:a}))})},Ae=n("Sdzn"),Re=n("MgNI"),Fe=n("DjBF"),Le=n("/IHD");var Me=e=>{let t=e.body,n=e.deleted;const a=t.split(/(?:\r\n|\n)/g);return n?S.a.createElement("p",{className:"dark-grey-500"},t,S.a.createElement("span",null," "),S.a.createElement(T.a,{i18nKey:"project_page.comments.Learn_more_about_comment_guidelines",guidelinesLink:S.a.createElement("a",{className:"bold soft-black",href:"/help/community"},Object(T.b)("project_page.comments.guidelines"))})):S.a.createElement(w.Fragment,null,a.map((e,t)=>{const n=Object(Le.a)("type-14",Object(Ae.a)(a,t)?"mb0":"mb2");return S.a.createElement("p",{key:t,className:n},e)}))};var Ue=e=>{let t=e.suppressed,n=e.deleted,a=e.body,i=e.selectedText;return S.a.createElement("div",{className:"flex"},t&&S.a.createElement(H.a,{name:"info",size:"16",atoms:["fill-dark-grey-500","mr1","relative","t3px"]}),S.a.createElement("div",{className:"w100p"},i&&S.a.createElement(z,{body:i}),S.a.createElement(Me,{body:a,deleted:n})))},Be=n("wpot");var qe=e=>{let t=e.text,n=e.classes;return S.a.createElement("span",{className:n},t)};const $e={[d]:{text:Object(T.b)("project_page.comments.Creator"),classes:"bg-ksr-green-700 white px1 type-14 mr1"},[u]:{text:Object(T.b)("project_page.comments.Collaborator"),classes:"bg-ksr-green-700 o50p white o0p px1 type-14 mr1"},[m]:{text:Object(T.b)("project_page.comments.Superbacker"),classes:"apricot-600 type-14 mr1"}};var He=n("lHf8");const Ve=e=>{let t=e.author;return e.me.isKsrAdmin?S.a.createElement(He.a,{color:"soft-black",href:t.url},t.name):S.a.createElement(S.a.Fragment,null,t.name)};var ze=e=>{let t=e.author,n=e.me,a=e.authorBadges,i=e.today,r=void 0===i?new Date:i,o=e.createdAt,s=e.commentPath,c=e.tooltip;const l=Object(Be.a)(r,(e=>1e3*e)(o));return S.a.createElement("div",{className:"flex mb3 justify-between"},S.a.createElement("div",{className:"flex"},S.a.createElement(q.a,{imageUrl:t.imageUrl,size:6,atoms:["mr2"]}),S.a.createElement("div",null,S.a.createElement("span",{className:"mr2"},S.a.createElement(Ve,{author:t,me:n})),S.a.createElement(P,null,S.a.createElement("span",null,a.map((e,t)=>S.a.createElement(qe,Object.assign({key:t},$e[e]))))),S.a.createElement("a",{href:s,className:"comment-link",onClick:e=>{e.preventDefault(),window.history.replaceState(null,"",s)}},S.a.createElement("time",{className:"block dark-grey-400 type-12",dateTime:o,title:ye(o)},l)))),c&&S.a.createElement(V.a,{placement:"top",label:c,style:{textAlign:"center"}},S.a.createElement("span",null,S.a.createElement(H.a,{name:"icon--info",size:"16"}))))};const We=S.a.createContext(),Ke=We.Provider,Ye=We.Consumer;var Ge=e=>{let t=e.contentId,n=e.hasFlaggings;return S.a.createElement(Ye,null,e=>n?S.a.createElement("span",{className:"h7 flex items-center p3 border-box"},Object(T.b)("project_page.comments.Reported")):S.a.createElement($.d,{theme:"support",onClick:()=>e(t)},Object(T.b)("project_page.comments.Report")))};var Je=e=>{let t=e.onClick;return e.loading?S.a.createElement(Ie.a,{size:"medium"}):S.a.createElement(V.a,{label:Object(T.b)("project_page.comments.Delete"),placement:"top"},S.a.createElement("button",{"data-test-id":"delete-comment",className:"keyboard-focusable",onClick:t},S.a.createElement(H.a,{name:"trash"})))};var Qe=class extends w.Component{constructor(e){super(e),this.toggleLoading=()=>{this.setState(e=>({loading:!e.loading}))},this.onDeleteClick=()=>(this.toggleLoading(),this.props.mutate({variables:{id:this.props.id},refetchQueries:[{query:E,variables:{id:this.props.id}}]}).then(()=>{this.toggleLoading()}).catch(e=>{this.toggleLoading(),Object(U.a)({error:Object(T.b)("project_page.comments.Unable_to_delete")}),I.Honeybadger.notify(JSON.stringify(e),{context:{tags:L.a.PROCOMM}})})),this.state={loading:!1}}render(){return S.a.createElement(Je,{onClick:this.onDeleteClick,loading:this.state.loading})}};function Xe(){const e=Object(r.a)(["\n  mutation deleteComment($id: ID!) {\n    deleteComment(input: { id: $id }) {\n      commentable {\n        commentsCount\n      }\n    }\n  }\n"]);return Xe=function(){return e},e}var Ze=s()(Xe()),et=Object(i.c)(Ze)(Qe),tt=n("wSuE");var nt=Object(tt.hot)(e=>{let t=e.id,n=e.body,a=e.author,i=e.me,r=e.createdAt,o=e.authorBadges,s=e.canReport,c=e.canDelete,l=e.hasFlaggings,m=e.deletedAuthor,f=e.deleted,g=e.commentPath,b=e.isActive,_=e.setRef,v=e.children;const k=f||m,y=s&&!k,j=new RegExp("temp-comment").test(t)?"o50p":"o100p",E=Object(w.useState)(b),O=Object(Fe.a)(E,2),C=O[0],N=O[1];Object(w.useEffect)(()=>{C&&N(!1)});const x=C?"bg-ksr-green-500_15":"bg-white",I=h;let D=null;if(n&&n.includes(I)){const e=n.split(I);D=e[0],n=e[1]}const P=D?Object(T.b)("project_page.comments.This_is_a_quoted_comment"):null;return S.a.createElement("div",{ref:_,className:"border-box relative break-word border border-grey-400 px3 pt3 pb2 ".concat(j," transition-all transition-delay-1000 ").concat(x)},p.some(e=>o.includes(e))&&S.a.createElement("span",{className:"".concat((()=>o.includes(d)?"bg-ksr-green-700":o.includes(u)?"bg-ksr-green-700 o50p":void 0)()," w1 t0 b0 l0 absolute test-authority_bar")}),S.a.createElement(ze,{author:a,authorBadges:o,commentPath:g,me:i,createdAt:r,tooltip:P}),S.a.createElement(Ue,{body:n,selectedText:D,suppressed:k,deleted:f}),S.a.createElement("div",{className:"flex justify-end"},v,c&&S.a.createElement("div",{className:Object(Le.a)("flex","justify-center",y&&"mr2")},S.a.createElement(et,{id:t})),y&&S.a.createElement(Ge,{contentId:t,hasFlaggings:l})))});var at=e=>{let t=e.deletedAuthor,n=e.body,a=e.onClick;return S.a.createElement("div",{className:"border-box flex bg-white break-word border border-grey-400 px3 pt3"},S.a.createElement(H.a,{name:"info",size:"16",atoms:["fill-dark-grey-500","mr1","relative","t3px"]}),t?S.a.createElement("p",{className:"dark-grey-500"},n):S.a.createElement(T.a,{i18nKey:"project_page.comments.Canceled_their_pledge",commentLink:S.a.createElement("a",{onClick:a,className:"bold soft-black",href:""},Object(T.b)("project_page.comments.Show_comment")),i18nTag:"p",atoms:["dark-grey-500"]}))},it=n("TIPN");var rt=class extends w.Component{constructor(e){super(e),this.setInitialVisibleState=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t||a||!e&&!n},this.toggleVisibility=e=>{e.preventDefault(),this.setState(e=>({visible:!e.visible}))},this.setRef=e=>{this.commentRef=e},this.scrollToComment=()=>{const e=Re.maybe.fromNullable(Object(ue.a)(window.location.search)).map(e=>e.comment).getOrElse(null);null!=this.commentRef&&e===this.props.id&&Object(it.e)({element:this.commentRef})},this.state={visible:this.setInitialVisibleState(this.props.deletedAuthor,this.props.deleted,this.props.authorCanceledPledge,this.props.showCommentsWithoutPledges)}}componentDidMount(){this.scrollToComment()}render(){return this.state.visible?S.a.createElement(nt,{id:this.props.id,body:this.props.body,author:this.props.author,me:this.props.me,createdAt:this.props.createdAt,authorBadges:this.props.authorBadges,canReport:this.props.canReport,canDelete:this.props.canDelete,hasFlaggings:this.props.hasFlaggings,deleted:this.props.deleted,deletedAuthor:this.props.deletedAuthor,isActive:this.props.isActive,commentPath:this.props.commentPath,setRef:this.setRef},this.props.children):S.a.createElement(at,{deletedAuthor:this.props.deletedAuthor,body:this.props.body,onClick:this.toggleVisibility})}};var ot=e=>S.a.createElement(x,null,t=>{let n=t.showCommentsWithoutPledges,a=t.hideBackground;return S.a.createElement(rt,Object.assign({},e,{hideBackground:a,showCommentsWithoutPledges:n}))});var st=e=>{let t=e.commentId,n=e.isActive,a=void 0!==n&&n,i=e.activateForm,r=e.deactivateForm;const o=a?"ksr-green-700":"soft-black";return S.a.createElement("button",{onClick:()=>{a?r():(Object(ce.a)(le.a.INCREMENT,f.REPLY_FORM_OPENED),i(t))},className:"mr-auto mt1 inline-flex items-center"},S.a.createElement(H.a,{size:"16",atoms:["fill-".concat(o)],name:"icon--reply"}),S.a.createElement("span",{className:"ml1 type-14 ".concat(o)},Object(T.b)("project_page.comments.Reply")))};var ct=e=>{let t=e.comments,n=e.me;return S.a.createElement("ul",null,(e=>[...e].sort((e,t)=>re()(e.createdAt,t.createdAt)))(t).map(e=>(e=Object(F.a)({},e,{commentPath:Object(ae.c)({comment:e.parentId,reply:e.id})}),S.a.createElement("li",{key:e.id,className:"mb2"},S.a.createElement(ot,Object.assign({},e,{me:n}))))))};var lt=e=>{let t=e.commentId,n=e.commentAuthor,a=void 0===n?{}:n,i=e.activateForm;return S.a.createElement($.d,{theme:"support",size:"medium",atoms:["w100p"],onClick:()=>{Object(ce.a)(le.a.INCREMENT,f.REPLY_FORM_OPENED),i(t)}},Object(T.b)("project_page.comments.Reply_to_user",{name:a.name}))};var dt=e=>{let t=e.me,n=e.commentableId,a=e.activateForm,i=e.deactivateForm,r=e.userCanComment,o=e.activeThreadId,s=e.comment,c=e.client,d=e.repliesLoading,u=e.toggleRepliesLoading,m=e.commentPath,p=e.isReplyingEnabled;const h=s.id,f=s.replies,g=s.body,b=s.author,_=s.createdAt,v=s.canReport,k=s.canDelete,y=s.hasFlaggings,j=s.deletedAuthor,O=s.deleted,C=s.authorCanceledPledge,N=s.authorBadges,x=((e,t,n)=>(a,i,r,o)=>s=>({onClick:o({commentId:n,client:e,query:t,replyCursor:s.pageInfo.startCursor,toggleRepliesLoading:i,onLoadMoreReplies:r}),loadingStatus:a,totalCount:s.totalCount,showingCount:s.nodes.length,hasMorePages:s.pageInfo.hasPreviousPage}))(c,E,h)(d,u,ve,ke)(f),T=h===o,I=!!f.nodes&&f.nodes.length>0,D=O||j;return S.a.createElement(w.Fragment,null,S.a.createElement(ot,{body:g,author:b,me:t,createdAt:_,authorCanceledPledge:C,authorBadges:N,canReport:v,canDelete:k,hasFlaggings:y,deletedAuthor:j,deleted:O,id:h,isActive:T,commentPath:m},r&&!D&&p&&S.a.createElement(P,null,S.a.createElement(st,{isActive:T,activateForm:a,deactivateForm:i,commentId:h}))),(I||T)&&S.a.createElement("div",{className:"pl6 pt2 theme--support"},I&&S.a.createElement(P,null,S.a.createElement(Te.a,{buttonI18nKey:"project_page.comments.Load_previous",remainingI18nKey:"project_page.comments.Replies_remaining",totalCount:x.totalCount,showingCount:x.showingCount,pageSize:l,onClick:x.onClick,loading:x.loadingStatus,hasMorePages:x.hasMorePages,atoms:["mb2"]})),I&&S.a.createElement(P,null,S.a.createElement(ct,{comments:f.nodes,me:t})),T?r&&S.a.createElement(P,null,S.a.createElement(Se,{me:t,commentableId:n,parentId:h,onSuccess:i,replyCursor:f.pageInfo.startCursor})):r&&I&&!D&&S.a.createElement(P,null,S.a.createElement(lt,{activateForm:a,commentAuthor:b,commentId:h}))))};var ut=class extends w.Component{constructor(e){super(e),this.toggleRepliesLoading=()=>{this.setState(e=>({repliesLoading:!e.repliesLoading}))},this.state={repliesLoading:!1}}render(){return S.a.createElement(dt,{me:this.props.me,commentableId:this.props.commentableId,activateForm:this.props.activateForm,deactivateForm:this.props.deactivateForm,activeThreadId:this.props.activeThreadId,userCanComment:this.props.userCanComment,comment:this.props.comment,client:this.props.client,repliesLoading:this.state.repliesLoading,toggleRepliesLoading:this.toggleRepliesLoading,commentPath:this.props.commentPath,isReplyingEnabled:this.props.isReplyingEnabled})}};var mt=e=>S.a.createElement(x,null,t=>{let n=t.isReplyingEnabled;return S.a.createElement(ut,Object.assign({},e,{isReplyingEnabled:n}))}),pt=Object(i.d)(mt);const ht=e=>{let t=e.comments,n=e.commentableId,a=e.activateForm,i=e.deactivateForm,r=e.activeThreadId,o=e.userCanComment,s=e.me,c=e.hideBackground;const l=Object(Le.a)(!c&&"bg-grey-100 border border-grey-400","p2 mb3");return S.a.createElement("ul",{className:l},t.map((e,c)=>{const l=Object(ae.c)({comment:e.node.id});return S.a.createElement("li",{key:e.node.id,className:"".concat(Object(Ae.a)(t,c)?"":"mb2")},S.a.createElement(P,null,S.a.createElement(pt,{me:s,commentableId:n,activateForm:a,deactivateForm:i,activeThreadId:r,userCanComment:o,comment:e.node,commentPath:l})))}))},ft=e=>S.a.createElement(x,null,t=>{let n=t.hideBackground;return S.a.createElement(ht,Object.assign({hideBackground:n},e))});var gt=e=>{let t=e.comments,n=e.commentableId,a=e.activateForm,i=e.deactivateForm,r=e.activeThreadId,o=e.userCanComment,s=e.me,l=e.pagination,d=e.refetch;if(!t)return null;const u=l.nextPage,m=l.previousPage;return S.a.createElement(w.Fragment,null,m.hasMorePages?S.a.createElement(P,null,S.a.createElement("div",{className:"mb2 theme--trust"},S.a.createElement(Te.a,{kind:"primary",buttonI18nKey:"project_page.comments.Load_previous_root",remainingI18nKey:"project_page.comments.Comments_remaining",totalCount:m.totalCount,showingCount:m.showingCount,showPageCount:!1,pageSize:c,onClick:m.onClick,loading:m.loadingStatus,hasMorePages:m.hasMorePages}))):S.a.createElement(P,null,S.a.createElement(Pe,{currentCount:l.nextPage.totalCount,refetch:d,commentableId:n})),S.a.createElement(ft,{activateForm:a,deactivateForm:i,activeThreadId:r,userCanComment:o,me:s,comments:he(t),commentableId:n}),S.a.createElement(P,null,S.a.createElement(Te.a,{buttonI18nKey:"project_page.comments.Load_more",remainingI18nKey:"project_page.comments.Comments_remaining",totalCount:u.totalCount,showingCount:u.showingCount,pageSize:c,onClick:u.onClick,loading:u.loadingStatus,hasMorePages:u.hasMorePages,atoms:["theme--support"]})))},bt=n("WSTq"),_t=n("DRAL"),vt=s()(_t.a);var kt=class extends S.a.Component{constructor(e){super(e),this.onSubmit=()=>this.props.mutate({variables:{contentId:this.props.contentId,kind:"SPAM"},refetchQueries:[{query:E,variables:{id:this.props.contentId}}]}).then(()=>{this.props.closeModal()}).catch(e=>{this.props.closeModal(),Object(U.a)({error:Object(T.b)("project_page.comments.Report_comment_error")}),I.Honeybadger.notify(JSON.stringify(e),{context:{tags:L.a.PROCOMM}})})}render(){return S.a.createElement($.c,{theme:"trust",onClick:this.onSubmit},Object(T.b)("project_page.comments.Report_comment"))}},yt=Object(i.c)(vt)(kt,Object(a.a)());var jt=e=>{let t=e.onClose,n=e.contentId;return S.a.createElement(bt.a,{size:"large",onClose:t,headerCopy:Object(T.b)("project_page.comments.Report_a_comment")},S.a.createElement("div",{className:"text-center"},S.a.createElement("p",null,Object(T.b)("project_page.comments.We_will_review_this_comment")),S.a.createElement(yt,{contentId:n,closeModal:t})))};var Et=class extends S.a.Component{constructor(e){super(e),this.state={activeThreadId:e.initialCommentId||"",flaggingModalOpen:!1,flaggingCommentId:null},this.closeFlaggingModal=this.closeFlaggingModal.bind(this),this.openFlaggingModal=this.openFlaggingModal.bind(this),this.activateForm=this.activateForm.bind(this),this.deactivateForm=this.deactivateForm.bind(this)}activateForm(e){this.setState(()=>({activeThreadId:e}))}deactivateForm(){this.setState(()=>({activeThreadId:""}))}openFlaggingModal(e){this.setState(()=>({flaggingModalOpen:!0,flaggingCommentId:e}))}closeFlaggingModal(){this.setState(()=>({flaggingModalOpen:!1}))}render(){return S.a.createElement(w.Fragment,null,S.a.createElement(Ke,{value:this.openFlaggingModal},S.a.createElement(gt,{comments:this.props.comments,me:this.props.me,commentableId:this.props.commentableId,activeThreadId:this.state.activeThreadId,activateForm:this.activateForm,deactivateForm:this.deactivateForm,userCanComment:this.props.userCanComment,loadOlderStartCursor:this.props.loadOlderStartCursor,pagination:this.props.pagination,refetch:this.props.refetch})),this.state.flaggingModalOpen&&S.a.createElement(jt,{onClose:this.closeFlaggingModal,contentId:this.state.flaggingCommentId}))}};var wt=()=>S.a.createElement("p",{className:"text-center bg-grey-200 p2 type-12 border border-red-500 radius2px red-500 bold"},Object(T.b)("onloads.views.comments.list.Sorry_we_couldnt_load_comments_just_now"));var St=()=>S.a.createElement("div",{className:"text-center"},S.a.createElement(H.a,{name:"icon--circle-loader",size:"large"}));var Ot=e=>{let t=e.currentCount,n=e.refetch,a=e.commentableId;return S.a.createElement(w.Fragment,null,S.a.createElement(P,null,S.a.createElement(Pe,{currentCount:t,refetch:n,commentableId:a})),S.a.createElement("div",{className:"px5 py8 mt2 bg-grey-100 flex justify-center items-center"},S.a.createElement(H.a,{name:"icon--message",size:"medium",atoms:["fill-dark-grey-400"]}),S.a.createElement("span",{className:"ml2 dark-grey-400"},Object(T.b)("project_page.comments.No_comments_yet"))))};class Ct extends w.Component{constructor(){super(...arguments),this.loadNextPageProps=e=>({onClick:()=>{this.getPage(e.fetchMore,e.commentable.comments.pageInfo.endCursor)},loadingStatus:e.loading,totalCount:e.commentable.commentsCount,showingCount:e.commentable.comments.edges.length,hasMorePages:e.commentable.comments.pageInfo.hasNextPage}),this.loadPreviousPageProps=e=>({onClick:()=>{this.getPage(e.fetchMore,e.commentable.comments.pageInfo.startCursor,!1)},loadingStatus:e.loading,totalCount:e.commentable.commentsCount,showingCount:e.commentable.comments.edges.length,hasMorePages:e.commentable.comments.pageInfo.hasPreviousPage}),this.paginationProps=e=>({nextPage:this.loadNextPageProps(e),previousPage:this.loadPreviousPageProps(e)}),this.getPage=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=Date.now();return Object(ce.a)(le.a.INCREMENT,f.LOAD_MORE_COMMENTS),e({variables:n?{nextCursor:t,previousCursor:null,first:25,last:null}:{nextCursor:null,previousCursor:t,first:null,last:25},updateQuery:_e(n)}).then(()=>{Object(ce.a)(le.a.TIME,f.LOAD_MORE_COMMENTS_TIME,Date.now()-a)})}}render(){const e=this.props,t=e.data,n=e.commentableId,a=e.initialCommentId,i=e.config;if(t.loading&&!t.commentable)return S.a.createElement(St,null);if(t.error)return S.a.createElement(wt,null);const r=t.me||{},o=!!t.commentable.comments.edges.length,s=t.commentable.canComment,c=t.commentable.comments.pageInfo.hasPreviousPage;return S.a.createElement(w.Fragment,null,S.a.createElement(N,{commentable:t.commentable,config:i},c?S.a.createElement(He.a,{type:"link",href:me(),color:"soft-black",atoms:["text-center","block","text-underline","py3","bg-white"]},s?Object(T.b)("project_page.comments.Post_a_new_comment"):Object(T.b)("project_page.comments.Back_to_the_top")):S.a.createElement(xe,{me:r,commentableId:n,commentableUrl:t.commentable.url,userCanComment:s}),o?S.a.createElement(P,{fallbackRender:()=>S.a.createElement(wt,null)},S.a.createElement(Et,{commentableId:n,initialCommentId:a,comments:t.commentable.comments.edges,userCanComment:s,me:r,pagination:this.paginationProps(t),refetch:t.refetch})):S.a.createElement(P,null,S.a.createElement(Ot,{refetch:t.refetch,currentCount:t.commentable.commentsCount,commentableId:n}))))}}Ct.defaultProps={config:O.a};var Nt=Ct;const xt=Object(i.c)(j,Object(a.a)({options:e=>{let t=e.nextCursor,n=e.previousCursor;return{notifyOnNetworkStatusChange:!0,variables:{commentableId:e.commentableId,replyCursor:null,nextCursor:t,first:e.first,last:e.last,previousCursor:n}}}}))(Nt);t.a=xt},d8sA:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var a=n("prSB"),i=(n("GRmu"),n("n+nq")),r=n("eEls"),o=n("PhMr"),s=n("fAGL"),c=n("94td"),l=n("2UXI"),d=n("4+Ta"),u=n("mm3F"),m=n("0fse"),p=n("poNw"),h=n("qYa2");Object(c.b)("library.ksr_json.Sorry_something_went_wrong_Weve_been_notified_and_are_looking");const f=u.noopAction,g=e=>(function(){var t;let n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(p.a)(),o=arguments.length>1?arguments[1]:void 0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;switch(o.namespace&&(l=Object(d.b)(o.namespace)(l)),o.type){case"CLOSE_DELETE_ASSET_MODAL":return Object(a.a)({},i,{isShowingDeleteAssetModal:!1});case"DELETE_ASSET":return Object(m.f)(Object(a.a)({},i,{isDeleting:!0,isDisabled:!0,isShowingDeleteAssetModal:!1}),m.a.list([m.a.run(i.effects.destroy,{args:[null==i?void 0:null===(t=i.asset)||void 0===t?void 0:t.id],successActionCreator:r.c,failActionCreator:r.c}),m.a.run(k,{args:["Deleted",e]}),m.a.run(i.effects.onDelete,{successActionCreator:r.c,failActionCreator:r.c})],{batch:!0}));case"FILE_DRAG_ENDED":return n=i.activeDragCounter-1,Object(a.a)({},i,{activeDragCounter:n});case"FILE_DRAG_STARTED":return n=i.activeDragCounter+1,Object(a.a)({},i,{activeDragCounter:n});case"HYDRATE_ASSET":const u=o.asset,g=u.status,_="PROCESSING"===g?m.a.action(l.uploadProcessingStart(u.id,o.currentDate)):m.a.none;return Object(m.f)(Object(a.a)({},i,{uploaderStatus:g,asset:u}),_);case"OPEN_DELETE_ASSET_MODAL":return Object(a.a)({},i,{isShowingDeleteAssetModal:!0});case"RELOAD_ASSET":return"PROCESSING"===i.uploaderStatus?Object(m.f)(i,m.a.run(i.effects.read,{args:[o.assetId,i.imageAssetWidth],successActionCreator:r.c,failActionCreator:r.c})):i;case"UPDATE_UPLOAD_PROGRESS":return Object(a.a)({},i,{progress:o.progress});case"UPLOAD_FILE_FAILURE":return Object(m.f)(Object(a.a)({},i,{uploaderStatus:"FAILED"}),m.a.list([m.a.run(s.b),m.a.run(k,{args:["Failed Upload",e]})],{batch:!0}));case"UPLOAD_FILE_START":const v=o.file,j=o.uploadLimit,E=Object(h.b)(v,j);return E&&E.length>0?Object(a.a)({},i,{errors:E,uploaderStatus:"INVALID"}):Object(m.f)(Object(a.a)({},Object(p.a)(),{effects:i.effects,uploaderStatus:"UPLOADING"}),m.a.list([m.a.run(y,{args:[o.file],successActionCreator:l.setImageAssetWidth,failActionCreator:f}),m.a.run(b,{args:[o.file,o.dispatch,l],successActionCreator:r.c,failActionCreator:r.c}),m.a.run(s.a,{args:[Object(c.b)("uploaders.Leaving_the_page")]})],{batch:!0}));case"SET_IMAGE_ASSET_WIDTH":return Object(a.a)({},i,{imageAssetWidth:o.width});case"UPLOAD_FILE_SUCCESS":return Object(m.f)(i,m.a.list([m.a.run(i.effects.create,{args:[o.s3Params],successActionCreator:r.c,failActionCreator:r.c}),m.a.run(s.b)],{batch:!0}));case"UPLOAD_INITIALIZE":const w=i.effects;return Object(a.a)({},i,{effects:Object(a.a)({},w,{},o.effects)});case"UPLOAD_PROCESSING_START":return Object(m.f)(Object(a.a)({},i,{uploaderStatus:"PROCESSING",uploadedAt:o.uploadedAt}),m.a.action(l.reloadAsset(o.assetId)));case"UPLOAD_SUCCESS":return Object(m.f)(Object(a.a)({},i,{uploaderStatus:"SUCCESSFUL",asset:o.asset}),m.a.list([m.a.run(k,{args:["Uploaded",e]}),m.a.run(i.effects.onSuccess,{args:[o.asset.id,o.asset.url],successActionCreator:r.c,failActionCreator:r.c})],{batch:!0}));case"UPLOAD_RESET":return Object(a.a)({},Object(p.a)(),{effects:i.effects});default:return i}}),b=(e,t,n)=>_(n).then(a=>{let i=a.params,r=a.s3_upload_url;const o=v(e,i);return Object(h.c)(r,i.key,e,o,((e,t)=>()=>{e(t.uploadFileFailure())})(t,n),((e,t)=>n=>{let a=n.s3Key,i=n.fileName,r=n.contentType,o=n.updatedAt,s=n.fileSize;e(t.uploadFileSuccess({s3Key:a,fileName:encodeURIComponent(i),contentType:r,updatedAt:o,fileSize:s}))})(t,n),((e,t)=>n=>{e(t.updateUploadProgress(n))})(t,n))}).then(f).catch(()=>n.uploadFileFailure()),_=e=>window.s3_upload?Promise.resolve({params:JSON.parse(s3_upload.params),s3_upload_url:s3_upload.url}):fetch("/assets/s3_upload_params",{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRF-Token":Object(i.b)(document)}}).then(e=>200==e.status?Promise.resolve(e):Promise.reject(new Error(e.statusText))).then(Object(o.a)("json")).catch(()=>e.uploadFileFailure()),v=(e,t)=>{const n=new FormData;return Object.keys(t).forEach(e=>{n.append(e,t[e])}),n.append("file",e),n},k=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=[e,t].join(" ");Object(l.d)(a,n)},y=e=>new Promise((t,n)=>{/image\//.test(e.type)||n();const a=URL.createObjectURL(e),i=new Image;i.onload=()=>{URL.revokeObjectURL(a),t(i.width)},i.src=a})},dDCb:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("X+my"),i=n("q1tI"),r=n.n(i);const o=e=>{let t=e.theme,n=void 0===t?a.a:t,i=e.isSelected,o=e.onClick;const s=["block","radius100p","h3","mr1","mr3-md","w3",i?"bg-".concat(n["primary-light"]):"bg-white"].join(" "),c=["inset 0 1px 3px rgba(0, 0, 0, 0.2)","inset 0 0 0 1px rgba(0, 0, 0, 0.2)"].join(", ");return r.a.createElement("div",{className:s,onClick:o,role:o&&"button",style:{boxShadow:c}},i&&r.a.createElement("div",{className:"bg-white h1 w1 radius100p inline-block m1"}))}},dIzW:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return m});var a=n("88ec"),i=n("2UXI");const r=()=>{Object(i.d)("Canceled Apple Pay Sheet",{context:Object(a.a)(window.location.pathname)})},o=e=>{let t=e.type;Object(i.d)("Apple Pay Kickstarter Errored",{type:t,context:Object(a.a)(window.location.pathname)}),Object(i.d)("Errored Apple Pay Kickstarter",{type:t,context:Object(a.a)(window.location.pathname)})},s=e=>{let t=e.type;Object(i.d)("Apple Pay Errored Reward Continue",{type:t,context:Object(a.a)(window.location.pathname)})},c=()=>{Object(i.d)("Apple Pay Shipping Selection Errored",{context:Object(a.a)(window.location.pathname)})},l=e=>{let t=e.type;Object(i.d)("Apple Pay Stripe Token Errored",{type:t,context:Object(a.a)(window.location.pathname)}),Object(i.d)("Errored Apple Pay Stripe Token",{type:t,context:Object(a.a)(window.location.pathname)})},d=()=>{Object(i.d)("Showed Apple Pay Buttons",{context:Object(a.a)(window.location.pathname)})},u=()=>{Object(i.d)("Apple Pay Show Sheet",{context:Object(a.a)(window.location.pathname)}),Object(i.d)("Showed Apple Pay Sheet",{context:Object(a.a)(window.location.pathname)})},m=()=>{Object(i.d)("Apple Pay Stripe Token Created",{context:Object(a.a)(window.location.pathname)}),Object(i.d)("Created Apple Pay Stripe Token",{context:Object(a.a)(window.location.pathname)})}},dRVe:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE"),o=n("2UXI"),s=n("ZCIj");Object(r.a)(".NS_projects__spotlight_onboarding",function(e){s.a.isPersisted&&(s.a.getItem("dismiss_spotlight_onboarding")||(e.removeClass("dismissed"),i()("html,body").css("overflow","hidden"),Object(o.d)("Spotlight Onboarding Show")),e.find(".js-close").on("click",function(t){e.addClass("dismissed"),i()("html,body").css("overflow","auto"),s.a.setItem("dismiss_spotlight_onboarding",!0),Object(o.d)("Spotlight Onboarding Hide"),t.preventDefault()}))})},dSmG:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("a+N5"),o=n.n(r),s=n("CjI4"),c=n("h4vE"),l=n("SKdt"),d=n("SmhT"),u=n("DQv1"),m=n("2UXI");Object(c.a)("#NS_discover__locations",function(e){var t,n,a,r,c,p,h,f=e.find("form"),g=f.find("input"),b=500;function _(e){var t;t=i()(Object(u.a)("discover/_location_li",e)),a.empty(),n.children("li:not(:first-child)").remove(),n.append(t),r.find(".ksr-green-500").removeClass("ksr-green-500").addClass("black"),t.find("a").addClass("ksr-green-500").removeClass("black"),i()(document).trigger("discovery:locations:updated",e),i()(document).trigger("discovery:locations:changed",e),p&&p.abort(),p=i.a.ajax({url:e.urls.web.location,dataType:"json",success:function(e){a.children().remove(),o.a.each(e.nearby_locations,function(e){a.append(Object(u.a)("discover/_location_li",e))}),n.children("li:not(:first-child)").remove(),o.a.each(e.ancestor_locations.reverse(),function(e){n.append(Object(u.a)("discover/_location_li",e))}),n.append(t),i()(document).trigger("discovery:locations:updated",e)},complete:function(){p=!1}})}t=f.find(".js-results"),n=e.find(".js-broader-locations ul"),a=e.find(".js-nearby-locations ul"),r=e.find(".js-broader-locations ul, .js-nearby-locations ul"),f.on("submit",function(e){e.preventDefault()}),r.on("click","li > a",function(t){var n=i()(this),a=n.closest("li").data("location")||{};r.find(".ksr-green-500").removeClass("ksr-green-500").addClass("black"),n.addClass("ksr-green-500").removeClass("black"),i()(document).trigger("discovery:locations:changed",a),e.trigger("ksr_popover:close"),t.preventDefault()}),g.on("blur",function(){setTimeout(function(){t.addClass("display-none").removeClass("block")},500)}),g.on("cut paste input keydown",function(e){e.keyCode===d.d?(i()(this).val(""),t.addClass("display-none").removeClass("block")):-1===o.a.indexOf(d.j,e.keyCode)&&function(){c&&c.abort();f.addClass("loading"),clearTimeout(h),h=setTimeout(function(){c=i.a.ajax({url:f.attr("action"),dataType:"json",data:f.serialize(),success:function(e){t.removeClass("display-none").addClass("block"),t.empty(),o.a.each(e.locations,function(e){t.append(Object(u.a)("discover/_search_location_li",e))}),Object(m.d)("Discover Location Search Results",{discover_location_search_term:g.val(),discover_location_search_hits:e.total_hits})},complete:function(){f.removeClass("loading"),c=!1}})},b)}()}),e.on("ksr_popover:opened",function(){l.a["not-touchable"]&&g.focus()}),e.find(".current_location, .js-current_location").on("click",function(e){e.preventDefault(),_(s.a.get()),g.val(""),Object(m.d)("Discovery Current Location Click",{discover_used_html5:!1})}),t.on("click","li > a",function(e){_(i()(this).closest("li").data("location")||{}),t.addClass("display-none").removeClass("block"),Object(m.d)("Discover Location Search Click",{discover_location_search_term:g.val()}),e.preventDefault()}),i()(document).on("discovery:sentence:changed",function(t,n){e.find(".ksr-green-500").removeClass("ksr-green-500").addClass("black"),n.woe_id&&parseInt(n.woe_id,10)>0?e.find("#location_"+n.woe_id+" a").addClass("ksr-green-500").removeClass("black"):e.find("li:first a").addClass("ksr-green-500").removeClass("black")}),i()(document).on("discovery:locations:load_sample",function(e,t){t.location&&_(t.location),e.preventDefault()})})},dTnv:function(e,t,n){"use strict";n.r(t);var a=n("DjBF"),i=n("prSB"),r=n("WSTq"),o=n("94td"),s=n("CMmH"),c=n("z+X6"),l=n("iN0+"),d=n("MqPi"),u=n("kB8A"),m=n("HgY4"),p=n("D+F0"),h=n("3+Df"),f=n("heyD"),g=n("sSbI"),b=n("i8i4"),_=n.n(b),v=n("q1tI"),k=n.n(v),y=n("/MKj"),j=n("0fse"),E=n("A6sV"),w=n("dutg"),S=n("gN63");const O=n("KIdv").CreatorSection,C=(e,t)=>Object(S.d)(O,{slug:e},{projectShareToken:t}),N={me:null,project:{id:"",verifiedIdentity:null,creator:{id:"",name:"",imageUrl:"",url:"",lastLogin:null,biography:"",isFacebookConnected:!1,allowsFollows:!1,backingsCount:0,location:{displayableName:""},launchedProjects:{totalCount:0},websites:[]},collaborators:{edges:[]}}},x=(e,t)=>{let n=!1;return e.split(" ").reduce((e,a)=>n?e:e.length+a.length>t?(n=!0,e):e.concat(a).concat(" "),"").replace(/\s$/,"")};var T=n("aiSh"),I=n("pj8f"),D=n("4KRT"),P=n("mv45"),A=n("lHf8"),R=n("EoiL"),F=n("K32+");const L=e=>{let t=e.creator,n=e.children,a=e.label,i=e.headerClassName,r=e.launchedProjectsTotalCount,o=e.displayingMultipleProjects,s=e.showBiography,c=void 0===s||s,l=e.viewAllColor,d=void 0===l?"support-400":l,u=e.onSeeMoreClick;const m=t.name,p=t.imageUrl,h=t.biography;return k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{style:{maxWidth:"320px"},className:"border border-black mb6"},k.a.createElement("div",{onClick:u,role:"button",className:"flex items-center p3 mb3 pointer ".concat(i||"")},k.a.createElement("img",{alt:"user avatar",className:"w16 radius100p mr3",src:p}),k.a.createElement("div",null,k.a.createElement(R.a,{type:"subhead-300",weight:"bold",atoms:["mb1"]},m),a)),c&&h&&k.a.createElement("div",{className:"mb3 mx3"},k.a.createElement(F.a,{lines:3,ellipsis:k.a.createElement("span",null,"...",k.a.createElement(A.a,{atoms:["type-14 inline"],color:"ksr-green-700",onClick:u},"Read more"))},k.a.createElement("div",{className:"support-500 type-14"},h))),n&&k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{className:"flex justify-between px3"},k.a.createElement(R.a,{type:"caption-100",atoms:["dark-grey-500","mb1","light"]},o?"Previous projects":"Previous project"),k.a.createElement(A.a,{atoms:["type-12","support-400"===d?"text-underline light":"bold"],color:d,href:"/profile/".concat(t.slug,"/created"),target:"_blank"},r?"View all (".concat(r,")"):"View all")),k.a.createElement("hr",{className:"support-300 block mx3 mb0"}),k.a.createElement("div",{className:"p3"},n))))};var M=n("2DJ9"),U=n("Sdzn");const B=e=>{let t=e.name,n=e.className,a=e.url,i=e.imageUrl,r=e.children,o=e.headerClassName,s=void 0===o?"":o;return v.createElement(A.a,{atoms:["flex radius2px text-decoration-none-important items-center",n||""],href:a,target:"_blank"},v.createElement("div",{className:"flex-none w20 mr2"},v.createElement("div",{className:"aspect-ratio aspect-ratio--16x9"},v.createElement("img",{className:"aspect-ratio--object",src:i,alt:"Creator Project Card Image"}))),v.createElement("div",null,v.createElement("div",{className:"mb1 type-12 ".concat(s)},v.createElement(F.a,{lines:2},v.createElement("div",null,t))),r))},q=e=>{let t=e.successfulProjects;return k.a.createElement(k.a.Fragment,null,null==t?void 0:t.map((e,n)=>{if(null==e?void 0:e.node){const a=e.node,i=a.name,r=a.url,o=a.imageUrl,s=a.backersCount;return k.a.createElement(B,{key:"".concat(i,"-").concat(n),className:Object(U.a)(t,n)?"":"mb2",name:i,url:r,imageUrl:o},k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{className:"flex items-center mb1"},k.a.createElement(M.a,{name:"icon--confirmation",size:"10",atoms:["fill-support-400","support-400","mr1"]}),k.a.createElement("span",{className:"type-10 support-400"},"Funding successful")),k.a.createElement("div",{className:"flex items-center"},k.a.createElement(M.a,{name:"icon--human",size:"10",atoms:["fill-support-400","support-400","mr1"]}),k.a.createElement("span",{className:"type-10 support-400"},"".concat(s," backers")))))}}))};let $;!function(e){e.CANCELED="CANCELED",e.FAILED="FAILED",e.LIVE="LIVE",e.PURGED="PURGED",e.STARTED="STARTED",e.SUBMITTED="SUBMITTED",e.SUCCESSFUL="SUCCESSFUL",e.SUSPENDED="SUSPENDED"}($||($={}));const H=n("zLTe").CreatorBioExperiment,V=Object(P.k)(H,e=>{const t=e.data.project;return t&&t.creator?Object(P.l)({creator:t.creator,projectSlug:t.slug,projectUrl:t.url}):Object(P.d)()}),z=e=>{return e.successfulProjectsCount>=4?k.a.createElement("div",{className:"inline-block mr1 mb2"},k.a.createElement("span",{className:"px2 py1 trust-700 bg-trust-100 radius2px inline-block type-12 transition-all"},"Experienced creator")):k.a.createElement("div",{className:"inline-block mr1 mb2"},k.a.createElement("span",{className:"px2 py1 support-400 bg-support-100 radius2px inline-block type-12 transition-all"},"Returning creator"))},W=e=>{var t,n,a;let i=e.projectSlug,r=void 0===i?"":i,o=e.projectUrl,s=void 0===o?"":o,c=e.creator,l=e.onSeeMoreClick;return k.a.createElement(L,Object.assign({projectSlug:r,projectUrl:s,creator:c},{label:k.a.createElement(z,{successfulProjectsCount:(null==c?void 0:null===(t=c.successfulProjects)||void 0===t?void 0:t.totalCount)||0}),launchedProjectsTotalCount:null==c?void 0:null===(n=c.launchedProjects)||void 0===n?void 0:n.totalCount,viewAllColor:"create-700",onSeeMoreClick:l}),k.a.createElement(k.a.Fragment,null,(null==c?void 0:null===(a=c.successfulProjects)||void 0===a?void 0:a.edges)&&k.a.createElement(q,{successfulProjects:null==c?void 0:c.successfulProjects.edges.slice(0,1)})))},K=V(e=>Object(P.i)(e)?k.a.createElement(W,e):null),Y=e=>{var t,n;let a=e.projectSlug,i=void 0===a?"":a,r=e.projectUrl,o=void 0===r?"":r,s=e.creator,c=e.onSeeMoreClick;const l=(null==s?void 0:null===(t=s.successfulProjects)||void 0===t?void 0:t.edges)?null==s?void 0:s.successfulProjects.edges.slice(0,2).length:0;return k.a.createElement(L,Object.assign({projectSlug:i,projectUrl:o,creator:s,displayingMultipleProjects:l>1},{label:k.a.createElement(w.a,{creator:s}),showBiography:!1,onSeeMoreClick:c}),k.a.createElement(k.a.Fragment,null,(null==s?void 0:null===(n=s.successfulProjects)||void 0===n?void 0:n.edges)&&k.a.createElement(q,{successfulProjects:null==s?void 0:s.successfulProjects.edges.slice(0,2)})))},G=V(e=>Object(P.i)(e)?k.a.createElement(Y,e):null),J=e=>{let t=e.projectSlug,n=void 0===t?"":t,a=e.projectUrl,i=void 0===a?"":a,r=e.creator,o=e.onSeeMoreClick;const s=null==r?void 0:r.latestBackerFavoriteProject;return k.a.createElement(L,Object.assign({projectSlug:n,projectUrl:i,creator:r},{label:k.a.createElement(w.a,{creator:r}),showBiography:!0,onSeeMoreClick:o}),s&&k.a.createElement(k.a.Fragment,null,k.a.createElement(B,{className:"bg-trust-700 p1",name:s.name,url:s.url,imageUrl:s.imageUrl,headerClassName:"create-300"},k.a.createElement("div",{className:"flex flex-column"},k.a.createElement("div",{className:"flex items-center"},k.a.createElement(M.a,{name:"icon--human",size:"12",atoms:["fill-trust-100","trust-100","mr1"]}),k.a.createElement("span",{className:"type-10 trust-100"},"".concat(s.backersCount," backers"))),k.a.createElement("div",{className:"flex items-center"},k.a.createElement("div",{className:"trust-100 inline-block"},k.a.createElement(M.a,{atoms:["fill-trust-100 mr1"],name:"icon--happy",size:"12"}),k.a.createElement("span",{className:"type-10 transition-all"},"Backer Favorite")))))))},Q=V(e=>Object(P.i)(e)?k.a.createElement(J,e):null),X=e=>{var t,n;let a=e.projectSlug,i=void 0===a?"":a,r=e.projectUrl,o=void 0===r?"":r,s=e.creator,c=e.onSeeMoreClick;return k.a.createElement(L,Object.assign({projectSlug:i,projectUrl:o,creator:s},{label:k.a.createElement("div",{className:"trust-100 inline-block"},k.a.createElement(M.a,{atoms:["fill-trust-100 mr1"],name:"icon--happy",size:"12"}),k.a.createElement("span",{className:"text-uppercase bold type-10 transition-all"},"Backer Favorite")),headerClassName:"creator-bio-background bg-trust-700 white",launchedProjectsTotalCount:null==s?void 0:null===(t=s.launchedProjects)||void 0===t?void 0:t.totalCount,viewAllColor:"create-700",onSeeMoreClick:c}),(null==s?void 0:null===(n=s.successfulProjects)||void 0===n?void 0:n.edges)?k.a.createElement(q,{successfulProjects:null==s?void 0:s.successfulProjects.edges.slice(0,1)}):null)},Z=V(e=>Object(P.i)(e)?k.a.createElement(X,e):null);n.d(t,"ExperimentalCreatorBioWrapper",function(){return ie}),n.d(t,"combinedReducers",function(){return re}),n.d(t,"combinedInitialState",function(){return oe}),n.d(t,"experimentalCreatorBioInit",function(){return de}),n.d(t,"ConnectedExperimentalCreatorBioWrapper",function(){return ue}),n.d(t,"renderCreatorBio",function(){return he});const ee=e=>{const t=e.creator,n=t.imageUrl,a=t.name,i=t.biography,r=e.onClick;return k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{className:"hide block-md z2 flex w75p items-center justify-center"},k.a.createElement("button",{className:"mb6 no-outline",onClick:r,tabIndex:"-1"},k.a.createElement("img",{className:"hide block-md absolute radius100p bg-grey-400 w12 h12 shrink0 z1",src:n,alt:a}))),k.a.createElement("button",{onClick:r,className:"hide block-md relative w100p border border-grey-400 p3 pt9 mb6 type-14 keyboard-focusable-soft-black"},k.a.createElement("div",{className:"text-left type-16 bold clip text-ellipsis"},a),k.a.createElement("div",{className:"text-left mb3"},k.a.createElement(w.a,{creator:e.creator})),i&&k.a.createElement("div",{className:"text-left"},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:140;if(!e||e.length<=t)return e;const n=x(e,t),a=n.slice(-1);return"."===a?n:/\W/.test(a)?n.slice(0,-1).concat("..."):n.concat("...")}(i),k.a.createElement("span",{className:"pl1"},k.a.createElement("span",{className:"green-700 type-14"},Object(o.b)("project_page.creator_bio.See_more"))))))},te=e=>{let t=e.state,n=e.dispatch,a=e.onClose;const i=t.creatorSectionReducer,s=i.me,c=i.project,d=c.id,u=c.creator,g=c.verifiedIdentity,b=c.collaborators,v=t.projectModalReducer.modalType,y={[h.a.CREATOR_BIO]:{title:Object(o.b)("project_page.creator_bio.About_the_creator"),body:k.a.createElement(m.a,{creator:u,verifiedIdentity:g,collaborators:b.edges,onMessageCreatorClick:()=>n(Object(p.b)(h.a.MESSAGE_CREATOR)),loggedIn:Boolean(s&&s.id),canMessageCreator:Object(l.a)(u,s)})},[h.a.MESSAGE_CREATOR]:{title:Object(o.b)("project_page.message_creator.Send_a_message",{creator_name:u.name}),body:k.a.createElement(f.a,{creator:u,projectId:d,messageCreatorData:t.messageCreatorReducer,currentUser:s,dispatch:n})}};return _.a.createPortal(k.a.createElement(r.a,{headerCopy:y[v].title,size:"large",onClose:a},y[v].body),document.getElementById("creator-bio-modal-portal"))},ne=e=>()=>e(Object(p.b)(h.a.CREATOR_BIO)),ae=e=>()=>e(Object(p.a)()),ie=e=>{let t=e.state,n=e.dispatch;const a=t&&t.creatorSectionReducer&&t.creatorSectionReducer.project&&t.creatorSectionReducer.project.creator;return Object(v.useEffect)(()=>{var e=document.getElementsByClassName("js-rewards-column")[0];e&&t.projectModalReducer.opened?e.classList.add("z10"):e&&e.classList.remove("z10")},[t.projectModalReducer.opened]),a?k.a.createElement(k.a.Fragment,null,k.a.createElement(ee,{creator:a,onClick:ne(n)}),t.projectModalReducer.opened&&k.a.createElement(te,{state:t,dispatch:n,onClose:ae(n)})):null},re=Object(j.b)({creatorSectionReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CREATOR_SECTION_DATA":return Object(j.f)(e,j.a.run(C,{args:[t.projectSlug,t.shareToken],successActionCreator:E.b}));case"FETCH_CREATOR_SECTION_DATA_RESPONSE":return t.response.data;default:return e}},projectModalReducer:d.a,messageCreatorReducer:u.a,trackingReducer:s.a}),oe={messageCreatorReducer:Object(i.a)({},u.b),creatorSectionReducer:Object(i.a)({},N),projectModalReducer:Object(i.a)({},d.b),trackingReducer:{}},se=Object(c.a)(re,oe),ce=()=>{const e=document.getElementById("experimental-creator-bio");return[e,e&&e.dataset&&e.dataset.slug]},le=()=>{const e=ce(),t=Object(a.a)(e,2),n=t[0],i=t[1];n&&i&&_.a.render(k.a.createElement(ie,{state:se.getState(),dispatch:se.dispatch}),n)},de=()=>{const e=ce(),t=Object(a.a)(e,2),n=t[0],i=t[1];n&&(le(),se.subscribe(le),se.dispatch(Object(E.a)(i)))},ue=Object(y.c)(Object(g.a)(e=>({state:e})))(ie),me=e=>{let t=e.variation,n=e.slug,a=e.onSeeMoreClick;switch(t){case"variation_1":return k.a.createElement(K,{slug:n,onSeeMoreClick:a});case"variation_2":return k.a.createElement(G,{slug:n,onSeeMoreClick:a});case"variation_3":return k.a.createElement(Q,{slug:n,onSeeMoreClick:a});case"variation_4":return k.a.createElement(Z,{slug:n,onSeeMoreClick:a});default:return null}},pe=Object(y.c)(Object(g.a)(e=>({state:e})),e=>({dispatch:e,onSeeMoreClick:ne(e),onClose:ae(e)}))(e=>{const t=e.variation,n=e.slug,a=e.state,i=e.onSeeMoreClick,r=e.onClose,o=e.dispatch;return k.a.createElement(k.a.Fragment,null,k.a.createElement(me,{variation:t,slug:n,onSeeMoreClick:i}),a.projectModalReducer.opened&&k.a.createElement(te,{state:a,dispatch:o,onClose:r}))}),he=()=>{var e;const t=document.getElementById("experimental-creator-bio");if(!t)return;const n=null==t?void 0:null===(e=t.dataset)||void 0===e?void 0:e.variation;"control"!==n&&n?(()=>{const e=document.getElementById("experimental-creator-bio"),t=Object(T.a)(I.Honeybadger.notify.bind(I.Honeybadger));if(e){var n;const a=(null==e?void 0:e.dataset.slug)||"",i=null==e?void 0:null===(n=e.dataset)||void 0===n?void 0:n.variation;se.dispatch(Object(E.a)(a)),_.a.render(k.a.createElement(y.a,{store:se},k.a.createElement(D.a,{client:t},k.a.createElement(pe,{slug:a,variation:i}))),e)}})():de()};he()},dZEV:function(e,t,n){"use strict";var a=n("XS+r"),i=n("atWj"),r=n("qYa2"),o=n("94td");const s=e=>Object(a.b)({id:e}).then(t=>{if(!t.node)throw new Error(Object(o.b)("rich_editor.Received_invalid_data"));const n=t.node;if(n.videoStatus===i.a.ENCODING)return new Promise(e=>{setTimeout(e,5e3)}).then(()=>s(e)).catch(e=>{throw new Error(e)});if(n.videoStatus===i.a.ENCODED)return n;throw n.videoStatus===i.a.FAILED?new Error(Object(o.b)("rich_editor.Upload_asset_failed")):new Error(Object(o.b)("rich_editor.Received_invalid_asset_status",{status:n.videoStatus}))}).catch(()=>{throw new Error(Object(o.b)("rich_editor.Unable_to_fetch_asset"))}),c=(e,t)=>{const n=d(e);return t.includes(n)?Object(r.b)(e,l(n)):[Object(o.b)("uploaders.File_type_not_supported")]},l=e=>{switch(e){case u.VIDEO:return window.upload_limits?window.upload_limits.video:p;default:return{bytes:0,megabytes:0,contentTypes:[],name:"unknown"}}},d=e=>m.includes(e.type)?u.VIDEO:u.UNKNOWN;let u;!function(e){e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.UNKNOWN="UNKNOWN"}(u||(u={}));const m=["application/mp4","video/3gpp","video/mp4","video/mpeg","video/quicktime","video/vnd.objectvideo","video/x-flv","video/x-ms-wmv"],p={name:"video",megabytes:5120,bytes:5368709120,contentTypes:m};n.d(t,"d",function(){return a.a}),n.d(t,"e",function(){return a.c}),n.d(t,"a",function(){return i.a}),n.d(t,"c",function(){return i.f}),n.d(t,"g",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"b",function(){return u})},daZV:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("pTxv"),i=n("egyr"),r=n("94td"),o=n("eEls"),s=n("q1tI");const c=e=>{let t=e.kind,n=void 0===t?"secondary":t,c=e.showingCount,l=e.totalCount,d=e.pageSize,u=e.onClick,m=e.loading,p=e.remainingI18nKey,h=void 0===p?"defaults.Load_more":p,f=e.showPageCount,g=void 0===f||f,b=e.buttonI18nKey,_=e.hasMorePages,v=e.atoms,k=void 0===v?[]:v;return l>d?s.createElement("div",{className:k.join(" ")},g&&s.createElement("div",{className:"w100p center mb2 dark-grey-500 type-16"},s.createElement(r.a,{i18nKey:h,showing:c,total:l})),_&&s.createElement(a.g,{kind:n,onClick:m?o.d:u,fullWidth:!0},m?s.createElement(i.a,{size:"medium"}):s.createElement(r.a,{i18nKey:b}))):null}},dkkr:function(e,t,n){"use strict";n.d(t,"c",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return g});var a=n("pTxv"),i=n("t1f3"),r=n("2DJ9"),o=n("EoiL"),s=n("T8n5"),c=n("q1tI"),l=n("rcUh");const d=e=>{let t=e.children;return c.createElement("div",{className:"center px5 py10 border border-grey-500 bg-grey-100 text-center"},t)},u=e=>{let t=e.iconType,n=e.iconColor,a=void 0===n?"soft-black":n;return c.createElement(r.a,{atoms:["fill-".concat(a)],name:t,size:"36"})},m=e=>{let t=e.text,n=e.color,a=void 0===n?"soft-black":n;return c.createElement(o.a,{level:3,atoms:["mb2",a]},t)},p=e=>{let t=e.children;return c.createElement(s.a,{atoms:["mb0"],type:"subhead-200"},t)},h=e=>{const t=e.iconType||"icon--lightbulb",n=e.primaryColor||"soft-black",a=e.space||5;return c.createElement(d,null,c.createElement(u,{iconType:t,iconColor:n}),c.createElement(l.a,{vertical:a}),c.createElement(m,{text:e.primaryText,color:n}),c.createElement(p,null,e.secondaryText))},f=e=>c.createElement(d,null,c.createElement(u,{iconType:"icon--alert"}),c.createElement(m,{text:e.primaryText}),c.createElement(p,null,e.secondaryText)),g=e=>c.createElement(d,null,c.createElement(i.a,{name:"teeth-chattering",atoms:["mb5","w30"]}),c.createElement(m,{text:e.primaryText}),c.createElement(p,null,e.secondaryText),e.buttonText&&e.buttonUrl&&c.createElement(a.c,{atoms:["mt3"],theme:"support",size:"large",href:e.buttonUrl},e.buttonText))},dmhg:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=(n("ADAi"),n("+QRC")),o=n.n(r);i()(function(){i.a.clipster(".clipster"),i()(document).on("click",".js-copy-to-clipboard",e=>{e.preventDefault(),o()(e.currentTarget.dataset.copy);const t=i()(e.currentTarget).find("svg");t.removeClass("fill-blue-500").addClass("fill-green-500"),setTimeout(()=>{t.removeClass("fill-green-500").addClass("fill-blue-500")},500)})})},dutg:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("94td"),i=n("q1tI");const r=e=>{let t=e.creator;const n=t.launchedProjects,r=t.backingsCount,o=(null==n?void 0:n.totalCount)||0,s=1!==o?Object(a.b)("project_page.creator_bio.Projects_created",{number_of_projects:o}):Object(a.b)("project_page.creator_bio.First_created"),c=Object(a.b)("project_page.creator_bio.Projects_backed",{number_of_projects:r});return i.createElement(i.Fragment,null,s,i.createElement("span",{className:"divider"}," · "),c)}},dvPR:function(e,t,n){"use strict";n.r(t);var a=n("UB5X"),i=n.n(a),r=n("QHKZ"),o=n.n(r);n.d(t,"Honeybadger",function(){return o.a});var s=n("KZo6"),c=n("oMXI");if(window.honeybadgerConfiguration){const e=window.honeybadgerConfiguration;Object(c.b)()||Object(c.c)()||(e.disabled=!0),o.a.configure(e)}if("function"==typeof o.a.setContext&&o.a.setContext(Object(s.b)()),"function"==typeof o.a.beforeNotify){const e=.01;o.a.beforeNotify(t=>{if(t.fingerprint=Object(s.c)(t),Object(c.a)())return console.error("Honeybadger in development",t),!1;if(!Object(s.d)())return!1;if(s.a.test(window.location.href))return!1;if("production"===t.environment){const n=i()(t.__RATE_LIMIT__)?t.__RATE_LIMIT__:e;if(Math.random()>n)return!1}})}},dw72:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("2UXI"),o=n("/AD1");!function(){function e(e,t){if(void 0!==e){var n="internal";i()("body").is(".widget")&&(n="external"),i.a.ajax({url:e,type:"post",data:{event_type:t,location:n}})}}function t(e){return i()("body").is(".widget")||e.closest("#projects_show").length?"Project":e.closest(".school").length?"School":e.closest(".NS_site__homepage_staff_picks").length?"Homepage Editorial":e.closest("#projects_start").length?"Start Project":e.closest("body.posts").length?"Project Post":e.closest("#projects_edit").length?"Project Edit":e.closest("#jobs_index").length?"Jobs Page":e.closest(".activity").length?"Activity":"Other"}var n;function a(e){window.koala_video_progress_endpoint&&(n=setInterval(function(){var t=e.current_position();!function(e){i.a.ajax({type:"POST",url:window.window.koala_video_progress_endpoint,data:JSON.stringify({project_name:o.a.data.name,project_pid:o.a.data.id,backers_count:o.a.data.backers_count,blurb:o.a.data.blurb,category_name:o.a.data.category.name,comments_count:o.a.data.comments_count,creator_name:o.a.data.creator.name,currency_symbol:o.a.data.currency_symbol,goal:o.a.data.goal,launched_at:o.a.data.launched_at,photo_full:o.a.data.photo.full,photo_thumb:o.a.data.photo.thumb,project_url:o.a.data.urls.web.project,usd_pledged:o.a.data.usd_pledged,video:o.a.data.video,video_playhead_position:e}),contentType:"text/plain; charset=UTF-8"})}(Math.floor(t))},1e3))}function s(e){return function(n){var a=i()(n.target),o=t(a),s=a.attr("data-video-name");Object(r.d)(o+" "+e,{video_name:s})}}i()(document).on("ksr_video:playing",function(n,o){var s=i()(n.target),c=t(s),l=s.data("ksr_video"),d=l.current_position(),u=s.closest(".video-player").attr("data-video-tracker-url"),m=s.attr("data-video-name");a(l),o?(e(u,"start"),Object(r.d)(c+" Video Start",{track_count:s.find("track").length,track_language:s.data("language"),video_name:m})):Object(r.d)(c+" Video Resume",{position:d,video_name:m})}).on("ksr_video:paused",function(e){var a=i()(e.target),o=a.data("ksr_video"),s=t(a),c=o.current_position(),l=a.attr("data-video-name");clearInterval(n),Object(r.d)(s+" Video Pause",{position:c,video_name:l})}).on("ksr_video:ended",function(n){var a=i()(n.target),o=a.data("ksr_video"),s=t(a),c=o.duration(),l=a.closest(".video-player").attr("data-video-tracker-url"),d=a.attr("data-video-name");e(l,"complete"),Object(r.d)(s+" Video Complete",{duration:c,video_name:d})}).on("ksr_video:change_track",function(e,n){var a=i()(e.target),o=t(a),s=a.attr("data-video-name");Object(r.d)(o+" Video Change Track",{track_language:n,video_name:s})}).on("ksr_video:muted",s("Video Mute")).on("ksr_video:unmuted",s("Video Unmute")).on("ksr_video:volume_adjusted",s("Video Volume Adjustment"))}()},eEls:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return o});const a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>(function(){return e(t(...arguments))}))},i=e=>()=>e,r=e=>e,o=()=>void 0},eH4U:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return m}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return h});var a=n("pj8f"),i=n("94td"),r=n("g84z"),o=n("zm9w"),s=n("Owp+"),c=n("vtU4"),l=n("dtw8");const d=(e,t)=>"".concat(o.a.money(Number(e),{currency:t,type:"truncate_zeros"})),u=(e,t,n,i)=>{switch(n){case s.a.FreeformPost:return c.b.EDIT_FREEFORM_POST.url(e,t,i);case s.a.CreatorInterview:return c.b.EDIT_CREATOR_INTERVIEW.url(e,t,i);default:return a.Honeybadger.notify("Unknown post type for edit link:"+n),c.b.NEW_FREEFORM_POST.url(e,t)}},m=e=>{const t=Object(l.b)(window.location.pathname,e);return!(!t||!t.isExact)},p=e=>e&&e.includes("docs.google.com/spreadsheets"),h=()=>{const e=Object(r.a)(window.location.search).question,t={question1:Object(i.b)("project_updates.What_have_you_been_working_on_since_your_last_update?"),question2:Object(i.b)("project_updates.How_are_you_working_through_the_challenges"),question3:Object(i.b)("project_updates.What_is_your_next_big_milestone")}[e];if(t)return"<h1>".concat(t,"</h1><br/>")}},egyr:function(e,t,n){"use strict";var a=n("2DJ9"),i=n("q1tI"),r=n.n(i);t.a=e=>{let t=e.size,n=void 0===t?"large":t,i=e.fillColor;return r.a.createElement(a.a,{name:"icon--circle-loader",atoms:i?[i]:void 0,size:n})}},"eo+I":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("W2lQ"),n("RIhn");i()(".sound_player:visible").livequery(function(){i()(this).sound_player()})},ese3:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("yQm5"),i=n.n(a);function r(e,t,n){var a=i()(e).absoluteTo(window.location),r=i()(t).absoluteTo(window.location);return(n=n||{}).ignore_query&&(a.search({}),r.search({})),n.ignore_hash&&(a.hash(""),r.hash("")),a.equals(r)}},etHd:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("GRmu"),o=n("0VSk");n("RIhn");!function(){function e(e){var t=o.default.t("onloads.views.follows.follow_button.Follow"),n=o.default.t("onloads.views.follows.follow_button.Following")+'<svg class="svg-icon__check ml1"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#check"></use></svg>';e.data("is-following")?(e.html(n),e.removeClass("btn--border-green"),e.addClass("btn--green")):(e.html(t),e.removeClass("btn--green"),e.addClass("btn--border-green")),e.removeClass("hidden")}function t(t,n){t.data("is-following")?(t.data("is-following",!1),e(t),n&&t.trigger("ksr:unfollow_user")):(t.data("is-following",!0),e(t),n&&t.trigger("ksr:follow_user"))}i()(".js-follow-all").livequery(function(){var e=i()(this);e.on("click",function(){var n=e.data("url"),a=i()('<span class="spinner" />').spin("ksr","#000"),s=e.data("type");i.a.ajax({url:n,dataType:"json",method:"post",data:{type:s},beforeSend:function(){e.addClass("btn--disabled"),e.prepend(a)}}).success(function(n){200===n.status?(!function(e,n,a){i()(".js-follow-user").each(function(){i()(this).data("is-following")||t(i()(this),!1)}),e.unbind("click"),e.html(o.default.t("onloads.views.follows.follow_all_button.Following_all")),e.addClass("btn--disabled"),e.trigger("ksr:follow_all",[n,a])}(e,n.user_count,n.project_count),Object(r.a)({success:n.message})):(e.removeClass("btn--disabled"),Object(r.a)({success:n.message}))}).complete(function(){a.remove()})})}),i()(".js-follow-user").livequery(function(){var n=i()(this);n.on("click",function(e){var a=n.data("is-following")?n.data("unfollow-path"):n.data("follow-path");n.prop("disabled",!0),i.a.ajax({url:a,dataType:"json",method:"post"}).success(function(e){200===e.status?t(n,!0):Object(r.a)({error:e.message})}).complete(function(){n.prop("disabled",!1)}),e.preventDefault()}),n.on("mouseenter focus",function(){!function(e){e.data("is-following")&&(e.data("previous-html",e.html()),e.html(o.default.t("onloads.views.follows.follow_button.Unfollow")))}(n)}),n.on("mouseleave blur",function(){!function(e){var t=e.data("previous-html");e.data("is-following")&&t&&e.html(t)}(n)}),n.on("ksr:set_to_follow",function(){n.data("is-following")&&t(n,!0)}),e(n)})}()},"f/gE":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("q1tI");const i=e=>{let t=e.children,n=e.atoms,i=void 0===n?[]:n,r=e.id;const o=["grid-row"].concat(i).join(" ");return a.createElement("div",{className:o,id:r},t)}},"f/yv":function(e,t,n){"use strict";n.d(t,"i",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"h",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"g",function(){return h}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return g}),n.d(t,"e",function(){return b}),n.d(t,"f",function(){return _}),n.d(t,"j",function(){return v});var a=n("prSB"),i=n("MgNI"),r=n("NAv5"),o=n("94td"),s=n("arGM");const c=(e,t)=>Object(a.a)({},e,{},t),l=(e,t)=>Math.round(e/t*100),d=(e,t,n,a,i)=>{let r=e;return t!==n||a!==i?(r=e-Math.ceil((e-5e3)/2),Math.max(r,5e3)):(r=e+1e3,Math.min(r,6e4))},u=e=>Math.floor(60*e*1e3),m=e=>Math.floor(60*e*60*1e3),p=e=>Math.floor(24*e*60*60*1e3),h=(e,t)=>1===Math.round(e)?t:"".concat(t,"s"),f=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.ref,i="".concat(t,"/pledge/new"),r=a?{clicked_reward:!1,ref:a}:{clicked_reward:!1};return e&&(i="".concat(t,"/pledge"),r={ref:"manage_pledge"}),Object(s.d)(i,r)},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Date.now(),a=t?e:1e3*e,i=a-n;return i<=0?[0,Object(o.b)("project_page.project_stats.time.seconds")]:i<=u(2)?[Object(r.differenceInSeconds)(a,n),Object(o.b)("project_page.project_stats.time.".concat(h(Object(r.differenceInSeconds)(a,n),"second")))]:i<=m(2)?[Object(r.differenceInMinutes)(a,n),Object(o.b)("project_page.project_stats.time.minutes")]:i<=m(72)?[Object(r.differenceInHours)(a,n),Object(o.b)("project_page.project_stats.time.hours")]:i<=p(60)?[Object(r.differenceInDays)(a,n),Object(o.b)("project_page.project_stats.time.days")]:[0,""]},b=e=>{return e.launchedProjects.nodes.filter(e=>e.isLaunched)},_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.maybe.fromNullable(e).getOrElse(t)},v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!(!e.id||!t.creator)&&i.maybe.fromNullable(t.creator.id).map(t=>String(t)===String(e.id)).getOrElse(!1)}},fAGL:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var a=n("94td");const i=Object(a.b)("settings.lose_changes");let r;const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;window.onbeforeunload&&(r=window.onbeforeunload),window.onbeforeunload=t=>(t.returnValue=e,e)},s=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e&&r)return window.onbeforeunload=r,void(r=void 0);window.onbeforeunload=void 0}},fBlF:function(e,t,n){var a=n("+2Rf");n("+2Rf");!function(e){e.fn.render=function(t){return e(this).each(function(){e(this).data("renderer")(t)}),this},e.fn.define_renderer=function(t){return e(this).data("renderer",t),this}}(a)},fewB:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ComposeCreatorInterviewPostFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publish"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"destroy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"update"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isPublic"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"excludedRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasExcludedNoRewardTier"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creatorPrompt"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"questions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"answers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withSkipped"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"withBlank"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSkipped"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"question"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Post"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ComposeCreatorInterviewPostFragment"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateCreatorInterview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateCreatorInterviewInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createCreatorInterview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creatorInterview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateCreatorInterview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateCreatorInterviewInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateCreatorInterview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creatorInterview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ComposeCreatorInterviewPostFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:981}};n.loc.source={body:"fragment ComposeCreatorInterviewPostFragment on Postable {\n  id\n  title\n  actions {\n    publish\n    destroy\n    update\n  }\n  isPublic\n  publishedAt\n  excludedRewards {\n    nodes {\n      id\n    }\n  }\n  hasExcludedNoRewardTier\n  ... on CreatorInterview {\n    creatorPrompt {\n      id\n      questions {\n        nodes {\n          id\n          body\n        }\n      }\n    }\n    answers(withSkipped: true, withBlank: true) {\n      nodes {\n        id\n        body\n        isSkipped\n        question {\n          id\n        }\n      }\n    }\n  }\n}\n\nquery Post($id: ID!) {\n  post(id: $id) {\n    ...ComposeCreatorInterviewPostFragment\n  }\n}\n\nmutation CreateCreatorInterview($input: CreateCreatorInterviewInput!) {\n  createCreatorInterview(input: $input) {\n    creatorInterview {\n      id\n    }\n  }\n}\n\nmutation UpdateCreatorInterview($input: UpdateCreatorInterviewInput!) {\n  updateCreatorInterview(input: $input) {\n    creatorInterview {\n      ...ComposeCreatorInterviewPostFragment\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function r(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.Post=r(n,"Post"),e.exports.CreateCreatorInterview=r(n,"CreateCreatorInterview"),e.exports.UpdateCreatorInterview=r(n,"UpdateCreatorInterview")},fivf:function(e,t,n){"use strict";n.r(t);var a=n("bpk+"),i=n.n(a),r=n("aiSh"),o=n("pj8f"),s=n("q1tI"),c=n.n(s),l=n("4KRT"),d=n("i8i4"),u=n.n(d),m=n("eO8H"),p=n("gN63"),h=n("Owp+"),f=n("vtU4"),g=n("LdJi"),b=n("1eGs"),_=n("8ZZx");const v=()=>{const e=_.a.PUBLISHED_POSTS,t=_.a.DRAFT_POSTS,n=_.a.POSTS_DASHBOARD;return s.createElement(m.i,null,s.createElement(m.g,{exact:!0,path:e.path,render:t=>{let n=t.match;return s.createElement(e.Component,{projectSlug:n.params.projectSlug,projectCreator:n.params.projectCreator,state:b.b.published})}}),s.createElement(m.g,{exact:!0,path:t.path,render:e=>{let n=e.match;return s.createElement(t.Component,{projectSlug:n.params.projectSlug,projectCreator:n.params.projectCreator,state:b.b.draft})}}),s.createElement(m.g,{exact:!0,path:n.path,render:e=>{let t=e.match;return s.createElement(m.f,{to:_.a.DRAFT_POSTS.url(t.params.projectCreator,t.params.projectSlug)})}}))},k=()=>s.createElement("div",{className:"py14"},s.createElement(g.a,null,s.createElement(v,null)));var y=n("94td"),j=n("prSB"),E=n("msqZ"),w=n.n(E),S=n("2DJ9"),O=n("OJn5"),C=n("tr1H"),N=n("1vCr"),x=n("CPM0"),T=n("mv45"),I=n("TIPN"),D=n("5FPU"),P=n("a8OY"),A=n("GnmY"),R=n("cuY2"),F=n.n(R);const L=n("fewB"),M=(L.ComposeCreatorInterviewPostFragment,L.Post),U=L.CreateCreatorInterview,B=L.UpdateCreatorInterview,q=(e,t)=>{const n=e&&e.nodes&&e.nodes.map(e=>e&&e.id).filter(e=>e)||[];return{formattedExcludedRewardIds:n,showSelectTiers:Boolean(n.length>0),hasExcludedNoRewardTier:Boolean(t)}},$=Object(T.c)(e=>{if(!e.data||!e.data.post)return Object(T.d)(e.data.error);const t=e.data.post,n=t.title,a=t.actions,i=a.publish,r=a.destroy,o=a.update,s=t.publishedAt,c=t.creatorPrompt.questions.nodes,l=t.isPublic,d=t.excludedRewards,u=t.hasExcludedNoRewardTier,m=t.answers.nodes,p=Boolean(s),h=c?c.filter(e=>e):[],f=m?m.filter(e=>e):[],g=e=>{const t=f.find(t=>t.question.id===e.id);return t?{id:t.id,body:t.body,skip:t.isSkipped}:{id:"",body:"",skip:!1}},b=h.map(e=>Object(j.a)({},e,{answer:g(e)}));return Object(T.l)(Object(j.a)({isPublished:p,isPublic:l,canDelete:r,canPublish:i,canUpdate:o,title:n||"",questions:b},q(d,u)))}),H=Object(l.c)(M,$),V=Object(T.b)(e=>({onCreateCreatorInterview:t=>e.mutate({variables:{input:t}})})),z=Object(l.c)(U,V),W=Object(T.b)(e=>({onUpdateCreatorInterview:t=>e.mutate({variables:{input:t}})})),K=Object(l.c)(B,W),Y=n("o65o"),G=(Y.PostIncludeExcludeRewardFragment,Y.PostIncludeReward),J=Y.PostExcludeReward,Q=e=>e.map(e=>({id:e,__typename:"Reward"})),X=(e,t)=>{const n=t.id,a=t.hasExcludedNoRewardTier,i=t.formattedExcludedRewardIds;return{postExcludeReward:{__typename:"PostExcludeRewardPayload",post:{__typename:"FreeformPost",id:n,hasExcludedNoRewardTier:null===e||a,excludedRewards:{__typename:"RewardConnection",nodes:(()=>null==e?Q(i):Q(i).concat({id:e,__typename:"Reward"}))()}}}}},Z=(e,t)=>{const n=t.id,a=t.hasExcludedNoRewardTier,i=t.formattedExcludedRewardIds;return{postIncludeReward:{__typename:"PostIncludeRewardPayload",post:{__typename:"FreeformPost",id:n,hasExcludedNoRewardTier:null!==e&&a,excludedRewards:{__typename:"RewardConnection",nodes:(()=>null==e?Q(i):i.reduce((t,n)=>n===e?t:t.concat({id:n,__typename:"Reward"}),[]))()}}}}},ee=Object(T.b)(e=>{const t=e.mutate,n=e.ownProps;return{postExcludeReward:e=>t({variables:{input:e},optimisticResponse:X(e.rewardId,n)})}}),te=Object(l.c)(J,ee),ne=Object(T.b)(e=>{const t=e.mutate,n=e.ownProps;return{postIncludeReward:e=>t({variables:{input:e},optimisticResponse:Z(e.rewardId,n)})}}),ae=Object(l.c)(G,ne),ie=Object(T.a)(te,ae);var re=n("JhfJ"),oe=n("RBqt");const se=e=>Boolean(e.text)?s.createElement("div",{className:"border border-red-500 radius2px p3 flex mb5"},s.createElement(S.a,{atoms:["fill-red-500","mr2"],name:"icon--alert",size:"20"}),s.createElement("div",{className:"flex1"},s.createElement(oe.a,{weight:"bold"},e.text))):null;var ce=n("DjBF"),le=n("lHf8"),de=n("8oY9"),ue=n("ZCb5"),me=n("ZCHx"),pe=n("CgNg"),he=n("jQIB"),fe=n("mEsB"),ge=n("eH4U");let be;!function(e){e.AUD="AUD",e.CAD="CAD",e.CHF="CHF",e.DKK="DKK",e.EUR="EUR",e.GBP="GBP",e.HKD="HKD",e.JPY="JPY",e.MXN="MXN",e.NOK="NOK",e.NZD="NZD",e.PLN="PLN",e.SEK="SEK",e.SGD="SGD",e.USD="USD"}(be||(be={}));const _e=n("JNOO").Rewards,ve=Object(T.c)(e=>{if(!e.data||!e.data.project)return Object(T.d)(e.data.error);const t=e.data.project,n=t.rewards,a=t.backersCount,i=n&&n.nodes?n.nodes.map(e=>e&&{id:e.id,description:e.description,displayName:e.displayName,backersCount:Object(y.b)("project_updates.Backers",{count:e.backersCount}),formattedAmount:Object(ge.a)(e.amount.amount,e.amount.currency)}):[],r=a-(n&&n.nodes?n.nodes.map(e=>e&&e.backersCount).reduce((e,t)=>e+(t||0),0):0);return Object(T.l)({noRewardBackingsCount:r,rewards:i})}),ke=Object(l.c)(_e,ve);var ye=n("4sJn");const je=e=>{let t=e.width,n=void 0===t?16:t,a=e.color,i=void 0===a?"soft-black":a,r=e.baseline,o=void 0!==r&&r;return s.createElement(ye.a,{width:n,atoms:[i,o?"valign-baseline":""],viewBox:"0 0 16 13"},s.createElement("path",{d:"M5.8 12.9L0.1 8.1C0 7.9 0 7.7 0.1 7.6L1 6.6C1.1 6.5 1.3 6.5 1.4 6.6L5.8 10.3 14.4 0.1C14.5 0 14.7 0 14.8 0.1L15.9 0.9C16 1 16 1.2 15.9 1.4L6.3 12.9C6.1 13 5.9 13 5.8 12.9Z",fill:"currentColor"}))};var Ee=n("/IHD");const we=Object(Ee.a)("relative","radius2px","mr2","flex","items-center","justify-center","border","type-16"),Se=Object(Ee.a)("o0p","absolute","t0","l0","r0","b0","w100p","h100p","m0"),Oe=e=>{const t=Object(Ee.a)("w3 h3",e.checked&&!e.disabled?"border-ksr-green-500 bg-ksr-green-500":"",e.checked&&e.disabled?"border-drip-gray bg-drip-gray":"",!e.checked&&e.disabled?"border-drip-gray bg-drip-gray":"",e.checked||e.disabled?"":"border-drip-mild-gray bg-white",we),n=e.disabled&&!e.checked?"transparent":e.disabled&&e.checked?"drip-light-gray":"white",a=e.disabled?"cursor-default":"pointer",i=Object(Ee.a)(Se,a);return s.createElement("div",{className:"flex items-center border border-transparent border-focused-within-ksr-green-500"},s.createElement("div",{className:t},s.createElement(je,{width:12,color:n}),s.createElement("input",{type:"checkbox",id:e.id,name:e.name,value:e.value,disabled:e.disabled,defaultChecked:e.checked,"aria-checked":e.checked,onChange:t=>e.onChange(t.currentTarget.checked),className:i})),s.createElement("label",{className:"type-16 "+a,htmlFor:e.id},e.label))};var Ce=n("rcUh");const Ne=e=>0===e.noRewardBackingsCount?null:s.createElement("div",{className:"mb1"},s.createElement(Oe,{id:"no-reward-checkbox",name:"no-reward",label:Object(y.b)("project_updates.No_reward"),checked:!e.hasExcludedNoRewardTier,onChange:t=>e.onChangeRewardIdNotification(t,null),disabled:e.isPublished}),s.createElement(Ce.a,{horizontal:2}),s.createElement("p",{className:"pl5 dark-grey-400 type-14 mb0"},Object(y.b)("project_updates.Backers",{count:e.noRewardBackingsCount}))),xe=ke(e=>{const t=e.isShowing?"block":"hide";return Object(T.h)(e)?s.createElement(S.a,{size:"medium",name:"icon--circle-loader",atoms:[t,"mx-auto","mt2"]}):Object(T.g)(e)?(o.Honeybadger.notify(JSON.stringify(e.error),{context:{tags:C.a.POST_UPDATES}}),null):s.createElement("div",{className:t},s.createElement(Ce.a,{vertical:3}),s.createElement(Ne,e),e.rewards.map(t=>s.createElement("div",{className:"mb1",key:t.id},s.createElement("div",{className:"flex items-center"},s.createElement("div",{className:"flex1"},s.createElement(Oe,{id:"reward-".concat(t.id),name:"reward-".concat(t.id),key:"reward-".concat(t.id),label:t.displayName,checked:!e.excludedRewardIds.includes(t.id),onChange:n=>e.onChangeRewardIdNotification(n,t.id),disabled:e.isPublished})),s.createElement(Ce.a,{horizontal:2}),s.createElement(fe.a,{label:s.createElement(s.Fragment,null,s.createElement("h3",{className:"m0 type-16"},t.displayName),s.createElement("p",{className:"mt0 mb2 type-14"},t.formattedAmount," - ",t.backersCount),s.createElement("p",{className:"m0 type-14"},t.description)),ariaLabel:"".concat(t.displayName," ").concat(t.formattedAmount," - ").concat(t.backersCount," ").concat(t.description)},s.createElement(S.a,{size:"16",name:"icon--info",atoms:["fill-dark-grey-400"]}))),s.createElement("p",{className:"pl5 dark-grey-400 type-14 mb0"},t.formattedAmount," - ",t.backersCount))))}),Te=e=>s.createElement(s.Fragment,null,s.createElement(de.a,{id:"post-title",label:Object(y.b)("project_updates.Title")}),s.createElement("span",{className:"block pb1"}),s.createElement(pe.b,{id:"post-title",autoComplete:"off",placeholder:Object(y.b)("project_updates.Incredible_start"),inputValue:e.value,onChange:e.onChange,hasErrors:Boolean(e.error),currentFocus:"post-title",charLimit:255}),e.error&&s.createElement("span",{className:"block mt1 red-500"},e.error)),Ie=e=>{const t=s.useState(!1),n=Object(ce.a)(t,2),a=n[0],i=n[1],r=s.useRef(!0);s.useEffect(()=>{r.current?r.current=!1:a?Object(A.e)("project-update-body",Object(p.a)(e.postId)):a||Object(A.f)("project-update-body",Object(p.a)(e.postId))},[a]);const o=e.value&&Object(ge.e)(e.value);return o&&!a?i(!0):!o&&a&&i(!1),s.createElement(s.Fragment,null,s.createElement(de.a,{id:"post-body",label:Object(y.b)("project_updates.Body")}),s.createElement("span",{className:"block pb1"}),s.createElement(O.a,{placeholder:Object(y.b)("project_updates.Thank_you_all_so_much"),value:e.value,onBlur:e.onChange,attachableAssoc:"body_assets",attachableId:e.postId,hasErrors:Boolean(e.error),hasWarnings:Boolean(o),ToolBar:ue.a,checkForPossiblePII:!0,tracking:{editorToolClicked:t=>{Object(A.c)(e.postType,t)},videoUploaded:()=>{Object(A.t)(e.postType)},piiWarningTriggered:()=>{Object(A.e)("project-update-link-modal",Object(p.a)(e.postId))},piiWarningUntriggered:()=>{Object(A.f)("project-update-link-modal",Object(p.a)(e.postId))},piiWarningLinkToTerms:()=>{Object(A.d)("project-update-link-modal")}}}),e.error&&s.createElement("span",{className:"red-500"},e.error),!e.error&&o&&s.createElement(he.a,{intoView:!0,offset:100},s.createElement(y.a,{atoms:["type-14","orange-500"],i18nKey:"project_updates.Make_sure_your_linked_documents_don’t_contain_any_backer_information",link:s.createElement(le.a,{color:"orange-500",target:"_blank",onClick:()=>Object(A.d)("project-update-body"),href:"https://www.kickstarter.com/terms-of-use#section3"},Object(y.b)("project_updates.Our_terms"))})))},De=e=>{const t=[{value:"public",label:Object(y.b)("project_updates.Public_everyone")},{value:"backers",label:Object(y.b)("project_updates.Backers_only")}];return s.createElement(s.Fragment,null,s.createElement(de.a,{id:"post-viewable-by",label:Object(y.b)("project_updates.Visible_to")}),s.createElement("span",{className:"block pb1"}),s.createElement(me.a,{options:t,selectedValue:e.value?t[0].value:t[1].value,onChange:t=>e.onChange("public"===t)}))},Pe=e=>{const t=[{value:"all-backers",label:Object(y.b)("project_updates.All_backers")},{value:"select-tiers",label:Object(y.b)("project_updates.Select_tiers")}],n=e.showSelectTiers?"select-tiers":e.value,a="select-tiers"===e.value||e.showSelectTiers;return s.createElement(s.Fragment,null,s.createElement(de.a,{id:"post-notifications",label:Object(y.b)("project_updates.Notifications")}),s.createElement("span",{className:"block pb1"}),s.createElement(me.a,{options:t,selectedValue:n,onChange:e.onChange,disabled:e.isPublished}),s.createElement(xe,{projectSlug:e.projectSlug,isShowing:a,excludedRewardIds:e.excludedRewardIds,onChangeRewardIdNotification:e.onChangeRewardIdNotification,isPublished:e.isPublished,hasExcludedNoRewardTier:e.hasExcludedNoRewardTier}))};var Ae=n("T8n5");const Re=e=>s.createElement("div",{className:"flex pb3 pb0-md"},s.createElement(S.a,{size:"20",name:"icon--lightbulb",atoms:["fill-ksr-green-500","shrink0"]}),s.createElement(Ce.a,{horizontal:1}),s.createElement(Ae.a,{color:"ksr-green-500",type:"body-100"},e.text)),Fe=e=>s.createElement("div",{className:"flex-md w100p"},s.createElement("div",{className:"flex2"},e.leftCol&&e.leftCol()),s.createElement("div",{className:"flex1 ml3-md"},e.rightCol&&e.rightCol()));class Le extends s.Component{render(){const e=["project-updates-action-bar","fixed","b0","r0","h12","px2","px4-lg","z-modal-3","border-box","bg-grey-300","border-top","w100p"].join(" ");return s.createElement("div",{className:e},s.createElement("div",{className:"h100p flex items-center"},this.props.children))}}var Me=n("pTxv"),Ue=n("v9JK"),Be=n("9jZ4");class qe extends s.Component{constructor(){super(...arguments),this.state={isDeleting:!1},this.onDelete=async()=>{this.setState({isDeleting:!0}),await this.props.onDelete(),this.setState({isDeleting:!1}),this.props.onComplete()},this.confirmDelete=()=>confirm(Object(y.b)("project_updates.Are_you_sure_you_want_to_delete"))?this.onDelete():null}render(){return s.createElement(s.Fragment,null,s.createElement("div",{className:"hide block-lg"},s.createElement("button",{type:"button",disabled:this.state.isDeleting,className:"block mx-auto mx0-md type-14 mb4 mb0-md red-500 text-underline",onClick:this.confirmDelete},this.state.isDeleting?Object(y.b)("project_updates.Deleting"):this.props.buttonText)),s.createElement("div",{className:"hide-lg"},s.createElement("button",{type:"button",disabled:this.state.isDeleting,className:"bg-transparent p0 no-border",onClick:this.confirmDelete},s.createElement(S.a,{name:"icon--trash",size:"20",atoms:["fill-soft-black"]}))))}}class $e extends s.Component{constructor(){super(...arguments),this.state={isPreviewing:!1},this.onPreview=async e=>{e.persist(),await this.setState({isPreviewing:!0}),await this.props.onPreviewPost(e),this.setState({isPreviewing:!1})}}componentWillUnmount(){this.setState({isPreviewing:!1})}render(){return s.createElement(Me.d,{theme:"support",disabled:this.state.isPreviewing,onClick:this.onPreview,atoms:["flex1","max-w40","no-wrap","mr1","mr3-md"]},s.createElement("span",{className:"hide block-lg"},this.state.isPreviewing?Object(y.b)("project_updates.Previewing"):Object(y.b)("project_updates.Preview")),s.createElement("span",{className:"hide-lg"},s.createElement(S.a,{name:"icon--eye",size:"large",atoms:["fill-soft-black"]})))}}class He extends s.Component{constructor(){super(...arguments),this.state={isSaving:!1},this.onSavePublishedPost=async e=>{await this.setState({isSaving:!0}),await this.props.onSavePublishedPost(e),this.setState({isSaving:!1})}}render(){return s.createElement(Me.c,{type:"button",disabled:this.state.isSaving,onClick:this.onSavePublishedPost,atoms:["flex1","max-w40","no-wrap"]},this.state.isSaving?Object(y.b)("project_updates.Saving"):Object(y.b)("project_updates.Save_changes"))}}class Ve extends s.Component{constructor(){super(...arguments),this.state={isSavingDraft:!1},this.onSaveDraft=async e=>{await this.setState({isSavingDraft:!0}),await this.props.onSaveDraft(e),this.setState({isSavingDraft:!1})}}render(){return s.createElement(Me.d,{theme:"support",disabled:this.state.isSavingDraft,onClick:this.onSaveDraft,atoms:["flex1","max-w40","no-wrap","mr1","mr3-md"]},s.createElement("span",{className:"hide block-lg"},this.state.isSavingDraft?Object(y.b)("project_updates.Saving"):this.props.isDirty?Object(y.b)("project_updates.Save_draft"):Object(y.b)("project_updates.Draft_saved")),s.createElement("span",{className:"hide-lg"},this.state.isSavingDraft?s.createElement(S.a,{name:"icon--circle-loader",size:"large",atoms:["fill-soft-black"]}):this.props.isDirty?s.createElement(S.a,{name:"icon--save",size:"large",atoms:["fill-soft-black"]}):s.createElement(S.a,{name:"icon--saved",size:"large",atoms:["fill-soft-black"]})))}}const ze=e=>s.createElement(m.c,{className:"flex1 max-w40 mr1 mr3-md",to:e.editUrl},s.createElement(Me.d,{theme:"support",atoms:["no-wrap","border-box","w100p"]},s.createElement("span",{className:"hide block-lg"},Object(y.b)("project_updates.Edit")),s.createElement("span",{className:"hide-lg"},s.createElement(S.a,{name:"icon--pencil",size:"large",atoms:["fill-soft-black"]}))));class We extends s.Component{constructor(){super(...arguments),this.state={isModalShowing:!1,isPublishing:!1},this.onShowModal=()=>{this.setState({isModalShowing:!0})},this.onHideModal=()=>{this.setState({isModalShowing:!1})},this.onPublish=async e=>{await this.setState({isPublishing:!0}),await this.props.onPublish(e),this.setState({isPublishing:!1})},this.renderConfirmPublishModal=()=>{if(!this.state.isModalShowing)return null;const e={freeform:Object(y.b)("project_updates.Notifications_will_be_sent"),interview:Object(y.b)("project_updates.Well_send_your_answers_to_backers")};return s.createElement(Ue.a,{size:"small",onClose:this.onHideModal,headerCopy:Object(y.b)("project_updates.Ready_to_publish"),secondaryCloseCopy:Object(y.b)("project_updates.No_Im_not_ready")},s.createElement("p",{className:"mt0 mb3 dark-grey-500"},e[this.props.formType]),s.createElement(Me.c,{type:"submit",theme:"support",atoms:["w100p"],onClick:this.onPublish,disabled:this.state.isPublishing},this.state.isPublishing?Object(y.b)("project_updates.Publishing"):Object(y.b)("project_updates.Yes_publish_now")))}}componentDidUpdate(e){this.props.hasErrors&&!Object(Be.h)(e,this.props)&&this.onHideModal()}render(){return s.createElement(s.Fragment,null,s.createElement(Me.c,{theme:"create",atoms:["flex1","max-w40"],onClick:this.onShowModal},Object(y.b)("project_updates.Publish")),this.renderConfirmPublishModal())}}Object(y.b)("project_updates.Public_everyone"),Object(y.b)("project_updates.All_backers");const Ke=()=>s.createElement(S.a,{name:"icon--plus",size:"20",atoms:["fill-soft-black"]}),Ye=()=>s.createElement("span",{className:"ksr-tooltip","data-tooltip":Object(y.b)("project_updates.Skip_this_question")},s.createElement(S.a,{name:"icon--cross",size:"20",atoms:["fill-soft-black"]})),Ge=Object(T.a)(re.c,K,H,ie,Object(D.a)(()=>({primaryText:Object(y.b)("new_creator_interview.Were_having_trouble_loading"),secondaryText:Object(y.b)("new_creator_interview.If_refreshing_this_page")})),P.b,m.j)(class extends s.Component{constructor(){super(...arguments),this.onSubmit=(e,t)=>{const n=this.props,a=n.id,i=n.projectCreator,r=n.projectSlug,o=n.onPublishPost,s=n.isPublished,c=n.history;return(0,n.onUpdateCreatorInterview)({id:a,title:e.title,public:e.isPublic,answers:e.questions.map(e=>{let t=e.answer,n=e.id;return{body:"<br />"===t.body?"":t.body,interviewQuestionId:n,skip:t.skip}})}).then(()=>{const e=f.b.VIEW_POST.url(i,r,Object(p.a)(a));if(t.publish)return o({id:a}).then(()=>{Object(A.o)(A.a.CreatorInterview),window.location.href=e});t.redirectToPost&&(s?(Object(A.p)(A.a.CreatorInterview),window.location.href=e):(Object(A.n)(A.a.CreatorInterview),c.push(f.b.PREVIEW_POST.url(i,r,Object(p.a)(a)))))})},this.onError=(e,t)=>{Object(I.d)(),t&&o.Honeybadger.notify(t,{context:{tags:C.a.POST_UPDATES}})}}renderFormActionsBar(e){const t=this.props,n=t.id,a=t.canDelete,i=t.onDeletePost,r=t.projectCreator,o=t.projectSlug,c=t.isPublished;return s.createElement(Le,null,s.createElement("div",{className:"flex items-center justify-between w100p"},a&&s.createElement(qe,{buttonText:c?Object(y.b)("project_updates.Delete_update_"):Object(y.b)("project_updates.Delete_draft"),onDelete:()=>(Object(A.l)(A.a.CreatorInterview),i({id:n})),onComplete:()=>{window.location.href=f.a.DRAFT_POSTS.url(r,o)}}),s.createElement("div",{className:"flex flex1 items-center justify-end"},s.createElement("span",{className:"flex1"}),!c&&s.createElement(s.Fragment,null,s.createElement($e,{onPreviewPost:e.onSubmitWithExtras({publish:!1,redirectToPost:!0})}),s.createElement(Ve,{isDirty:e.isDirty,onSaveDraft:e.onSubmitWithExtras({publish:!1,redirectToPost:!1})}),s.createElement(We,{formType:"interview",hasErrors:Boolean(e.errors),onPublish:e.onSubmitWithExtras({publish:!0,redirectToPost:!1})})),c&&s.createElement(He,{onSavePublishedPost:e.onSubmitWithExtras({publish:!1,redirectToPost:!0})}))))}renderQuestionsAndAnswers(e,t){return e.questions.map((n,a)=>{const i=n.answer.skip;return s.createElement("div",{className:"test-question pb8",key:n.id},s.createElement("div",{className:"flex items-center justify-between mb2"},s.createElement("h3",{className:"type-21 mb1 ".concat(i?"soft-black_50":"soft-black")},s.createElement("span",{className:"border-bottom border-ksr10-green",style:{borderWidth:"3px",lineHeight:"3.4rem"}},n.body)),s.createElement("button",{className:"test-skip-question keyboard-focusable ml3",onClick:()=>{t(Object(j.a)({},w()("questions[".concat(a,"].answer.skip"),!i,e)))}},i?s.createElement(Ke,null):s.createElement(Ye,null))),s.createElement(F.a,{duration:500,height:i?0:"auto"},s.createElement(x.a,{enter:"fade-in-and-down",leave:"fade-out-and-up",open:!i,duration:700,mountOnEnter:!1,unmountOnExit:!1},s.createElement(O.a,{value:n.answer.body,onBlur:n=>{t(Object(j.a)({},w()("questions[".concat(a,"].answer.body"),n,e)))},attachableAssoc:"body_assets",attachableId:n.answer.id,tracking:{editorToolClicked:e=>{Object(A.c)(A.a.CreatorInterview,e)},videoUploaded:()=>{Object(A.t)(A.a.CreatorInterview)}}}))))})}render(){const e={questions:this.props.questions||[],title:this.props.title||"",isPublic:this.props.isPublic,notifications:"all-backers"};return s.createElement(N.a,{warnBeforeDirtyUnmount:!0,initialValues:e,validate:e=>Boolean(e.title)?{}:{title:Object(y.b)("project_updates.Title_is_required")},onSubmit:this.onSubmit,onError:this.onError},e=>s.createElement("form",{onSubmit:e.onSubmit},this.renderFormActionsBar(e),e.errors&&s.createElement(se,{text:e.errors.base||e.errors.general}),s.createElement(Fe,{leftCol:()=>s.createElement(s.Fragment,null,s.createElement(Te,{value:e.values.title,onChange:t=>e.setValues({title:t}),error:Object(N.b)("title",e.errors)}),s.createElement(Ce.a,{vertical:8}),this.renderQuestionsAndAnswers(e.values,e.setValues)),rightCol:()=>s.createElement(s.Fragment,null,s.createElement(De,{value:e.values.isPublic,onChange:t=>{e.setValues({isPublic:t}),Object(A.s)(t?"anyone":"backers_only")}}),s.createElement(Ce.a,{vertical:4}),s.createElement(Pe,{projectSlug:this.props.projectSlug,value:e.values.notifications,onChange:t=>{e.setValues({notifications:t})},excludedRewardIds:this.props.formattedExcludedRewardIds,hasExcludedNoRewardTier:this.props.hasExcludedNoRewardTier,onChangeRewardIdNotification:(e,t)=>(Object(A.r)(e?"checked":"unchecked"),e?this.props.postIncludeReward({postId:this.props.id,rewardId:t}):this.props.postExcludeReward({postId:this.props.id,rewardId:t})),isPublished:this.props.isPublished,showSelectTiers:this.props.showSelectTiers}),s.createElement(Ce.a,{vertical:5}),s.createElement(Re,{text:Object(y.b)("project_updates.All_backers_will_be_able_to_view")}))})))}}),Je=e=>{let t=e.id,n=e.projectCreator,a=e.projectSlug;return s.createElement(g.a,null,s.createElement("section",{className:"pt14"},s.createElement("div",{className:"bold type-21 pb6"},Object(y.b)("project_updates.Edit_update"))),s.createElement(Ge,{id:t,projectCreator:n,projectSlug:a}))},Qe=n("+VqH"),Xe=(Qe.ComposeFreeformPostFragment,Qe.Post),Ze=Qe.CreateFreeformPost,et=Qe.UpdatePost,tt=Object(T.b)(e=>({onCreateFreeformPost:t=>e.mutate({variables:{input:t}})})),nt=Object(l.c)(Ze,tt),at=Object(T.b)(e=>({onUpdatePost:t=>e.mutate({variables:{input:t}})})),it=Object(l.c)(et,at),rt=Object(T.c)(e=>{if(!e.data||!e.data.post)return Object(T.d)(e.data.error);const t=e.data.post,n=t.title,a=t.body,i=t.isPublic,r=t.publishedAt,o=t.excludedRewards,s=t.hasExcludedNoRewardTier,c=t.actions.destroy,l=Boolean(r);return Object(T.l)(Object(j.a)({title:n,body:a,isPublic:i,isPublished:l,canDelete:c},q(o,s)))}),ot=Object(l.c)(Xe,rt),st=Object(T.a)(ot,re.c,it,ie,m.j)(e=>{if(!Object(T.i)(e))return null;const t=e.id,n=e.isPublished,a=e.onUpdatePost,i=e.onDeletePost,r=e.canDelete,c=e.onPublishPost,l=e.postExcludeReward,d=e.postIncludeReward,u={title:e.title||"",body:e.body||Object(ge.d)()||"",isPublic:e.isPublic,notifications:"all-backers"};return s.createElement(N.a,{warnBeforeDirtyUnmount:!0,initialValues:u,validate:e=>Object(j.a)({},Boolean(e.title)?{}:{title:Object(y.b)("project_updates.Title_is_required")},{},Boolean(e.body)?{}:{body:Object(y.b)("project_updates.Body_is_required")}),onSubmit:(n,i)=>a({id:t,title:n.title,body:n.body,public:n.isPublic}).then(()=>{const n=()=>{window.location.href=f.b.VIEW_POST.url(e.projectCreator,e.projectSlug,Object(p.a)(t))};if(i.publish)return c({id:t}).then(()=>{Object(A.o)(A.a.FreeformPost),n()});i.redirectToPost&&(e.isPublished?(Object(A.p)(A.a.FreeformPost),n()):(Object(A.n)(A.a.FreeformPost),e.history.push(f.b.PREVIEW_POST.url(e.projectCreator,e.projectSlug,Object(p.a)(t)))))}),onError:(e,t)=>{Object(I.d)(),t&&o.Honeybadger.notify(t,{context:{tags:C.a.POST_UPDATES}})}},a=>s.createElement(s.Fragment,null,s.createElement(Le,null,s.createElement("div",{className:"flex items-center justify-between w100p"},r&&s.createElement(qe,{buttonText:n?Object(y.b)("project_updates.Delete_update_"):Object(y.b)("project_updates.Delete_draft"),onDelete:()=>(Object(A.l)(A.a.FreeformPost),i({id:e.id})),onComplete:()=>{window.location.href=f.a.DRAFT_POSTS.url(e.projectCreator,e.projectSlug)}}),s.createElement("div",{className:"flex flex1 items-center justify-end"},s.createElement("span",{className:"flex1"}),!n&&s.createElement(s.Fragment,null,s.createElement($e,{onPreviewPost:a.onSubmitWithExtras({publish:!1,redirectToPost:!0})}),s.createElement(Ve,{isDirty:a.isDirty,onSaveDraft:a.onSubmitWithExtras({publish:!1,redirectToPost:!1})}),s.createElement(We,{formType:"freeform",hasErrors:Boolean(a.errors),onPublish:a.onSubmitWithExtras({publish:!0,redirectToPost:!1})})),e.isPublished&&s.createElement(He,{onSavePublishedPost:a.onSubmitWithExtras({publish:!1,redirectToPost:!0})})))),s.createElement("form",{className:"pb4",onSubmit:a.onSubmit},a.errors&&s.createElement(se,{text:a.errors.base||a.errors.general}),s.createElement("div",{className:"flex-md"},s.createElement("section",{className:"flex2"},s.createElement(Te,{value:a.values.title,onChange:e=>a.setValues({title:e}),error:Object(N.b)("title",a.errors)}),s.createElement(Ce.a,{vertical:4}),s.createElement(Ie,{postId:t,value:a.values.body,onChange:e=>a.setValues({body:e}),error:Object(N.b)("body",a.errors),postType:A.a.FreeformPost}),s.createElement(Ce.a,{vertical:3})),s.createElement("aside",{className:"flex1 ml3-md"},s.createElement(De,{value:a.values.isPublic,onChange:e=>{a.setValues({isPublic:e}),Object(A.s)(e?"anyone":"backers_only")}}),s.createElement(Ce.a,{vertical:4}),s.createElement(Pe,{projectSlug:e.projectSlug,value:a.values.notifications,onChange:e=>{a.setValues({notifications:e})},excludedRewardIds:e.formattedExcludedRewardIds,hasExcludedNoRewardTier:e.hasExcludedNoRewardTier,onChangeRewardIdNotification:(e,n)=>(Object(A.r)(e?"checked":"unchecked"),e?d({postId:t,rewardId:n}):l({postId:t,rewardId:n})),isPublished:e.isPublished,showSelectTiers:e.showSelectTiers}),s.createElement(Ce.a,{vertical:5}),s.createElement(Re,{text:Object(y.b)("project_updates.All_backers_will_be_able_to_view")}))))))}),ct=e=>{let t=e.id,n=e.projectCreator,a=e.projectSlug;return s.createElement(g.a,null,s.createElement("section",{className:"pt14"},s.createElement("div",{className:"bold type-21 pb2"},Object(y.b)("project_updates.Edit_update"))),s.createElement(st,{id:t,projectCreator:n,projectSlug:a}))};var lt=n("ysdo");const dt=e=>{const t=(e=>{let t=e.asyncOperation,n=e.defaultValue,a=e.dependencies;const i=Object(s.useState)({value:n,error:null,isPending:!0}),r=Object(ce.a)(i,2),o=r[0],c=r[1];return Object(s.useEffect)(()=>{const e="function"==typeof t?t():t;let a=!0;return e.then(e=>a?c({value:e,error:null,isPending:!1}):null).catch(e=>a?c({value:n,error:e,isPending:!1}):null),()=>{a=!1}},a),o})(e),n=t.value,a=t.error,i=t.isPending;return e.children({value:n,error:a,isPending:i})};var ut=n("ZCIj"),mt=n("dkkr"),pt=n("mwIZ"),ht=n.n(pt);const ft=n("V+iF").Posts,gt=Object(T.c)(e=>{if(!e.data||!e.data.project)return Object(T.d)(e.data.error);const t=ht()(e,"data.project.posts.edges[0].node.id",null);return Object(T.l)({interviewIdForActivePrompt:t})}),bt=Object(l.c)(ft,gt),_t=e=>{let t=e.error,n=e.suggestionLink;const a=t&&Object(T.e)(t);if(a.base){const e=/already been answered/.test(a.base),t=/No active prompt/.test(a.base);return e?s.createElement(mt.c,{primaryText:Object(y.b)("new_creator_interview.Youve_already_responded"),secondaryText:s.createElement(y.a,{i18nKey:"new_creator_interview.Publish_to_share_more_with_backers",publishLink:s.createElement("a",{className:"ksr-green-500 text-underline",href:n},Object(y.b)("new_creator_interview.Publish_a_freeform_update"))})}):t?s.createElement(mt.c,{primaryText:Object(y.b)("new_creator_interview.Were_fresh_out_of_questions"),secondaryText:s.createElement(y.a,{i18nKey:"new_creator_interview.Publish_while_we_write_more",publishLink:s.createElement("a",{className:"ksr-green-500 text-underline",href:n},Object(y.b)("new_creator_interview.Publish_a_freeform_update"))})}):null}return s.createElement(mt.b,{primaryText:Object(y.b)("new_creator_interview.Were_having_trouble_loading"),secondaryText:Object(y.b)("new_creator_interview.If_refreshing_this_page")})};const vt=Object(T.a)(bt,z,P.b)(class extends s.Component{constructor(){super(...arguments),this.state={showWelcomeOverlay:!1},this.handleShowOverlay=()=>{this.setState({showWelcomeOverlay:!0})},this.handleHideOverlay=()=>{this.setState({showWelcomeOverlay:!1})}}renderNewInterview(){const e=this.props,t=e.onCreateCreatorInterview,n=e.projectId;return ut.b.getItem("seenCreatorInterviewWelcome")||(ut.b.setItem("seenCreatorInterviewWelcome","true"),this.handleShowOverlay()),s.createElement(s.Fragment,null,s.createElement(dt,{asyncOperation:()=>t({projectId:n}),dependencies:[n],defaultValue:{}},e=>{let t=e.value,n=e.error;return e.isPending?s.createElement(P.a,null):Boolean(n)?s.createElement(Fe,{leftCol:()=>s.createElement(_t,{error:n,suggestionLink:f.b.NEW_FREEFORM_POST.url(this.props.projectCreator,this.props.projectSlug)})}):s.createElement(s.Fragment,null,s.createElement(A.b,{name:"Update New",properties:{type:A.a.CreatorInterview}}),s.createElement(Ge,{id:t.data.createCreatorInterview.creatorInterview.id,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}))}),this.state.showWelcomeOverlay&&s.createElement(lt.a,{onClose:this.handleHideOverlay,headerIcon:s.createElement(S.a,{name:"icon--update-qa-round",atoms:["fill-white"],size:"48"}),buttonText:Object(y.b)("new_creator_interview.Lets_get_started"),headerText:Object(y.b)("new_creator_interview.Welcome_to_qa"),bodyText:Object(y.b)("new_creator_interview.This_question_and_answer_approach"),bodyListItems:[Object(y.b)("new_creator_interview.Answer_only_questions"),Object(y.b)("new_creator_interview.Check_back_for_new_questions")]}))}renderExistingInterview(){const e=this.props,t=e.projectCreator,n=e.projectSlug,a=e.interviewIdForActivePrompt;return a?s.createElement(Fe,{leftCol:()=>s.createElement(mt.a,{primaryText:Object(y.b)("new_creator_interview.Youve_already_started"),secondaryText:s.createElement(y.a,{i18nKey:"new_creator_interview.Resume_update_or_visit_drafts",resumeLink:s.createElement(m.c,{className:"ksr-green-500 text-underline spec-resume-update",to:f.b.EDIT_CREATOR_INTERVIEW.url(t,n,Object(p.a)(a))},Object(y.b)("new_creator_interview.Resume_your_update"))})})}):null}render(){return s.createElement(s.Fragment,null,this.props.interviewIdForActivePrompt?this.renderExistingInterview():this.renderNewInterview())}});const kt=nt(class extends s.Component{render(){const e=this.props,t=e.projectId,n=e.projectSlug,a=e.projectCreator,i=e.onCreateFreeformPost;return s.createElement(dt,{asyncOperation:()=>i({projectId:t}),dependencies:[t],defaultValue:{}},e=>{let t=e.value,i=e.error;return e.isPending?s.createElement(P.a,null):s.createElement(s.Fragment,null,s.createElement(A.b,{name:"Update New",properties:{type:A.a.FreeformPost}}),Boolean(i)?s.createElement(Fe,{leftCol:()=>s.createElement(mt.b,{primaryText:Object(y.b)("new_project_update.Updates_are_disabled"),secondaryText:Object(y.b)("new_project_update.This_project_is_hidden_suspended")})}):s.createElement(st,{id:t.data.createFreeformPost.post.id,projectSlug:n,projectCreator:a}))})}}),yt=e=>{const t=e.creatorSlug,n=e.projectSlug,a=e.formType,i=((e,t)=>({freeform:{url:f.b.NEW_FREEFORM_POST.url(e,t),header:Object(y.b)("project_updates.Freeform"),subtitle:Object(y.b)("project_updates.Your_story_your_way"),icon:"icon--update-freeform-round",classes:"spec-new-freeform-link"},interview:{url:f.b.NEW_CREATOR_INTERVIEW.url(e,t),header:Object(y.b)("project_updates.QA"),subtitle:Object(y.b)("project_updates.Follow_our_lead"),icon:"icon--update-qa-round",classes:"spec-new-interview-link"}}))(t,n)[a],r=[i.header,i.subtitle,i.url,i.icon,i.classes],o=r[0],c=r[1],l=r[2],d=r[3],u=r[4],p=location.href.includes("posts/".concat(a)),h=p?"fill-ksr-green-500":"fill-soft-black";return s.createElement(m.c,{onClick:e.onClick,className:Object(Ee.a)("p3 w50p soft-black radius2px border block keyboard-focusable",p?"border-soft-black bg-grey-200":"border-grey-500",u),to:l},s.createElement("div",{className:"flex items-center"},s.createElement(S.a,{name:d,size:"48",atoms:[h,"mr1"]}),s.createElement("div",null,s.createElement("div",{className:"bold type-16 mt1",style:{lineHeight:"1.6rem"}},o),s.createElement("div",{className:"soft-black_50 type-14"},c))))},jt=()=>s.createElement(s.Fragment,null,s.createElement(y.a,{atoms:["type-14","dark-grey-500"],i18nKey:"project_updates.Build_trust_with_your_backers",link:s.createElement(le.a,{color:"green",target:"_blank",onClick:()=>Object(A.m)(A.a.FreeformPost),href:"https://help.kickstarter.com/hc/en-us/articles/115005138733-What-are-project-updates-"},Object(y.b)("project_updates.Learn_about_project_updates"))})," ",s.createElement(y.a,{atoms:["type-14","dark-grey-500","bold"],i18nKey:"project_updates.Never_include_your_backers’s_names_addresses_and_other_personal_details_in_your_updates"})),Et=()=>s.createElement(y.a,{atoms:["type-14","dark-grey-500"],i18nKey:"project_updates.Share_your_creative_process",refreshLink:s.createElement(le.a,{color:"green",target:"_blank",onClick:()=>Object(A.m)(A.a.CreatorInterview),href:"https://help.kickstarter.com/hc/en-us/articles/360022352634"},Object(y.b)("project_updates.Well_refresh_these_questions"))}),wt=e=>{const t=e.creatorSlug,n=e.projectSlug;return s.createElement(Fe,{leftCol:()=>s.createElement("div",{className:"mb7"},s.createElement(s.Fragment,null,s.createElement("div",{className:"bold mb3"},Object(y.b)("project_updates.Choose_an_update_style")),s.createElement("div",{className:"flex items-center mb3"},s.createElement(yt,{onClick:()=>Object(A.q)(A.a.FreeformPost),creatorSlug:t,projectSlug:n,formType:"freeform"}),s.createElement("div",{className:"pr2"}),s.createElement(yt,{onClick:()=>Object(A.q)(A.a.CreatorInterview),creatorSlug:t,projectSlug:n,formType:"interview"})),e.postType===A.a.CreatorInterview&&s.createElement(Et,null)),e.postType===A.a.FreeformPost&&s.createElement(jt,null))})},St=e=>s.createElement("div",{className:"grid-container py14"},s.createElement("header",null,s.createElement("h2",{className:"type-21 pb2 mb0"},Object(y.b)("project_updates.New_update")),s.createElement(wt,{creatorSlug:e.projectCreator,projectSlug:e.projectSlug,postType:e.postType})),s.createElement(m.i,null,s.createElement(m.g,{exact:!0,path:f.b.NEW_FREEFORM_POST.path,render:()=>s.createElement(kt,{projectId:e.projectId,projectSlug:e.projectSlug,projectCreator:e.projectCreator})}),s.createElement(m.g,{exact:!0,path:f.b.NEW_CREATOR_INTERVIEW.path,render:()=>s.createElement(vt,{projectId:e.projectId,projectSlug:e.projectSlug,projectCreator:e.projectCreator})})));var Ot=n("qPAc"),Ct=n("d5To");const Nt=e=>s.createElement(Ct.a,{commentableId:e.commentableId,initialCommentId:e.commentId,nextCursor:e.commentCursor,previousCursor:null,first:25,last:null,config:Object(j.a)({},Ot.a,{createTrackingEventName:"Update Comment Create"})});var xt=n("lX80"),Tt=n("f/gE"),It=n("daZV"),Dt=n("NxQb"),Pt=n("uBBe"),At=n("5j0V"),Rt=n("1OuE"),Ft=n("zm9w");let Lt,Mt,Ut,Bt;!function(e){e.CANCELED="CANCELED",e.FAILED="FAILED",e.LIVE="LIVE",e.PURGED="PURGED",e.STARTED="STARTED",e.SUBMITTED="SUBMITTED",e.SUCCESSFUL="SUCCESSFUL",e.SUSPENDED="SUSPENDED"}(Lt||(Lt={})),function(e){e.AUD="AUD",e.CAD="CAD",e.CHF="CHF",e.DKK="DKK",e.EUR="EUR",e.GBP="GBP",e.HKD="HKD",e.JPY="JPY",e.MXN="MXN",e.NOK="NOK",e.NZD="NZD",e.PLN="PLN",e.SEK="SEK",e.SGD="SGD",e.USD="USD"}(Mt||(Mt={})),function(e){e.CreatorInterview="CreatorInterview",e.FreeformPost="FreeformPost"}(Ut||(Ut={})),function(e){e.collaborator="collaborator",e.creator="creator"}(Bt||(Bt={}));const qt=n("t8gO").PostsFeed;var $t=n("KQqk");const Ht=n("DaKc").CreatorInterview,Vt=Object(T.c)(e=>{if(!e.data||!e.data.post)return Object(T.d)(e.data.error);const t=e.data.post.answers.nodes,n=t?t.filter(e=>e):[];return Object(T.l)({answers:n})}),zt=Object(l.c)(Ht,Vt),Wt=e=>s.createElement(s.Fragment,null,e.answers.map((e,t)=>s.createElement("div",{key:t,className:"mb8"},s.createElement("h3",{className:"type-24 border-bottom border-ksr10-green display-inline mb0",style:{borderWidth:"3px",lineHeight:"3.8rem"}},e.question.body),s.createElement("div",{className:"pb3"}),s.createElement($t.a,{content:e.body})))),Kt=Object(T.a)(zt,Object(D.a)(()=>({primaryText:Object(y.b)("new_creator_interview.Were_having_trouble_loading"),secondaryText:Object(y.b)("new_creator_interview.If_refreshing_this_page")})),P.b)(Wt),Yt=n("iO4+").FreeformPost,Gt=Object(T.c)(e=>{if(!e.data||!e.data.post)return Object(T.d)(e.data.error);const t=e.data.post,n=t.body,a=t.nativeImages,i=a?a.filter(e=>e):[];return Object(T.l)({body:n,nativeImages:i})}),Jt=Object(l.c)(Yt,Gt),Qt=e=>{const t=e.body,n=e.nativeImages,a=t||"";return s.createElement("div",{className:"mt4"},s.createElement($t.a,{content:a}),n.map(e=>s.createElement("img",{key:e.id,src:e.url,alt:"post image"})))},Xt=Object(T.a)(Jt,Object(D.a)(()=>({primaryText:Object(y.b)("new_project_update.Were_having_trouble_loading"),secondaryText:Object(y.b)("new_project_update.If_refreshing_this_page")})),P.b)(Qt);var Zt=n("ECYc");const en={incrementPostView(e){Zt.a.increment("post_view,client_type=".concat(e))},incrementPostPin(e,t){Zt.a.increment("post_pin,client_type=".concat(e,",action=").concat(t))}};var tn=n("WSTq");const nn=e=>{const t=an(e.isPinned),n=t.header,a=t.body,i=t.button;return s.createElement(tn.a,{onClose:e.onClose,size:"small",headerCopy:n,secondaryCloseCopy:"No, go back",grabFocus:!1},s.createElement("p",{className:"mt0 mb3 dark-grey-500"},a),s.createElement(Me.c,{theme:"support",atoms:["w100p"],onClick:e.onClick},i))},an=e=>e?{header:Object(y.b)("project_updates.Unpin_this_update?"),body:Object(y.b)("project_updates.Youll_no_longer_see_it_at_the_top"),button:Object(y.b)("project_updates.Yes_unpin_it")}:{header:Object(y.b)("project_updates.Pin_this_update?"),body:Object(y.b)("project_updates.Youll_see_it_at_the_top"),button:Object(y.b)("project_updates.Yes_pin_it")};const rn=e=>e?{pinColor:"ksr-green-500",pinCopy:Object(y.b)("project_updates.Pinned"),trackingFn:A.k,telegrafAction:"unpin"}:{pinColor:"dark-grey-500",pinCopy:Object(y.b)("project_updates.Pin"),trackingFn:A.g,telegrafAction:"pin"},on=Object(T.a)(re.b,re.d)(class extends s.Component{constructor(){super(...arguments),this.state={isPinModalShowing:!1}}render(){const e=this.props,t=e.canPin,n=e.isPinned,a=e.onPinCompletion,i=e.onUnpinPost,r=e.onPinPost,o=e.onRefetch,c=e.relayId,l=e.type,d=e.trackingContext,u=rn(n),m=u.pinColor,p=u.pinCopy,h=u.trackingFn,f=u.telegrafAction,g=n?i:r;return Object(Dt.a)("pinned_posts_on_feed")&&t||!n?Object(Dt.a)("pinned_posts_on_feed")&&t?s.createElement(s.Fragment,null,s.createElement("button",{type:"button",onClick:e=>{e.preventDefault(),this.setState({isPinModalShowing:!0})},className:"".concat(m," hover-ksr-green-500")},s.createElement(S.a,{name:"icon--pin",size:"20",atoms:["fill-".concat(m),"pr1"]}),s.createElement("span",{className:"type-13"},p)),this.state.isPinModalShowing&&s.createElement(nn,{isPinned:n,onClick:e=>{e.preventDefault(),h(l,d),en.incrementPostPin(window.clientType,f),g({id:c}).then(()=>o&&o()).then(a)},onClose:e=>{e.preventDefault(),this.setState({isPinModalShowing:!1})}})):null:s.createElement("div",{className:"flex ksr-green-500"},s.createElement(S.a,{name:"icon--pin",size:"20",atoms:["fill-ksr-green-500","pr1"]}),s.createElement("span",{className:"type-13"},Object(y.b)("project_updates.Pinned")))}}),sn=e=>{const t=e.header,n=e.footer,a=e.body;return s.createElement("article",null,t&&s.createElement("header",null,t),a,n&&s.createElement("footer",null,n))};var cn=n("arGM");const ln=e=>e.canRead?e.children:s.createElement(mt.c,{iconType:"icon--eye",primaryText:Object(y.b)("project_update.This_post_is_for_backers_only"),primaryColor:"cobalt-600",space:1,secondaryText:s.createElement(dn,{isLoggedIn:e.isLoggedIn,isProjectLive:e.isProjectLive,pledgeLink:e.pledgeLink,loginLink:e.loginLink})}),dn=e=>e.isLoggedIn&&!e.isProjectLive?null:e.isLoggedIn?s.createElement(y.a,{i18nKey:"project_update.To_back_this_project_and_view",atoms:["native-hide"],pledgeLink:s.createElement("a",{className:"soft-black text-underline",href:e.pledgeLink},Object(y.b)("project_update.Click_here"))}):s.createElement(y.a,{i18nKey:"project_update.Log_in_to_see_this_post",atoms:["native-hide"],loginLink:s.createElement("a",{className:"soft-black text-underline",href:Object(cn.d)("/login",{then:e.loginLink||window.location.pathname})},Object(y.b)("project_update.Log_in"))});var un=n("L/h+"),mn=n("EoiL");class pn extends s.Component{renderSequenceInfo(){return s.createElement("div",{className:"mb2 flex justify-between"},s.createElement("div",null,s.createElement("span",{className:"type-13 soft-black_50 text-uppercase"},this.props.publishedAt?Object(y.b)("new_project_update.Update")+" #".concat(this.props.sequence):Object(y.b)("new_project_update.Update")+" #"),!this.props.isPublic&&s.createElement("span",{className:"radius2px type-12 ml2 bg-grey-300 cobalt-600",style:{padding:".3rem .75rem"}},Object(y.b)("project_updates.Backers_only"))),this.props.PinningUI)}renderTitle(){return s.createElement(mn.a,{level:2,atoms:["mb3"]},this.props.title)}renderAuthorBadge(){return s.createElement("span",{className:"bg-ksr10-green bold white type-12 align-middle ml1",style:{padding:".2rem .5rem",borderRadius:"3px"}},Object(y.b)("project_update.".concat(this.props.authorRole)))}renderAuthorInfo(){return s.createElement("div",{className:"mb3 flex type-14 items-start border-bottom pb3"},s.createElement("div",{className:"shrink0"},s.createElement(un.a,{size:7,imageUrl:this.props.authorAvatarUrl})),s.createElement("div",{className:"pl2"},s.createElement("div",null,this.props.authorName,this.renderAuthorBadge()),s.createElement("span",{className:"type-13 soft-black_50 block-md"},this.props.publishedAt?Object(Rt.b)("LL",this.props.publishedAt):Object(y.b)("project_update.Not_published"))))}render(){return s.createElement(s.Fragment,null,this.renderSequenceInfo(),this.renderTitle(),this.renderAuthorInfo())}}var hn=n("zjD3");const fn=e=>s.createElement("div",{className:"type-14 dark-grey-400 pb3"},s.createElement("span",{className:"mr4"},s.createElement(S.a,{atoms:["mr1","fill-dark-grey-400"],name:"icon--message",size:"16"}),Object(hn.a)(e.commentsCount,"")),s.createElement("span",{className:"mr4"},s.createElement(S.a,{atoms:["mr1","fill-dark-grey-400"],name:"icon--heart",size:"16"}),Object(hn.a)(e.likesCount,"")));var gn=n("SSiF"),bn=n.n(gn);const _n=e=>{const t=bn()(),n=Object(ce.a)(t,2),a=n[0],i=n[1];return s.createElement("div",{className:"truncated-post-body clip relative"},a,e.children,i.height>=240&&s.createElement("div",{className:"gradient-transparent-to-white-vertical h20 z1 absolute b0 l0 r0"}))},vn=e=>{switch(e){case h.a.FreeformPost:return{icon:"icon--update-freeform-round",color:"ksr10-coral"};case h.a.CreatorInterview:return{icon:"icon--update-qa-round",color:"ksr10-coral"};default:return{icon:"",color:"ksr10-coral"}}};class kn extends s.Component{renderPost(){return s.createElement(sn,{header:s.createElement(pn,{title:this.props.title,sequence:this.props.sequence,publishedAt:this.props.publishedAt,authorAvatarUrl:this.props.authorAvatarUrl,authorName:this.props.authorName,authorRole:this.props.authorRole,isPublic:this.props.isPublic,PinningUI:s.createElement(on,{canPin:this.props.canPin,relayId:this.props.id,type:this.props.type,trackingContext:"feed post",isPinned:this.props.isPinned,onRefetch:this.props.onRefetch,onPinCompletion:()=>{this.props.isPinned&&Object(I.b)("project-post-interface",100)}})}),body:s.createElement(ln,{canRead:this.props.canRead,isLoggedIn:this.props.isLoggedIn,isProjectLive:this.props.isProjectLive,pledgeLink:f.b.PROJECT_PLEDGE.url(this.props.projectCreator,this.props.projectSlug),loginLink:f.b.VIEW_POST.url(this.props.projectCreator,this.props.projectSlug,Object(p.a)(this.props.id))},s.createElement(_n,null,s.createElement(s.Fragment,null,this.props.type===Ut.CreatorInterview&&s.createElement(Wt,{answers:this.props.answers}),this.props.type===Ut.FreeformPost&&s.createElement(Qt,{body:this.props.body,nativeImages:this.props.nativeImages}),s.createElement("div",{className:"absolute z1 t0 l0 r0 b0"})))),footer:s.createElement("div",{className:"".concat(this.props.canRead?"mt1":"mt4"," flex justify-between items-baseline")},s.createElement(fn,{commentsCount:this.props.commentsCount,likesCount:this.props.likesCount}),this.props.canRead&&s.createElement(Me.d,{theme:"support"},s.createElement("div",{className:"flex items-center"},Object(y.b)("project_updates.Read_more"),s.createElement(S.a,{atoms:["ml1"],name:"icon--chevron-right",size:"20"}))))})}renderInnerWrapper(){const e=Object(Ee.a)("bg-white","px3","px6-md","py6-md","py3",!this.props.isPinned&&"expanding-post");return this.props.isPinned?s.createElement("div",{className:e},s.createElement(g.a,null,s.createElement(Tt.a,null,s.createElement(xt.a,{width:12,mdWidth:8,mdOffset:2},s.createElement("div",{className:"mx-auto relative"},this.renderPost()))))):s.createElement("div",{className:e},this.renderPost())}renderLinkedPost(){const e=f.b.VIEW_POST.url(this.props.projectCreator,this.props.projectSlug,Object(p.a)(this.props.id)),t=Object(Ee.a)("truncated-post soft-black block border",this.props.isPinned?"border-white shadow-2 hover-border-white mb6":"border-grey-500 hover-border-dark-grey-400");return this.props.canRead?window.isNativeAppRequest?s.createElement("a",{href:e,className:t},this.renderInnerWrapper()):s.createElement(m.c,{to:e,className:t},this.renderInnerWrapper()):s.createElement("div",{className:t},this.renderInnerWrapper())}render(){if(this.props.isPinned)return this.renderLinkedPost();const e=vn(this.props.type),t=e.icon,n=e.color;return s.createElement(g.a,null,s.createElement(Tt.a,null,s.createElement(xt.a,{width:12,mdWidth:8,mdOffset:2,atoms:["mb6","relative"]},s.createElement("div",{"data-test-id":"project-post-container",className:"absolute t8 t10-md l-1 flex items-center justify-center"},s.createElement("div",{className:"w3 w6-md h3 h6-md radius100p bg-white absolute t1 l1 z0"}),s.createElement(S.a,{name:t,atoms:["fill-".concat(n," relative z1 w5 w8-md h5 h8-md")]})),this.renderLinkedPost())))}}var yn=n("t1f3");const jn=e=>{const t={position:"absolute",width:"185px"};return s.createElement(g.a,null,s.createElement(Tt.a,null,s.createElement(xt.a,{width:12,mdWidth:8,mdOffset:2,atoms:["mb6"]},s.createElement("div",{className:"relative clip"},s.createElement("div",{style:Object(j.a)({},t,{},e.discPosition)},s.createElement(yn.a,{name:"yellow-disc",width:185})),s.createElement("div",{style:Object(j.a)({},t,{},e.cubePosition)},s.createElement(yn.a,{name:"coral-cube",width:185})),s.createElement("div",{style:Object(j.a)({},t,{},e.cylinderPosition)},s.createElement(yn.a,{name:"coral-hollow-cylinder",width:185})),s.createElement("div",{style:{height:"28rem"},className:"flex justify-center items-center text-center white ".concat(e.bgColor)},s.createElement("div",{className:"flex flex-column items-center justify-center h100p"},s.createElement("div",{className:"type-16 type-24-sm bold pb1"},e.header),e.subHeader&&s.createElement("div",{className:"type-11 type-14-sm pb1"},e.subHeader),s.createElement("div",{className:"type-11 type-14-sm text-uppercase"},e.date)))))))},En=e=>s.createElement(jn,{date:e.date,bgColor:"bg-ksr10-green",header:Object(y.b)("project_updates.Project_funds_successfully"),subHeader:e.subheader,discPosition:{top:"69%",left:"20%"},cubePosition:{top:"-28%",left:"76%"},cylinderPosition:{top:"-33%",left:"-3%"}}),wn=e=>s.createElement(jn,{date:e.date,bgColor:"bg-ksr10-blue",header:Object(y.b)("project_updates.Project_ends"),discPosition:{top:"-36%",left:"50%"},cubePosition:{top:"69%",left:"83%"},cylinderPosition:{top:"71%",left:"-3%"}}),Sn=e=>s.createElement(jn,{date:e.date,bgColor:"bg-dark-grey-500",header:Object(y.b)("project_updates.Project_is_canceled"),discPosition:{top:"69%",left:"20%"},cubePosition:{top:"-28%",left:"82%"},cylinderPosition:{top:"-33%",left:"-3%"}}),On=e=>s.createElement(jn,{date:e.date,bgColor:"bg-ksr10-green",header:Object(y.b)("project_updates.Project_launches"),discPosition:{top:"72%",left:"50%"},cubePosition:{top:"-28%",left:"-9%"},cylinderPosition:{top:"-28%",left:"83%"}}),Cn=e=>{const t={id:e.id,type:e.type,title:e.title,publishedAt:e.publishedAt,isPinned:Boolean(e.pinnedAt),sequence:e.number,authorRole:e.authorRole,authorName:e.author.name,authorAvatarUrl:e.author.imageUrl,likesCount:e.likesCount,isPublic:e.isPublic,canRead:e.actions.read,canPin:e.actions.pin,commentsCount:e.commentsCount};return e.type===Ut.CreatorInterview?Object(j.a)({},t,{answers:e.answers.nodes}):e.type===Ut.FreeformPost?Object(j.a)({},t,{body:e.body,nativeImages:e.nativeImages}):t},Nn=(e,t)=>{const n=t.fetchMoreResult;return null===n.project||null===n.project.timeline||null===n.project.timeline.edges?e:Object(j.a)({},n,{project:Object(j.a)({},n.project,{timeline:Object(j.a)({},n.project.timeline,{edges:[...ht()(e,"project.timeline.edges",[]),...ht()(n,"project.timeline.edges",[])],pageInfo:n.project.timeline.pageInfo})})})},xn=Object(T.c)(e=>{if(!e.data||!e.data.project)return Object(T.d)(e.data.error);const t=e.data,n=t.me,a=t.fetchMore,i=t.project,r=t.refetch,o=i.timeline,s=i.canUserRequestUpdate,c=o&&o.edges||[],l=o&&o.pageInfo.endCursor,d=c.map(e=>e&&e.node).map(t=>{if(!t)return;const a=Object(Rt.b)("LL",t.timestamp);switch(t.type){case"launch":return{Component:On,data:{date:a}};case"cancellation":return{Component:Sn,data:{date:a}};case"failure":return{Component:wn,data:{date:a}};case"success":{if(!t.data)return{Component:En,data:{date:a}};const e=t.data,n=e.backersCount,i=e.pledged;return{Component:En,data:{date:a,subheader:Object(y.b)("project_updates.x_backers_pledged_y",{count:n,pledgedAmount:Ft.a.money(Number(i.amount),{currency:i.currency||"",precision:0}),formattedBackerCount:Ft.a.format_number(n,{precision:0})})}}}case"update":return{Component:kn,data:Object(j.a)({},Cn(t.data),{isProjectLive:i.state===Lt.LIVE,projectCreator:e.ownProps.projectCreator,projectSlug:e.ownProps.projectSlug,isLoggedIn:Boolean(n&&n.id),onRefetch:r})};default:return null}});return Object(T.l)({projectId:i.id,events:d,hasNextPage:!!o&&o.pageInfo.hasNextPage,totalEvents:o?o.totalCount:0,isFetchingMore:e.data.loading,canUserRequestUpdate:s,eventsShowing:d.length,onFetchMore:()=>a({variables:{projectSlug:i.slug,cursor:l},query:qt,updateQuery:Nn})})}),Tn=Object(l.c)(qt,xn);const In=Object(T.a)(Tn,Object(D.a)(()=>({primaryText:Object(y.b)("project_updates.Were_having_trouble_loading_updates"),secondaryText:Object(y.b)("project_updates.If_refreshing_this_page")})),P.b)(e=>{const t=e.events[0]&&function(e){return e.isPinned||e.isPinned}(e.events[0].data);return s.createElement("div",{className:"bg-grey-100 ".concat(t?"":"pt6")},Object(Dt.a)("project_update_requests")&&e.canUserRequestUpdate&&s.createElement(g.a,null,s.createElement(Tt.a,null,s.createElement(xt.a,{width:12,mdWidth:8,mdOffset:2},s.createElement(Pt.a,{projectId:e.projectId,className:t?"my6":"mb6",location:At.b.updates})))),e.events.map((e,t)=>{let n=e.Component,a=e.data;return s.createElement(n,Object.assign({key:t},a))}),s.createElement(g.a,null,s.createElement(Tt.a,null,s.createElement(xt.a,null,s.createElement(It.a,{buttonI18nKey:"project_updates.Load_more",remainingI18nKey:"project_updates.Showing_x_of_y_updates",totalCount:e.totalEvents,showingCount:e.eventsShowing,pageSize:5,onClick:e.onFetchMore,loading:e.isFetchingMore,hasMorePages:e.hasNextPage,atoms:["py6","w25p-md","m-auto","theme--support"]})))))}),Dn=e=>{let t=e.message;return s.createElement("div",{className:"text-center my10 alert type-24"},t)},Pn=()=>s.createElement("div",{className:"bg-grey-100"},s.createElement(g.a,null,s.createElement(Tt.a,null,s.createElement(xt.a,{width:12,mdWidth:8,mdOffset:2},s.createElement(Dn,{message:An()}))))),An=()=>s.createElement(y.a,{i18nKey:"project_updates.Were_unable_to_load_project_updates_right_now"}),Rn=e=>Object(Dt.a)("show_posts_feed")?s.createElement(In,e):s.createElement(Pn,null);var Fn=n("2UXI");const Ln=Object(T.c)(e=>{if(!e.data||!e.data.post)return Object(T.d)(e.data.error);const t=e.data,n=t.me,a=t.post,i=a.title,r=a.isPublic,o=a.commentsCount,s=a.likesCount,c=a.isLiked,l=a.number,d=a.author,u=d.name,m=d.imageUrl,f=a.authorRole,g=a.publishedAt,b=a.pinnedAt,_=a.project.state,v=a.actions,k=v.read,y=v.destroy,j=v.edit,E=v.pin,w=a.timeLeftToEdit,S=a.type,O=a.nextPost,C=a.previousPost,N=Boolean(n&&n.id),x=Boolean(n&&n.isKsrAdmin),I=Boolean(g),D=Boolean(b),P=_===h.b.LIVE,A=O&&Object(p.a)(O.id),R=C&&Object(p.a)(C.id);return Object(T.l)({title:i,isPublic:r,sequence:l,authorName:u,authorAvatarUrl:m,authorRole:f,publishedAt:g,canRead:k,canDelete:y,canPin:E,commentsCount:o,likesCount:s,canEdit:j,timeLeftToEdit:w,type:S,isAdmin:x,isLoggedIn:N,isPublished:I,isPinned:D,isProjectLive:P,isLiked:c,nextPostId:A,previousPostId:R})}),Mn=Object(l.c)(h.c,Ln);const Un=Object(T.a)(Mn,re.c,Object(D.a)(()=>({primaryText:Object(y.b)("new_project_update.Were_having_trouble_loading"),secondaryText:Object(y.b)("new_project_update.If_refreshing_this_page")})),P.b)(class extends s.Component{constructor(){super(...arguments),this.state={isPublishing:!1},this.onPublish=async()=>{const e=this.props,t=e.id,n=e.type;await this.setState({isPublishing:!0}),await this.props.onPublishPost({id:Object(p.b)(n,t)}),await Object(Fn.b)("Update Published"),await this.setState({isPublishing:!1}),window.location.href=f.b.VIEW_POST.url(this.props.projectCreator,this.props.projectSlug,this.props.id)}}render(){const e=Object(ge.b)(this.props.projectCreator,this.props.projectSlug,this.props.type,this.props.id);return s.createElement(s.Fragment,null,s.createElement(g.a,null,s.createElement(Tt.a,null,s.createElement(xt.a,{mdWidth:9,center:!0,atoms:["py10"]},s.createElement("div",{className:"px6-md"},!window.isIPhoneRequest&&s.createElement("div",{className:"bg-cobalt-600 white flex justify-between items-center p1 pl2 mt3 mb6"},Object(y.b)("project_updates.Preview_mode"),s.createElement(m.c,{to:e},s.createElement(Me.c,{theme:"trust"},s.createElement(S.a,{name:"pencil",size:"16"}),s.createElement("span",{className:"ml1"},Object(y.b)("project_update.Edit"))))),s.createElement(sn,{header:s.createElement(pn,{title:this.props.title,sequence:this.props.sequence,publishedAt:this.props.publishedAt,authorAvatarUrl:this.props.authorAvatarUrl,authorName:this.props.authorName,authorRole:this.props.authorRole,isPublic:this.props.isPublic}),body:s.createElement(s.Fragment,null,this.props.type===h.a.CreatorInterview&&s.createElement(Kt,{id:this.props.id}),this.props.type===h.a.FreeformPost&&s.createElement(Xt,{id:this.props.id}))}))))),!window.isIPhoneRequest&&s.createElement(Le,null,s.createElement("div",{className:"flex items-center justify-between w100p"},this.props.canDelete&&s.createElement(qe,{buttonText:Object(y.b)("project_updates.Delete_draft"),onDelete:()=>this.props.onDeletePost({id:Object(p.b)(this.props.type,this.props.id)}),onComplete:()=>{window.location.href=f.a.DRAFT_POSTS.url(this.props.projectCreator,this.props.projectSlug)}}),s.createElement("div",{className:"flex flex1 items-center justify-end"},s.createElement("span",{className:"flex1"}),s.createElement(ze,{editUrl:e}),!this.props.isPublished&&s.createElement(We,{formType:"freeform",onPublish:this.onPublish})))))}});var Bn=n("XfPQ");const qn=Object(T.a)(Mn,re.c,Object(D.a)(()=>({primaryText:Object(y.b)("new_project_update.Were_having_trouble_loading"),secondaryText:Object(y.b)("new_project_update.If_refreshing_this_page")})),P.b)(class extends s.Component{constructor(){super(...arguments),this.state={key:0,isLikersModalShowing:!1}}componentDidMount(){en.incrementPostView(window.clientType)}renderEditBanner(){if(!this.props.canEdit)return null;const e=Object(ge.b)(this.props.projectCreator,this.props.projectSlug,this.props.type,this.props.id);return s.createElement("div",{className:"bg-ksr-green-400 white flex justify-between items-center p2 mt3 mb6"},this.props.isAdmin?s.createElement(y.a,{i18nKey:"project_updates.As_an_admin_you_are_able"}):s.createElement(y.a,{i18nKey:"project_updates.You_have_time_left_to_edit",timeLeft:this.props.timeLeftToEdit}),s.createElement(Me.c,{href:e,atoms:["shrink0 ml2"],theme:"create"},s.createElement(S.a,{name:"pencil",size:"16"}),s.createElement("span",{className:"ml1"},Object(y.b)("project_updates.Edit"))))}renderAllPostsButton(){return s.createElement("div",{className:"pb8 native-hide"},s.createElement(m.c,{to:f.b.POSTS_FEED.url(this.props.projectCreator,this.props.projectSlug)},s.createElement(Me.d,{theme:"support"},s.createElement("div",{className:"flex items-center"},s.createElement(S.a,{name:"icon--chevron-left"}),s.createElement("span",{className:"ml2"},Object(y.b)("project_updates.All_updates"))))))}renderPost(){return s.createElement(sn,{header:s.createElement(pn,{title:this.props.title,sequence:this.props.sequence,publishedAt:this.props.publishedAt,authorAvatarUrl:this.props.authorAvatarUrl,authorName:this.props.authorName,authorRole:this.props.authorRole,isPublic:this.props.isPublic,PinningUI:s.createElement(on,{canPin:this.props.canPin,relayId:Object(p.b)(this.props.type,this.props.id),type:this.props.type,trackingContext:"view post",isPinned:this.props.isPinned,onPinCompletion:()=>Vn.push(f.b.POSTS_FEED.url(this.props.projectCreator,this.props.projectSlug))})}),body:s.createElement(ln,{canRead:this.props.canRead,isLoggedIn:this.props.isLoggedIn,isProjectLive:this.props.isProjectLive,pledgeLink:f.b.PROJECT_PLEDGE.url(this.props.projectCreator,this.props.projectSlug)},s.createElement(s.Fragment,null,this.props.type===Ut.CreatorInterview&&s.createElement(Kt,{id:this.props.id}),this.props.type===Ut.FreeformPost&&s.createElement(Xt,{id:this.props.id}))),footer:this.renderLikePost()})}renderLikePost(){const e=this.props,t=e.isLoggedIn,n=e.isPublished,a=e.canRead,i=e.isLiked,r=e.isPinned,o=e.onLikePost,c=e.onUnlikePost,l=e.likesCount,d=e.type,u=e.id,m=Object(cn.d)("/login",{then:window.location.pathname}),h=t&&n&&a,f=(()=>i?{ButtonComponent:Me.c,onClick:()=>(Object(A.i)(d,!1,r),c({id:Object(p.b)(d,u)})),text:""}:{ButtonComponent:Me.d,onClick:()=>(Object(A.i)(d,!0,r),o({id:Object(p.b)(d,u)})),text:Object(y.b)("project_updates.Like")})(),g=f.ButtonComponent,b=f.onClick,_=f.text;return s.createElement("footer",{className:"flex items-center mt8 py3 border-top border-bottom"},s.createElement(g,Object.assign({theme:"destroy",disabled:!n,atoms:["w21","flex","items-center","justify-center"]},h?{onClick:b}:n?{href:m}:{}),s.createElement(S.a,{name:"icon--heart",size:"20"}),_),l>0&&s.createElement(s.Fragment,null,i?s.createElement(s.Fragment,null,l>1&&s.createElement("span",{className:"pl3 type-12 soft-black_50"},s.createElement(y.a,{i18nKey:"project_updates.Like_this_update",youAndLikers:s.createElement("button",{type:"button",className:"type-12 soft-black_50 text-underline",onClick:()=>{Object(A.j)(d,"post"),this.setState({isLikersModalShowing:!0})}},Object(y.b)("project_updates.You_and_others_like",{count:l-1}))}))):s.createElement("span",{className:"pl3 type-12 soft-black_50"},s.createElement(y.a,{count:l,i18nKey:"project_updates.Likes_this_update",otherLikers:s.createElement("button",{type:"button",className:"type-12 soft-black_50 text-underline",onClick:()=>{Object(A.j)(d,"post"),this.setState({isLikersModalShowing:!0})}},Object(y.b)("project_updates.Others_like",{count:l}))}))),this.state.isLikersModalShowing&&s.createElement(Bn.a,{id:Object(p.b)(d,u),onClose:()=>this.setState({isLikersModalShowing:!1})}))}renderNextPostButton(){return s.createElement(Me.d,{theme:"support"},s.createElement("div",{className:"flex items-center"},s.createElement("span",{className:"mr2"},Object(y.b)("project_updates.Next")),s.createElement(S.a,{name:"icon--chevron-right"})))}renderPreviousPostButton(){return s.createElement(Me.d,{theme:"support"},s.createElement("div",{className:"flex items-center"},s.createElement(S.a,{name:"icon--chevron-left"}),s.createElement("span",{className:"ml2"},Object(y.b)("project_updates.Previous"))))}renderNeighbors(){const e=this.props,t=e.projectCreator,n=e.projectSlug,a=e.nextPostId,i=e.previousPostId;return window.isNativeAppRequest?s.createElement("div",{className:"mt6 flex items-center"},s.createElement("div",{className:"flex1"},i&&s.createElement(le.a,{href:f.b.VIEW_POST.url(t,n,i)},this.renderPreviousPostButton())),s.createElement("div",{className:"flex1 text-right"},a&&s.createElement(le.a,{href:f.b.VIEW_POST.url(t,n,a)},this.renderNextPostButton()))):s.createElement("div",{className:"mt6 flex items-center"},s.createElement("div",{className:"flex1"},i&&s.createElement(m.c,{onClick:()=>this.setState({key:this.state.key+1}),to:f.b.VIEW_POST.url(t,n,i)},this.renderPreviousPostButton())),s.createElement("div",{className:"flex1 text-right"},a&&s.createElement(m.c,{onClick:()=>this.setState({key:this.state.key+1}),to:f.b.VIEW_POST.url(t,n,a)},this.renderNextPostButton())))}renderComments(){if(!this.props.canRead)return null;const e=this.props,t=e.projectCreator,n=e.projectSlug,a=e.id,i=e.type;return s.createElement("div",{id:"comments"},s.createElement("div",{className:"py3 py7-sm hide block-sm"},s.createElement("h4",{className:"mb3"},Object(y.b)("project_updates.Comments")),s.createElement(Ct.a,{commentableId:Object(p.b)(i,a),initialCommentId:this.props.commentId,nextCursor:this.props.commentCursor,previousCursor:null,first:25,last:null,config:Object(j.a)({},Ot.a,{createTrackingEventName:"Update Comment Create"})})),s.createElement("div",{className:"hide-sm mt6 mb3"},s.createElement(Me.c,{atoms:["block"],theme:"support",href:f.b.POST_COMMENTS.url(t,n,a)},Object(y.b)("project_updates.Leave_a_comment"))))}render(){return s.createElement(he.a,{key:this.state.key,scrollDuration:1,offset:-100},s.createElement(g.a,{atoms:["py6"]},s.createElement(xt.a,{mdWidth:8,center:!0},s.createElement(A.b,{name:"Update Viewed",properties:Object(j.a)({type:this.props.type},this.props.isPinned?{post_state:"pinned"}:{})}),this.renderEditBanner(),this.renderAllPostsButton(),this.renderPost(),this.renderNeighbors(),this.renderComments())))}}),$n=e=>{const t=e.params.postId.match(/\d+/);return t?t[0]:""},Hn=e=>s.createElement(m.i,null,s.createElement(m.g,{exact:!0,path:f.b.VIEW_POST.path,render:t=>{let n=t.match;return s.createElement(qn,{id:$n(n),projectSlug:n.params.projectSlug,projectCreator:n.params.projectCreator,commentableId:e.commentableId,commentCursor:e.commentCursor,commentId:e.commentId})}}),s.createElement(m.g,{exact:!0,path:f.b.POST_COMMENTS.path,component:()=>s.createElement(Nt,{commentableId:e.commentableId,commentCursor:e.commentCursor,commentId:e.commentId})}),s.createElement(m.g,{exact:!0,path:f.b.PREVIEW_POST.path,render:e=>{let t=e.match;return s.createElement(Un,{id:$n(t),projectSlug:t.params.projectSlug,projectCreator:t.params.projectCreator})}}),s.createElement(m.g,{exact:!0,path:f.b.EDIT_FREEFORM_POST.path,render:e=>{let t=e.match;return s.createElement(ct,{id:Object(p.b)("FreeformPost",t.params.postId),projectSlug:t.params.projectSlug,projectCreator:t.params.projectCreator})}}),s.createElement(m.g,{exact:!0,path:f.b.EDIT_CREATOR_INTERVIEW.path,render:e=>{let t=e.match;return s.createElement(Je,{id:Object(p.b)("CreatorInterview",t.params.postId),projectSlug:t.params.projectSlug,projectCreator:t.params.projectCreator})}}),[{path:f.b.NEW_FREEFORM_POST.path,type:h.a.FreeformPost},{path:f.b.NEW_CREATOR_INTERVIEW.path,type:h.a.CreatorInterview}].map(t=>{let n=t.path,a=t.type;return s.createElement(m.g,{key:a,path:n,render:t=>{let n=t.match;return s.createElement(St,{projectId:e.projectId,projectSlug:n.params.projectSlug,projectCreator:n.params.projectCreator,postType:a})}})}),s.createElement(m.g,{exact:!0,path:f.b.POSTS_FEED.path,render:e=>{let t=e.match;return s.createElement(Rn,{projectSlug:t.params.projectSlug,projectCreator:t.params.projectCreator})}}),s.createElement(m.g,{exact:!0,path:f.b.PROJECT_PAGE.path,render:e=>{let t=e.match;return s.createElement(Rn,{projectSlug:t.params.projectSlug,projectCreator:t.params.projectCreator})}}),s.createElement(m.g,{path:f.a.POSTS_DASHBOARD.path,component:k}),s.createElement(m.g,{component:()=>s.createElement("h1",null,"not found")}));n.d(t,"history",function(){return Vn}),n.d(t,"initProjectPostInterface",function(){return zn});const Vn=i()(),zn=()=>{const e=Object(r.a)(o.Honeybadger.notify.bind(o.Honeybadger)),t=document.getElementById("project-post-interface");if(t){const n=t.dataset.project_relay_id||"",a=t.dataset.commentable_id||null,i=t.dataset.comment_cursor||null,r=t.dataset.comment_id||null;u.a.render(c.a.createElement(l.a,{client:e},c.a.createElement(m.h,{history:Vn},c.a.createElement(Hn,{projectId:n,commentableId:a,commentCursor:i,commentId:r}))),t)}};zn()},fpXP:function(e,t,n){var a=n("+2Rf");n("+2Rf");!function(e){e.fn.preload_background_image=function(){return this.each(function(){var t=function(e){var t=e.css("backgroundImage");try{return/[("]([^()"]+)[")]/.exec(t)[1]}catch(e){return!1}}(e(this));t&&((new Image).src=t)})}}(a)},"g/nJ":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("hL3N");i()(function(){i()(document).ksrSelect()})},g1y3:function(e,t,n){"use strict";var a=n("ijK7"),i=n("bvYH"),r=n("DjBF"),o=n("v83y"),s=n("egyr"),c=n("/IHD"),l=n("X+my"),d=n("q1tI"),u=n.n(d),m=n("v9JK"),p=n("CgNg"),h=n("94td"),f=n("kKlT");class g extends d.Component{constructor(){super(...arguments),this.state={embedUrl:"",isEmbedSubmitting:!1,embedError:""},this.handleAudioUrlChange=e=>{this.setState({embedUrl:e})},this.handleEmbedError=e=>{this.setState({embedError:e})},this.onSubmitAudio=()=>{const e=this.state.embedUrl;Object(f.d)(Object(f.a)(e))?(this.setState({isEmbedSubmitting:!0}),Object(f.b)(e).then(this.handleEmbedSuccess).catch(this.handleEmbedFailure)):this.handleEmbedError(Object(h.b)("rich_editor.Please_enter_a_valid_URL"))},this.handleEmbedSuccess=e=>{const t=this.state.embedUrl;this.setState({isEmbedSubmitting:!1}),this.props.dispatch(Object(i.l)(e,t)),this.props.onClose()},this.handleEmbedFailure=()=>{this.setState({isEmbedSubmitting:!1}),this.handleEmbedError(Object(h.b)("rich_editor.There_was_a_problem_embedding"))}}render(){return d.createElement(m.a,{headerCopy:Object(h.b)("rich_editor.Add_audio"),onClose:this.props.onClose,secondaryCloseCopy:Object(h.b)("rich_editor.Cancel"),size:"large",grabFocus:!1},d.createElement(p.b,{id:"oembedUrlPrompt",inputValue:this.state.embedUrl,hasErrors:Boolean(this.state.embedError),label:Object(h.b)("rich_editor.Paste_a_URL_soundcloud"),onChange:this.handleAudioUrlChange},d.createElement("span",{className:"red"},this.state.embedError)),d.createElement("div",{className:"mt2"},d.createElement(m.c,{onClick:this.onSubmitAudio,theme:this.props.theme.name},Object(h.b)("rich_editor.Upload"))))}}var b=n("T8n5"),_=n("NxQb"),v=n("dZEV");const k=n("/Jws").a.Component;class y extends d.Component{constructor(){super(...arguments),this.state={isFetching:!1,uploadLimit:{bytes:0,megabytes:0,contentTypes:[]}}}componentDidMount(){this.setState(()=>({isFetching:!0}),()=>Object(v.e)({fileType:v.c.PHOTO}).then(e=>{const t=e;this.setState({isFetching:!1,uploadLimit:t})}))}render(){if(this.state.isFetching)return null;const e=this.props,t=e.dispatch,n=e.errors,a=e.imageAltText,r=e.imageCaption,o=e.imageSrc,s=e.imageUrl,c=e.subjectBlock,l=e.uploaderState,u=e.theme,f=e.piiWarning,g=e.onClose,v=["UPLOADING","PROCESSING","SUCCESSFUL"].includes(l.baseUpload.uploaderStatus),y=null!==c||v,j=!c&&!o,E=v||!!a||!!r||!!s,w=!!c,S=f?d.createElement(b.a,{atoms:["type-14","medium","black","mb2","center"]},Object(h.b)("rich_editor.Don’t_upload_anything_that_contains_backer_information")):void 0;return d.createElement(m.a,{headerCopy:w?Object(h.b)("rich_editor.Add_a_caption"):Object(h.b)("rich_editor.Add_image"),subHeaderCopy:S,onClose:()=>{t(Object(i.a)(E)),g()},secondaryCloseCopy:Object(h.b)("rich_editor.Cancel"),size:"large",grabFocus:!1},!c&&d.createElement(k,{dispatch:t,state:l,uploadLimit:this.state.uploadLimit,theme:u}),y&&d.createElement(d.Fragment,null,d.createElement(p.b,{id:"imageCaptionPrompt",inputValue:r,label:Object(h.b)("rich_editor.Image_Caption"),onChange:e=>t(Object(i.s)(e)),atoms:["mb3","mt4"],max:125}),d.createElement(p.b,{currentFocus:"imageUrlPrompt",hasErrors:!!n,id:"imageUrlPrompt",inputValue:s,label:Object(h.b)("rich_editor.Clickthrough_URL"),onChange:e=>t(Object(i.t)(e))},d.createElement("span",{className:"red"},n)),Object(_.a)("image_uploader_alt_text")&&d.createElement(p.b,{id:"imageAltTextPrompt",inputValue:a,label:"Alternate Text (Optional)",onChange:e=>t(Object(i.r)(e)),atoms:["mb3","mt4"],max:125})),!j&&d.createElement(m.c,{onClick:()=>{t(Object(i.n)()),g()},theme:u.name},w?Object(h.b)("rich_editor.Save"):Object(h.b)("rich_editor.Upload")))}}var j=n("lHf8"),E=n("eH4U");class w extends d.Component{constructor(){super(...arguments),this.state={linkText:this.props.linkText||"",linkUrl:this.props.linkUrl||"",error:""},this.handleLinkTextChange=e=>{this.setState({linkText:e})},this.handleLinkUrlChange=e=>{this.setState({linkUrl:e})},this.onSubmitLink=()=>{const e=this.state,t=e.linkUrl,n=e.linkText;Object(f.d)(Object(f.a)(t))?(this.props.dispatch(Object(i.o)(t,n)),this.props.onClose()):this.setState({error:Object(h.b)("rich_editor.Please_enter_a_valid_URL")})}}trackPIIWarningLinkToTerms(){const e=this.props.tracking;e&&"function"==typeof e.piiWarningLinkToTerms&&e.piiWarningLinkToTerms()}trackPIIWarningTriggered(){const e=this.props.tracking;e&&"function"==typeof e.piiWarningTriggered&&e.piiWarningTriggered()}trackPIIWarningUntriggered(){const e=this.props.tracking;e&&"function"==typeof e.piiWarningUntriggered&&e.piiWarningUntriggered()}componentDidUpdate(e,t){t.linkUrl!==this.state.linkUrl&&(Object(E.e)(t.linkUrl)&&!Object(E.e)(this.state.linkUrl)?this.trackPIIWarningTriggered():!Object(E.e)(t.linkUrl)&&Object(E.e)(this.state.linkUrl)&&this.trackPIIWarningUntriggered())}render(){const e=this.props,t=e.onClose,n=e.theme,a=e.checkForPossiblePII&&Object(E.e)(this.state.linkUrl);return d.createElement(m.a,{headerCopy:Object(h.b)("rich_editor.New_link"),secondaryCloseCopy:Object(h.b)("rich_editor.Cancel"),onClose:t,size:"large",grabFocus:!1},d.createElement(p.b,{id:"linkUrlPrompt",currentFocus:"linkUrlPrompt",onChange:this.handleLinkUrlChange,hasErrors:Boolean(this.state.error),inputValue:this.state.linkUrl,label:Object(h.b)("rich_editor.URL"),atoms:["mt4"],warning:a?d.createElement(h.a,{atoms:["type-14","orange-500"],i18nKey:"project_updates.Make_sure_your_linked_documents_don’t_contain_any_backer_information",link:d.createElement(j.a,{color:"orange-500",target:"_blank",onClick:this.trackPIIWarningLinkToTerms,href:"https://www.kickstarter.com/terms-of-use#section3"},Object(h.b)("project_updates.Our_terms"))}):null},d.createElement("span",{className:"red-500 mb2"},this.state.error)),d.createElement(p.b,{id:"linkTextPrompt",inputValue:this.state.linkText,label:Object(h.b)("rich_editor.Link_text_optional"),onChange:this.handleLinkTextChange,atoms:[a?"mt14 mt10-sm":"mt6"]}),d.createElement(m.c,{disabled:!Boolean(this.state.linkUrl),onClick:this.onSubmitLink,theme:n,type:"submit"},Object(h.b)("rich_editor.Add")))}}const S=e=>{let t=e.onConfirm,n=e.onClose;return d.createElement(m.a,{headerCopy:Object(h.b)("rich_editor.Are_you_sure_you_want_to_delete_this"),onClose:n,secondaryCloseCopy:Object(h.b)("rich_editor.Cancel"),size:"small"},d.createElement(m.c,{type:"button",theme:"destroy",onClick:t},Object(h.b)("rich_editor.Delete")))};var O=n("qEcG"),C=n("ZCHx"),N=n("zm9w"),x=n("prSB"),T=n("gN63");let I;!function(e){e.AUD="AUD",e.CAD="CAD",e.CHF="CHF",e.DKK="DKK",e.EUR="EUR",e.GBP="GBP",e.HKD="HKD",e.JPY="JPY",e.MXN="MXN",e.NOK="NOK",e.NZD="NZD",e.PLN="PLN",e.SEK="SEK",e.SGD="SGD",e.USD="USD"}(I||(I={}));const D=n("HKes").RewardModal,P=e=>{let t=e.currentReward,n=e.dispatch,a=e.onClose,o=e.theme;const s=Object(d.useState)(!0),c=Object(r.a)(s,2),l=c[0],p=c[1],f=Object(d.useState)([]),g=Object(r.a)(f,2),_=g[0],v=g[1],k=Object(d.useState)(),y=Object(r.a)(k,2),j=y[0],E=y[1];Object(d.useEffect)(()=>{(async()=>{const e=await(async()=>{var e,t,n;return((null===(e=(await Object(T.d)(D,{slug:window.slug})).data)||void 0===e?void 0:null===(t=e.project)||void 0===t?void 0:null===(n=t.rewards)||void 0===n?void 0:n.nodes)||[]).filter(e=>null!==e).map(e=>Object(x.a)({},e,{id:Object(T.a)(e.id),startsAt:e.startsAt?1e3*e.startsAt:null}))})();e.length>0&&(v(e),E(t||e[0])),p(!1)})()},[]);const w=_.map(e=>{const t=e.amount.amount?N.a.money(e.amount.amount,{currency:e.amount.currency,precision:0}):null;return{label:"".concat(t," - ").concat(e.name),value:e.id}});return u.a.createElement(u.a.Fragment,null,!l&&u.a.createElement(m.a,{headerCopy:Object(h.b)("rich_editor.Embed_reward"),onClose:a,secondaryCloseCopy:Object(h.b)("rich_editor.Cancel"),size:"large",grabFocus:!1},_&&j&&u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,null,Object(h.b)("rich_editor.Feature_specific_rewards")),u.a.createElement(C.a,{atoms:{enabled:["mb3"]},options:w,selectedValue:null==j?void 0:j.id,onChange:e=>E(_.find(t=>t.id===e))}),u.a.createElement(O.a,{previewMode:!0,reward:j,showSelectRewardButton:!1})),0===_.length&&Object(h.b)("rich_editor.No_available_rewards"),u.a.createElement("div",{className:"mt2"},u.a.createElement(m.c,{disabled:!j,onClick:()=>{j&&(n(Object(i.m)(j)),a())},theme:o.name},Object(h.b)("rich_editor.Embed")))))};var A=n("qAuv"),R=n("MTFr"),F=n("rI0c");const L=e=>{const t=e.encodingState,n=e.encodingError,a=t===v.a.ENCODING,i=t===v.a.FAILED;return a||i?d.createElement(d.Fragment,null,d.createElement(A.a,{height:28,mdHeight:35},a&&d.createElement(R.f,{message:Object(h.b)("uploaders.Encoding"),secondaryMessage:Object(h.b)("uploaders.Please_wait_while_we_encode"),barAtoms:["bg-soft-black","animation-pulse","animation-500"]}),i&&d.createElement(R.f,{barAtoms:["bg-red-400"],message:Object(h.b)("uploaders.Encoding_failed"),secondaryMessage:n||Object(h.b)("uploaders.There_was_a_problem_encoding"),secondaryCTA:{message:Object(h.b)("uploaders.Try_again"),action:e.onReset}})),d.createElement(M,null)):d.createElement(d.Fragment,null,d.createElement(F.a,{onUploadComplete:e.onUploadComplete,attachableAssoc:e.attachableAssoc,attachableId:e.attachableId}),d.createElement(M,null))},M=()=>d.createElement("div",{className:"my5 text-center relative"},d.createElement("span",{className:"border-bottom border-grey-500 absolute l0 r0 w100p t50p"}),d.createElement("span",{className:"dark-grey-400 inline-block bg-white px3 z1 relative"},Object(h.b)("uploaders.Or"))),U=()=>null,B={embedError:"",embedUrl:"",isEmbedSubmitting:!1,encodingState:null,encodingError:""};class q extends d.Component{constructor(){super(...arguments),this.mounted=!1,this.state=B,this.handleEmbedUrlChange=e=>{this.setState({embedUrl:e})},this.handleEmbedError=e=>{this.setState({embedError:e})},this.submitVideoEmbed=()=>{const e=this.state.embedUrl;Object(f.d)(Object(f.a)(e))?(this.setState({isEmbedSubmitting:!0}),Object(f.b)(e).then(this.handleEmbedSuccess).catch(this.handleEmbedFailure)):this.handleEmbedError(Object(h.b)("rich_editor.Please_enter_a_valid_URL"))},this.handleEmbedSuccess=e=>{const t=this.state.embedUrl;this.setState({isEmbedSubmitting:!1}),this.props.dispatch(Object(i.l)(e,t)),this.props.onClose()},this.handleEmbedFailure=()=>{this.setState({isEmbedSubmitting:!1}),this.handleEmbedError(Object(h.b)("rich_editor.There_was_a_problem_embedding"))},this.handleEncodingSuccess=e=>{this.mounted&&this.setState(()=>({encodingState:v.a.ENCODED}),()=>{const t=this.props,n=t.onClose,a=t.dispatch,r=t.onUploadSuccess;a(Object(i.p)(e.id,e.renderedHtml)),r(),n()})},this.handleEncodingFailure=e=>{this.mounted&&this.setState({encodingError:e.message,encodingState:v.a.FAILED})},this.handleAssetPolling=e=>{Object(v.g)(e).then(this.handleEncodingSuccess).catch(this.handleEncodingFailure)},this.handleUploadComplete=e=>{this.setState(()=>({encodingState:v.a.ENCODING}),()=>this.handleAssetPolling(e))},this.isModalDirty=()=>this.state.encodingState===v.a.ENCODING||this.state.encodingState===v.a.ENCODED,this.onReset=()=>{this.setState(B)},this.onBeforeUnload=e=>{if(this.isModalDirty())return e.returnValue="",""},this.onConfirmBeforeClose=()=>{this.isModalDirty()?window.confirm(Object(h.b)("uploaders.Are_you_sure_you_want_to_exit"))?this.props.onClose():U():this.props.onClose()}}componentDidMount(){this.mounted=!0,window.addEventListener("beforeunload",this.onBeforeUnload)}componentWillUnmount(){this.mounted=!1,window.removeEventListener("beforeunload",this.onBeforeUnload)}render(){return d.createElement(m.a,{onClose:this.onConfirmBeforeClose,headerCopy:Object(h.b)("rich_editor.Add_video"),secondaryCloseCopy:Object(h.b)("rich_editor.Cancel"),size:"large",grabFocus:!1},d.createElement(L,{onReset:this.onReset,encodingState:this.state.encodingState,encodingError:this.state.encodingError,onUploadComplete:this.handleUploadComplete,attachableAssoc:this.props.attachableAssoc,attachableId:this.props.attachableId}),d.createElement(p.b,{id:"oembedUrlPrompt",inputValue:this.state.embedUrl,hasErrors:Boolean(this.state.embedError),label:Object(h.b)("rich_editor.Paste_a_URL_youtube"),onChange:this.handleEmbedUrlChange,atoms:["mt4"]},d.createElement("span",{className:"red"},this.state.embedError)),d.createElement("div",{className:"mt2"},d.createElement(m.c,{onClick:this.submitVideoEmbed,theme:this.props.theme.name,disabled:!Boolean(this.state.embedUrl)},this.state.isEmbedSubmitting?Object(h.b)("rich_editor.Adding"):Object(h.b)("rich_editor.Add"))))}}var $=n("SmhT"),H=n("1uWx");const V=e=>e.keyCode===$.l?"space":!0===e.metaKey&&e.keyCode===$.f?"link":Object(o.getDefaultKeyBinding)(e);var z=n("2DJ9"),W=n("RBqt"),K=n("inqH"),Y=n("Nz1K");const G=e=>{let t=e.href,n=e.onTrashClick,a=e.onConvertToLink;const i=Object(Y.a)(t).innerHTML;return d.createElement(K.a,null,d.createElement("div",{className:"relative"},d.createElement("div",{className:"relative"},d.createElement("div",{dangerouslySetInnerHTML:{__html:i}})),d.createElement("div",{className:"absolute t2 r2 bg-white px2 shadow-2 radius2px flex items-center"},d.createElement("button",{type:"button",className:" px2",onClick:a},d.createElement(z.a,{atoms:["fill-dark-grey-500 hover-item-fill-blue-600"],name:"icon--link",size:"20"})),d.createElement(X,{onClick:n}))))},J=e=>{const t=e.rawHtml,n=e.onTrashClick,i=Object(a.h)(t);return d.createElement("div",{className:"relative"},d.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),d.createElement("div",{className:"absolute t2 r2 bg-white px2 shadow-2 radius2px flex items-center"},d.createElement(X,{onClick:n})))},Q=e=>{let t=e.block,n=e.blockProps,a=n.dispatch,r=n.setCurrentModal;const o=t.getData(),s=o.get("type"),c=()=>{r("REMOVE_ASSET"),a(Object(i.h)(t))};switch(s){case"AUDIO":{const e=o.get("sources");return d.createElement(Z,{onTrashClick:c,sources:e})}case"OEMBED":{const e=o.get("href");return d.createElement(G,{onTrashClick:c,onConvertToLink:()=>{a(Object(i.h)(t)),a(Object(i.i)()),a(Object(i.o)(e,e))},href:e})}case"IMAGE":const e=o.get("alt"),n=o.get("caption"),l=o.get("href"),u=o.get("src");return d.createElement(ee,{alt:e,caption:n,src:u,href:l,onTrashClick:c,onEditImageClick:()=>{r("IMAGE"),a(Object(i.f)(t))}});case"REWARD":{const e=o.get("reward"),n=()=>d.createElement("div",{className:"shadow-2 radius6px fit-content-height no-wrap ml2"},d.createElement("button",{type:"button",className:"hover-target px2 py1",onMouseDown:()=>{r("REWARD"),a(Object(i.g)(t))}},d.createElement(z.a,{atoms:["fill-dark-grey-500","hover-item-fill-blue-600"],name:"pencil",size:"medium"})),d.createElement("button",{type:"button",className:"hover-target px2 py1",onMouseDown:c},d.createElement(z.a,{atoms:["fill-dark-grey-500","hover-item-fill-blue-600"],name:"trash",size:"medium"})));return d.createElement(O.a,{controls:n(),previewMode:!0,reward:e})}case"VIDEO":{const e=o.get("rawHtml");return d.createElement(J,{onTrashClick:c,rawHtml:e})}default:return d.createElement("div",null)}},X=e=>{let t=e.onClick;return d.createElement("button",{type:"button",className:"hover-target px2 py3",onMouseDown:t},d.createElement(z.a,{atoms:["fill-dark-grey-500","hover-item-fill-blue-600"],name:"trash",size:"medium"}))},Z=e=>{let t=e.onTrashClick,n=e.sources;return d.createElement("div",{className:"flex items-center relative w100p bg-grey-300 p2"},d.createElement("audio",{className:"w90p",controls:!0},Object.keys(n).map(e=>d.createElement("source",{key:e,src:n[e],type:e})),"Your browser does not support the audio element."),d.createElement("div",{className:"ml-auto block bg-white px2 shadow-2 radius2px flex items-center"},d.createElement(X,{onClick:t})))},ee=e=>{let t=e.alt,n=e.caption,a=e.href,i=e.src,r=e.onTrashClick,o=e.onEditImageClick;const s=t||n;return d.createElement("div",{className:"relative"},d.createElement("div",{className:"absolute t2 r2 bg-white px2 shadow-2 radius2px flex items-center"},a&&d.createElement("a",{className:"px2 py3 px2 hover-target",href:a,onMouseDown:()=>window.location.href=a},d.createElement(W.a,{atoms:["hover-item-blue-600"],color:"dark-grey-500",type:"body-100"},a.substring(0,8)+"...")),d.createElement("button",{type:"button",className:"hover-target px2 py3",onMouseDown:o},d.createElement(z.a,{atoms:["fill-dark-grey-500","hover-item-fill-blue-600"],name:"pencil",size:"medium"})),d.createElement("button",{type:"button",className:"hover-target px2 py3",onMouseDown:r},d.createElement(z.a,{atoms:["fill-dark-grey-500","hover-item-fill-blue-600"],name:"trash",size:"medium"}))),d.createElement("img",{alt:s,role:s?void 0:"presentation",src:i}),n&&d.createElement("figcaption",{className:"type-12 type-13-md dark-grey-500"},n))},te=(e,t,n)=>{const a=/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor);return!Object(_.a)("rich_text_embedifier")||a?"not-handled":((e,t,n)=>{const a=[/(^https:\/\/vimeo.com\/\d+)((?!\s).)*$/,/(^https:\/\/www.instagram.com\/p\/)((?!\s).)*$/,/(^https:\/\/www.youtube.com\/watch)((?!\s).)*$/,/(^https:\/\/www.twitch.tv\/videos\/\d+)((?!\s).)*$/,/(^https:\/\/www.facebook.com\/\w+\/videos\/\d+)((?!\s).)*$/,/(^https:\/\/\w+.bandcamp.com\/(album|releases))((?!\s).)*$/,/(^https:\/\/www.scribd.com\/(article|audiobook|book|snapshot|document))((?!\s).)*$/,/(^https:\/\/sketchfab.com\/3d-models)((?!\s).)*$/,/(^https:\/\/twitter.com\/\w+\/status)((?!\s).)*$/,/(^https:\/\/www.twitch.tv\/\w+)((?!\s).)*$/,/(^https:\/\/soundcloud.com)((?!\s).)*$/,/(^https:\/\/youtu.be)((?!\s).)*$/].some(t=>t.test(e)),r=t.getSelection(),s=t.getCurrentContent().getBlockForKey(r.getAnchorKey());return!a||0!==s.getLength()&&" "!==s.getText()?a&&0===r.getStartOffset()&&0!==r.getEndOffset()?(n(Object(i.k)()),o.Modifier.removeRange(t.getCurrentContent(),r,"forward"),Object(f.b)(e).then(t=>{n(Object(i.l)(t,e)),n(Object(i.d)())}),"handled"):"not-handled":(n(Object(i.k)()),Object(f.b)(e).then(t=>{n(Object(i.l)(t,e)),n(Object(i.d)())}),"handled")})(e,t,n)};var ne=n("ZCb5");const ae=e=>{let t=e.dispatch,n=e.placeholder,m=e.state,p=e.theme,h=void 0===p?l.a:p,b=e.ToolBar,_=void 0===b?ne.b:b,v=e.hasErrors,k=e.hasWarnings,j=e.tracking,E=e.maxWidth,O=e.checkForPossiblePII;const C=m.story,N=C.editorState,x=C.errors,T=C.imageAltText,I=C.imageCaption,D=C.imageSrc,A=C.imageUrl,R=C.key,F=C.subjectBlock,L=C.showRemoveLink,M=C.attachableId,U=C.attachableAssoc,B=C.linkText,$=C.linkUrl,z=C.showLoader,W=Object(d.useState)(null),K=Object(r.a)(W,2),Y=K[0],G=K[1],J=()=>G(null);return u.a.createElement("div",{className:Object(c.a)("rte__wrapper",v&&"rte__wrapper--error",k&&"rte__wrapper--warning")},u.a.createElement("div",{className:"relative left-align"},u.a.createElement(_,{dispatch:t,editorState:N,showRemoveLink:L,tracking:j,setCurrentModal:G}),z&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"gradient-transparent-to-white absolute t1 r0 z-toolbar-3 w50p w20p-md h8"}),u.a.createElement("div",{className:"absolute t3 r3 z-toolbar-3"},u.a.createElement(s.a,null))),u.a.createElement("div",{className:"rte__editor rte__content",style:{maxWidth:E?"".concat(E,"px"):"auto"}},u.a.createElement(o.Editor,{blockRendererFn:e=>{if("atomic"===e.getType())return{component:Q,editable:!1,props:{dispatch:t,setCurrentModal:G}}},blockStyleFn:e=>{return"unstyled"===e.getType()?"mb1":""},editorState:N,handleKeyCommand:e=>((e,t,n,r)=>{switch(e){case"space":return n(Object(i.q)(Object(a.b)(t))),"handled";case"split-block":return n(Object(i.q)(Object(a.a)(t))),"handled";case"bold":return n(Object(i.q)(o.RichUtils.toggleInlineStyle(t,H.b.style))),"handled";case"link":return r?(Object(f.c)(n,t,r),"handled"):"not-handled";case"italic":return n(Object(i.q)(o.RichUtils.toggleInlineStyle(t,H.j.style))),"handled";case"underline":default:return"not-handled"}})(e,N,t,G),handlePastedText:e=>te(e,N,t),keyBindingFn:V,key:R,onChange:e=>t(Object(i.q)(e)),placeholder:n,readOnly:!!Y,spellCheck:!0,autoCorrect:"off"}))),"IMAGE"===Y&&u.a.createElement(y,{onClose:J,dispatch:t,errors:x,imageAltText:T,imageCaption:I,subjectBlock:F,imageUrl:A,uploaderState:m.imageUploader,imageSrc:D,theme:h}),"VIDEO"===Y&&u.a.createElement(q,{onClose:J,attachableAssoc:U,attachableId:M,onUploadSuccess:()=>{j&&j.videoUploaded&&j.videoUploaded()},dispatch:t,theme:h}),"AUDIO"===Y&&u.a.createElement(g,{theme:h,dispatch:t,onClose:J}),"REWARD"===Y&&u.a.createElement(P,{dispatch:t,onClose:J,currentReward:F?F.getData().get("reward"):null,theme:h}),"LINK"===Y&&u.a.createElement(w,{onClose:J,theme:h.name,dispatch:t,linkUrl:$,linkText:B,tracking:j,checkForPossiblePII:O}),"REMOVE_ASSET"===Y&&u.a.createElement(S,{onClose:()=>{t(Object(i.b)()),J()},onConfirm:()=>{t(Object(i.i)()),J()}}))};var ie=n("L+5T");n.d(t,"b",function(){return a.c}),n.d(t,"d",function(){return i.c}),n.d(t,"a",function(){return ae}),n.d(t,"c",function(){return ie.a})},g84z:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("DjBF");const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;return e&&""!==e&&"?"!==e&&(e.includes("#")||e.includes("?"))?(e.includes("?")&&(e=e.split("?").pop()),(e=/^[?#]/.test(e)?e.slice(1):e).includes("#")&&(e=e.split("#")[0]),e.split("&").reduce((e,t)=>{let n=t.split("="),i=Object(a.a)(n,2),r=i[0],o=i[1];return e[decodeURIComponent(r)]=o?decodeURIComponent(o.replace(/\+/g," ")):"",e},{})):{}}},gMis:function(e,t,n){"use strict";n.r(t);var a=n("+2Rf"),i=n.n(a),r=n("SmhT");n("JqCU");const o=new Promise(e=>{i()(()=>e(i()("#growl_section")))});var s;function c(e){e.fadeOut("fast"),s&&s.length&&s.focus()}o.then(e=>{e.on("click",function(e){var t;i()(e.target).is(i()(this))&&((t=i()(this)).fadeOut("fast"),t.removeClass("sticky"),t.find("div.jGrowl-notification:parent").each(function(){i()(this).data("jGrowl")&&(i()(this).data("jGrowl").sticky=!1)}))}),i()(document).on("keydown",function(t){t.which===r.d&&e.is(":visible")&&c(e)})});const l=async(e,t)=>{const n=await o;i.a.each(e,function(e,a){void 0===t&&(t={}),"error"===e&&(t.sticky=!0,n.addClass("sticky")),n.jGrowl(a,i.a.extend(t,{theme:e,closeTemplate:'<button class="jGrowl-close-x" aria-label="close notification"><span class="ksr-icon__close" aria-hidden="true"></span></button>',beforeOpen:function(){var e;(e=n).fadeIn("fast"),s=i()(":focus"),e.find(".jGrowl-notification").attr("tabindex",-1).focus()},close:function(){c(n)}}))})};window.growl=l,t.default=l},gN63:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return m}),n.d(t,"e",function(){return p}),n.d(t,"c",function(){return h}),n.d(t,"f",function(){return f}),n.d(t,"g",function(){return g});var a=n("prSB"),i=n("7cf5"),r=n("gCJq"),o=n("n+nq"),s=n("PhMr"),c=n("0RKZ");const l=e=>d(e)[1],d=e=>{const t=Object(c.a)(e).split("-");if(2==t.filter(String).length)return t;throw new Error("Invalid GraphQL RelayId")},u=(e,t)=>Object(c.b)("".concat(e,"-").concat(t)),m=(e,t,n)=>{(e=>e&&"string"!=typeof e&&"Document"===e.kind)(e)&&(e=Object(r.print)(e)),n||(n={});const c=n,l=c.projectShareToken,d=Object(i.a)(c,["projectShareToken"]),u={method:"POST",body:JSON.stringify(Object(a.a)({query:e,variables:t},d)),credentials:"same-origin",headers:{"X-CSRF-Token":Object(o.b)(document),"Content-Type":"application/json"}};return l&&(u.headers["Project-Share-Token"]=l),fetch("/graph",u).then(e=>200==e.status?Promise.resolve(e):(console.error("GraphQL Network Error:",e.statusText),Promise.reject(new Error("Failed to fetch")))).then(Object(s.a)("json"))},p=(e,t)=>new Promise((n,a)=>{m(e,t,{}).then(e=>{e.errors?a(e.errors):n(e.data)}).catch(e=>a(e))}),h=(e,t,n)=>m(e,t,n),f=(e,t)=>{let n=t.retryCount,a=t.onRetry;const i=e.query,r=e.variables,o=e.params;return m(i,r,o).catch(t=>{if(0===n)throw t;return a&&a({error:t,fetchArgs:e,retryCount:n}),f(e,{retryCount:n-1,onRetry:a})})},g=(e,t)=>{if(Array.isArray(e)){const n=e.map(e=>"object"==typeof e&&"message"in e&&"string"==typeof e.message?e.message:t);return n.filter((e,t)=>n.indexOf(e)>=t).join(", ")}return t}},gNPL:function(e,t,n){"use strict";var a=n("a+N5"),i=n.n(a),r=n("GRmu"),o=n("0VSk"),s=(n("huWg"),n("y9ho"),n("q+rZ"),n("+2Rf"),n("+2Rf")),c=function(e,t){var n=this;this.options=s.extend({},this.default_options,t),Object.keys(this.constructor.decorator).forEach(function(e){var a=[n.constructor.decorator[e]];"function"==typeof t[e]&&a.push(t[e]),n.options[e]=function(){for(var e=0;e<a.length;e+=1)a[e].apply(n,arguments)}}),this.$input=e,this.$form=e.closest("form"),this.$container=e.closest(".js-asset-upload"),this.uploading_files=[]};c.prototype.raise=function(e){this.$input.trigger("error"),this.$form.trigger("ksr_file_upload:reset"),Object(r.a)({error:e}),this.$container.removeClass("uploading")},c.prototype.default_options={type:"POST",dataType:"text",mimeTypes:[],paramsUrl:null},c.prototype.identifier_for_file=function(e){return e.name+e.size+e.type+e.lastModified},(c.decorator={}).add=function(e,t){var n=this,a=t.files[0],r=a.name.replace(/\s+/g,"_"),c=this.identifier_for_file(a);if(this.options.mimeTypes&&this.options.mimeTypes.length>0&&this.options.mimeTypes.indexOf(a.type)<0)return this.raise(o.default.t("library.adhoc_fileuploader.This_is_not_a_valid_file_type")),!1;this.options.paramsUrl?s.ajax({url:this.options.paramsUrl,type:"GET",data:{filename:r,filetype:a.type},success:function(e){t.paramName="file",t.formData=i.a.map(e.params,function(e,t){return{name:t,value:e}}),t.submit(),n.uploading_files.push(c)},error:function(){n.raise(o.default.t("library.adhoc_fileuploader.Theres_something_wrong_with_the_filename_Please",{file_name:a.name}))}}):(t.submit(),this.uploading_files.push(c))},c.decorator.done=function(e,t){var n=t.files[0],a=this.identifier_for_file(n);this.uploading_files=this.uploading_files.filter(function(e){return e!==a}),this.uploading_files.length||(this.$container.removeClass("uploading"),window.onbeforeunload=this.previous_onbeforeunload)},c.decorator.submit=function(){this.$container.addClass("uploading"),this.previous_onbeforeunload=window.onbeforeunload;var e=this;window.onbeforeunload=function(){if(e.$container.hasClass("uploading"))return o.default.t("library.adhoc_fileuploader.Your_upload_has_not_completed_yet_Click_Stay")}},c.decorator.progress=function(e,t){var n=this.$container.find(".progress"),a=n.filter(".tmpl");if(a.length){var i=t.formData[2].value.replace(/[^\w-_+]/g,"_");(n=this.$container.find("."+i)).length||(n=a.clone().addClass(i).removeClass("tmpl"),s(".progress:last").after(n))}var r=parseInt(t.loaded/t.total*100,10);n.find(".bar").css("width",r+"%"),n.find(".percentage").text(r+"%"),100===r&&(n.addClass("finished"),n.find(".percentage").text(o.default.t("library.adhoc_fileuploader.Processing")))},c.decorator.fail=function(){this.raise(o.default.t("library.adhoc_fileuploader.There_was_an_error_with_this_file_Please_try_a_different"))},s.fn.adhoc_fileuploader=function(e){s(this).each(function(){var t=new c(s(this),e);s(this).fileupload(t.options)})}},gY5S:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("D6l6"),o=n("yQm5"),s=n.n(o);n("RIhn");i()(function(){i()(document).ajaxSend(function(e,t,n){var a,r;"GET"!==n.type&&(a=n.url,""===(r=new s.a(a).domain())||r===new s.a(window.location.href).domain())&&t.setRequestHeader("X-CSRF-Token",i()('meta[name="csrf-token"]').attr("content"))}),i()("form[data-ksrjson]").livequery(function(){var e=i()([]);i()(this).attr("data-target")?e=i()(i()(this).attr("data-target")):i()(this).closest(".ajax-container").length?e=i()(this).closest(".ajax-container"):i()(this).closest(".modal_dialog").length>0&&(e=i()(this)),e.length>0&&r.a.enable_form(i()(this),e)}),i()(document).on("click","a[data-ksrjson]",function(e){var t=i()(this),n=i()(t.attr("data-target"));return e.preventDefault(),0===n.length&&(n=t.closest(".ajax-container")),0===n.length||r.a.get(t.attr("href"),t.attr("data-ksrmethod"),n,this)})})},"gtN/":function(e,t,n){"use strict";var a=n("YEaP"),i=n("+2Rf");n("+2Rf");!function(e){function t(e,t){return a.a.pageX(e)-t.offset().left}e.fn.draggable_bar=function(n,a){return a||(a=n,n=null),this.each(function(){var i=e(this),r=null,o=0;i.on("mousedown touchstart",n,function(n){var a=e(n.target);r=n.target,o=t(n,a)}),i.on("mousedown touchstart mousemove touchmove",n,function(e){var n;r&&(n=t(e,i)/i.width())>0&&n<1&&a(n,r,o)}),e(document).on("mouseup touchend",function(){r=null})})}}(i)},gz5L:function(e,t,n){var a=n("QqLw"),i=n("ExA7"),r="[object WeakMap]";e.exports=function(e){return i(e)&&a(e)==r}},h4vE:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("ECYc"),o=n("NxQb");const s=["#NS__discover_advanced_sentence","#NS_discover__categories","#NS_discover__filters","#NS_discover__landing","#NS_discover__locations","#NS_discover__sorts","#admin-menu","#backings_index","#credit_cards_new","#discover_advanced","#help_stats","#navbar","#pledges_new","#projects_learn_refresh","#projects_show","#users_edit_account",".NS-admin_submissions__edit",".NS-features__toggle",".NS-friends",".NS-projects__admin_keyboard_control",".NS_admin_projects__review_panel_user",".NS_backings__info",".NS_layouts__admin_navigation",".NS_layouts__notifications",".NS_pledges__shipping_select",".NS_project_profiles__project_link",".NS_projects__content",".NS_projects__creator_nav",".NS_projects__description_section",".NS_projects__hero_spotlight",".NS_projects__project_share",".NS_projects__spotlight_onboarding",".NS_site__about_subnav",".NS_site__founding_story",".NS_survey_questions__address",".NS_users__profile",".blog_posts_show",".js-nav--subnav",".js-project-community-content",".js-project-description-content",".js-project-faqs-content",".pledges__checkout_faqs",".pledges__checkout_rewards","body#activity_index","body#backer_report_index","body#jobs_index","body#mobile_index","body#pledges_edit","body#pledges_new","body#posts_edit","body#projects_dashboard","body#site_about","body#site_press","body#survey_responses_new","body#surveys_form","body#users_edit_profile","body.discover","body.mobile","body.profile","body.survey_responses","div.NS_admin_submissions__macro_controls"].reduce((e,t)=>(e[t]=!0,e),{});function c(e,t){i()(function(){const n=i()(e),a=n.length>0;a&&t(n),a&&Object(o.a)("track_define_namespace")&&!0!==s[e]&&r.a.increment("define_namespace,selector=".concat(JSON.stringify(e),",present=").concat(a))})}window.define_namespace=c,t.a=c},hL3N:function(e,t,n){"use strict";var a=n("SmhT"),i=n("+2Rf");n("+2Rf");!function(e){function t(t){t.each(function(){var t=e(this),n=t.find("option:selected");t.siblings(".js-title, .title").text(n.text().trim()||n.data("altLabel"))})}e.fn.ksrSelect=function(){var n=e(this);n.find(".js-ksr-select").livequery(function(){t(e(this).find("select"))}),n.on("focus blur",".js-ksr-select select",function(){e(this).parent().toggleClass("is-focus")}),n.on("change",".js-ksr-select select",function(){t(e(this))}),n.on("keydown",".ksr-icon__arrow-down, .ss-delete, .js-filter-arrow, .js-filter-delete",function(t){var n=e(this),i=t.keyCode;i!==a.c&&i!==a.l||(t.preventDefault(),(n.hasClass("ss-delete")||n.hasClass("js-filter-delete"))&&n.parent().find(".ksr-icon__arrow-down, .js-filter-arrow").focus(),n.click())})},e.fn.ksr_val=function(n){var a=e(this);if(void 0!==n){var i=a.val(n);return t(a),i}return a.val()}}(i)},hOIC:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE");n("Ck6Y"),n("nra7");Object(r.a)(".NS_projects__greenlit",function(e){var t=i()("#review_modal");e.find(".js-continue-to-launch").click(function(e){e.preventDefault(),i()("#content-wrap").find("#finished").hide(),i()(this).trigger("project_edit:toggle_tab",["launch"])}),e.find(".button_preview").click(function(e){e.preventDefault(),i()(this).trigger("project_edit:toggle_tab",["preview"])}),e.find(".button_review").click(function(e){var n,a,i,r;e.preventDefault(),a=(n=t).attr("class"),i=n.attr("id"),r=n.data("title"),n.modal_dialog({class_name:a,id:i,title:r})}),i()(".NS_projects__greenlit_modal").on("submit","form",function(e){var t=i()(this);if(e.preventDefault(),!t.validate())return!1;i.a.ajax({type:"PUT",url:i()("#project-edit-nav .finished").data("submit_for_review_url"),data:t.serialize(),success:function(){t.trigger("close"),i()("#saving-layer").show(),window.location.reload(!0)}})})})},hPy8:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"g",function(){return r}),n.d(t,"f",function(){return o}),n.d(t,"i",function(){return s}),n.d(t,"j",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"h",function(){return d}),n.d(t,"k",function(){return u}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return p}),n.d(t,"e",function(){return h});var a=n("q1tI");const i={header:{atoms:[]},body:{atoms:[]},form:{atoms:[]},link:{atoms:[]}},r={header:{atoms:["maison-book"]},body:{atoms:["cooper-light"]},form:{atoms:["maison-book"]},link:{atoms:["maison-book"]}},o={header:{atoms:["cooper-light"]},body:{atoms:["cooper-light"]},form:{atoms:["maison-book"]},link:{atoms:["maison-book"]}},s={header:{atoms:["maison-book"]},body:{atoms:["maison-book"]},form:{atoms:["maison-book"]},link:{atoms:["maison-book"]}},c=s,l=s,d={header:{atoms:["effra-heavy"]},body:{atoms:["maison-book"]},form:{atoms:["maison-book"]},link:{atoms:["maison-book"]}},u={header:{atoms:["cooper-light"]},body:{atoms:["maison-book"]},form:{atoms:["maison-book"]},link:{atoms:["maison-book"]}},m=n.n(a).a.createContext(i),p=m.Consumer,h=m.Provider},heyD:function(e,t,n){"use strict";var a=n("q1tI"),i=n.n(a),r=n("lX80"),o=n("LdJi"),s=n("f/gE"),c=n("KPfJ"),l=n("iN0+");var d=e=>{let t=e.message;return i.a.createElement("div",{className:"border-box text-center ml2"},i.a.createElement("span",{className:"red-500 type-12"},t))};class u extends a.Component{constructor(e){super(e),this.componentDidMount=()=>{this.state.ready&&this.execute()},this.componentDidUpdate=(e,t)=>{this.state.ready&&!t.ready&&this.execute()},this.componentWillUnmount=()=>{null!==this.readyCheck&&clearInterval(this.readyCheck)},this.execute=()=>{const e=this.props,t=e.sitekey,n=e.verifyCallback,a=e.action;window.grecaptcha.execute(t,{action:a}).then(n),this.setState(()=>({hasExecuted:!0}))},this.isBrowser=()=>"undefined"!=typeof window,this.isLoaded=()=>this.isBrowser()&&void 0!==window.grecaptcha,this.isReady=()=>this.isLoaded()&&"function"==typeof window.grecaptcha.execute,this.setReady=()=>{this.setState(()=>({ready:!0}))},this.updateReadyState=()=>{this.isLoaded()&&(window.grecaptcha.ready(this.setReady),clearInterval(this.readyCheck),this.readyCheck=null)},this.render=()=>i.a.createElement("div",null),this.updateReadyState=this.updateReadyState.bind(this),this.setReady=this.setReady.bind(this),this.state={ready:this.isReady(),hasExecuted:!1},this.isBrowser()&&(this.readyCheck=this.state.ready?null:window.setInterval(this.updateReadyState,this.isLoaded()?0:1e3))}}u.defaultProps={sitekey:window.recaptcha_v3_site_key};var m=u,p=n("/dpz"),h=n("94td");const f=e=>{let t=e.creator,n=e.projectId,a=e.messageCreatorData,l=e.dispatch;return i.a.createElement(o.a,null,i.a.createElement(s.a,null,i.a.createElement(r.a,null,i.a.createElement("span",null,Object(h.b)("project_page.message_creator.To_creator",{creator_name:t.name})),i.a.createElement("textarea",{rows:"12",autoFocus:!0,placeholder:Object(h.b)("project_page.message_creator.Type_your_message"),value:a.body,onChange:e=>{e.preventDefault(),l(Object(c.f)(e.target.value))},className:"border-box p2 border-soft-black"}))),i.a.createElement(s.a,{atoms:["mt3"]},i.a.createElement(r.a,null,a.isSuspicious?i.a.createElement(p.a,{sitekey:window.recaptcha_v2_site_key,onChange:e=>{l(Object(c.c)(e))}}):i.a.createElement(m,{action:"send_message",invisible:!0,verifyCallback:e=>{l(Object(c.c)(e))}}))),i.a.createElement(s.a,{atoms:["mt3"]},i.a.createElement(r.a,{atoms:["flex","items-center"]},i.a.createElement("button",{type:"button",disabled:!a.body,className:"bttn bttn-primary theme--support bttn-medium",onClick:()=>{l(Object(c.d)(a.body,t.id,n))}},Object(h.b)("project_page.message_creator.Send_Message")),!!a.error&&i.a.createElement(d,{message:a.error}))))},g=()=>i.a.createElement(o.a,null,i.a.createElement(s.a,null,i.a.createElement(r.a,{atoms:["text-center"]},i.a.createElement("p",{className:"red-500"},Object(h.b)("project_page.message_creator.Sorry_you_cant")))));t.a=e=>{let t=e.creator,n=e.projectId,a=e.messageCreatorData,r=e.dispatch,o=e.currentUser;return Object(l.a)(t,o)?i.a.createElement(f,{creator:t,projectId:n,messageCreatorData:a,dispatch:r}):i.a.createElement(g,null)}},hqPT:function(e,t,n){n("+2Rf");var a=n("+2Rf");
/*!
 * sync_form plugin by Sam
 *
 * Examples:
 *
 *  $('form').sync_form({ success: function(data) { ... reload form ... } });
 *
 *
 */
a(function(){a.fn.sync_form=function(e){var t=a(this),n=function(){};e=e||{},t.data("updating")?t.data("dirty",(t.data("dirty")||[]).concat(e)):(t.data("updating",!0),a.ajax({type:e.type||t.attr("method"),url:e.url||t.attr("action"),data:e.data||t.serialize(),dataType:"json",global:!1,context:t,beforeSend:e.beforeSend,success:function(i){(e.success||n).apply(this,arguments),t.trigger("form_synced",[i]),t.data("dirty")&&t.data("dirty").length&&setTimeout(function(){for(var e={};a.isEmptyObject(e)&&t.data("dirty").length;)e=t.data("dirty").shift();t.sync_form(e)},100),i.url&&t.attr("action",i.url)},error:e.error,complete:function(){(e.complete||n).apply(this,arguments),t.data("updating",!1)}}))}})},iGAk:function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,a={};for(var i in n){var r=n[i];e.call(a,r)?a[r].push(i):a[r]=[i]}return a}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},iHOZ:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canSeeConfirmWatchModal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canSeeConfirmSignalModal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEmailVerified"},arguments:[],directives:[]}]}}],loc:{start:0,end:108}};n.loc.source={body:"fragment user on User {\n  id\n  uid\n  canSeeConfirmWatchModal\n  canSeeConfirmSignalModal\n  isEmailVerified\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},iLvj:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("yvkg");i.a.fn.spin.presets.ksr={className:"",lines:8,length:4,width:2,radius:5,speed:2}},"iN0+":function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a=(e,t)=>Boolean(t&&e.id!==t.id)},"iO4+":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FreeformPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nativeImages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:157}};n.loc.source={body:"query FreeformPost($id: ID!) {\n  post(id: $id) {\n    id\n    ... on FreeformPost {\n      body\n      nativeImages {\n        id\n        url\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.FreeformPost=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"FreeformPost")},ibLj:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("+2Rf"),i=n.n(a);function r(e){e.preventDefault();var t=i()(this),n=t.siblings(".data"),a=t.siblings(".toggle-data");n.toggleClass("hide"),t.toggleClass("hide"),a.toggleClass("hide")}},ieoY:function(e,t,n){var a=n("EldB"),i=n("Kz5y"),r=1;e.exports=function(e,t,n){var o=t&r,s=a(e);return function t(){return(this&&this!==i&&this instanceof t?s:e).apply(o?n:this,arguments)}}},iiG2:function(e,t,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LikeProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"likeProject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"projectId"}}},{kind:"ObjectField",name:{kind:"Name",value:"trackingContext"},value:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"project"},directives:[]}]}}]}}]}}],loc:{start:0,end:260}};a.loc.source={body:'#import "../../shared/graph/query-definitions/project-fragment.graphql"\n\nmutation LikeProject($projectId: ID!, $trackingContext: String) {\n  likeProject(input: { id: $projectId, trackingContext: $trackingContext }) {\n    project {\n      ...project\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};a.definitions=a.definitions.concat(n("stFp").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)}));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}a.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),r[e.name.value]=t}}),e.exports=a,e.exports.LikeProject=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,i=new Set,s=new Set;for(a.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){i.has(e)||(i.add(e),(r[e]||new Set).forEach(function(e){s.add(e)}))})}return i.forEach(function(t){var a=o(e,t);a&&n.definitions.push(a)}),n}(a,"LikeProject")},ijK7:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return m}),n.d(t,"h",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return f});var a=n("prSB"),i=n("Te9D"),r=n.n(i),o=n("v83y");const s=e=>t=>{if(""===t.getText().trim()){const n=t.getKey(),a=e.getCurrentContent().getBlockAfter(n),i=a&&a.getType(),r=e.getCurrentContent().getBlockBefore(n);return[r&&r.getType(),i].includes("atomic")?"":"<br />"}return null},c=e=>({blockRenderers:{atomic:e=>{const t=e.getData().get("type"),n=e.getData().get("href");switch(t){case"OEMBED":return'\n            <div class="template oembed" contenteditable="false" data-href=\''.concat(n,"'>\n              <a href=").concat(n,' target="_blank">').concat(n,"</a>\n            </div>\n          ");case"AUDIO":case"VIDEO":{const t=e.getData().get("id");return'<div class="template asset" contenteditable="false" data-id="'.concat(t,'" />')}case"REWARD":{const t=e.getData().get("reward").id;return'<div class="template reward" contenteditable="false" data-id="'.concat(t,'" />')}case"IMAGE":const a=e.getData().get("id"),i=e.getData().get("alt"),o=e.getData().get("caption"),s=r()(i),c=r()(o),l='<a href="'.concat(n,'">'),d="</a>",u='<div class="template asset" contenteditable="false" data-id="'.concat(a,'" data-alt-text="').concat(s,'" data-caption="').concat(c,'"/>');return n?"".concat(l).concat(u).concat(d):u;default:return""}},unstyled:s(e)}}),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=e.getSelection(),i=e.getCurrentContent(),r=i.getBlockForKey(n.getStartKey()),o=r.getKey(),s=[];let c;return r.findEntityRanges(e=>{if(null!==e.getEntity()){const n=i.getEntity(e.getEntity());if(!t||t&&n.getType()===t)return c={entityKey:e.getEntity(),blockKey:r.getKey(),entity:i.getEntity(e.getEntity())},!0}return!1},(e,t)=>{n.hasEdgeWithin(o,e,t)&&s.push(Object(a.a)({},c,{start:e,end:t}))}),s},d=(e,t)=>e.getCurrentContent().getBlockForKey(t.blockKey).getText().slice(t.start,t.end),u=e=>{const t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getAnchorKey()).getText().slice(t.getStartOffset(),t.getEndOffset())},m=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ";const i=o.Modifier.insertText(e,t," ",void 0,void 0),r=o.Modifier.insertText(i,t,a,void 0,n);return o.Modifier.insertText(r,t," ",void 0,void 0)},p=e=>e.replace(/^[^\S\r\n]+|[^\S\r\n]+$|\n/gm,""),h=e=>{const t=e.getSelection(),n=t.getFocusOffset(),a=e.getCurrentContent(),i=a.getBlockForKey(t.getAnchorKey()),r=new o.SelectionState({anchorKey:i.getKey(),anchorOffset:n,focusKey:i.getKey(),focusOffset:n}),s=o.Modifier.insertText(a,r," "),c=o.EditorState.push(e,s,"insert-characters"),l=r.merge({anchorOffset:n+1,focusOffset:n+1});return o.EditorState.forceSelection(c,l)},f=e=>{const t=e.getCurrentContent(),n=e.getSelection(),a=o.Modifier.splitBlock(t,n),i=o.EditorState.push(e,a,"split-block"),r=o.Modifier.setBlockType(i.getCurrentContent(),i.getSelection(),"unstyled");return o.EditorState.push(e,r,"split-block")}},inqH:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("lSCD"),i=n.n(a),r=n("q1tI");class o extends r.Component{componentDidMount(){this.loadEmbedly()}callEmbedly(){window.embedly("on","card.resize",()=>{"function"==typeof this.props.onResize&&this.props.onResize()})}getScript(){const e=document.createElement("script");e.src="//cdn.embedly.com/widgets/platform.js",e.async=!0,e.onload=()=>{this.callEmbedly()},document.body.appendChild(e)}loadEmbedly(){i()(window.embedly)?this.callEmbedly():this.getScript()}render(){return this.props.children}}},ioZw:function(e,t,n){"use strict";var a=n("zm9w"),i=n("1OuE"),r=n("0VSk"),o=n("P0CJ");t.a=function(e){var t;if(e.completed=!!e.backer_completed_at,e["is_"+e.status]=!0,e.formatted_deadline=Object(i.a)("ll",1e3*e.project.deadline),e.formatted_money=a.a.money(e.amount,{currency:e.project.currency}),e.formatted_status=r.default.t("presenters.backings.row.status."+e.display_status),e.project_state=function(e){switch(e.project.state){case"canceled":return r.default.t("presenters.backings.row.Canceled");case"failed":return r.default.t("presenters.backings.row.Unsuccessful");case"live":return r.default.t("presenters.backings.row.In_progress");case"successful":return r.default.t("presenters.backings.row.Successful");case"suspended":return r.default.t("presenters.backings.row.Suspended");default:return""}}(e),e.pledge_url=(t=e.project,"/projects/".concat(t.creator.slug,"/").concat(t.slug,"/pledge")),e.reward){var n=e.reward.reward;if(e.formatted_reward=n.length>57?n.substring(0,57)+"…":n,e.reward.estimated_delivery_on){const t=1e3*e.reward.estimated_delivery_on;e.formatted_estimated_delivery_on=Object(i.a)("MMM YYYY",Object(o.a)(t))}}return e["is_".concat(e.last_sentiment_answer)]=!0,e.is_last_sentiment_null=null===e.last_sentiment_answer,e.messages&&(e.formatted_messages_count=r.default.t("presenters.backings.row.messages_count",{count:e.messages.count,formatted_count:a.a.format_number(e.messages.count,{precision:0})}),e.formatted_messages_last_activity_at=Object(i.a)("ll",1e3*e.messages.last_activity_at)),e}},itcf:function(e,t,n){"use strict";var a=n("yQm5"),i=n.n(a);const r=function(e){return"undefined"!=typeof api_oauth_token?i()(e).addQuery("oauth_token",api_oauth_token).toString():e};window.oauth_url=r,t.a=r},j3NK:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("RIhn");!function(){function e(e,t){var n,a,i,r=("normal"===(a=(n=e).css("line-height"))?1.2*parseInt(n.css("font-size"),10):parseInt(a,10))*t;return e.css("max-height",r+"px"),(i=e[0]).clientHeight<i.scrollHeight}i()(".js-line-clamp").livequery(function(){var t=i()(this),n=i()(this).find(".clamped"),a=t.find(".fade,.expand");!function(e,t){var n=e.parents(":hidden:last"),a=n.attr("style");n.length&&n.show(),t(),n.length&&(void 0===a?n.removeAttr("style"):n.attr("style",a))}(t,function(){!function(e){var t,n=e.children(":not(.fade)").last();t=parseInt(n.css("padding-bottom"),10)+parseInt(n.css("margin-bottom"),10),e.css("margin-bottom",t),n.css("padding-bottom",0),n.css("margin-bottom",0)}(n),e(n,t.data("lines"))&&(a.show(),a.one("click",function(e){e.preventDefault(),e.stopPropagation(),function(e){e.css("max-height",e[0].scrollHeight+"px")}(n),a.hide()}))})})}()},j4ny:function(e,t,n){n("+2Rf");var a=n("+2Rf");a.fn.tabs=function(){return a(this).each(function(){var e=a(this);e.on("activate",function(t,n){var i=a(n),r=a("#"+i.data("pane"));e.data("pane")&&e.data("pane").trigger("deactivated"),e.data("pane",r.trigger("activated"))}),e.children().on("click",function(){a(this).parent().trigger("activate",a(this))})})},a.fn.panes=function(){var e=a(this);return e.each(function(){e.children().on("activated",function(){a(this).show()}).on("deactivated",function(){a(this).hide()})})}},jBhg:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()(function(){"autofocus"in document.createElement("input")||i()(".js-auto_focus").first().focus()})},jQ3o:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("RBqt"),i=n("94td"),r=n("/IHD"),o=n("q1tI"),s=n.n(o);const c=e=>s.a.createElement("div",null,s.a.createElement(a.a,{type:"caption-100",color:"soft-black",weight:"bold",atoms:["inline-block p2 bg-grey-400",Object(r.a)(e.atoms)]},Object(i.b)("project_page.reward.Reward_no_longer_available")))},jQIB:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var a=n("q1tI"),i=n("TIPN");const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return class extends a.Component{render(){return a.createElement(o,t,a.createElement(e,this.props))}}};class o extends a.Component{constructor(e){super(e),this.domNode=null,this.handleRef=this.handleRef.bind(this)}componentDidMount(){if(null===this.domNode||this.props.disabled)return;const e=this.domNode.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop)+this.props.offset;if(this.props.intoView){const e=window.pageYOffset||document.documentElement.scrollTop,t=window.innerHeight,n=e+t,a=e+this.domNode.getBoundingClientRect().top+this.props.offset,r=e+this.domNode.getBoundingClientRect().bottom+this.props.offset;a<e?Object(i.e)({to:a,duration:this.props.scrollDuration,easing:this.props.scrollEasing}):r>n&&Object(i.e)({to:Math.min(a,r-t),duration:this.props.scrollDuration,easing:this.props.scrollEasing})}else Object(i.e)({to:e,duration:this.props.scrollDuration,easing:this.props.scrollEasing})}handleRef(e){null!==e&&(this.domNode=e)}render(){return a.createElement("div",{ref:this.handleRef},this.props.children)}}o.defaultProps={scrollDuration:300,scrollEasing:"easeInCubic",disabled:!1,offset:0,intoView:!1}},jWXa:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()(document).on("click",".js-removeable .js-remove",function(){var e=i()(this);return!(e.data("confirm")&&!confirm(e.data("confirm")))&&(i.a.post(e.attr("href"),{_method:"delete"},function(){e.parents(".js-removeable").fadeOut(400,function(){i()(this).remove()})}),!1)})},jWgx:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("q1tI"),i=n.n(a),r=n("aaNh"),o=n("RwCH");const s=()=>i.a.createElement("div",{className:"hide-lg flex items-center justify-between px3"},i.a.createElement(r.a,null),i.a.createElement("div",{className:"flex items-center"},i.a.createElement("div",{className:"pl2"},i.a.createElement(o.a,{interaction:"like"})),i.a.createElement("div",{className:"pl2"},i.a.createElement(o.a,{interaction:"dislike"}))))},jmLK:function(e,t,n){"use strict";var a=n("prSB"),i=n("mv45"),r=n("eEls"),o=n("w2Ho"),s=n("sIuw"),c=n("q1tI"),l=n.n(c),d=n("IrSn"),u=n("aYzK");const m=n("sOmF").UndislikeProject,p=Object(i.j)(m,e=>({children:e.ownProps.children,undislikeProject:()=>(e.ownProps.onClick(),e.mutate({variables:{projectId:e.ownProps.projectId,trackingContext:e.ownProps.trackingContext}}))}))(e=>{let t=e.undislikeProject,n=e.children;return l.a.createElement(d.a,{onClick:t,isActive:!0},n)}),h=n("sEIR").DislikeProject,f=Object(i.j)(h,e=>({children:e.ownProps.children,dislikeProject:()=>(e.ownProps.onClick(),e.mutate({variables:{projectId:e.ownProps.projectId,trackingContext:e.ownProps.trackingContext}}))}))(e=>{let t=e.dislikeProject,n=e.children;return l.a.createElement(d.a,{onClick:t,isActive:!1},n)});n.d(t,"a",function(){return g});const g=Object(i.k)(u.a,e=>e.data.project?Object(i.l)({children:e.ownProps.children,trackingContext:e.ownProps.trackingContext,isDisliked:e.data.project.isDisliked,projectId:e.data.project.id,initialIsDisliked:e.ownProps.initialIsDisliked,userMetadata:Object(s.a)(e.data.me)}):Object(a.a)({},Object(i.d)(),{},e.ownProps))(e=>Object(i.i)(e)?l.a.createElement(o.a,{userMetadata:e.userMetadata},(t,n,a)=>l.a.createElement("div",{style:e.style},t?l.a.createElement(d.a,{onClick:a,isActive:!1},e.children):l.a.createElement(l.a.Fragment,null,e.isDisliked?l.a.createElement(p,Object.assign({},e,{onClick:n})):l.a.createElement(f,Object.assign({},e,{onClick:n}))))):l.a.createElement("div",{style:e.style},e.initialIsDisliked?l.a.createElement(d.a,{onClick:r.d,isActive:!0},e.children):l.a.createElement(d.a,{onClick:r.d,isActive:!1},e.children)))},k2z9:function(e,t,n){"use strict";var a=n("h4vE"),i=n("ZCIj");Object(a.a)("#NS_banners__password_reset",function(e){var t=e.closest("li");i.b.getItem("password_reset_dismissed")||t.show(),e.find("a.dismiss").on("click",function(e){i.b.setItem("password_reset_dismissed",!0),t.hide(),e.preventDefault()})})},kB8A:function(e,t,n){"use strict";var a=n("prSB"),i=n("0fse"),r=n("94td"),o=n("GRmu"),s=n("D+F0"),c=n("KPfJ"),l=n("gN63");const d="\n  mutation($recipientId: ID!, $projectId: ID!, $body: String!, $gRecaptchaResponse: String!) {\n    sendMessage(\n      input: {\n        recipientId:$recipientId\n        projectId:$projectId\n        body:$body,\n        gRecaptchaResponse:$gRecaptchaResponse\n      }\n    )\n    {\n      message {\n        body\n      }\n    }\n  }\n",u=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise((i,r)=>{Object(l.d)(d,{recipientId:t,projectId:n,body:e,gRecaptchaResponse:a}).then(e=>{e.errors?r(e.errors):i(e.data)}).catch(e=>r(e))})};n.d(t,"b",function(){return m});const m={body:"",submitting:!1,gRecaptchaResponse:"",error:"",isSuspicious:!1};t.a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_INPUT":return Object(a.a)({},e,{body:t.value,error:""});case"RECAPTCHA_SUBMIT":return Object(a.a)({},e,{gRecaptchaResponse:t.value});case"SUBMIT_MESSAGE":return Object(i.f)(Object(a.a)({},e,{submitting:!0}),i.a.run(u,{successActionCreator:c.e,failActionCreator:c.b,args:[t.body,t.creatorId,t.projectId,e.gRecaptchaResponse]}));case"SEND_MESSAGE_SUCCESS":return Object(o.a)({success:Object(r.b)("project_page.message_creator.Message_sent")}),Object(i.f)(Object(a.a)({},e,{body:"",error:"",submitting:!1}),i.a.action(Object(s.a)()));case"SEND_MESSAGE_FAIL":const n=t.errors[0];return n.extensions&&"RECAPTCHA_SUSPICIOUS"==n.extensions.code?Object(a.a)({},e,{isSuspicious:!0,submitting:!1,error:n.message}):n.extensions&&"RECAPTCHA_FAILED"==n.extensions.code?Object(a.a)({},e,{isSuspicious:!1,submitting:!1,error:n.message}):Object(a.a)({},e,{submitting:!1,error:Object(r.b)("project_page.message_creator.Message_not_sent")});case"CLEAR_INPUT":return Object(a.a)({},e,{body:"",error:"",gRecaptchaResponse:"",submitting:!1});default:return e}}},kKIz:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()(function(){i()(document).on("click",".location_list .big_locations li",function(){window.location=i()(this).find(".name a").attr("href")})})},kKlT:function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return m});var a=n("ijK7"),i=n("bvYH"),r=n("n+nq"),o=n("94td");const s=e=>{try{const t=new URL(e);return new RegExp(/\.[A-za-z]/,"i").test(e)&&-1===t.hostname.indexOf("..")&&("https:"===t.protocol||"http:"===t.protocol)}catch(e){return!1}},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=e.trim();return new RegExp(/^[A-za-z0-9]+:\/\//,"i").test(t)?t:"http://".concat(t)},l=Object(o.b)("library.ksr_json.Sorry_something_went_wrong_Weve_been_notified_and_are_looking"),d=e=>{const t=new URL("https://doesntmatter.com");return t.searchParams.append("data[data-href]",e),fetch("/templates/oembed".concat(t.search),{method:"GET",credentials:"same-origin",headers:{"X-CSRF-Token":Object(r.b)(document)}}).then(e=>200===e.status?Promise.resolve(e):Promise.reject(l)).then(e=>e.text()).then(u)},u=e=>{const t=document.createElement("div");t.innerHTML=e;const n=t.firstElementChild;return"template oembed"===n.className&&n.firstElementChild?Promise.resolve(e):Promise.reject(Object(o.b)("rich_editor.There_was_a_problem_embedding"))},m=(e,t,n,r)=>{const o=Object(a.d)(t,"LINK");r&&"function"==typeof r.editorToolClicked&&r.editorToolClicked("link"),o.length>1||(1===o.length?(n("LINK"),e(Object(i.u)(Object(a.e)(t,o[0]),o[0].entity.getData().url))):(n("LINK"),e(Object(i.u)(Object(a.f)(t)))))}},kQ6V:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return()=>{if(n)return e.reduce((e,t)=>{const a=n.getElementById(t);return a?e+a.offsetHeight:e},t)}}},kZr9:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("RIhn");i()(function(){i()(".overlabels .field label.overlabel").livequery(function(){var e=i()(this),t=e.siblings("input:not([type=hidden]), textarea, .wym_box");t.length||(t=e.parent(".field_with_errors").siblings(".field_with_errors").find("input, textarea")),t.length?(e.addClass("overlabel-apply"),t.val()&&e.hide(),t.focus(function(){i()(this).val()&&e.hide(),e.addClass("field_focused")}).blur(function(){i()(this).val()||e.show(),e.removeClass("field_focused")}).on("keydown input change paste cut",function(){var t=i()(this);setTimeout(function(){t.val()?e.hide():e.show()},1)}),e.click(function(){t.attr("disabled")||t.focus()})):e.hide()})})},kZzg:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return!!e&&Boolean(e.getElementById("admin-nav"))}},ksT7:function(e,t,n){"use strict";n("Ijdr");var a=n("+2Rf");n("+2Rf");!function(e){e.fn.persistent_paging=function(){return e(this).each(function(){var t=e(this),n=[[1,0,t.find(".page")]],a=[],i=!1,r=t.data("mobius"),o=/^#p(\d*)/.exec(window.location.hash);o&&1!==parseInt(o[1],10)&&(t.one("mobius:loaded_page",function(t,n,a){e.scrollTo(a.offset().top+70)}),r.load_page(parseInt(o[1],10))),t.on("mobius:loaded_page",function(a,i,o){var s,c,l,d=[];function u(){if(this[0]===c)return s=!0,!1}for(n.push([i,!1,o]),l=[],e.each(n,function(){l.push([this[0],this[2].offset().top,this[2]])}),n=l,c=1;c<=n[n.length-1][0];c+=1)s=!1,e.each(n,u),s||d.push(c);d.length?e.each(d,function(){var a=n[0],i=parseInt(this,10),o=e([]),s=[],c=e([]),l=e([]);e.each(n,function(){this[0]>a[0]&&this[0]<i&&(a=this)}),(o=a[2].next(".missing")).length?(s=o.data("missing_pages"),-1===e.inArray(i,s)&&(s.push(i),o.data("missing_pages",s))):(c=(o=t.siblings(".missing").clone()).find(".loading"),l=o.find(".load_more"),o.data("missing_pages",[i]),o.find("a").click(function(e){var n=o.data("missing_pages"),a=n.pop();e.preventDefault(),n.length&&o.data("missing_pages",n),l.addClass("loading"),r.load_page(a,o),t.one("mobius:loaded_page",function(){l.removeClass("loading")})}),a[2].after(o),c.hide(),o.show())}):t.find("div.missing").remove()}),e(document).scroll(function(){var t,r=e(window).scrollTop();e.each(n,function(){var e=this[1];r>e&&(a=this)}),a[0]!==i&&(t="#p"+a[0],window.history&&window.history.replaceState?history.replaceState(null,null,t):window.location.replace(t),e(document).trigger("infinite_scroll:scrolled_to",[a[0]]),i=a[0])})})}}(a)},"l+V7":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("SmhT");n("+ZuA");i()(function(){i.a.fn.aria_set_visible=function(){return i()(this).attr("aria-expanded","true").attr("aria-hidden","false"),this},i.a.fn.aria_set_hidden=function(){return i()(this).attr("aria-expanded","false").attr("aria-hidden","true"),this},i.a.fn.aria_find_focusable_items=function(){return i()(this).find(":focusable")},i.a.fn.aria_focus_first_element=function(){var e=i()(this).aria_find_focusable_items();return e.length&&e[0].focus(),this},i.a.fn.aria_activate_keyboard_tabindex=function(){var e=i()(this),t=e.aria_find_focusable_items();return t.length&&e.on("keydown.aria_keyboard",function(n){e.aria_focus_next(n,t)}),this},i.a.fn.aria_deactivate_keyboard_tabindex=function(){return i()(this).unbind("keydown.aria_keyboard"),this},i.a.fn.aria_focus_next=function(e,t){var n=e.keyCode,a=n===r.n||n===r.b,o=i()(":focus")[0],s=i.a.inArray(o,t);if(-1!==s&&("textarea"!==o.tagName.toLowerCase()||!a)){var c;if(n===r.m||a)e.preventDefault(),void 0!==(c=e.shiftKey||n===r.n?i()(t[s-1]):i()(t[s+1]))&&c.focus();return this}}})},l2NB:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});const a=e=>({type:"ACTIVE_SECTION_CHANGED",response:e}),i=e=>({type:"INIT_NEW_CAMPAIGN_NAV",response:e})},lHf8:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("7cf5"),i=n("9mow"),r=n("/IHD"),o=n("q1tI"),s=n.n(o);const c=e=>{const t=e.atoms,n=e.color,o=void 0===n?"blue":n,c=Object(a.a)(e,["atoms","color"]),l=Object(r.a)(t,"link-".concat(o));return s.a.createElement(i.a,Object.assign({className:l},c))}},lTkF:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("1OuE"),i=n("q1tI"),r=n.n(i);const o=e=>{let t=e.format,n=e.date;return r.a.createElement("time",{dateTime:n},Object(a.a)(t,n))}},lX80:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("/IHD"),i=n("q1tI");const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=["","-sm","-md","-lg"],a=t?"grid-col-offset-":"grid-col-";return e.map((e,t)=>{if(void 0!==e)return"".concat(a).concat(e).concat(n[t])}).filter(e=>void 0!==e)},o=e=>{let t=e.children,n=e.atoms,o=void 0===n?[]:n,s=e.width,c=void 0===s?12:s,l=e.smWidth,d=e.mdWidth,u=e.lgWidth,m=e.offset,p=e.smOffset,h=e.mdOffset,f=e.lgOffset,g=e.center,b=void 0!==g&&g,_=e.style;const v=r([c,l,d,u]),k=r([m,p,h,f],!0),y=Object(a.a)(v,k,o,b?"grid-col-center":"");return i.createElement("div",{className:y,style:_},t)}},law3:function(e,t,n){"use strict";var a=n("prSB"),i=n("mv45"),r=n("eEls"),o=n("w2Ho"),s=n("sIuw"),c=n("q1tI"),l=n.n(c),d=n("IrSn"),u=n("aYzK");const m=n("KbIJ").UnlikeProject,p=Object(i.j)(m,e=>({children:e.ownProps.children,unlikeProject:()=>(e.ownProps.onClick(),e.mutate({variables:{projectId:e.ownProps.projectId,trackingContext:e.ownProps.trackingContext}}))}))(e=>{let t=e.unlikeProject,n=e.children;return l.a.createElement(d.a,{onClick:t,isActive:!0},n)}),h=n("iiG2").LikeProject,f=Object(i.j)(h,e=>({children:e.ownProps.children,likeProject:()=>(e.ownProps.onClick(),e.mutate({variables:{projectId:e.ownProps.projectId,trackingContext:e.ownProps.trackingContext}}))}))(e=>{let t=e.likeProject,n=e.children;return l.a.createElement(d.a,{onClick:t,isActive:!1},n)});n.d(t,"a",function(){return g});const g=Object(i.k)(u.a,e=>e.data.project?Object(i.l)({children:e.ownProps.children,trackingContext:e.ownProps.trackingContext,isLiked:e.data.project.isLiked,projectId:e.data.project.id,initialIsLiked:e.ownProps.initialIsLiked,userMetadata:Object(s.a)(e.data.me)}):Object(a.a)({},Object(i.d)(),{},e.ownProps))(e=>Object(i.i)(e)?l.a.createElement(o.a,{userMetadata:e.userMetadata},(t,n,a)=>l.a.createElement("div",{style:e.style},t?l.a.createElement(d.a,{onClick:a,isActive:!1},e.children):l.a.createElement(l.a.Fragment,null,e.isLiked?l.a.createElement(p,Object.assign({},e,{onClick:n})):l.a.createElement(f,Object.assign({},e,{onClick:n}))))):l.a.createElement("div",{style:e.style},e.initialIsLiked?l.a.createElement(d.a,{onClick:r.d,isActive:!0},e.children):l.a.createElement(d.a,{onClick:r.d,isActive:!1},e.children)))},mEsB:function(e,t,n){"use strict";var a=n("prSB"),i=n("DjBF"),r=n("EHMl"),o=n("i8i4");const s=e=>(()=>void 0!==window&&!!window.document)()?Object(o.createPortal)(e,document.body):e;var c=n("TP7S"),l=n.n(c),d=n("q1tI"),u=n.n(d),m=n("KFoM"),p=n("rJga"),h=n("9P9J"),f=n("N83F");n.d(t,"a",function(){return _});var g,b;!function(e){e.top="top",e.bottom="bottom",e.left="left",e.right="right"}(g||(g={})),function(e){e.top="bottom",e.bottom="top",e.left="right",e.right="left"}(b||(b={}));const _=e=>{let t=e.children,n=e.placement,o=void 0===n?"bottom":n,c=e.label,g=e.ariaLabel,_=e.open,v=e.style,k=e.hideArrow,y=e.onFocus,j=e.onBlur,E=e.onTouchStart,w=e.onMouseEnter,S=e.onMouseLeave;const O=Object(d.useState)(!1),C=Object(i.a)(O,2),N=C[0],x=C[1],T=l()(_)?N:_,I="".concat(o,"-").concat(k,"-").concat(c);return u.a.createElement(m.c,{key:I},u.a.createElement(p.a,null,e=>{let n=e.ref;return u.a.cloneElement(t,{ref:n,onTouchStart:()=>{x(!0),null==E||E()},onFocus:()=>{x(!0),null==y||y()},onBlur:()=>{x(!1),null==j||j()},onMouseEnter:()=>{x(!0),null==w||w()},onMouseLeave:()=>{x(!1),null==S||S()}})}),s(u.a.createElement(h.a,{placement:o,modifiers:{offset:{offset:"0, ".concat(10)}}},e=>{let t=e.ref,n=e.style,i=e.placement,o=e.arrowProps;const s=b[i];return u.a.createElement("div",{style:Object(a.a)({maxWidth:"".concat(272,"px"),zIndex:10},n)},u.a.createElement(f.a,{open:T,duration:200,direction:s,start:"10%",easing:"ease-in-out"},u.a.createElement("div",{ref:t,"data-test-id":"popper-tooltip","data-placement":i,"aria-label":g||("string"==typeof c?c:void 0),className:"pointer-events-none bg-black white border-none p2 m0",style:v},c,!k&&u.a.createElement(r.a,{"data-test-id":"popper-arrow",hex:"#000",size:"".concat(10,"px"),direction:s,ref:o.ref,style:o.style}))))})))}},mm3F:function(e,t,n){"use strict";n.r(t),n.d(t,"closeDeleteAssetModal",function(){return a}),n.d(t,"deleteAsset",function(){return i}),n.d(t,"fileDragEnded",function(){return r}),n.d(t,"fileDragStarted",function(){return o}),n.d(t,"hydrateAsset",function(){return s}),n.d(t,"noopAction",function(){return c}),n.d(t,"openDeleteAssetModal",function(){return l}),n.d(t,"reloadAsset",function(){return d}),n.d(t,"setImageAssetWidth",function(){return u}),n.d(t,"updateUploadProgress",function(){return m}),n.d(t,"uploadInitialize",function(){return p}),n.d(t,"uploadProcessingStart",function(){return h}),n.d(t,"uploadSuccess",function(){return f}),n.d(t,"uploadFileFailure",function(){return g}),n.d(t,"uploadFileStart",function(){return b}),n.d(t,"uploadFileSuccess",function(){return _}),n.d(t,"uploadReset",function(){return v});const a=()=>({type:"CLOSE_DELETE_ASSET_MODAL"}),i=()=>({type:"DELETE_ASSET"}),r=()=>({type:"FILE_DRAG_ENDED"}),o=()=>({type:"FILE_DRAG_STARTED"}),s=(e,t)=>({type:"HYDRATE_ASSET",asset:e,currentDate:t}),c=()=>({type:"NOOP"}),l=()=>({type:"OPEN_DELETE_ASSET_MODAL"}),d=e=>({type:"RELOAD_ASSET",assetId:e}),u=e=>({type:"SET_IMAGE_ASSET_WIDTH",width:e}),m=e=>({type:"UPDATE_UPLOAD_PROGRESS",progress:e}),p=e=>({type:"UPLOAD_INITIALIZE",effects:e}),h=(e,t)=>({type:"UPLOAD_PROCESSING_START",assetId:e,uploadedAt:t}),f=e=>({type:"UPLOAD_SUCCESS",asset:e}),g=()=>({type:"UPLOAD_FILE_FAILURE"}),b=(e,t,n)=>({type:"UPLOAD_FILE_START",file:e,dispatch:t,uploadLimit:n}),_=e=>({type:"UPLOAD_FILE_SUCCESS",s3Params:e}),v=()=>({type:"UPLOAD_RESET"})},msqZ:function(e,t,n){var a=n("sZCt")("set",n("D1y2"));a.placeholder=n("wuTn"),e.exports=a},mv45:function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"l",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"i",function(){return u}),n.d(t,"c",function(){return m}),n.d(t,"k",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"j",function(){return f}),n.d(t,"a",function(){return g}),n.d(t,"e",function(){return b}),n.d(t,"f",function(){return _});var a=n("prSB"),i=n("4KRT");const r=["variables","refetch","fetchMore","updateQuery","startPolling","stopPolling","subscribeToMore","loading","networkStatus","error"],o=e=>Object.keys(e).length!==r.length,s=e=>({status:"error",error:e}),c=e=>Object(a.a)({status:"ready"},e),l=e=>"loading"===e.status,d=e=>"error"===e.status,u=e=>"ready"===e.status,m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t=>{const n=t.ownProps&&d(t.ownProps);if(!t.data||t.data.error||n)return t.data&&t.data.error?s(t.data.error):s();const a=t.ownProps&&l(t.ownProps),i=o(t.data);return t.data.loading&&!i||a?{status:"loading"}:e(t)};return{props:n,options:Object(a.a)({fetchPolicy:"cache-and-network",ssr:!1},t)}},p=(e,t)=>n=>{const a=m(t);return Object(i.c)(e,a)(n)},h=e=>{return{props:t=>e(t)}},f=(e,t)=>n=>Object(i.c)(e,h(t))(n);function g(e,t,n,a,i,r,o,s){return c=>e(t(n?n(a?a(i?i(r?r(o?o(s?s(c):c):c):c):c):c):c))}const b=e=>{const t=_(e),n=t?{}:{general:e.message};return Object(a.a)({},t,{},n)},_=e=>e.graphQLErrors?e.graphQLErrors.map(e=>{let t=e.details;return t?Object.keys(t).reduce((e,n)=>(e[n]=t[n].join(" "),e),{}):null})[0]:null},"n+nq":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});const a=e=>{const t=e.querySelector('meta[name="csrf-token"]');if(!t){return n("pj8f").Honeybadger.notify("CSRF meta tag missing from page"),""}const a=t.getAttribute("content");if(!a){return n("pj8f").Honeybadger.notify('CSRF meta tag did not have "content"'),""}return a},i=e=>({"X-CSRF-Token":a(e)})},n2oK:function(e,t,n){"use strict";function a(e){return Math.round(e.getTime()/1e3)}n.d(t,"d",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o});const i=e=>null!==e?Math.floor(e/1e3):null,r=e=>null!==e?1e3*e:null,o=e=>new Date(r(e))},n8gV:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("aiSh"),i=n("pj8f");const r=Object(a.a)(i.Honeybadger.notify.bind(i.Honeybadger))},nGRn:function(e,t,n){"use strict";var a=n("a+N5"),i=n.n(a),r=n("KKf6"),o=n("SmhT"),s=n("2UXI"),c=n("0VSk"),l=n("ZCIj"),d=(n("+ZuA"),n("gtN/"),n("4ST8"),n("bxGQ"),n("+2Rf"));n("+2Rf");!function(e){function t(t){this.$c=e(t),this.video_data=this.$c.data("video")||{},this.autostarting=!1;var n=this.$c.find("video");n.get(0)&&n.get(0).canPlayType&&(n.get(0).canPlayType("video/mp4")||n.hasClass("has_hls"))&&(this.$video=n,this.video=n.get(0),r.a.chrome&&this.$video.attr("controls","controls").removeAttr("controls")),this.initialize(),(window.location.search.match("play="+(this.$c.attr("id")||this.video_data.id))||this.$c.hasClass("autoplay"))&&(this.autostarting=!0,this.play()),this.$c.hasClass("muted")&&this.mute(),this.add_size_class(),this.bind_events()}e.fn.ksr_video=function(){return e(this).each(function(){var n=e(this).data("ksr_video");n||(n=new t(e(this)),e(this).data("ksr_video",n))})},e.extend(t.prototype,{overlay:function(){var t=this;this.$c.children(":not(video)").hide(),this.$overlay=e('<div class="overlay"><span class="button-playvideo"></span></div>'),this.$overlay.on("click",function(e){t.initialize_flash(),t.$overlay.remove(),e.preventDefault()}),this.$c.append(this.$overlay)},bind_events:function(){var e=this;this.$c.on("ksr_video:play",function(){e.play()}),this.$c.on("ksr_video:pause",function(){e.pause()}),this.$c.on("ksr_video:mute",function(){e.mute()}),this.$c.on("ksr_video:unmute",function(){e.unmute()}),this.$c.on("ksr_video:destroy",function(){e.destroy()}),this.$c.on("ksr_video:seek",function(t,n,a){e.seek(n,a)})},add_size_class:function(){this.$c.removeClass("small medium large"),this.$c.width()>600?this.$c.addClass("large"):this.$c.width()>400?this.$c.addClass("large"):this.$c.addClass("small")},bind_video_element:function(){var e=this,t=this.$video,n=!0;this.$video.on("loadedmetadata",function(){e.$c.trigger("ksr_video:loaded")}),t.bind("ended",function(){e.$c.trigger("ksr_video:ended")}),t.on("play",function(){e.$c.trigger("ksr_video:playing",[n]),e.$c.addClass("has_played"),e.autostarting?e.autostarting=!1:e.focus_playpause_button(),n=!1}),t.on("pause",function(){e.$c.trigger("ksr_video:paused"),e.focus_playpause_button()}),t.on("progress",function(){var t,n,a,r=e.video.buffered,o=[];if(r.length)for(t=0;t<r.length;t+=1)o.push(r.end(t));a=(n=i.a.max(o))/e.video.duration*100,e.$c.trigger("ksr_video:buffer_change",[n,a])}),t.on("timeupdate",function(){e.$c.trigger("ksr_video:time_update",[e.video.currentTime])})},bind_controls:function(){var t=this,n=this.$c.find(".player_controls"),a=n.find(".progress_container .progress_bg"),r=a.find(".buffer"),d=a.find(".progress"),u=a.find(".progress_handle"),m=n.find(".volume_container .progress_bg"),p=m.find(".progress"),h=m.find(".progress_handle"),f=n.find(".current_time"),g=n.find(".volume"),b=n.find(".playpause"),_=n.find(".video_track_list"),v=n.find(".js-caption-dropdown"),k={x:0,y:0},y=!1;function j(e){var t=Math.floor(e/60),n=Math.floor(e-60*t);return t+":"+(n<10?"0":"")+n}function E(){n.is(":hover")?O():(n.removeClass("visible"),n.trigger("ksr_video:controls_hidden"))}function w(){n.addClass("visible"),n.trigger("ksr_video:controls_shown")}function S(){clearTimeout(y)}function O(){S(),y=setTimeout(E,2e3)}function C(){var e=t.video.duration;e&&(t.$c.find(".total_time").text(j(e)).attr("datetime","PT"+Math.floor(e)+"S"),u.attr("aria-valuenow",t.video.currentTime).attr("aria-valuemin","0").attr("aria-valuemax",e))}function N(e){return e.which===o.g?-1:e.which===o.k?1:null}function x(e,n){var a=n.delta,i=n.direction,r=n.max,o=t.video[e];i&&(o=function(e,t,n){return Math.min(n,Math.max(t,e))}(o+a*i,0,r),t.video[e]=o,w(),O())}function T(){var e=t.video.volume;l.b.setItem("ksr_video_volume",e),t.video.muted?(e=0,g.addClass("muted").attr("aria-label",c.default.t("library.ksr_video.Unmute"))):g.removeClass("muted").attr("aria-label",c.default.t("library.ksr_video.Mute"));var n=100*e+"%";p.width(n),h.css("left",n),h.attr("aria-valuenow",e)}this.$c.on("mousemove touchstart touchmove",function(e){var n={x:e.pageX,y:e.pageY};t.playing()&&("touchstart"===e.type||Math.abs(n.x-k.x)+Math.abs(n.y-k.y)>20)&&(w(),O(),k=n)}),C(),this.$video.on("click",function(){t.playpause()}),this.$c.find(".play_button_big, img.poster").on("click",function(e){t.play(),e.preventDefault()}),this.$c.on("focus click",":tabbable",function(){t.playing()&&(w(),O())}),this.$c.on("keydown",'[role="button"]',function(t){t.which!==o.c&&t.which!==o.l||(e(this).click(),t.preventDefault())}),this.$c.on("keydown",'.progress_container [role="slider"]',function(e){x("currentTime",{delta:.05*t.video.duration,direction:N(e),max:t.video.duration})}),this.$c.on("keydown",'.volume_container [role="slider"]',function(e){x("volume",{delta:.05,direction:N(e),max:1})}),this.$c.on("ksr_video:loaded",function(){C(),h.attr("aria-valuemin","0").attr("aria-valuemax","1"),T()}),this.$video.on("volumechange",function(){T()}).on("play",function(){b.removeClass("play").addClass("pause").attr("aria-label",c.default.t("library.ksr_video.Pause")),O()}).on("pause",function(){b.removeClass("pause").addClass("play").attr("aria-label",c.default.t("library.ksr_video.Play")),w(),S()}),b.on("click",function(e){t.playpause(),e.preventDefault()}),n.on("mouseenter focus",".video_dropdown",function(t){var a=e(t.currentTarget);a.addClass("open"),n.on("mouseleave.leave_dropdown blur.leave_dropdown",".video_dropdown",function(){a.removeClass("open"),n.off(".leave_dropdown")})});var I=function(e){i.a.each(e.textTracks,function(t,n){t.language===e.language?(t.mode="showing",e.hls&&(e.hls.subtitleTrack=n)):t.mode="hidden"})};function D(a){var i=v.find(".js-track"),r=a?i.filter('[data-language="'+a+'"]'):e();0===r.length&&(r=i.filter(".js-captions-off"),a=void 0),i.removeClass("selected"),r.addClass("selected"),r.is(".js-captions-off")?n.find(".ksr-icon__closed-caption").removeClass("is-on"):n.find(".ksr-icon__closed-caption").addClass("is-on"),t.$c.data("language",a),I({hls:t.hls,language:a,textTracks:t.video.textTracks})}_.on("click","li",function(){var n=e(this).data("language");v.removeClass("open"),n?l.b.setItem("last_track_language",n):l.b.removeItem("last_track_language"),D(n),t.$c.trigger("ksr_video:change_track",n)}),t.video.textTracks&&0!==t.video.textTracks.length?D(l.b.getItem("last_track_language")):this.$c.find(".js-remove-unless-text-tracks").remove();var P=null;function A(){t.$c.trigger("ksr_video:volume_adjusted")}e(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange",function(){!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)&&P&&t.$c.css("height",P)}),n.find(".fullscreen").on("click",function(e){if(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled){var n=t.$c.get(0);document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?document.cancelFullscreen?document.cancelFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():(P=t.$c.css("height"),t.$c.css("height","auto"),n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen())}else t.$c.toggleClass("fullscreen");e.preventDefault()}),a.draggable_bar(function(e){var n=t.video.duration*e;"number"==typeof n&&isFinite(n)&&(t.video.currentTime=n)}),m.draggable_bar(function(e){t.video.muted&&t.unmute(),t.video.volume=e}),m.find(".progress_bar_bg").on("mouseup",A),p.on("mouseup",A),h.on("mouseup",A),e("body").is(".touchable")?p.hide():g.on("click",function(){t.mute_toggle()}),this.$c.on("ksr_video:buffer_change",function(e,t,n){r.width(n+"%")});var R=0,F=e=>{const t=this.$c.data("context");t&&Object(s.d)("Watched Video",{videoLength:this.duration(),context:t,type:e})};this.$c.on("ksr_video:time_update",function(e,n){var a=n/t.video.duration*100;d.width(a+"%"),u.css("left",a+"%"),f.text(j(n)).attr("datetime","PT"+Math.floor(n)+"S"),u.attr("aria-valuenow",n),a>25&&a<50&&25!==R&&(R=25,F("25%")),a>50&&a<75&&50!==R&&(R=50,F("50%")),a>75&&75!==R&&(R=75,F("75%"))})},play:function(){this.video?(this.$video.show(),this.hls&&this.hls.startLoad(),this.video.play()):this.jwplayer&&this.jwplayer.play()},pause:function(){this.playing()&&(this.video?this.video.pause():this.jwplayer&&this.jwplayer.pause())},playpause:function(){return this.playing()?this.pause():this.play(),this.playing()},focus_playpause_button:function(){var t=this.$c.find(".playpause"),n=e(window),a=t[0].getBoundingClientRect();a.top>=0&&a.left>=0&&a.bottom<=n.height()&&a.right<=n.width()&&t.focus()},seek:function(e,t){var n=this;if(void 0===t&&(t=!1),this.video){if(this.video.readyState<1)return this.video.load(),void this.$c.one("ksr_video:loaded",function(){n.seek(e,t)});this.video.currentTime=e,t?this.pause():this.play()}else this.jwplayer&&(this.jwplayer.seek(e),this.jwplayer.pause(t))},mute_toggle:function(){return this.video&&(this.video.muted?this.unmute():this.mute()),this.video.muted},mute:function(){this.$c.trigger("ksr_video:muted"),this.jwplayer?this.jwplayer.setMute(!0):this.video.muted=!0},unmute:function(){this.$c.trigger("ksr_video:unmuted"),this.jwplayer?this.jwplayer.setMute(!1):this.video.muted=!1},destroy:function(){this.$c.empty(),this.$c.removeData("ksr_video")},current_position:function(){return this.video?this.video.currentTime:this.jwplayer?this.jwplayer.getPosition():void 0},duration:function(){return this.jwplayer?this.jwplayer.getDuration():this.video.duration},playing:function(){return this.video?!this.video.paused:this.jwplayer?"playing"===this.jwplayer.getState().toLowerCase():void 0},initialize_flash:function(){var e="v"+parseInt(1e8*Math.random(),10),t=this.$c.data("external_flashvars")||{},n=this;this.$c.append('<div id="'+e+'"></div>'),"undefined"!=typeof swfobject&&swfobject.embedSWF("https://d3mlfyygrfdi2i.cloudfront.net/321f/kickplayer.swf",e,this.$c.data("dimensions").width,this.$c.data("dimensions").height,"9.0.115","/swf/expressInstall.swf",i.a.extend(t,{displayheight:this.$c.height(),file:encodeURI(this.$c.attr("data-video-url")),image:encodeURI(this.$c.attr("data-image")),backcolor:"000000",screencolor:"000000",controlbar:"over","controlbar.idlehide":"true",autostart:!0,skin:"https://d3mlfyygrfdi2i.cloudfront.net/cc3a/kickskin.swf"}),{allowscriptaccess:"always",allowfullscreen:"true",wmode:"opaque",menu:"false"},{id:"ksr_player_"+e,class:"ksr_player",name:"ksr_player_"+e},function(e){var t=!0;window.player_reference=e.ref,e.success?(n.$c.find("video").remove(),n.jwplayer=jwplayer(e.ref),n.jwplayer.onReady(function(){n.$c.trigger("ksr_video:loaded")}),n.jwplayer.onPlay(function(){n.$c.trigger("ksr_video:playing",[t]),t=!1}),n.jwplayer.onPause(function(){n.$c.trigger("ksr_video:paused")}),n.jwplayer.onComplete(function(){n.$c.trigger("ksr_video:ended")}),n.jwplayer.onBufferChange(function(e){var t=e.duration*(e.bufferPercent/100);isNaN(t)||n.$c.trigger("ksr_video:buffer_change",[t,e.bufferPercent])})):(n.$video=n.$c.find("video"),n.video=n.$video.get(0),n.$overlay.remove(),n.$c.children().show(),n.$c.find(".play_button_big").removeAttr("style"),n.video&&(n.initialize(),n.play()))})},initialize_hls:function(e){this.hls=new e({autoStartLoad:this.$video.hasClass("preload")}),this.hls.loadSource(this.$video.find('source[type="application/x-mpegURL"]').attr("src")),this.hls.on(e.Events.MANIFEST_PARSED,()=>{this.hls.attachMedia(this.video),this.$c.trigger("ksr_video:loaded")})},async initialize(){const e=(await n.e(103).then(n.t.bind(null,"ulZh",7))).default;this.video?(this.$video.hasClass("has_hls")&&e.isSupported()&&this.initialize_hls(e),this.bind_controls(),this.bind_video_element(),l.b.getItem("ksr_video_volume")&&(this.video.volume=l.b.getItem("ksr_video_volume")),this.$video.css({height:"100%"}).removeAttr("style")):this.overlay()}})}(d)},nU83:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return m});var a=n("7cf5"),i=n("WjpJ"),r=n.n(i),o=n("pTxv"),s=n("2DJ9"),c=n("94td"),l=n("q1tI"),d=n("/IHD");const u=e=>{const t=e.size,n=void 0===t?"large":t,i=e.theme,r=void 0===i?"trust":i,s=e.atoms,c=Object(a.a)(e,["size","theme","atoms"]),u=[Object(d.a)("w100p mt4",s)];return l.createElement(o.c,Object.assign({size:n,theme:r,atoms:u},c))},m=e=>{const t=e.renderNavigationButtons,n=void 0===t||t,a=e.currentPage===e.totalPages,i=1===e.currentPage;return l.createElement("div",{className:"flex"},l.createElement("div",{className:"flex flex2 order2 justify-center"},l.createElement(p,{currentPage:e.currentPage,totalPages:e.totalPages})),n&&l.createElement(l.Fragment,null,l.createElement("div",{className:"flex flex2 order1"},!i&&l.createElement(o.c,{dataTestId:"paginator-previous-page",theme:"create",onClick:()=>e.onPageChange(e.currentPage-1)},l.createElement(s.a,{name:"arrow-point-left",label:Object(c.b)("modals.paginator.Previous_page")}))),l.createElement("div",{className:"flex flex2 order3 justify-end"},l.createElement(o.c,{dataTestId:a?"paginator-finish-page":"paginator-next-page",theme:"create",onClick:a?e.onFinish:()=>e.onPageChange(e.currentPage+1)},l.createElement(s.a,{name:a?"check":"arrow-point-right",label:a?Object(c.b)("modals.paginator.Finish"):Object(c.b)("modals.paginator.Next_page")})))))},p=e=>{let t=e.currentPage,n=e.totalPages;return l.createElement("span",{"aria-label":Object(c.b)("modals.paginator.Page_n_of_m",{currentPage:t,totalPages:n})},r()(1,n+1).map(e=>l.createElement("span",{key:e,className:"lh4 py0 px1"},l.createElement("span",{className:"inline-block w1 h1 radius100p ".concat(e===t?"bg-navy-700":"bg-grey-500")}))))}},nra7:function(e,t,n){"use strict";var a,i=n("+2Rf"),r=n.n(i),o=n("a+N5"),s=n.n(o),c=n("2UXI"),l=n("yQm5"),d=n.n(l),u=n("ese3");n("uJlH"),n("1uyb"),n("RIhn"),n("ykY3"),n("FPRb"),n("1zKs");a=History.isTraditionalAnchor,"undefined"!=typeof History&&(History.isTraditionalAnchor=function(e){return 0===e.indexOf("remote_modal_dialog")||a.apply(this,arguments)}),r()(function(){r()(".modal_dialog").livequery(function(){var e=r()(this),t=e.attr("id");r()(document).on("click",".link_to_"+t,function(t){e.modal_dialog({event:t}),t.preventDefault()}),e.closest(".pop_modal_on_load").length&&e.modal_dialog()}),r()(document).on("click",".remote_modal_dialog",function(e){if(e.preventDefault(),!r()(this).is(".disabled")){var t=r.a.open_remote_modal_dialog(d()(r()(this).attr("href")).suffix("js").toString(),{title:s.a.escape(r()(this).attr("data-modal-title")),id:r()(this).attr("data-modal-id"),event:e,do_not_cache:!!r()(this).attr("data-do_not_cache"),class_name:r()(this).attr("data-modal-class"),theme:r()(this).attr("data-modal-theme"),ignore_parent:!!r()(this).attr("data-ignore_parent"),remote_modal_dialog_contents_loaded:function(e){var t=e.find(".move_to_head");t.length&&(r()("head").append(t.children()),t.remove())},dataType:"html"});t&&(r()(this).data("modal_dialog",t),t.$elem.on("modal_dialog:remote_dialog_loaded",function(){try{"undefined"!=typeof FB&&FB.XFBML&&FB.XFBML.parse()}catch(e){}}))}}).each(function(){var e=r()(this);e.is(".pop_modal_on_load")&&e.click()}),r()(document).on("click",".modal_dialog_close",function(e){e.preventDefault(),r()(this).trigger("close.modal_dialog")}),r()(document).on("closed.modal_dialog",function(e){r()(e.target).find(".video-player").trigger("ksr_video:pause")}),r()(document).on("click",".modal_dialog .pagination a",function(e){var t=r()(this).closest(".modal_dialog_body"),n=r()(this);t.height(t.height()),e.preventDefault(),r.a.ajax({url:n.attr("href"),type:"get",dataType:"html",beforeSend:function(e){e.setRequestHeader("Accept","text/javascript, */*")},success:function(e){t.html(e),r.a.scrollTo(t),t.css("height","auto")}})});var e,t=/^#modal_dialog:([\-_a-zA-Z0-9]+)$/.exec(window.location.hash),n=/^#remote_modal_dialog:(.*)$/.exec(window.location.hash);t&&(e=t[1],r()("#"+e).modal_dialog(),window.location.replace("#")),n&&(r()(".remote_modal_dialog").each(function(){Object(u.a)(decodeURIComponent(n[1]),decodeURIComponent(r()(this).attr("href")))&&r()(this).click()}),window.location.replace("#")),r()(".generate_modal_dialog").livequery(function(){var e=r()(this),t=s.a.pick(e.data(),"id");r.a.create_modal_dialog(e.data("title"),e.data("content"),t)}),r()(document).on("modal_dialog:opened",function(e,t){var n;n={modal_class:t.options.class_name,modal_title:t.options.title,modal_id:t.options.id,modal_event_class:!!t.options.event&&t.options.event.target.classList[0]},Object(c.d)("Modal Dialog View",n)})})},nuFJ:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n("prSB"),i=n("+2Rf"),r=n.n(i),o=n("a+N5"),s=n.n(o);let c=[];const l=e=>{const t=e.element,n=e.offsets,a=void 0===n?[]:n,i=e.styles,o=void 0===i?()=>({onLock:{},offLock:{}}):i,s=r()(t);return s.length?{styles:o,options:e,element:s,offsetTop:s.parent().offset().top,eventName:"scroll.".concat(s.selector),offset:u(a)}:null},d=e=>{let t=e.element,n=e.eventName,i=e.offsetTop,o=e.offset,s=e.styles,c=!1;const l=s();r()(window).off(n).on(n,function(){const e=this.scrollY;!c&&e>=i-o?(t.addClass("fixed").css(Object(a.a)({top:"".concat(o,"px")},l.onLock)),c=!0):c&&e<i-o&&(t.removeClass("fixed").css(Object(a.a)({top:""},l.offLock)),c=!1)}).trigger(n)},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>r()(e).height()).reduce((e,t)=>e+t)},m=()=>c.forEach(e=>d(l(e.options)));r()(window).on("resize",s.a.debounce(m,250))},o3IG:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l});var a=n("DjBF"),i=n("MgNI");const r=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return["".concat(e,"=").concat(encodeURIComponent(t)),o(n),"path=/"].filter(e=>e).join("; ")},o=e=>i.maybe.fromNullable(e).map(e=>"expires=".concat(e.toGMTString())).getOrElse(null),s=e=>((e,t)=>t.split(/; */).map(e=>e.split("=")).reduce((t,n)=>{let i=Object(a.a)(n,2),r=i[0],o=i[1];return r==e?decodeURIComponent(o):t},null))(e,(()=>"undefined"==typeof document?"":document.cookie)()),c=(e,t,n)=>document.cookie=r(e,t||"",n?new Date(n):null),l=e=>document.cookie=(e=>r(e,"",new Date(0)))(e);"undefined"!=typeof window&&(window.read_cookie=s,window.write_cookie=c,window.destroy_cookie=l)},o65o:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostIncludeExcludeRewardFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"excludedRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasExcludedNoRewardTier"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PostIncludeReward"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PostIncludeRewardInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postIncludeReward"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostIncludeExcludeRewardFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PostExcludeReward"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PostExcludeRewardInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postExcludeReward"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostIncludeExcludeRewardFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:470}};n.loc.source={body:"fragment PostIncludeExcludeRewardFragment on Postable {\n  id\n  excludedRewards {\n    nodes {\n      id\n    }\n  }\n  hasExcludedNoRewardTier\n}\n\nmutation PostIncludeReward($input: PostIncludeRewardInput!) {\n  postIncludeReward(input: $input) {\n    post {\n      ...PostIncludeExcludeRewardFragment\n    }\n  }\n}\n\nmutation PostExcludeReward($input: PostExcludeRewardInput!) {\n  postExcludeReward(input: $input) {\n    post {\n      ...PostIncludeExcludeRewardFragment\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function r(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.PostIncludeReward=r(n,"PostIncludeReward"),e.exports.PostExcludeReward=r(n,"PostExcludeReward")},oHnK:function(e,t,n){"use strict";n.r(t);n("KKf6");var a=n("KHPI"),i=n("wOBM"),r=n("D6l6"),o=(n("j3NK"),n("+2Rf")),s=n.n(o),c=n("2UXI");s()(function(){s()(document).on("click","ul.faqs_alt li .question",function(e){s()(this).parent("li").toggleClass("expanded"),Object(c.d)("FAQ Toggle",{question:s()(this).text().trim()}),e.preventDefault()})});var l={mailcheck:{threshold:2,defaultDomains:["yahoo.com","google.com","hotmail.com","gmail.com","me.com","aol.com","mac.com","live.com","comcast.net","googlemail.com","msn.com","facebook.com","verizon.net","sbcglobal.net","att.net","gmx.com","mail.com","ymail.com","hotmail.co.uk","yahoo.co.uk","live.co.uk"],defaultTopLevelDomains:["co.uk","com","net","org","info","edu","gov","mil"],allowedDomainsRegexes:[/ymail.com/,/yahoo\.co\./,/yahoo\.com\./,/hotmail\.co\./,/hotmail\.com\./],run:function(e){e.domains=e.domains||l.mailcheck.defaultDomains,e.topLevelDomains=e.topLevelDomains||l.mailcheck.defaultTopLevelDomains,e.distanceFunction=e.distanceFunction||l.sift3Distance,e.ignoreTLDs=e.ignoreTLDs||!1;var t=l.mailcheck.suggest(encodeURI(e.email),e.domains,e.topLevelDomains,e.distanceFunction,e.ignoreTLDs);t?e.suggested&&e.suggested(t):e.empty&&e.empty()},suggest:function(e,t,n,a,i){e=e.toLowerCase();var r,o,s,c=this.splitEmail(e),l=this.findClosestDomain(c.domain,t,a);for(s=0;s<this.allowedDomainsRegexes.length;s+=1)if(this.allowedDomainsRegexes[s].exec(c.domain))return!1;if(l){if(l!==c.domain)return{address:c.address,domain:l,full:c.address+"@"+l}}else if(!i&&(r=this.findClosestDomain(c.topLevelDomain,n),c.domain&&r&&r!==c.topLevelDomain))return l=(o=c.domain).substring(0,o.lastIndexOf(c.topLevelDomain))+r,{address:c.address,domain:l,full:c.address+"@"+l};return!1},findClosestDomain:function(e,t,n){var a,i,r=99,o=null;if(!e||!t)return!1;for(n||(n=this.sift3Distance),i=0;i<t.length;i+=1){if(e===t[i])return e;(a=n(e,t[i]))<r&&(r=a,o=t[i])}return r<=this.threshold&&null!==o&&o},sift3Distance:function(e,t){var n,a=0,i=0,r=0,o=0;if(null===e||0===e.length)return null===t||0===t.length?0:t.length;if(null===t||0===t.length)return e.length;for(;a+i<e.length&&a+r<t.length;){if(e.charAt(a+i)===t.charAt(a+r))o+=1;else for(i=0,r=0,n=0;n<5;n+=1){if(a+n<e.length&&e.charAt(a+n)===t.charAt(a)){i=n;break}if(a+n<t.length&&e.charAt(a)===t.charAt(a+n)){r=n;break}}a+=1}return(e.length+t.length)/2-o},splitEmail:function(e){var t,n,a,i=e.split("@"),r="";if(i.length<2)return!1;for(t=0;t<i.length;t+=1)if(""===i[t])return!1;if(0===(a=(n=i.pop()).split(".")).length)return!1;if(1===a.length)r=a[0];else{for(t=1;t<a.length;t+=1)r+=a[t]+".";a.length>=2&&(r=r.substring(0,r.length-1))}return{topLevelDomain:r,domain:n,address:i.join("@")}}}};s.a.fn.mailcheck=function(e){var t,n,a=this;e.suggested&&(t=e.suggested,e.suggested=function(e){t(a,e)}),e.empty&&(n=e.empty,e.empty=function(){n.call(null,a)}),e.email=this.val(),l.mailcheck.run(e)};n("7iCU"),n("yhqc");var d=n("a+N5"),u=n.n(d),m=n("GRmu"),p=n("qtWx"),h=n("DQv1"),f=n("yQm5"),g=n.n(f),b=(n("ykY3"),n("FPRb"),n("1zKs"),p.a.extend());function _(){return g()(window.location.href)}b.uri=b.prototype.uri=function(){return _()},b.on_initialize(function(e,t,n,a){this.$view=t,this.template=n,a.url?g()(a.url).equals(_().clone().query(""))?this.original_uri=_():this.original_uri=g()(a.url):this.original_uri=_(),this.current_params="",this.param_change_listeners=[],this.options=a,_().equals(window.location.href)?e&&this.change_params(_().query()):this.set_params(_().query(),!0),this.bind_events()}),b.prototype.on_change_params=function(e){this.param_change_listeners.push(e)},b.prototype.change_params=function(e){this.$view.html(Object(h.a)(this.template,this.get())),this.options.mobius_on&&!this.mobius&&(this.mobius=this.init_mobius(this.options.mobius_on)),this.current_params=e,e!==_().query()?history.pushState({params:e},null,this.original_uri.query(e).hash("").toString()):history.replaceState({params:e},null,_().query(e).hash("").toString()),this.mobius&&function(){var t=this.$mobius_context();this.mobius.current_page=1,this.mobius.set_extra_params(e),this.mobius.$elem=this.$mobius_on(),t.get(0)!==this.mobius.options.$context.get(0)&&(this.mobius.options.$context=t,this.mobius.bind_events()),this.get("total_pages")>1?(this.mobius.play(),this.mobius.check_for_more(),s()(".mobius_load_more").show()):(this.mobius.pause(),s()(".mobius_load_more").hide())}.apply(this),u.a.each(this.param_change_listeners,function(t){"function"==typeof t&&t(e)}),this.change()},b.prototype.set_params=function(e,t){var n=this.original_uri.clone().query(e||!1),a=this;return!(!t&&e===this.current_params)&&(s.a.ajax({url:n.suffix("json").toString(),dataType:"json",success:function(t){a.set(t,{overwrite:!0}),a.change_params(e)},error:function(e){Object(m.a)({error:e.responseText})}}),!0)},b.prototype.bind_events=function(){var e=this;s()(window).on("statechange",function(){var t=History.getState().data;t&&"string"==typeof t.params&&e.set_params(t.params)})},b.prototype.$mobius_on=function(){var e=this.$view.find(".mobius_on");return e.length||(e=this.$view),e},b.prototype.$mobius_context=function(){var e=this.$view.find(".mobius_context");return e.length||(e=s()(window)),e},b.prototype.init_mobius=function(e){var t=this,n=this.$mobius_on(),a=this.$mobius_context();return this.$view.on("mobius:loaded_page",function(n,a,i){i[e]=t.get(e).concat(i[e]),a>=i.total_pages?(t.mobius.pause(),s()(".mobius_load_more").hide()):(t.mobius.play(),s()(".mobius_load_more").show()),delete i.params.page,t.set(i,{overwrite:!0})}),n.mobius({dataType:"json",url:this.original_uri.clone().query("").toString(),$context:a,paused:!0}).data("mobius")},window.Location=b;var v=b,k=(n("VTv/"),n("jBhg"),n("vhOl"),n("YHJg"),n("Pmti"),n("dmhg"),n("Yl26"),n("zhmz"),n("etHd"),n("Xt0b"),n("EEQn"),n("tQbK"),n("38sE"),n("82w6"),n("YW8a"),n("ZCQN"),n("kKIz"),n("585W"),n("nra7"),n("kZr9"),n("IvES"),n("Xr/1"),n("0Ugc"),n("jWXa"),n("U98V"));s()(function(){s()(document).on("modal_dialog:remote_dialog_loaded",function(e){Object(k.a)(e.target)}),s()(document).on("modal_dialog:opened",function(e){Object(k.a)(e.target)})});n("sFEt"),n("VeZw"),n("LKre"),n("eo+I"),n("iLvj"),n("rFP+"),n("8uoN"),n("bYgN"),n("XCVW"),n("GcaZ"),n("dw72");var y=n("zm9w");s()(function(){var e={};s()(".NS-activity-card-_backing").livequery(function(){var t=s()(this),n=t.data("project_id"),a=t.data("user"),i=e[n]||[],r=[a];u.a.each(i,function(e){e.$div.hide(),r.push(e.user)}),r.length>1&&(t.find(".js-backers").html(y.a.to_sentence(u.a.map(r,function(e){return'<a href="'+e.urls.web.user+'" class="link-green-dark bold">'+e.name+"</a>"}))),t.find(".js-avatar").replaceWith(Object(h.a)("activity/card/_backing_avatars",{backers:u.a.sample(r,3)}))),i.push({$div:t,user:a}),e[n]=i})});var j=n("h4vE");Object(j.a)("body#activity_index",function(e){var t=[];s()(".dashboard_activities .activity",e).livequery(function(){var e,n,a;e=s()(this),n=e.find(".timeline_header:first"),a=n.data("time_bucket"),-1===t.indexOf(a)&&(t.push(a),n.find(".timeline_header_name:first").css({display:"block"}))}),s()(document).on("click",".NS_post_likes__button form .js-like",function(){Object(c.d)("Activity Like")})}),s()(function(){s()(document).on("click",".activity_mini_comment .excerpt a",function(e){e.preventDefault();var t=s()(this).parents("blockquote.excerpt"),n=t.siblings("blockquote.everything");t.hide(),n.css("display","inline")})}),Object(j.a)(".NS-assets__list",function(e){var t=new window.AssetsListController(e.data("assets"),e.data("assets_list_options"));e.on("assets_list:item_added",function(e,n){t.add_item(n)}),e.define_renderer(function(t){e.html(t.map(function(t,n){var a=t.get();a.item_index=n;var i=Object(h.a)(e.data("assets_list_options").item_template,a,["assets/_fields_template"]),r=s()(i);return r.on("click",".js-asset-destroy",function(e){e.preventDefault(),t.set("_destroy",!0)}),r}))}),t.attach(e)});n("VnOs");var E=n("0VSk");Object(j.a)("body#backer_report_index",function(e){var t=".NS-backer_report_export";function n(e,n){n.closest(t).addClass("generating"),s.a.pollster(e,function(e){return e.email_url&&s()(t+" a.email_me").attr("href",e.email_url).show(),e.uploaded||"completed"===e.state?(s()(t+" .progress .bar").width("100%"),s()(t+" .success a.download").attr("href",e.download_url),s()(t).removeClass("generating").addClass("success"),!0):(void 0!==e.percent&&s()(t+" .progress .bar").width(e.percent+"%"),!1)},{delay:3e3,continue_on_error:!0})}e.on("submit",t+" form",function(e){var t=s()(this),a=t.find(".report_type select").val(),i=t.find(".select.report_type").data("all_reports_url"),r=t.find(".report_format select").val();e.preventDefault(),a&&("all"===a?(Object(c.d)("Backer Report Export",{export_type:"all_zipped"}),s.a.ajax({type:"post",url:i,data:{report_format:r},dataType:"json",success:function(e){n(e.poll_url,t)}})):(Object(c.d)("Backer Report Export",{export_type:a.indexOf("/all/")>0?"all_merged":"tier"}),s.a.ajax({type:"get",url:a,data:{new:"true",report_format:r},dataType:"json",success:function(e){n(e.poll_url,t)}})))}),e.on("click",t+" a.email_me",function(e){e.preventDefault();var n=s()(this);s.a.ajax({url:n.attr("href"),type:"post",dataType:"json",success:function(e){e&&200!==e.status?this.error():s()(t+" .email_me_container").empty().html(E.default.t("onloads.views.backer_report.export.Well_send_you_an_email_when_this_report_is_ready"))},error:function(){s()(t+" .email_me_container").empty().html(E.default.t("onloads.views.backer_report.export.There_was_an_error_requesting_the_email"))}})}),e.on("click",t+" a.reset",function(e){Object(c.d)("Backer Report Another Export"),s()(t).removeClass("generating").removeClass("success"),s()(t+" .email_me_container").empty().html(E.default.t("onloads.views.backer_report.export.Email_me_when_ready")),s()(t+" .bar").css("width","0%"),document.getElementById("export_submit").disabled=!1,e.preventDefault()}),e.on("click",t+" .js-export-warning--continue",function(e){e.preventDefault();var n=s()(this).closest(t),a=n.find(".js-export-warning"),i=n.find(".js-export-form");a.hide(),i.show()})});var w=n("SmhT"),S=n("K+Nk"),O=n("ZCIj");s()(function(){function e(){return g()(window.location)}if(window.backers){var t,n=[],a=e(),i=!1,r=a.query(!0).show_responses||O.b.getItem("backer_report_show_responses");t=new v(null,s()("#main"),"backer_report/_index",{mobius_on:"backers"}),Object(c.d)("Backer Report View"),u.a.has(a.query(!0),"show_responses")&&O.b.setItem("backer_report_show_responses",a.query(!0).show_responses),"string"==typeof r&&(r="true"===r),t.on_change_params(function(){n=[],s()("form.term").term_form().bind("submit",function(e){e.preventDefault();var n=s()(this);t.set_params(n.serialize_without_blank()),Object(c.d)("Backer Report Search",{term:n.find(":input").val()})}),function(){var t=e().query(!0).reward_id,n=s()(".NS-backer_report__header .remote_modal_dialog");if(t&&n.length>0){const e=g()(n.attr("href")).removeSearch("reward_id").addSearch("reward_id",t);n.attr("href",e)}}(),s()("form.term .text").trigger("keydown"),t.get("params.reward_id")||"dropped"===t.get("params.status")||(s()("#reward, #reward_message, ul.dropdown li.all").remove(),s()(".reward_tiers .title > span.reward b").text(E.default.t("onloads.views.backer_report.index.All_rewards")));var a=s()("#main input[name=note]:visible, #main input[name=note_not]:visible");a.focus(),a.val(a.val()),t.change()}),s()(document).on("click","#main table th",function(n){var a,i=s()(this).data("sort"),r=e(),o=r.search(!0);i&&(n.preventDefault(),"asc"===o.asc_or_desc&&o.sort_by===i?(a="desc",r.removeSearch("asc_or_desc").addSearch("asc_or_desc",a)):(a="asc",r.removeSearch("asc_or_desc").addSearch("asc_or_desc",a)),r.removeSearch("sort_by").addSearch("sort_by",i),Object(c.d)("Backer Report Sort",{selected_sort:i,selected_order:a}),t.set_params(r.query()))}),t.on_change(function(){var e=s()("#main");u.a.each(this.get("backers"),function(a){u.a.contains(n,a.id)||(n.push(a.id),a.project_is_successful="successful"===t.get("project.state"),a.showMessages=t.get("showMessages"),a.showRewards=t.get("showRewards"),a.show_responses=r,a.disputed_filter_enabled="true"===t.get("params.disputed"),a.dispute_status=t.get("dispute_statuses")[a.id],e.find("table tbody").append(Object(h.a)("backer_report/_row",a)))})}),s()(window).on("statechange",function(){var e=History.getState().data;e&&("string"==typeof e.params&&t.set_params(e.params),"string"==typeof e.modal_url?s.a.open_remote_modal_dialog(e.modal_url):(i=!0,s()(".modal_dialog:has(.NS_backers__info):visible").trigger("close"),i=!1))}),s()(window).on("set_params",function(e,n){t.set_params(n)}),s()(document).on("click","#main .dropdown a",function(e){var n,a,i=s()(this),r=i.closest(".dropdown"),o=r.closest(".ksr-dropdown");r.find("a").removeClass("selected"),i.addClass("selected"),n=s()(".dropdown a.selected"),a={},n.each(function(){var e=s()(this);u.a.extend(a,g()(e.attr("href")).query(!0))}),t.set_params(s.a.param(a),!0),e.preventDefault(),o.hasClass("reward_tiers")?Object(c.d)("Backer Report Reward Filter",{selected_tier:s.a.trim(s()(this).find("b").text())}):o.hasClass("views")&&Object(c.d)("Backer Report Views Filter",{selected_tier:s.a.trim(s()("#main .reward_tiers .title b").text()),selected_view:s.a.trim(s()(this).find("span").text())})}),s()(document).on("keyup","form.aggregations input[name=note], form.aggregations input[name=note_not]",function(e){13===e.which&&s()(this).trigger("change")}),s()(document).on("click","#main table tbody tr a",function(){o(s()(this).closest("tr"))}),s()(window).on("backer_completed",function(e,t,n){s()("#main table tbody tr td.completed a, .NS_backers__info a.completed_toggle").filter("[data-backer_id="+t+"]").toggleClass("completed",n)}),s()(window).on("creator_backing_note:added",function(e,t,n){s()("#main table tbody tr[data-backing_id="+t+"] td.notes a").text(n)}),s()(window).on("message_sent",function(e,t,n){s()("#main table tbody tr[data-backing_id="+t+"] td.actions a").html('<span class="ss-icon ss-mail"></span> ('+n+")")}),s()(window).on("modal_dialog:opened",function(t){var n=s()(t.target).data("modal_dialog");History.busy()||History.pushState({modal_url:n.remote_url},null,e().hash("").toString())}),s()(window).on("modal_dialog:remote_dialog_loaded",function(e){var t=s()(e.target),n=t.data("modal_dialog").$elem.find("div[data-backing_id]").data("backing_id"),a=s()('tr[data-backing_id="'+n+'"]'),i=a.prev("tr"),r=a.next("tr"),o=t.find(".NS_backers__info");r.length&&s()('<a class="next btn btn--dark-green btn--large" href="#"><span class="ss-icon ss-navigateright"></span></a>').click(function(e){e.preventDefault(),l(),Object(c.d)("Backer Info Modal Next",{event_type:"click"})}).prependTo(o.find(".controls")),i.length&&s()('<a class="prev btn btn--dark-green btn--large" href="#"><span class="ss-icon ss-navigateleft"></span></a>').click(function(e){e.preventDefault(),d(),Object(c.d)("Backer Info Modal Previous",{event_type:"click"})}).prependTo(o.find(".controls"))}),s()(window).on("closed.modal_dialog",function(){if(!i){var e=s.a.param(t.get("params")),n=a.clone();History.pushState({params:e},null,n.query(e).hash("").toString())}}),s()(window).on("keydown",function(e){if(!s()(e.target).is(":input"))switch(e.keyCode){case w.e:case w.k:l(),Object(c.d)("Backer Info Modal Next",{event_type:"keyboard"});break;case w.f:case w.g:d(),Object(c.d)("Backer Info Modal Previous",{event_type:"keyboard"});break;case w.c:s()(".NS_backers__info:visible").trigger("close").length||s()("#main tbody tr.selected td.backer a").click();break;case w.d:s()(".NS_backers__info:visible").trigger("close")}}),s()(window).on("message_thread_read",function(e,t){s()("#backer_report_backing_"+t.backing.id+" .notification-indicator").removeClass("notification-indicator--active")}),s()(window).on("message_thread_unread",function(e,t){s()("#backer_report_backing_"+t.backing.id+" .notification-indicator").addClass("notification-indicator--active")}),s()(".NS_message_batches__new").livequery(function(){var e=s()(".NS_message_batches__new"),t=e.find("form");t.find("textarea").validates_presence(),t.on("submit",function(n){n.preventDefault(),t.validate()&&(Object(c.d)("Message Tier Sent"),s.a.ajax({url:t.attr("action"),type:t.attr("method"),data:t.serialize(),dataType:"json",success:function(){e.find("textarea").val(""),t.hide(),e.find(".success").show()},error:function(e){Object(m.a)({error:e.statusText})}}))})}),t.set(Object(S.a)(window.backers)),t.change_params(a.query()),window.backers=t}function o(e){e.is(".selected")||(s()("#main tbody tr").removeClass("selected"),e.addClass("selected"),i=!0,s()(".NS_backers__info:visible").trigger("close").length&&e.find(".backer a").click(),i=!1,e.index()>e.parent().children().length-10&&!t.mobius.paused&&t.mobius.load_next())}function l(){var e=s()("#main tbody tr.selected");e.length?o(e.next()):o(s()("#main tbody tr:first"))}function d(){var e=s()("#main tbody tr.selected");e.length?o(e.prev()):o(s()("#main tbody tr:last"))}}),s()(function(){var e=".NS_backers__info";s()(document).on("click",e+" .pledge .reward_details",function(e){e.preventDefault();var t=s()(this).closest(".pledge");t.find(".description").toggle(),t.find(".description_short").toggle(),t.trigger("resize")}),s()(document).on("click",e+" a.completed_toggle, #backer_report_index #main table tbody tr td.completed a",function(e){var t,n=s()(this),a=n.is(".completed");s.a.ajax({url:n.attr("href"),type:"put",dataType:"json",data:{"backer[completed]":!a},success:function(e){n.trigger("backer_completed",[n.data("backer_id"),!a,e.backer_completed_at]),n.toggleClass("completed",!a),e.backer_completed_at&&n.find("span.date").text(e.backer_completed_at)}}),n.closest(".modal_dialog").length?t="backer_modal":n.closest("td.completed").length&&(t="backer_row"),a?Object(c.d)("Rewards Sent Unchecked",{context:t}):Object(c.d)("Rewards Sent Checked",{context:t}),e.preventDefault()}),s()(document).on("click",e+" .tab-nav a",function(t){t.preventDefault();var n=s()(this).attr("rel"),a=s()("."+n);s()(e+" .panel").hide(),a.show(),s()(".tab-nav li").removeClass("selected"),s()(this).closest("li").addClass("selected"),Object(c.d)("Backings Show Toggle Tab",{toggled_to:n})}),s()(document).on("ksr_json:complete",e+" .messages_panel",function(){var e=s()(this),t=e.find(".message").length+1;e.trigger("message_sent",[e.data("backing-id"),t])}),s()(document).on("message_sent",e+" .messages_panel",function(t,n,a){s()(this).closest(e).find(".messages_link").html(E.default.t("onloads.views.backers.info.Messages_count",{count:a}))})});var C=n("zNco"),N=n("ibLj");s()(function(){var e=".NS_backings__info";s()(document).on("message_sent",e+" .messages_panel",function(t,n,a){s()(this).closest(e).find(".messages_link").html(E.default.t("onloads.views.backings.info.Messages_count",{count:a}))}),s()(document).on("click",e+" .js-backing-complete form",function(t){var n=s()(this),a=n.find("label.with_data"),i=n.find(".checkbox"),r=!a.data("completed"),o=n.find("#ref").val();t.preventDefault(),s.a.ajax({url:n.attr("action"),data:{"backing[backer_completed]":r,ref:o},dataType:"json",type:"PUT",success:function(t){n.trigger("backer_completed",[n.closest(e).data("backing_id"),t.backing.backer_completed_at]),i.prop("checked",r),a.data("completed",r),a.toggleClass("js-completed",r),document.getElementById("backer-bar")&&Object(C.render)()}})}),s()(document).on("click",e+" .toggle-data",N.a)});const x=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;var i=e.namespaceURI,r=document.createElementNS(i,"linearGradient");r.setAttribute("id",t);for(var o=0;o<n.length;o++){var s=n[o],c=document.createElementNS(i,"stop");for(var l in s)s.hasOwnProperty(l)&&c.setAttribute(l,s[l]);r.appendChild(c)}a&&r.setAttribute("gradientTransform",a);var d=e.querySelector("defs")||e.insertBefore(document.createElementNS(i,"defs"),e.firstChild);return d.appendChild(r)},T=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;s()(e).each((e,i)=>{x(i,t,n,a),s()(i).attr("fill","url(#".concat(t,")"))})};var I=n("qcI4"),D=n("ioZw"),P=n("tmAf"),A=n("c6/r"),R=n("n2oK");Object(j.a)("#backings_index",function(e){function t(){return g()(History.getState().url)}var n,a=!1,i=t(),r="trustGradient",o="rotate(45)",l=[{offset:"0%","stop-color":"#71A0FF"},{offset:"100%","stop-color":"#5555FF"}];function d(e){return e.closest("section").data("collection_state")}function m(e){return e.closest("section").find("table")}function p(t){e.find("#backing_"+t.get("id")).each(function(){var e=s()(this),n=d(e);e.replaceWith(f(t,n))})}function f(e,t){return Object(h.a)("backings/_row_"+t,Object(D.a)(s.a.extend({},e.get())))}function b(e){return m(e).hasClass("table_loading")}function _(e){e.filter(e=>e.reward&&!e.cannot_save_new_sentiment).length>0&&Object(c.d)("Viewed Feedback",{context:"backed_projects"})}function v(e){b(e)||e.is(".selected")||(s()("#main tbody tr").removeClass("selected"),e.addClass("selected"),a=!0,s()(".NS_backings__info:visible").trigger("close").length&&e.find("a.more").click(),a=!1)}function k(){var e=s()("#main tbody tr.selected");e.length?v(e.next()):v(s()("#main tbody tr:first"))}function j(){var e=s()("#main tbody tr.selected");e.length?v(e.prev()):v(s()("#main tbody tr:last"))}e.on("click","#main table tbody tr td a.more",function(){Object(c.d)("Backings Show Modal",{how_triggered:"row"})}),e.on("backer_completed",function(e,t,n){var a=I.b.find(t);a.set("backer_completed_at",n),p(a)});var E=!1;function S(e){!function(e){const t=e.attr("class").split(" ").find(e=>e.match(/svg-icon__.+/));t.endsWith("-filled")||(e.find("use").get(0).setAttributeNS("http://www.w3.org/1999/xlink","href","#".concat(t.replace("svg-icon__",""),"-filled")),e.removeClass(t).addClass("".concat(t,"-filled")),x(e.get(0),r,l,o),e.attr("fill","url(#".concat(r,")")))}(e.find("svg")),e.data("selected","true")}e.on("click",".sentiment-reaction",function(e){e.preventDefault();const t=s()(e.currentTarget),n=t.data("sentiment");s.a.ajax({url:"".concat(t.data("projectUrl"),"/feedbacks"),data:{question_name:"backer_bar_sentiment",question_answer:n},dataType:"json",type:"POST",success:function(e,n,a){204!==a.status?(S(t),t.siblings().each((e,t)=>{!function(e){!function(e){const t=e.attr("class").split(" ").find(e=>e.match(/svg-icon__.+/));e.find("use").get(0).setAttributeNS("http://www.w3.org/1999/xlink","href","#".concat(t.replace("svg-icon__","").replace("-filled",""))),e.removeClass(t).addClass("".concat(t.replace("-filled",""))),e.attr("fill","")}(e.find("svg")),e.data("selected",""),e.removeClass("fill-trust-300").addClass("fill-support-300")}(s()(t))}),t.parent().find("button").attr("disabled",!0).removeClass("hover-target")):window.location.reload(!0)}})}),e.on("click","a.backer_completed_at",function(e){e.preventDefault(),setTimeout(function(){E=!0,e.target.checked=!e.target.checked,s()(e.target).change()},0)}),e.on("change","a.backer_completed_at input.checkbox",function(e){if(E){E=!1;var t=s()(this),n=t.closest("a"),a=t.is(":checked");b(t)||s.a.ajax({url:n.attr("href"),data:{"backing[backer_completed]":a,ref:"profile_backings"},dataType:"json",type:"PUT",success:function(e){e.backing&&n.trigger("backer_completed",[e.backing.id,e.backing.backer_completed_at])}})}else e.preventDefault()}),e.on("message_sent",function(e,t,n){var a=I.b.find(t);a.set("messages",{count:n,last_activity_at:Object(R.d)(new Date)}),p(a)}),e.on("click","a.more span.ss-icon",function(){Object(c.d)("Backings Show Modal",{how_triggered:"icon"})}),e.on("click","table th.sortable",function(e){var t=s()(this),a=t.closest("table"),i=d(t),r=t.hasClass("asc")?"asc":"desc",o=Math.min(a.find("tbody tr").length,150),l=t.data("sort"),p=g()(a.data("url"));e.preventDefault(),Object(c.d)("Backings "+y.a.capitalize(i)+" Sort",{selected_sort:l}),p.addSearch({direction:r,sort:l,page:1,per_page:o}),n&&n.abort(),n=s.a.ajax({url:p.toString(),dataType:"json",beforeSend:function(){m(t).addClass("table_loading")},complete:function(){m(t).removeClass("table_loading"),n=void 0},success:function(e){var n;n=u.a.map(e.backings,function(e){return f(new I.b(e),i)}),a.find("tbody").html(n),a.data({sort:l,direction:r}),a.find("th").not(t).removeClass("active asc").addClass("desc"),t.addClass("active").removeClass(r).addClass("desc"===r?"asc":"desc"),a.find("tbody tr").length<e.total&&t.closest("section").find("a.show_more_backings").show()}})}),s()(document).on("click","a.show_more_backings",function(e){var t=s()(this),a=m(t),i=d(t),p=a.data("sort");e.preventDefault(),b(t)||(Object(c.d)("Backings "+y.a.capitalize(i)+" More",{selected_sort:p}),n&&n.abort(),n=s.a.ajax({url:a.data("url"),data:{direction:a.data("direction"),page:Math.floor(a.find("tbody tr").length/150)+1,per_page:150,sort:p},beforeSend:function(){t.addClass("loading")},complete:function(){t.removeClass("loading"),n=void 0},success:function(e){var n,i=d(t),s=a.find("tbody tr").length,c=0;s<150&&(c=s),n=u.a.chain(e.backings).rest(c).map(function(e){return f(new I.b(e),i)}).value(),a.find("tbody").append(n),"collected"===i&&_(e.backings),T("svg[class*='-filled']",r,l,o),a.find("tbody tr").length>=e.total&&t.hide()}}))}),s()(window).on("statechange",function(){var e=History.getState().data;e&&("string"==typeof e.modal_url?s.a.open_remote_modal_dialog(e.modal_url):(a=!0,s()(".modal_dialog:has(.NS_backings__info):visible").trigger("close"),a=!1))}),e.on("click","#main table tbody tr a.remote_modal_dialog",function(){v(s()(this).closest("tr"))}),s()(window).on("modal_dialog:opened",function(e){var n=s()(e.target).data("modal_dialog");History.busy()||History.pushState({modal_url:n.remote_url},null,t().hash("").toString())}),s()(window).on("modal_dialog:remote_dialog_loaded",function(t){var n=s()(t.target),a=n.data("modal_dialog").$elem.find("div[data-backing_id]").data("backing_id"),i=e.find("#backing_"+a),r=i.prev("tr"),o=i.next("tr"),c=n.find(".NS_backings__info");o.length&&s()('<a class="next btn btn--dark-green btn--large" href="#"><span class="ss-icon ss-navigateright"></span></a>').click(function(e){e.preventDefault(),k()}).prependTo(c.find(".controls")),r.length&&s()('<a class="prev btn btn--dark-green btn--large" href="#"><span class="ss-icon ss-navigateleft"></span></a>').click(function(e){e.preventDefault(),j()}).prependTo(c.find(".controls"))}),s()(window).on("closed.modal_dialog",function(){if(!a){var e=i.clone();History.pushState(null,null,e.hash("").toString())}}),s()(window).on("keydown",function(e){if(!s()(e.target).is(":input"))switch(e.keyCode){case w.e:case w.k:k();break;case w.f:case w.g:j();break;case w.c:s()(".NS_backings__info:visible").trigger("close").length||s()("#main tbody tr.selected td a.more").click()}}),u.a.each(["active","collected","uncollected"],function(e){var t=JSON.parse(Object(A.a)(window[e]));if(t.backings=u.a.map(t.backings,function(e){return new I.b(e)}),s()("#"+e).append(function(e,t){return Object(h.a)("backings/_"+t,Object(P.a)(s.a.extend({},e)),["backings/_row_"+t])}(t,e)),"collected"===e){_(t.backings.map(e=>e.data))}}),T("svg[class*='-filled']",r,l,o)});n("k2z9"),n("qtVb"),n("ksT7");Object(j.a)("body#blog_posts_category",function(e){var t,n;(t=s()("#sidebar",e)).sticky_bar({parent:t.closest("#content")}),n=s()(".mobius",e),s()("div.load_more",e).show(),s()("div.pagination",e).hide(),n.persistent_paging()}),Object(j.a)("body#claims_new",function(){s()(".js-not-contacted").on("click",function(){s()(".js-not-contacted-message").show(),s()(".js-claim-info").hide(),s()(".js-owner-section").hide(),s()(".js-yes-contacted").hide()}),s()(".js-contacted").on("click",function(){s()(".js-not-contacted-message").hide(),s()(".js-claim-info").show()}),s()(".js-type-owner").on("click",function(){s()(".js-trademark-section").length?(s()(".js-none-of-the-above-error").hide(),s()(".js-trademark-section").show(),s()(".js-contacted").prop("checked",!1),s()(".js-not-contacted").prop("checked",!1),s()(".js-not-contacted-message").hide(),s()(".js-claim-info").hide(),s()(".js-owner-name").hide(),s()(".js-owner-name-text").val(""),s()(".js-owner-name").hide()):(s()(".js-none-of-the-above-error").hide(),s()(".js-not-contacted-message").hide(),s()(".js-claim-info").show(),s()(".js-owner-name").hide(),s()(".js-owner-name-text").val(""))}),s()(".js-type-representative").on("click",function(){s()(".js-trademark-section").length?(s()(".js-none-of-the-above-error").hide(),s()(".js-trademark-section").show(),s()(".js-contacted").prop("checked",!1),s()(".js-not-contacted").prop("checked",!1),s()(".js-not-contacted-message").hide(),s()(".js-owner-name").show(),s()(".js-claim-info").hide(),s()(".js-owner-name").show()):(s()(".js-none-of-the-above-error").hide(),s()(".js-not-contacted-message").hide(),s()(".js-claim-info").show(),s()(".js-owner-name").show())}),s()(".js-type-none").on("click",function(){s()(".js-trademark-section").length?(s()(".js-none-of-the-above-error").show(),s()(".js-trademark-section").hide(),s()(".js-not-contacted-message").hide(),s()(".js-claim-info").hide()):(s()(".js-none-of-the-above-error").show(),s()(".js-claim-info").hide())})}),s()(function(){var e=".NS_comments__comment";s()(".js-could-have-comments").length&&(s()(document).on("click",e+" a.report_spam",function(e){e.preventDefault();var t=s()(this),n=this,a=t.closest(".comment");s.a.modal_confirm(function(){return r.a.get(t.data("url"),"post",a.find(".ajax-container"),n)},{message:E.default.t("onloads.views.comments.comment.We_review_all_reports_with_care_but_please_keep_in_mind"),title:E.default.t("onloads.views.comments.comment.Report_this_comment_to_Kickstarter"),confirm_text:E.default.t("onloads.views.comments.comment.Yes_report_as_spam")})}),s()(document).on("ksr_json:complete",e+" .spam_reported",function(e,t){var n=s()(this).closest(".comment"),a=n.find(".report_spam");a.hide(),200!==t.status||a.is(".admin")||n.find(".body").hide()}))});var F=n("/AD1");s()(function(){s()("body").on("DOMNodeInserted","form#new_comment",function(){var e=s()(this);e.on("click",":submit",function(t){if(F.a&&F.a.get("comments_loaded")&&F.a.get("comments_count")-F.a.get("comments_loaded")>50)return!0;t.preventDefault();var n=e.find("input.submit"),a=n.val(),i=function(){var t=e.closest(".js-comments").find(".list-comments li.comment:first");if(F.a&&F.a.get("comments_loaded")&&t.length)return parseInt(t.attr("id").match(/\d+/)[0],10)}(),r=u.a.reduce(e.serializeArray(),function(e,t){return e[t.name]=t.value,e},{});i&&(r.cursor=i),n.hasClass("disabled")||(n.addClass("disabled"),n.val(E.default.t("onloads.views.comments.form.Posting")),s.a.ajax({type:e.attr("method"),url:e.attr("action"),dataType:"json",data:r,success:function(t){var n=e.closest(".js-comments"),a=n.find(".list-comments"),i=n.find("header");u.a.isArray(t.flash)&&u.a.isArray(t.flash[0])&&(t.flash=u.a.object(t.flash)),Object(m.a)(t.flash),t.html&&(e.each(function(){void 0!==this.reset&&this.reset()}),a.length||(a=s()('<ol class="list-comments click"><li class="page"><ol class="comments"></ol></li></ol>'),i.length?i.after(a):n.append(a)),t.comments_count&&F.a&&F.a.get("comments_loaded")&&(F.a.set("comments_loaded",F.a.get("comments_loaded")+s()(t.html).length),F.a.set("comments_count",t.comments_count)),s()("#project-edit-nav .preview .count").text(function(e,t){return parseInt(t,10)+1}),a.closest(".project_preview_comments").addClass("has_comments"),s()("body#proposals_show").length?a.append(t.html):a.find(".page ol.comments").prepend(t.html))},complete:function(){n.removeClass("disabled"),n.val(a)}}))})})});n("ZY8h");s()(function(){s()(document).on("submit","#beneficiary_container form.beneficiary_reset",function(e){var t=s()(this),n=s()('<div class="spinner" />').spin("ksr","#fff");t.closest("#beneficiary_container").append(n),s.a.ajax({type:t.attr("method"),url:t.attr("action"),data:t.serialize(),dataType:"html",success:function(e){t.closest("#account-setup-panel").html(e)}}),e.preventDefault()})}),Object(j.a)("body#country_signups_netherlands",function(e){var t=e.find(".video-banner");function n(){var e=s()(window).height()-s()("#header-wrap").height(),n=s()(window).width(),a=n/e;t.css({height:e,"min-height":"660px"}),a<1.777777?t.find("video").css({height:e,width:"auto",left:"50%",top:0,"margin-top":0,"margin-left":-t.find("video").width()/2}):(t.find("video").css({height:"auto",width:n,left:0,"margin-left":0,top:"50%","margin-top":-t.find("video").height()/2}),e<620&&t.find("video").css({"margin-top":-360}))}s()(document).resize(function(){n()}),n()});var L=n("oOYD");Object(j.a)("body.country_signups",function(){s()("input#signup_email").validates_presence().validates_email(),s()("form#new_signup").on("submit",function(e){var t=s()(this);if(e.preventDefault(),!t.validate())return s()("#signup_email").addClass("errored"),s()(".error_message").show(),!1;s.a.ajax({url:t.attr("action"),data:t.serialize(),type:t.attr("method"),dataType:"json",success:function(){s()(".error_message").hide(),s()(".submitting").hide(),s()(".submitted").show()},error:function(){t.find("#signup_email").addClass("errored")}})}),Object(L.b)([".js-track-project-card"]),window.onscroll=u.a.debounce(L.c,150)}),s()(function(){s()(document).on("submit",".NS_creator_backing_notes__form",function(){var e=s()(this);"undefined"!=typeof ga&&ga("send","event","Backing Notes","Save",s()("body").attr("id")),e.trigger("creator_backing_note:added",[e.data("backing_id"),e.find("textarea").val()])})}),s()(".NS-curated_page_projects-new").livequery(function(){var e=s()(this),t=e.find("form.curated_pages_form"),n=parseInt(s()("div.blurb .character_counter .number:first",e).text(),10);s()(".blurb textarea",e).validates_max_length().validates_presence(),s()(".blurb",e).on("validate:invalid",function(){s()(this).addClass("errored")}),s()(document).on("validate:valid",".blurb, .meta h1",function(){s()(this).removeClass("errored")}),s()("div.blurb",e).on("keypress cut paste input",function(){var e=s()(this),t=e.find("textarea").val().length,a=n-t;e.find("textarea").validate(),e.find(".character_counter .number").text(a)}),e.find(".save").click(function(){var e=t.find(".buttons .loading");s()("div.blurb textarea").validate()&&(e.show(),s.a.ajax({type:t.attr("method"),url:t.attr("action"),data:t.serialize(),dataType:"json",global:!1,success:function(n){t.trigger("close.modal_dialog"),t.trigger("project_added_to_curated_page",[n]),e.hide()}}))}),e.find(".cancel").click(function(){s()(this).trigger("close.modal_dialog")})}),Object(j.a)("#curated_pages_reorder",function(e){function t(){s()(".js-project").each(function(e){s()(this).find("input.text").val(e+1)})}s()(".js-project input.text").on("blur",function(){var e=s()(this),n=parseInt(e.val(),10),a=e.closest(".js-project");isNaN(n)||(s()(".js-project").not(a).eq(n-1).before(a),t())}).on("focus",function(){this.select()}),e.find("form ol").sortable({containment:"document",tolerance:"pointer",items:"> li",stop:t})}),s()(function(){var e=s()("#curated_pages_show"),t="#curated_pages_show form.curated_pages_form",n=s()(t);n.length&&(!function(){var a,i=s()("#main.published"),r=s()(".project-card-list.live",e),o=s()(".tools .delete").closest("form"),c=!!i.length,l=s()(".find_projects .project-results ul.result_list",e).clone(),d=s()(".find_projects .project-results div.instructions",e).clone(),u=!!l.length;function m(e){var t=e.siblings(".value"),n=e.children("span.add_prompt");if(!t.siblings("textarea:visible, input:visible").length)return""===s.a.trim(t.text())?(n.show(),e.addClass("empty")):(n.hide(),e.removeClass("empty")),e}function p(){var e,t,n=s()(".submit.launch, #add_shortcut_url");e=s()(".curated_page_project:visible:not(.new)"),t=e.length-e.find("div.blurb.errored").length,""===s.a.trim(s()("#curated_page_title:not(:visible)").val())||""===s.a.trim(s()("#curated_page_description:not(:visible)").val())||t<1?n.attr("disabled",!0).addClass("disabled"):n.removeAttr("disabled").removeClass("disabled")}function h(e){var t={};e.data("livesearch_result")?(t.html=e.data("livesearch_result").html,t.id=e.data("livesearch_result").id):(t.html=e.data("html"),t.id=+e.data("id")),console.assert(t.html.length),console.assert(t.id);var n=s()(t.html).find(".project-card").parent().html();return console.assert(n.length),t.card=n,t}s()(document).on("form_synced","form.header_form",function(e,t){var n=s()(this);t.curated_page&&t.curated_page.description&&m(n.find(".description .value").html(t.curated_page.description).siblings(".edit_prompt"))}),s()(document).on("form_synced",".curated_page_project > form",function(e,t){var n=s()(this);t.curated_page_project&&t.curated_page_project.blurb&&m(n.find(".blurb .value").html(t.curated_page_project.blurb).siblings(".edit_prompt"))}),e.on("click",".value:not(.image), .edit_prompt",function(){var e,t,n,a,i,r,o=s()(this),c=s()(this).siblings("input, textarea");c.is(":visible")||(c.show().focus(),c.parent().append((e=c,t=s()('<div class="buttons"></div>'),n=e.val(),a=s()('<div class="save btn btn--green btn--small">'+E.default.t("onloads.views.curated_pages.show.Save")+"</div>"),i=s()('<div class="cancel btn btn--gray btn--small">'+E.default.t("onloads.views.curated_pages.show.Cancel")+"</div>"),r=s()('<span class="loading icon-loading-small"></span>'),a.click(function(){e.trigger("close")}),i.click(function(){e.val(n),e.trigger("close")}),r.hide(),t.append(a),t.append(i),t.append(r),t)),setTimeout(function(){s()(document).on("click",l)},100),o.is(".empty")?o.find(".add_prompt").hide():o.hide(),o.siblings(".value").hide(),o.trigger("field_opened"));function l(e){e.target===c[0]||s()(e.target).is("a.cancel, a.save")||s()(document).off("click",l)}}),s()(".edit_prompt",n).each(function(){m(s()(this))}),e.on("close","input:not(.not_edit_in_place), textarea",function(){var e=s()(this),t=e.siblings(".edit_prompt"),n=e.siblings(".value");function a(){n.show(),c||t.show(),e.siblings(".buttons").remove(),e.hide(),e.trigger("field_closed")}e.validate()?e.is("textarea")?(e.siblings(".buttons").find(".loading").css("display","inline-block"),e.closest("form").sync_form({success:function(e){e.valid&&a()},complete:function(){e.siblings(".buttons").find(".loading").hide()}})):(n.text(e.val()),m(t),a(),e.closest("form").sync_form()):e.focus()}),s()(document).on("keydown",t+" input:not(.not_edit_in_place)",function(e){13===e.keyCode&&(e.preventDefault(),s()(this).trigger("close")),27===e.keyCode&&(e.preventDefault(),s()(this).siblings(".buttons").find(".cancel").click())}),s()(document).on("click",".curated_page_project a.remove",function(e){e.preventDefault();var t,n,a=s()(this),i=a.closest("form"),r=parseInt(i.find("input.project_id").val(),10);l.find("li").each(function(){s()(this).attr("data-id")===r&&s()(this).show()}),i.sync_form({type:"delete",success:function(){n&&a.closest(".curated_page_project").remove(),t=!0}}),a.closest(".curated_page_project").fadeOut(function(){p(),t&&s()(this).remove(),n=!0})}),s()(".blurb textarea, .meta .description textarea").livequery(function(){s()(this).validates_max_length().validates_presence()}),s()("#curated_page_title").data("validations",[[function(e){return!(!e.length&&c)}]]),s()(document).on("field_opened",".blurb",function(){s()(this).find(".label").show(),s()(this).find(".character_counter").show()}),s()(document).on("field_closed",".blurb",function(){s()(this).find(".label").hide(),s()(this).find(".character_counter").hide()}),s()(document).on("field_opened",".meta .description",function(){s()(this).find(".character_counter").show()}),s()(document).on("field_closed",".meta .description",function(){s()(this).find(".character_counter").hide()}),s()(document).on("validate:invalid",".blurb, .meta h1, .meta .description",function(){s()(this).addClass("errored")}),s()(document).on("validate:valid",".blurb, .meta h1, .meta .description",function(){s()(this).removeClass("errored")}),s()(document).on("keypress cut paste input field_opened","div.blurb, .meta .description",function(e){var t=s()(this),n=t.find("textarea").val().length,a=parseInt(t.find("textarea").data("maxlength"),10)-n;"field_opened"!==e.type&&t.find("textarea").validate(),t.find(".character_counter .number").text(a)}),s()(document).on("form_synced",".curated_page_project",function(e,t){var n=s()(this),a=n.find("form");t.valid&&(a.attr("action",t.url),a.attr("method","put"),a.find("#curated_page_project_id").val(t.curated_page_project.id),n.css("border","0"))}),s()(document).on("click",".image a.remove",function(e){e.preventDefault();var t=s()(this);s.a.ajax({url:t.attr("href"),type:"delete",dataType:"text",contentType:"application/x-www-form-urlencoded",success:function(e){t.closest(".image").find("img").attr("src",e)}})}),e.on("click",".add_project",function(){var e=s()(this).closest(".curated_page_project").find(".find_projects");e.show(),e.find(".input-search").focus()}),s()(document).on("livesearch:soft_select livesearch:unselect",".find_projects .project-results ul.result_list li",function(e){var t=s()(this),n=t.closest(".curated_page_project").find(".project");console.assert(n.length);var a=n.children(".add_project");console.assert(a.length);var i,r=n.find(".project-card");if("livesearch:soft_select"===e.type){i=h(t);var o=s()(i.card);a.hide(),r.remove(),n.append(o)}else console.assert(r),r.remove(),a.show()}),s()(document).on("livesearch:selected",".find_projects .project-results ul.result_list li",function(e){e.preventDefault();var t,n,i=s()(this),o=h(i),c=s()('<div class="curated_page_project">'+o.html+"</div>"),m=i.closest(".curated_page_project");console.assert(m.length),i.trigger("livesearch:unselect"),l.find("li").each(function(){s()(this).attr("data-id")===o.id&&s()(this).hide()}),u?(m.find("ul.result_list").replaceWith(l.clone()),m.find(".project-results > h2").text("My Backed Projects"),a.bind_results()):(m.find("ul.result_list").empty().before(d.clone()),m.find(".project-results > h2").text("Adding Projects")),a.livesearch.last_search=!1,m.find("input.input-search").val("").blur(),t=m.find("input.exclude"),n="",r.children(".curated_page_project").each(function(){var e=s()(this).find("input.project_id").val();e&&(n+=e+",")}),n+=c.find("input.project_id").val(),t.val(n),m.hide(),m.after(c),c.find(".blurb .value").click()}),s()(document).on("livesearch:results",".find_projects",function(){s()(this).find(".project-results > h2").text("Search Results"),s()(this).find(".project-results > .instructions").remove()}),s()(".find_projects input.input-search").livequery(function(){var e=s()(this),t=s()(this).siblings("input.exclude"),n=e.siblings(".ss-search");a=e.livesearch_input_dropdown({url:e.data("livesearch-url"),serialize:e.add(t),cancel_copy:"",client_side_cache:!1,update_input:!1,return_name_from_result:function(e){return e.name}}).data("livesearch.input_dropdown"),e.on("livesearch:searching",function(){n.removeClass("ss-search").addClass("icon-loading-small")}),e.on("livesearch:results livesearch:ajax_error",function(){n.removeClass("icon-loading-small").addClass("ss-search")})}),s()(document).on("form_synced",p),p(),c&&(s()(document).on("mouseenter",".curated_page_project, .image.value",function(){s()(this).find("a.remove").show()}).on("mouseleave",".curated_page_project, .image.value",function(){s()(this).find("a.remove").hide()}),s()(document).on("mouseenter",".project-card-list.live .value, .value ~ textarea, .value ~ input",function(){s()(this).siblings(".edit_prompt").show()}).on("mouseleave",".value, .value ~ textarea, .value ~ input",function(){s()(this).siblings(".edit_prompt:not(.empty)").hide()})),s()(document).on("click","#new_root_slug .cancel",function(e){e.preventDefault(),s()(this).trigger("close.modal_dialog")}),s()(document).on("submit","#new_root_slug",function(e){e.preventDefault();var t=s()(this),n=t.find(".shortcut.url");n.addClass("processing"),n.removeClass("invalid"),n.find(".error_message").text(""),s.a.ajax({url:t.attr("action"),type:t.attr("method"),data:t.serialize(),dataType:"json",success:function(e){if(n.removeClass("processing"),e.valid){t.trigger("close.modal_dialog");var a=s()(".tools .launch");a.length&&a.closest("form").submit(),s()("#add_shortcut_url").replaceWith('<a class="btn btn--red shortcut_url" href="'+e.url+'">'+e.url+"</a>")}else t.removeClass("submitting-non-ajax"),n.addClass("invalid"),n.find(".error_message").text(e.errors.slug[0])}})}),o.confirm_submit({title:E.default.t("onloads.views.curated_pages.show.Delete_your_Curated_Page"),copy:E.default.t("onloads.views.curated_pages.show.Are_you_sure_you_want_to_delete_your_current_Curated_Page"),yes_copy:E.default.t("onloads.views.curated_pages.show.Yes_delete"),no_copy:E.default.t("onloads.views.curated_pages.show.Nevermind")})}(),s()(".js-add_project").on("click",function(e){var t=s()(".new");console.assert(t.length),t.is(":visible")?t.hide():t.show().find(".add_project").click(),e.preventDefault()}))}),Object(j.a)("body.discover",function(e){var t;Object(L.b)([".js-track-project-card"]),window.onscroll=u.a.debounce(L.c,150);var n=s()(".mobius",e);n.length&&((t=s()("#sidebar",e)).sticky_bar({parent:t.closest("#content")}),s()("div.load_more",e).show(),s()("div.pagination",e).hide(),n.persistent_paging())});n("3thc"),n("Ylt3");var M=n("q1tI"),U=n.n(M),B=n("KAy6"),q=n.n(B),$=n("/IHD"),H=n("PnFg");Object(j.a)("#NS_discover__landing",function(e){const t=e.data("category"),n=e.find(".js-load-more");n.loadMore({default_page:0,perPage:12,responseToHTML:function(e){const t=document.createDocumentFragment(),n=document.createElement("div");return n.className="grid-row flex flex-wrap",e.projects.map(t=>((e,t)=>{const n=document.createElement("div");return n.setAttribute("data-project",JSON.stringify(e)),n.setAttribute("data-ref",JSON.stringify(t)),n.className="js-react-async-proj-card grid-col-12 grid-col-6-sm grid-col-4-lg",n.id="".concat(e.slug,"-").concat(Object($.c)()),n.innerHTML=q.a.renderToStaticMarkup(U.a.createElement(H.a,{state:{}})),n})(t,e.ref_tag)).forEach(e=>t.appendChild(e)),n.appendChild(t),n}}),n.on("mobius:loading_page",function(){Object(c.d)("Discover Category See More Clicked",u.a.extend(Object(c.c)("discover_category",t),{discover_module_type:n.data("type")}))})});n("dSmG"),n("U6FK"),n("Oj9A"),n("JaLi");Object(j.a)("body.email_previews",function(e){e.find("#index").on("change",function(){this.submit()}),e.find("#show").on("submit",function(t){t.preventDefault(),e.find("#email_preview").attr("src",s()(t.target).attr("action")+"?"+s()(t.target).serialize())})});var V=n("SKdt");n("MLrq");Object(j.a)("#faqs_show",function(e){var t=e.find(".sidebar"),n=Object(a.a)(".subcat").find("a"),i=e.find("a.anchor.current").siblings(".subcat-list"),r=e.find(".js-category"),o=!1;function s(e){n.removeClass("current"),i.find('a[data-name-short="'+e+'"]').addClass("current")}t.sticky_bar({parent:t.closest(".main")}),n.on("click",function(){var e=Object(a.a)(this).data("name-short");o=!0,s(e),a.a.scrollTo("#"+e,800,{onAfter:function(){o=!1}})}),r.add(n).on("click",function(){var e=Object(a.a)(this).data("name-full");Object(c.d)("Viewed "+e)}),t.find("a.anchor.current").siblings(".subcat-list").find("li:first-child a").addClass("current");const l=document.querySelectorAll(".list-faqs > li"),d=new IntersectionObserver(e=>{e.forEach(e=>{!o&&e.isIntersecting&&s(e.target.id)})});l.forEach(function(e){d.observe(e)}),V.a["not-touchable"]&&skrollr.init({forceHeight:!1})});n("xj30"),n("O1L0"),n("POwR");Object(j.a)(".NS-social--follow-friends",function(e){s.a.pollster(window.location.href,function(t){return 200===t.status&&(e.html(t.html),!0)},{delay:1e3})}),Object(j.a)(".NS-friends",function(e){var t=e.data("follows_count"),n=e.data("follows_backings_count"),a=e.find(".js-friend-count"),i=e.find(".js-backed-projects-count");e.on("ksr:follow_user",function(e){t+=1,n+=s()(e.target).closest(".js-backer-count").data("backed_projects"),a.text(y.a.format_number(t,{precision:0})),i.text(y.a.format_number(n,{precision:0})),t>0&&s()(".js-friends-tout").removeClass("friends-tout--no-friends")}),e.on("ksr:unfollow_user ksr:block_user",function(e){t-=1,n-=s()(e.target).closest(".js-backer-count").data("backed_projects"),a.text(y.a.format_number(t,{precision:0})),i.text(y.a.format_number(n,{precision:0})),t<=0&&s()(".js-friends-tout").addClass("friends-tout--no-friends")}),e.on("ksr:follow_all",function(e,r,o){t+=parseInt(r,10),n+=parseInt(o,10),a.text(y.a.format_number(t,{precision:0})),i.text(y.a.format_number(n,{precision:0}))}),s()(document).on("mobius:loaded_page",function(){s()(document).trigger("shifted")}),V.a["not-touchable"]&&skrollr.init({forceHeight:!1})}),Object(j.a)("#happening_layouts_show",function(e){var t=e.find(".js-load-more");t.loadMore(),t.on("mobius:loading_page",function(){Object(c.d)("Happening See More Click")}),V.a["not-touchable"]&&skrollr.init({forceHeight:!1})});var z,W;n("cgaT");z=s()("body.faqs").find(window.location.hash),W=s()("#term.help"),z.length&&!z.find(".subcat").length&&z.animate({backgroundColor:"#ffffc9"},{duration:2e3,complete:function(){s()(this).animate({backgroundColor:"#ffffff"},{duration:2500})}}),s()(".NS_help__search_box").livequery(function(){s()(this).livesearch_pretty_input_dropdown({input_can_submit_on_enter:!0,file_extension:"json",ignore_history:!1})}),s()(document).on("livesearch:selected","#js-search .results li",function(e,t){t&&t[1]&&(window.location.href=t[1])}),s()(document).on("click","body.help form.search .submit",function(){s()(this).closest("form").submit()}),s()(document).on("livesearch:revealed_results","#term.help",function(){s()(this).addClass("expanded"),s()(this).parents("#js-search").children(".submit").addClass("expanded")}),s()(document).on("livesearch:close_results","#term.help",function(){s()(this).removeClass("expanded"),s()(this).parents("#js-search").children(".submit").removeClass("expanded")}),s()("body.help").click(function(e){var t=s()(e.target);t.is("#term")||t.closest("#js-search").length||W.trigger("livesearch:close_results")}),W.on("focus",function(){var e=W.data("livesearch");e&&e.search_xhr&&4===e.search_xhr.readyState&&W.trigger("livesearch:reveal_results")});n("JqeJ"),n("ubxe");Object(j.a)("body#help_images",function(){V.a["not-touchable"]&&skrollr.init({forceHeight:!1})}),Object(j.a)("#help_stats",function(){var e=s()(".bubble");function t(e){e.find(".category_row").slideToggle("fast"),e.find(".default_sort").toggleClass("tablesorter-headerDesc"),e.closest("table").toggleClass("collapsed"),e.find(".arrow").toggleClass("flipped"),e.hasClass("collapsed")?(e.find(".details").text(E.default.t("onloads.views.help.stats.See_Categories")),ga("send","event","Help Stats","Collapsed",e.attr("name"))):(e.find(".details").text(E.default.t("onloads.views.help.stats.Hide_Categories")),ga("send","event","Help Stats","Expanded",e.attr("name")))}function n(){e.fadeOut("fast")}function a(t,a,i){var r,o,c,l,d,u;void 0!==i?(e.find(".content").html('<span class="num date">'+a+"</span>"+i),r=s()(t),o=r.offset(),c=r.closest("table, .explanation").offset(),l=e.width(),d=e.height(),u=parseInt(e.css("padding-right").replace("px",""),10),r.closest(".explanation").length&&(o.left=o.left-50),e.css({position:"absolute",left:o.left-l-(u-1)+90,top:c.top-d-20}),e.find(".nipple").css({left:l+5,top:d+12,position:"absolute"}),e.fadeIn("fast")):n()}s()(".toggle_details").click(function(){t(s()(this).closest("table"))}),s()("th").click(function(){var e=s()(this).closest("table");e.hasClass("collapsed")&&t(e)}),s()("td, th").hover(function(){var e=s()(this).closest("table").find("th").eq(s()(this).index()),t=e.data("header-explanation");a(this,e.html().replace("<br>"," "),t)}),s()(".explanation").hover(function(){var e=s()(this),t=e.find("[data-header-explanation]"),n=t.data("header-explanation");a(t,e.find("p").text(),n)}),s()("table, .explanation").mouseleave(function(){n()})});n("JmIM"),n("MRng");var K=n("o3IG");Object(j.a)(".js-language-banner",function(e){var t=void 0!==E.default.locale?E.default.locale:void 0;e.find(".js-yes").on("click",function(){Object(K.c)("dismiss_language_banner","1"),Object(c.d)("Language Banner Yes",{lang:t})}),e.find(".js-no").on("click",function(n){n.preventDefault();var a=s()(n.currentTarget).closest("form");s.a.ajax({method:a.attr("method"),url:a.attr("action"),data:a.serialize()}),e.addClass("is-hidden"),Object(K.c)("dismiss_language_banner","1"),Object(c.d)("Language Banner No",{lang:t})}),e.removeClass("is-hidden"),Object(c.d)("Language Banner View",{lang:t})});n("rV3q"),n("WJbx"),n("9GY1"),n("p0+n");s()(function(){var e=".ksr_toggle";s()(e).length&&(s()(e+" a").on("click",function(t){var n=s()(this);n.closest(e).find("a").removeClass("selected"),n.addClass("selected"),n.closest(e).find(".bg").css({left:n.position().left}),t.preventDefault()}),s()(e+" a.selected").click(),s()(e+" .bg").addClass("show"))}),Object(j.a)("body.profile",function(){function e(e){(e=e||s()(".mobius")).each(function(){var e=s()(this).data("mobius");if(e)for(var n in e.clear_extra_params(),t)t.hasOwnProperty(n)&&e.add_param(n,t[n])})}s()("body#users_show").length&&void 0!==history.pushState&&(Object(c.d)("Visited User Profile"),history.pushState(null,null,window.location.pathname));var t=g()().query(!0);e(),s()(".mobius").livequery(function(){e(s()(this))})});var Y;n("u5Zg"),n("1I1t");(Y=s.a)(document).on("click",".message .report-spam a",function(e){e.preventDefault();var t=Y(this),n=this,a=t.closest(".message"),i=a.clone(),o=Y('<p class="flagged_message"><em class="spam_reported"></em></p>');i.find("span.report-spam").remove(),Y.modal_confirm(function(){return a.find(".body").before(o),r.a.get(t.data("url"),"post",o.find("em"),n)},{message:i.html(),confirm_text:"Report message as spam",title:"Report this message to Kickstarter"})}),Y(document).on("ksr_json:complete",".message .spam_reported",function(e,t){var n=Y(this).closest(".message"),a=n.find(".report-spam");t.modal||(a.hide(),200!==t.status||a.is(".admin")||n.find(".body").hide())}),Object(j.a)(".NS_mobile__universal_app_hero",function(e){var t,n=s()(".js-ipad-frame"),a=1,i=1,r=s()(".js-form-message",e),o=!1;function l(){var e=s()(".js-ipad-inner"),t=.81836*n.outerWidth(),a=.86634*n.outerHeight(),i=s()(".js-ipad-inner-content"),r=s()(".js-ipad-inner-content > div");e.css({width:t,height:a,left:(n.outerWidth()-t)/2,top:(n.outerHeight()-a)/2}),i.css({width:t*r.length}),r.css({width:t,height:a}),function(){var e=s()(".js-iphone-container"),t=s()(".js-iphone-frame"),a=s()(".js-iphone-inner"),i=s()(".js-iphone-inner-content"),r=s()(".js-iphone-inner-content > div");s()(window).width()<s()(".js-device-container").width()+.35*t.outerWidth()?e.css({right:0}):e.css({right:-.35*t.outerWidth()});t.css({height:.8141*n.outerHeight(),right:-.35*t.outerWidth()});var o=.86585*t.outerWidth(),c=.7537*t.outerHeight();a.css({width:o,height:c,left:(t.outerWidth()-o)/2,top:(t.outerHeight()-c)/2}),i.css({width:o*r.length}),r.css({width:o,height:c}),s()(".js-iphone-video").css({width:o,height:c})}()}s()(document).on("submit","#send_mobile_link_form",function(e){e.preventDefault();var t=s()(this);o||(o=!0,s.a.ajax({type:"post",url:"/mobile/send_link",dataType:"json",data:{email_or_phone:t.find("#email_or_phone").val()},success:function(e){e.success?(r.show().removeClass("error").html(e.success),t.remove()):e.error&&r.show().addClass("error").html(e.error)},complete:function(){o=!1}}))}),s()(document).on("closed.modal_dialog","#send_mobile_link_dialog",function(t){t.preventDefault(),s()("#send_mobile_link_form",e).length||r.html(E.default.t("onloads.views.mobile.universal_app_hero.You_should_already_have_a_link_from_us"))}),V.a["not-ios"]&&s()(".js-get-the-app-button").on("click",function(e){Object(c.d)("Mobile Promo Reveal Form"),s()(".js-get-the-app-button-container").css({marginTop:-s()(this).outerHeight()}),setTimeout(function(){s()(".js-get-the-app-form-container").find("input[type=text]").focus()},600),e.preventDefault()}),s()(document).resize(function(){l()}),setTimeout(function(){l(),e.removeClass("loading")},500),clearInterval(t),t=setInterval(function(){s()(".js-ipad-inner-content").css({marginLeft:-100*a+"%"}),(a+=1)>=s()(".js-ipad-inner-content > div").length&&(a=0),s()(".js-iphone-inner-content").css({marginLeft:-100*i+"%"}),(i+=1)>=s()(".js-iphone-inner-content > div").length&&(i=0)},5e3)}),Object(j.a)("body#mobile_index",function(){var e,t=s()(".js-device-container"),n=1,a=1,i=!1;function r(){var e,t,n,a=s()(".js-tablet"),i=s()(".js-tablet-item"),r=s()(".js-tablet-screenshots"),o=.875*s()(".js-device-container").outerWidth();.75*s()(window).width()<=640?s()(".js-device-container").css({width:"100%",height:Math.round(.65625*s()(".js-device-container").width())}):s()(".js-device-container").css({width:640,height:Math.round(420)}),a.css({width:o}),r.css({width:"100"*i.length+"%"}),i.css({width:100/i.length+"%"}),e=s()(".js-phone"),t=s()(".js-phone-item"),n=s()(".js-phone-screenshots"),e.css({height:.78*s()(".js-tablet").outerHeight(),width:Math.round(.78*s()(".js-tablet").outerHeight()*.5625)}),n.css({width:"100"*t.length+"%"}),t.css({width:100/t.length+"%"})}s()(document).on("submit",".js-send-mobile-link-form",function(e){e.preventDefault();var t=s()(this);""===t.find(".js-email-or-phone").val()?Object(m.a)({error:E.default.t("onloads.views.mobile.index.phone_cant_be_blank")}):i||(i=!0,s.a.ajax({type:"post",url:"/mobile/send_link",dataType:"json",data:{email_or_phone:t.find(".js-email-or-phone").val(),platform:t.find(".js-platform").val()},success:function(e){e.success?(t.closest(".js-get-the-app-form-container").find(".js-form-message").show().removeClass("error"),t.closest(".js-get-the-app-form-container").find(".js-form-text").html(e.success),t.closest(".js-get-the-app-form-container").find(".js-form-retry").hide(),t.hide()):e.error&&(t.closest(".js-get-the-app-form-container").find(".js-form-message").show().addClass("error"),t.closest(".js-get-the-app-form-container").find(".js-form-text").html(e.error))},complete:function(){i=!1}}))}),V.a["not-ios"]&&(s()(".js-get-the-app-button").on("click",function(e){var t=s()(this).closest(".js-get-the-app-container");Object(c.d)("Mobile Promo Reveal Form"),t.find(".js-get-the-app-button-container").css({marginTop:-s()(this).outerHeight()}),t.addClass("is-open"),setTimeout(function(){t.find(".js-get-the-app-form-container").find("input[type=text]").focus()},600),e.preventDefault()}),s()(".js-email-or-phone").on("focusout",function(){var e=s()(this).closest(".js-get-the-app-container");""===s()(this).val()&&e.is(".is-open")&&(e.find(".js-get-the-app-button-container").css({marginTop:0}),e.removeClass("is-open"),Object(c.d)("Mobile Promo Close Form"))}),s()(".js-form-retry").on("click",function(e){var t=s()(this).closest(".js-get-the-app-container");t.find(".js-get-the-app-button-container").css({marginTop:-s()(".js-get-the-app-button").outerHeight()}),t.removeClass("is-open"),t.find(".js-form-text").html(""),t.find(".js-form-message").hide(),Object(c.d)("Mobile Promo Form Retry"),e.preventDefault()})),s()(document).resize(function(){r()}),setTimeout(function(){r(),t.removeClass("is-loading")},1400),clearInterval(e),e=setInterval(function(){s()(".js-tablet-screenshots").css({marginLeft:-100*n+"%"}),(n+=1)>=s()(".js-tablet-item").length&&(n=0),s()(".js-phone-screenshots").css({marginLeft:-100*a+"%"}),(a+=1)>=s()(".js-phone-item").length&&(a=0)},5e3)}),s()(function(){s()(document).on("submit","ol.admin-notes form",function(){var e,t=s()("#admin-menu .note_count"),n=t.text().match(/^(\d+)/);n&&(e=parseInt(n[1],10),t.text(e+1+" notes"))})}),s()(function(){var e=".NS-phone_numbers__edit";function t(){s()(e+" .verification_error").html("").addClass("hide"),s()(".field_with_errors").children().unwrap()}function n(){var t=s()(".js-country");t.closest(e).find("#phone_number").attr("placeholder",function(){var e=E.default.countries[t.val().toLowerCase()];return e&&e.phone_example?"Ex: "+e.phone_example:""})}function a(n){var a=s()(n.target).closest(e),i=a.find("#phone_number"),r=a.find("input.radio[name=verify]:checked").val(),o=a.find(".js-country").val();if("sms"!==r&&"call"!==r)return!1;s.a.ajax({type:"put",url:"/profile/phone_number/send_verification",dataType:"json",data:{method:r,number:i.val(),country:o},success:function(e){t(),u.a.isUndefined(e.error)?(a.find(".token").val(""),a.find(".highlight strong").html(e.number+".").end().find(".phone_section, .options_section").addClass("hide").end().find(".code_section").removeClass("hide").trigger("shifted").find(".js-sms_show, .js-call_show").addClass("hide").filter(".js-"+r+"_show").removeClass("hide").end().end().end()):(i.wrap('<div class="field_with_errors" />').focus(),a.find(".phone_section .verification_error").html(e.error).removeClass("hide").trigger("shifted"))},beforeSend:function(){a.addClass("loading").trigger("shifted")},complete:function(){a.removeClass("loading").trigger("shifted")}}),n.preventDefault()}function i(n){if("keypress"!==n.type||n.which===w.c){var a=s()(this).closest(e),i=a.find("#token"),r=a.find(".js-country").val();s.a.ajax({type:"post",url:"/profile/phone_number/verify",dataType:"json",data:{token:i.val(),country:r},success:function(e){if(t(),u.a.isUndefined(e.error)){if(!u.a.isUndefined(e.html)){var n=s()(e.html),r=a.closest(".NS-phone_numbers__verify"),o=a.closest(".NS-two_factor_authentication_show").find(".js-change_number");r.length?(r.replaceWith(n),n.trigger("phone_number:added")):o.length?(window.location.reload(!0),Object(m.a)({success:"Your two factor authentication phone fallback number has changed"})):a.trigger("phone_number:added")}}else i.wrap('<div class="field_with_errors" />').focus(),a.find(".code_section .verification_error").html(e.error).removeClass("hide").trigger("shifted")},beforeSend:function(){a.addClass("loading")},complete:function(){a.removeClass("loading")}}),n.preventDefault()}}s()(document).on("click",e+" #resend_token",function(){s()(this).closest(e).find(".code_section").addClass("hide").end().find(".phone_section, .options_section").removeClass("hide").trigger("shifted")}),s()(document).on("change",e+" .js-country",n),s()(e).livequery(n),s()(document).on("click","#send_verification",a),s()(document).on("keypress",e+" #phone_number",function(e){e.which===w.c&&a(e)}),s()(document).on("click",e+" #verify_code",i),s()(document).on("keypress",e+" #token",i),s()(document).on("click",e+" #change_number",function(t){var n=s()(this);s.a.ajax({type:"get",url:"/profile/phone_number/edit",dataType:"json",success:function(t){u.a.isUndefined(t.html)||n.closest(e).replaceWith(t.html)}}),t.preventDefault()})}),Object(j.a)(".pledges__checkout_faqs",function(e){e.on("click",".faq-question a",function(e){var t=s()(this).closest(".faq");t.toggleClass("expanded"),Object(c.d)("Toggled Pledge Checkout FAQ",{pledge_faq_question:t.find(".question").text()}),e.preventDefault()}),s()("body#pledges_edit").length&&setTimeout(function(){s()(".faqs li#change_my_pledge_amount").addClass("expanded"),s()(".faqs li#change_my_reward_selection").addClass("expanded"),s()(".faqs li#cancel_my_pledge").length&&s()(".faqs li#cancel_my_pledge").addClass("expanded")},800)});n("GjXr");var G=n("S1QU"),J=n("v3o6"),Q=n("HZYo"),X=n("DpK8");Object(j.a)(".pledges__checkout_rewards",function(e){var t=e.find(".js-reward-available"),n=t.length,a=0,r=!1,o=!V.a["not-mobile"],c=o?20:100,l=new Array(n);function d(e){if(a=0,!e.state.is_selected){r&&f(!1);var t=m(),n=0;t.length>0&&t[0].index<e.index&&(n=t[0].el.$rw.height()-t[0].closed_height);var i=e.el.$rw.offset().top-n-c;s()(document).scrollTo(i,100),h(),e.toggle_pledge_form(),e.state.is_truncate_worthy&&(e.toggle_description_truncation(),e.el.$truncate_link.removeClass("hide")),function(e){var t=e.get_shipping_rule(G.a.get("location_id"));t=t.length?t[0]:null,G.a.set({reward:e.reward_data,shipping_rule:t})}(e)}}function m(){return u.a.filter(l,function(e){return!0===e.state.is_selected})}function p(){s()(".submitting-non-ajax").removeClass("submitting-non-ajax"),s()(".js-desc-toggle").addClass("hide")}function h(){var e=m();if(e.length){var t=e[0];t.toggle_pledge_form(),t.reset_pledge_form(),t.state.is_truncated&&t.toggle_description_truncation(),t.hide_truncation_link()}}function f(e){s()(l).each(function(t,n){if(n.el.$radio.prop("checked"))return n.el.$rw.click(),p(),e&&G.a.set({reward:this.reward_data}),void(r=!1)})}l=t.map(function(e,t){var n=s()(t),a=n.data("reward")||F.a.get("rewards")[0],i=a.id===G.a.get("reward").id,r=i?G.a.get("net_amount"):null;a.closed_height=n.height(),a.index=n.index();var o=new window.RewardController(n,a);return(o.shipping_enabled||i)&&o.update_pledge_total({amount:r}),o}).get(),t.on("change","radio",function(){s()(this).click()}),t.on("keydown",function(e){if(e.keyCode===w.d){var t=s()(e.delegateTarget);t.data("reward").state.is_selected&&(h(),t.find('input[type="radio"]').focus())}}),t.on("keydown",'input[type="radio"]',function(e){e.keyCode===w.c&&(e.preventDefault(),s()(this).click())}),t.on("click",function(e){d(s()(e.currentTarget).data("reward"))}),t.on("keyup",'input[name="backing[amount]"]',function(){!function(e){G.a.set({amount:e})}(Object(i.a)(s()(this).val()))}),t.on("click",".js-desc-toggle",function(e){e.preventDefault(),s()(e.delegateTarget).data("reward").toggle_description_truncation()}),t.on("submit","form",function(e){var t=s()(e.delegateTarget).data("reward"),n=t.validate();if(t.state.submit_halted=!n,t.state.submit_halted&&p(),n){var i=t.get_current_pledge_amount();G.a.set("amount",i),r=!0,a=0;const e=Object(J.a)(t);Object(Q.b)(Q.a.REWARD_CONTINUE_BUTTON_CLICKED,{context_page:X.a.REWARDS},e)}return n}),t.on("blur input",'input[name="backing[amount]"]',function(e){var t=s()(e.delegateTarget).data("reward"),n=t.get_current_pledge_amount();t.validate(),G.a.set("amount",n)}),t.on("change blur",'select[name="backing[location_id]"]',function(e){var t=s()(this),n=s()(e.delegateTarget).data("reward"),a=parseInt(t.val(),10),i=n.get_shipping_rule(a);isNaN(a)||G.a.set("location_id",a),G.a.set("shipping_rule",i[0]),n.shipping_enabled&&n.update_pledge_total(),n.validate()}),s()(document).on("click",function(){3===(a+=1)&&(h(),a=0)}),s()("#confirm-adjust-pledge").on("click",function(){a=0}),void 0!==G.a&&G.a.on_change("shipping_rule",function(){var e=G.a.get("shipping_rule"),t=e?parseFloat(e.cost):0;G.a.set("shipping_amount",t)}),f(!0),s()(window).on("pageshow",function(e){o&&e.originalEvent.persisted&&p()})}),s()(function(){s()(".NS_pledges__no_ship").livequery(function(){var e=s()(this),t=s()("form.NS_pledges__form, form.manage_pledge"),n=t.find(".fields_and_submit"),a=t.closest(".modal_dialog"),i=a.data("modal_dialog");e.find("a.override").click(function(e){e.preventDefault(),s()(this).trigger("close"),t.data("override",!0),t.removeClass("submitting-non-ajax"),t.find("#backing_location_id").val(null),t.submit()}),e.find("a.btn--green").click(function(t){t.preventDefault(),s()(this).trigger("close"),i&&(e.hide(),n.show(),a.find("h1").show())})})});n("UsaK");var Z=n("WjF9"),ee=n("MgNI"),te=n("JC/v");Object(j.a)("body#pledges_edit",function(e){var t,n=e.find("#confirm-adjust-pledge"),a=e.selector+" form.manage_pledge";if(!s()(a).length)return;var r="",o=["net_amount","shipping_amount","amount"],l=function(){return E.default.t("onloads.views.pledges.edit.No_change")},d=function(){return E.default.t("onloads.views.pledges.edit.No_thanks_I_just_want_to_help_the_project")},m={type:"truncate_zeros",currency:F.a.get("currency")},p={type:"truncate_zeros",currency:window.current_currency},h=u.a.clone(G.a.get()),f={reward:{$display_title:n.find("#js-pledge__reward-title"),$description:n.find("#js-pledge__reward-description"),$truncate_link:n.find("#js-modal-desc-toggle span"),changed:!1},net_amount:{$old:n.find("#js-confirm-adjust-pledge-amount__old"),$new:n.find("#js-confirm-adjust-pledge-amount__new"),$icon:n.find("#js-pledge__detail-comparison__icon"),$label:n.find("#js-pledge__detail-label__pledge"),labelText:E.default.t("onloads.views.pledges.edit.Pledge_amount"),changed:!1},shipping_amount:{$old:n.find("#js-confirm-adjust-shipping-amount__old"),$new:n.find("#js-confirm-adjust-shipping-amount__new"),$icon:n.find("#js-shipping__detail-comparison__icon"),$label:n.find("#js-pledge__detail-label__shipping"),labelText:E.default.t("onloads.views.pledges.edit.Shipping"),changed:!1},amount:{$old:n.find("#js-confirm-adjust-total-amount__old"),$new:n.find("#js-confirm-adjust-total-amount__new"),$icon:n.find("#js-total__detail-comparison__icon"),$label:n.find("#js-pledge__detail-label__total"),labelText:E.default.t("onloads.views.pledges.edit.Total"),changed:!1},converted_amount:{$container:n.find("#js-confirm-adjust-total-converted-amount"),$new:n.find("#js-confirm-adjust-total-converted-amount__new"),changed:!1}};const g=e.hasClass("convert-currency"),b=ee.maybe.fromNullable(Z.a).chain(e=>ee.maybe.fromNullable(e.get("location"))).chain(Object(te.a)("country")).getOrElse(null),_=F.a.get("country")!==b,v=F.a.get("currency_symbol")===E.default.t("number.currency.format.unit"),k=_&&v,j=E.default.t("onloads.views.pledges.edit.in_currency",{currency:F.a.get("currency")});function w(e){var t=f[e],n=t.labelText;if(t.changed){var a=y.a.money(G.a.get(e),m),i=y.a.money(h[e],m);t.$new.html(a),t.$old.html(i),n+=" "+j,function(e){f[e].$new.removeClass("hide"),r=f[e].$icon.attr("class").replace(/hide/g,""),f[e].$icon.attr("class",r)}(e)}else t.$old.html(l()),function(e){f[e].$new.addClass("hide"),r=f[e].$icon.attr("class")+" hide",f[e].$icon.attr("class",r)}(e);k&&t.$label.html(n)}function S(){var e,t=f.reward;t.changed?(e=G.a.get("reward").id?y.a.paragraphize(G.a.get("reward").description):d(),t.$description.html(e),t.$display_title.html(G.a.get("reward").title_for_backing_tier),f.reward.$description.parent().removeClass("pledge__detail-comparison__old").addClass("pledge__reward-description-wrap")):(t.$description.html(l()),f.reward.$description.parent().addClass("pledge__detail-comparison__old").removeClass("pledge__reward-description-wrap"))}function O(){f.reward.$description.addClass("pledge__reward-description--truncated").removeClass("pledge__reward-description--expanded"),f.reward.$truncate_link.text("More"),f.reward.$truncate_link.parent().addClass("more")}void 0!==G.a&&(G.a.on_change("reward",function(e){f.reward.changed=e.reward.id!==h.reward.id}),G.a.on_change("shipping_amount",function(e){f.shipping_amount.changed=e.shipping_amount!==h.shipping_amount}),G.a.on_change("amount",function(e){f.net_amount.changed=G.a.get("net_amount")!==h.net_amount,f.amount.changed=e.amount!==h.amount})),s()(document).on("submit",a,function(e){e.preventDefault(),t=s()(e.target),S(),s.a.each(o,function(e,t){w(t)}),g&&function(){var e=f.converted_amount;if(f.amount.changed){var t=G.a.get("amount")*F.a.get("fx_rate"),n=y.a.money(t,p);e.$new.html(n),e.$container.removeClass("hide")}else e.$container.addClass("hide")}(),n.modal_dialog().find(".js-confirm-yes").focus(),f.reward.$description.prop("scrollHeight")<80?f.reward.$truncate_link.parent().addClass("hide"):f.reward.$truncate_link.parent().removeClass("hide")}),s()(".flash-error").livequery(function(){var e,t=Object(i.a)(s()(".text#backing_amount").attr("value"));e=void 0!==s()(".radio:checked").attr("alt")?Object(i.a)(s()(".radio:checked").attr("alt")):null,Object(c.d)("Errored Pledge Selection",{pledge_tier_amount:parseInt(e,10),pledge_error_text:s()(this).text(),pledge_input_amount:parseInt(t,10)})}),s()(document).on("click","body#pledges_edit #js-modal-desc-toggle",function(e){e.preventDefault(),s()(e.currentTarget).hasClass("more")?(f.reward.$description.removeClass("pledge__reward-description--truncated").addClass("pledge__reward-description--expanded"),f.reward.$truncate_link.text("Less"),f.reward.$truncate_link.parent().removeClass("more")):O()}),s()(document).on("click","body#pledges_edit .js-confirm-yes",function(e){e.preventDefault(),t.removeClass("submitting-non-ajax"),s()(document).off("submit",a),t.submit()}),s()(document).on("before_close.modal_dialog",function(){t.removeClass("submitting-non-ajax"),O()})}),Object(j.a)("body#pledges_new",function(){Object(c.d)("Viewed Pledge Checkout Page"),s()("a.show_all_rewards").click(function(e){s()(this).parents(".checkout_rewards").find("li:hidden").show(),s()(this).parents(".checkout_rewards").removeClass("clicked_reward"),s()(this).parents(".show_all").hide(),e.preventDefault(),s()(document).trigger("shifted"),Object(c.d)("Expanded Rewards")}),s()(".flash-error").livequery(function(){var e,t=parseInt(s()(".text#backing_amount").attr("value").replace(/[^0-9\.]/,""),10);e=void 0!==s()(".radio:checked").attr("alt")?parseInt(s()(".radio:checked").attr("alt").replace(/[^0-9\.]/,""),10):null,Object(c.d)("Errored Pledge Selection",{pledge_tier_amount:parseInt(e,10),pledge_error_text:s()(this).text(),pledge_input_amount:parseInt(t,10)})}),-1!==location.search.indexOf("edit_from_interstitial=shipping")?Object(c.d)("Clicked Edit Shipping",{shipping_enabled:s()(".radio:checked").parent().data("shipping_enabled"),project_country:F.a.get("country")}):-1!==location.search.indexOf("edit_from_interstitial=amount")&&Object(c.d)("Clicked Edit Amount",{shipping_enabled:s()(".radio:checked").parent().data("shipping_enabled"),project_country:F.a.get("country")})});n("EGW+"),n("xdbW");Object(j.a)("body#posts_edit",function(e){var t;s()(document).on("click",".wym_tools li a",function(){Object(c.d)("Editor Tool Click",{tool_clicked:s()(this).attr("title"),context:"post_edit_body"})}),e.find(".notification_toggle a").on("click",function(){e.find(".radio_message").removeClass("visible"),e.find("."+s()(this).attr("data-backers")+"_message").addClass("visible")}),e.find(".ksr_toggle a.all_backers").on("click",function(){(t=e.find(".select_backers_message input:checkbox:not(:checked)")).prop("checked",!0),Object(c.d)("Update Notifications Toggle",{toggled_to:"all_backers"})}),e.find(".ksr_toggle a.select_backers").on("click",function(){t&&t.prop("checked",!1),Object(c.d)("Update Notifications Toggle",{toggled_to:"select_tiers"})}),e.find(".ksr_toggle a.public").on("click",function(){e.find("#post_public").val("1"),Object(c.d)("Update Visibility Toggle",{toggled_to:"anyone"})}),e.find(".ksr_toggle a.private").on("click",function(){e.find("#post_public").val("0"),Object(c.d)("Update Visibility Toggle",{toggled_to:"backers_only"})}),e.find(".email_notifications input.checkbox").on("change",function(){Object(c.d)("Update Tier Notification Change",{toggled_to:s()(this).is(":checked")?"checked":"unchecked",selected_reward_id:s()(this).data("reward-id"),selected_reward_minimum:s()(this).data("reward-minimum")})})}),Object(j.a)(".NS-project_faqs__edit",function(e){var t=s()("#faq-template").children().clone(),n=e.find("ul.faqs");function a(){n.find("li.js-faq:not(.deleted) input.position").each(function(e,t){s()(t).val(e+1)})}e.on("click","form .js-link-to-new-question",function(){var e=t.clone_form_template();return e.find(".js-delete").val(0),e.removeClass("hidden").appendTo(n),a(),!1}),e.on("click",".js-delete",function(){var e=s()(this).closest("li.js-faq").find("input.js-delete").attr("id");s()(".js-faq-delete-modal").find(".js-mark-to-delete").data("delete-input",e)}),s()(".js-faq-delete-modal").on("click",".js-mark-to-delete",function(e){e.preventDefault();var t=s()(this).closest(".js-faq-delete-modal"),n=s()(this).data("delete-input"),a=s()("#"+n),i=a.closest("li.js-faq");return a.val(1),i.addClass("deleted").fadeOut("slow"),t.trigger("close"),!1}),n.sortable({containment:".NS-project_faqs__edit",placeholder:"project-faq-placeholder",handle:".js-move",axis:"y",tolerance:"pointer",items:"li.js-faq",start:function(e,t){s()(".project-faq-placeholder").css("height",t.item.height()+"px"),t.item.addClass("reordering")},stop:function(e,t){t.item.removeClass("reordering")},update:a})}),Object(j.a)(".NS_project_profiles__project_link",e=>{e.find(".js-profile-link").on("click",function(){Object(c.d)("Spotlight Hero Link Click")})}),Object(j.a)(".js-project-description-content, #description",function(){var e=5,t=s()(".js-open-supporting-material");function n(e){s()(".js-carousel-thumbnail").removeClass("cycle-slide-active"),s()(".js-carousel-thumbnail:eq("+e+")").addClass("cycle-slide-active")}function a(t,n){var a=Math.floor(n/e)*e;t.trigger("goto",a)}function i(){return s()(".cycle-slide-active .js-slide-media .video-player")}function r(){var e=i(),t=s()(".cycle-slide-active .js-slide-media");e.height(t.height()).width(t.width())}function o(e){var t=s()(".js-prototype-gallery-slide:eq("+e+")").data("slide-id");Object(c.d)("Viewed Prototype Gallery Slide",{slide_id:t})}t.click(function(){s()("html").css("overflow","hidden")}),-1!==window.location.hash.indexOf("prototype-slide-")&&t.click(),s()("#NS_project_supporting_material_showcase__show").livequery(function(){s()(document).trigger("ksr_video:pause_all_videos");var t=s()(this).closest(".modal_dialog");t.on("before_close.modal_dialog",function(){s()(".js-prototype-slideshow").cycle("destroy"),window.location.hash="",s()(window).off("resize.projectSupportingMaterials"),s()("html").css("overflow","visible")}),s()(window).on("hashchange",function(){""===window.location.hash&&t.trigger("close.modal_dialog")});var l=s()(".js-prototype-carousel");s()(".js-carousel-thumbnail").length>e?(l.serialScroll({items:".js-carousel-thumbnail",lock:!1,step:e,cycle:!1,duration:500}),s()(".prototype-carousel__next").click(function(){l.trigger("next")}),s()(".prototype-carousel__previous").click(function(){l.trigger("prev")})):s()(".js-prototype-carousel-pager").addClass("hide"),l.on("click",".js-carousel-thumbnail",function(){window.location.hash=s()(this).data("slide-hash"),Object(c.d)("Selected Prototype Gallery Thumbnail")}),s()(".js-prototype-gallery-pager").click(function(){Object(c.d)("Advanced Prototype Gallery Carousel")});var d=s()(".js-prototype-slideshow");d.on("cycle-before",function(){i().trigger("ksr_video:pause")}),d.on("cycle-after",function(e,t){n(t.nextSlide),a(l,t.nextSlide),o(t.nextSlide),r()}),d.on("cycle-post-initialize",function(e,t){n(t.currSlide),a(l,t.currSlide),o(t.currSlide),r(),s()(window).on("resize.projectSupportingMaterials",r)}),d.cycle()})});n("Eqb7"),n("JpGa"),n("ZJoU"),n("4+kS"),n("p7Bz");Object(j.a)(".js-project-faqs-content",function(e){e.on("click",".js-faq-question-toggle",function(e){e.preventDefault();var t=s()(this).closest(".js-faq"),n=t.find(".js-faq-answer"),a=s()(this).data("faq_id"),i=t.find(".js-arrow-icon");t.hasClass("js-expanded")?Object(c.d)("Clicked Project FAQ Question",{context:"collapsed",which:a}):Object(c.d)("Clicked Project FAQ Question",{context:"expanded",which:a}),t.toggleClass("js-expanded"),i.toggleClass("rotate-90"),n.toggleClass("hide")}),e.on("click",".js-ask-a-question",function(){Object(c.d)("Clicked Ask Question")}),s()("body").on("click",".js-submit-question",function(){Object(c.d)("Submitted Ask Question")}),e.on("click",".js-edit-faqs",function(){Object(c.d)("Edited FAQ Question")})});n("hOIC"),n("/A7b"),n("XUhl"),n("PDRc"),n("XB5d"),n("dRVe"),n("zeGE"),n("tstM"),n("DWdt");Object(j.a)("#projects_learn_refresh",function(){Object(a.a)(".js-category-link").on("click",function(e){Object(a.a)(".js-category-link").removeClass("selected"),Object(a.a)(".js-category-link").addClass("o60p"),Object(a.a)(this).addClass("selected"),Object(a.a)(this).removeClass("o60p"),Object(a.a)(".js-category-panel").addClass("hide"),Object(a.a)('.js-category-panel[data-name="'+Object(a.a)(this).data("name")+'"]').removeClass("hide"),Object(c.d)("Learn More Project Category Select",{category_name:Object(a.a)(this).text()}),e.preventDefault()}),Object(a.a)(".js-category-link").first().click()});n("5g6B"),n("AeVH");Object(j.a)(".refund_checkouts_form",function(e){e.on("change","select#refund_checkout_amount",function(){var e=s()(this),t=e.closest("li").find(".refund_amount_wrapper"),n=t.find("input#refund_checkout_amount"),a=!1;""===e.val()?(t.addClass("partial"),a=!0):t.removeClass("partial"),n.prop("disabled",!n.is(":visible")),a&&n.focus()}).trigger("change"),-1===s.a.inArray(s()("input#refund_checkout_amount").val(),[s()("select#refund_checkout_amount").val(),""])&&e.find("select#refund_checkout_amount").val("").trigger("change")}),Object(j.a)("#stored_card_form",function(e){var t=e.find(".selected input.card_toggle");t.length||(t=s()("input.card_toggle:first")),s()(document).on("change click","input.card_toggle",function(e){e.preventDefault();var t=s()(this);s()("input.card_toggle").not(t).closest(".payment_option").removeClass("selected"),t.closest(".payment_option").addClass("selected"),"click"===e.type&&setTimeout(function(){t.prop("checked",!0)},0)}),t.prop("checked",!0).trigger("change")}),s()(function(){var e=s()("#saving-layer");s()("body").append(e),s()(document).on("submit","body.refund_checkouts_new_card #credit_card_form form",function(){e.show(),setTimeout(function(){e.find(".modal_dialog_body").html(E.default.t("onloads.views.refund_checkouts.new_card.Well_this_is_embarrassing_Processing_your_pledge")),e.removeClass("spinning")},12e4)})}),Object(j.a)(".NS_site__about_subnav",function(){s()(".js-about-link").click(function(){Object(c.d)("About KSR Subnav About Click")}),s()(".js-charter-link").click(function(){Object(c.d)("About KSR Subnav Charter Click")}),s()(".js-press-link").click(function(){Object(c.d)("About KSR Subnav Press Click")}),s()(".js-jobs-link").click(function(){Object(c.d)("About KSR Subnav Jobs Click")}),s()(".js-stats-link").click(function(){Object(c.d)("About KSR Subnav Stats Click")}),s()(".js-happening-link").click(function(){Object(c.d)("About KSR Subnav Happening Click")})}),Object(j.a)(".NS_site__founding_story",function(e){var t=s()(".js-expand-inline__container"),n=s()(".js-expand-inline__button"),a=g()();function i(i,r){n.closest(t).toggleClass("expand-inline__container--show"),s()(".js-read-hide").toggle(),r||("the-full-story"===a.fragment()?(history.replaceState({},document.title,a.fragment("").toString()),s.a.scrollTo(e)):history.replaceState({},document.title,a.fragment("the-full-story").toString()))}n.click(i),"the-full-story"===a.fragment()&&(i(0,!0),s.a.scrollTo(e))});var ne=n("itcf");Object(j.a)(".js-project-cards-module",function(e){var t=e.data("url"),n=e.data("ref");t&&e.find(".js-slider").each(function(){var a=s()(this);a.show(),s.a.ajax({url:Object(ne.a)(t),type:"get",success:function(t){var i=a.find(".js-project-list");a.find(".js-slider").removeClass("loading"),t.projects.length?s.a.each(t.projects,function(){i.append(function(e){return n&&(e.ref=n,e.urls.web.project+="?ref="+n),e.baseball_card_size="tall-big",s()('<div class="project col col-4 mobile-scroll-row-item">'+Object(h.a)("projects/_baseball_card_tall",e,["projects/_baseball_card_tall_spotlight","projects/_baseball_card_tall_standard"])+"</div>")}(this))}):e.hide()},error:function(){e.hide()}})})}),Object(j.a)(".NS_site__social_tout",function(e){window.api_oauth_token&&s()(window).on("scroll",function t(){window.scrollY+1.5*s()(window).height()<=e.offset().top||(s()(window).unbind("scroll",t),s.a.ajax({url:Object(ne.a)(e.data("url")),type:"get",success:function(t){var n=t.remotely_followed_count,a=t.remotely_followed.users;n>0&&(e.find(".js-friend-count").html(E.default.t("onloads.views.site.social_tout.Count_of_your_friends_are_on_kickstarter",{count:n,formatted_count:y.a.format_number(n,{precision:0})})),e.find(".js-avatar-pile").html(Object(h.a)("activity/card/_backing_avatars",{backers:a})))}}))})}),Object(j.a)("body#site_about",function(){s()(".js-charter-link").click(function(){Object(c.e)("About KSR About Charter Click")}),s()(".js-stats-link").click(function(){Object(c.e)("About KSR About Stats Click")}),s()(".js-team-link").click(function(){Object(c.e)("About KSR About Team Click")}),s()(".js-jobs-link").click(function(){Object(c.e)("About KSR About Jobs Click")}),s()(".js-toggle-founding-story").click(function(){Object(c.e)("About KSR About Founding Story Toggle")}),s()(".js-press-link").click(function(){Object(c.e)("About KSR About Press Click")}),s()(".js-start-link").click(function(){Object(c.e)("Clicked Start Project",{context:"about"})})}),Object(j.a)("body#site_fulfillment_report",function(){s()(".js-fulfillment-report-expand").on("click",function(e){var t=s()(this).closest(".fulfillment-report-sidebar");t.is(".is-expanded")?(t.find(".js-fulfillment-report__expandable-content").hide(),t.removeClass("is-expanded")):(t.find(".js-fulfillment-report__expandable-content").fadeIn(),t.addClass("is-expanded")),e.preventDefault()}),s()(".js-facebook").on("click",function(e){e.preventDefault(),window.open(s()(this).attr("href"),"popupWindow","width=600,height=600,scrollbars=yes")})}),Object(j.a)("body#jobs_index",function(){s()(".js-current-openings").click(function(){s.a.scrollTo(s()(s()(this).attr("href")),{duration:3e3}),Object(c.d)("About KSR Jobs Current Openings Click")}),s()(".js-charter-link").click(function(){Object(c.d)("About KSR Jobs Charter Click")}),s()(".js-team-link").click(function(){Object(c.d)("About KSR Jobs Team Click")}),s()(".js-job-section a").click(function(){Object(c.d)("About KSR Jobs Posting Click")})}),Object(j.a)("body#site_press",function(){s()(".js-stats-button").click(function(){Object(c.d)("About KSR Press Stats Button Click")}),s()(".js-faq-list input").click(function(){Object(c.d)("About KSR Press FAQ Item Click")}),s()(".js-toggle-founding-story").click(function(){Object(c.d)("About KSR Press Founding Story Toggle")})});n("8q62");Object(j.a)("body#site_spotlight",function(){V.a["not-touchable"]&&window.setTimeout(function(){skrollr.init({forceHeight:!1})},1e3),s()(".js-explore-bar").on("click",function(e){s()("html, body").animate({scrollTop:s()("#js-spotlight-projects").offset().top},500,"easeOutExpo"),e.preventDefault()})});n("44bd");Object(j.a)(".NS_spotlight_projects__carousel",function(e){var t=e.find(".featured-projects-list"),n=e.find(".next"),a=e.find(".previous"),i=640;function r(){s()(window).width()<i?t.cycle("destroy"):t.cycle({autoHeight:0,timeout:0,slides:".project-group",speed:600,fx:"scrollHorz",pager:".dots",next:".next",prev:".previous",log:!1})}t.on("cycle-after cycle-before",function(e,t){1===t.slideNum?(n.addClass("visible"),a.removeClass("visible")):t.slideNum===t.slideCount?(a.addClass("visible"),n.removeClass("visible")):(a.addClass("visible"),n.addClass("visible")),"cycle-after"===e.type&&Object(c.d)("Watch Cycle Featured Projects")}),s()(document).resize(function(){r()}),r()}),Object(j.a)("body#spotlight_projects_index",function(e){var t,n;e.hasClass("spotlight_projects_watch")?(t="Watch",n="iTunes"):(t="Play",n="Steam"),s()(".share-link").on("click",function(e){var n=s()(window).height()/2-250,a=s()(window).width()/2-250;window.open(s()(this).attr("href"),"name","height=500, width=500, top="+n+", left="+a),Object(c.d)(t+" Page Share"),e.preventDefault()}),Object(c.e)("a.js-service-more",t+" Click "+n+" More Link"),Object(c.e)("a.track-service",t+" Click "+n+" Link"),Object(c.e)("a.track-official",t+" Click Official Site Link"),s()(".published_projects").on("click","a.more",function(e){var t=s()(this),n=s()(".published_projects"),a=t.attr("href");t.remove(),s.a.ajax({url:a,method:"GET",data:"format=js",dataType:"html",success:function(e){n.append(e)}}),e.preventDefault()})});n("+lZ5"),n("GBdY"),n("Wjt+"),n("zEur");Object(j.a)("body#survey_editability_edit",function(e){var t=s()("form#disable_survey_editability_form",e),n=s()("#send_editable_address_preview",e),a=s()("form#enable_survey_editability_form",e),i=t.find("#disable_confirm_text").html(),r=a.find("#enable_confirm_text").html();s()("input:text",e).on("keydown",function(e){e.which===w.c&&e.preventDefault()}),n.on("click",function(e){e.preventDefault();var t=s()(this);t.data("loading")||(t.data("loading",!0),s.a.post(t.attr("href"),{},function(e,n){"success"===n&&(Object(m.a)({success:E.default.t("onloads.views.surveys.editability_form.A_preview_has_been_sent_to_your_email_address")}),t.data("loading",!1))})),Object(c.d)("Survey Editability Deadline Preview Sent")}),t.confirm_submit({title:E.default.t("onloads.views.surveys.editability_form.Just_to_confirm"),copy:i,yes_copy:E.default.t("onloads.views.surveys.editability_form.Send_notifications_now"),no_copy:E.default.t("onloads.views.surveys.editability_form.Cancel")}),a.confirm_submit({title:E.default.t("onloads.views.surveys.editability_form.Just_to_confirm"),copy:r,yes_copy:E.default.t("onloads.views.surveys.editability_form.Allow_changes_now"),no_copy:E.default.t("onloads.views.surveys.editability_form.Cancel")})});var ae=n("7Gzj");Object(j.a)("body#surveys_form",function(e){var t=s()("#preview",e),n=s()("form#survey_form",e),a=s()("ul.questions",e),i=s()("#saving-layer",e);const r={other:E.default.t("onloads.views.surveys.form.Text_question"),choices:E.default.t("onloads.views.surveys.form.Multiple_choice_question"),checkboxes:E.default.t("onloads.views.surveys.form.Multiple_choice_question")};function o(){const e=n.find("input.keep_box:checked").closest(".js-fieldset:not(.template)");t.empty(),e.each(function(){t.append(s()(this).find("div.preview").children().clone())})}function l(e){const t=s()(e),n=t.val(),a=t.closest(".js-fieldset"),i=a.find(".preview");if(t.is("#survey_intro"))i.find(".survey_intro").text(n);else if(t.is(".question_choice")){!function(e,t,n){e.find(".js-choice-group").each(function(){s()(this).find('.js-choice:not(".js-no-response") label').eq(t).text(n||E.default.t("onloads.views.surveys.form.Choice_number",{number:t+1}))})}(i,t.closest("li.field").index(),n)}else!function(e,t){const n=Object.keys(r).find(function(t){return e.parent().hasClass(t)});e.find("li .js-prompt-label").text(t||r[n])}(i,n);f(a),o()}function d(e){e.confirm_submit({copy:E.default.t("onloads.views.surveys.form.You_can_only_send_a_survey_once_per_reward_tier_so_make_sure"),title:E.default.t("onloads.views.surveys.form.Please_confirm"),yes_copy:E.default.t("onloads.views.surveys.form.Send_survey_now"),no_copy:E.default.t("onloads.views.surveys.form.Edit_survey"),on_confirm_submit:function(){e.find("#sending").val("1")}})}function u(){a.find(".question:not(.template)").each(function(e){s()(this).find(".position").val(e+1)}),o()}function m(){const e=n.find('.js-add-question[data-template="address"]');a.find(".question.address").is(":visible")?e.addClass("hidden"):e.removeClass("hidden")}function p(e){return e.find('.js-optional input[type="checkbox"]').prop("checked")}function h(e,t){const n=e.find(".preview"),a=e.find(".field.js-optional-choice"),i=n.find(".js-choice.js-no-response");"hide"==t&&(i.addClass("hide"),a.addClass("hide")),"show"==t&&(i.removeClass("hide"),a.removeClass("hide"))}function f(e){const t=e.find(".preview").find(".js-optional-label");p(e)?("choices"==function(e){return e.find('input[type="hidden"].js-template').val()}(e)&&h(e,"show"),t.removeClass("hide")):(h(e,"hide"),t.addClass("hide"))}var g={containment:"document",tolerance:"pointer",items:".question.draggable",stop:u};a.sortable(g),e.on("click",".address.question .keep_box.checkbox",function(){s()(this).is(":checked")?s()(".editability",e).show():s()(".editability",e).hide()}),s()(".leftcol .textarea:visible, .leftcol .text:visible",e).each(function(){l(this)}),e.on("keyup cut paste",".leftcol .text, .leftcol .textarea",function(){l(this)}),e.on("click",".js-add-question",function(e){e.preventDefault();const t=s()("ul.questions"),n=s()(this).data("template"),a=t.children(".template."+n).clone_form_template();f(a),a.css("display","block"),t.append(a),m(),u(),s()(this).parent(".js-options").toggleClass("hide"),a.find("input.checkbox.keep_box").prop("checked",!0),a.find("input.checkbox.editable_ends_at").prop("disabled",!1),o()}),e.on("click",".js-add-question-choice",function(e){e.preventDefault();const t=s()(this).closest("li.question"),n=t.find("ol.choice_fields"),a=n.find('li:not(".js-optional-choice")').last(),i=a.clone().insertAfter(a),r=i.find("input.question_choice"),c=t.find(".preview"),l=n.find('li:not(".js-optional-choice")').length,d=E.default.t("onloads.views.surveys.form.Choice_number",{number:l});r.prop({placeholder:d,"aria-label":d}),i.find(".js-delete-choice").show().andSelf().find("input").val("").focus(),c.find(".js-choice-group").each(function(){const e=s()(this).find('.js-choice:not(".js-no-response")').last();e.clone().insertAfter(e).val("").find("label").text(i.find("label").text()).andSelf().find("input").val("")}),o()}),e.on("click",".js-delete-question",function(e){e.preventDefault();const t=s()(this).closest(".question"),n=t.find(".keep_box.checkbox");n.is(":checked")?n.prop("checked",!1):n.prop("checked",!0),t.hide(),t.find("input.checkbox.editable_ends_at").prop("disabled",!0),m(),u()}),e.on("click",".js-delete-choice",function(e){e.preventDefault();const t=s()(this).closest("li.field"),n=t.closest("li.question").find(".preview"),a=t.parent().children();n.find(".js-choice-group").each(function(){s()(this).find(".js-choice").eq(t.index()).remove()}),t.remove(),a.filter(":visible").each(function(e){s()(this).prop({placeholder:E.default.t("onloads.views.surveys.form.Choice_number",{number:e+1}),"aria-label":E.default.t("onloads.views.surveys.form.Choice_number",{number:e+1})})}),o()}),e.on("click",".js-multiple-responses",function(){const e=s()(this).closest("li.question"),t=e.find('input[type="hidden"].js-template'),n=s()(this).prop("checked")?"checkboxes":"choices";t.val(n),function(e,t){const n=e.find(".preview"),a=n.find('.js-choice-group[data-template="choices"]'),i=n.find('.js-choice-group[data-template="checkboxes"]'),r=n.find(".js-helper-text");"checkboxes"==t&&(a.addClass("hide"),h(e,"hide"),i.removeClass("hide"),r.removeClass("hide")),"choices"==t&&(p(e)&&h(e,"show"),a.removeClass("hide"),i.addClass("hide"),r.addClass("hide"))}(e,n),o()}),e.on("click",'.js-optional input[type="checkbox"]',function(){f(s()(this).closest("li.question")),o()}),e.on("click","#survey_save",function(r){r.preventDefault(),Object(c.d)("Survey Save",{type:"rich text"}),i.show(),s.a.ajax({url:n.attr("action"),type:n.find('[name="_method"]').val(),data:n.serialize(),complete:function(){i.hide()},success:function(r){const o=s()(r.data);s()(".modal_dialog").remove(),s()("#main_content").replaceWith(o),Object(ae.initRichTextSurveyIntro)(),t=s()("#preview",e),n=s()("form#survey_form",e),a=s()("ul.questions",e),i=s()("#saving-layer"),d(n),a.sortable(g)},error:function(){window.location.reload(!0)}})}),o(),d(n)});var ie=n("94td");Object(j.a)("body#two_factor_authentication_confirm",function(e){s()(()=>{const t=e.find(".js-resend_code"),n=t.data("deliver-otp-path");t.on("click",function(e){e.preventDefault(),Object(c.d)("Two-factor Authentication Resend Code"),s.a.ajax({dataType:"json",method:"POST",url:n,success:function(){Object(m.a)({success:Object(ie.d)(".Retrying")})}})}),e.find("#remember").on("change",function(){Object(c.d)("Two-factor Authentication Remember Changed")}),s.a.ajax({dataType:"json",method:"POST",url:n})})}),s()(function(){var e=".NS-two_factor_authentication_new";function t(){s()(".NS-phone_numbers__edit").is(":visible")?s()(e).find(".js-back:not(.edit-back-button)").hide():s()(e).find(".js-back").show()}s()(document).on("click",e+" .js-confirmation .js-next",function(t){s()(e+" .js-confirmation").addClass("hide"),s()(e+" .js-setup").removeClass("hide").trigger("resize"),s()(e+" .js-devices").removeClass("hide"),t.preventDefault()}),s()(document).on("click",e+" .js-devices .js-back",function(n){var a=s()(this).closest(e);a.find(".js-devices").addClass("hide"),a.find(".js-confirmation").removeClass("hide"),a.find(".js-setup").removeClass("hide").trigger("resize"),t(),n.preventDefault()}),s()(document).on("phone_number:added",e,function(e){s()(e.target).closest("form").submit()}),s()(document).on("click",e+" a.js-enable_edit_phone",function(n){var a=s()(this).closest(e);a.find(".js-edit_phone").removeClass("hide"),a.find(".js-previous_phone").addClass("hide"),a.find(".js-submit").addClass("hide"),a.trigger("resize"),t(),n.preventDefault()}),s()(document).on("submit",e+" form.js-method",function(t){var n=s()(this),a=n.closest(e);s.a.ajax({url:n.attr("action"),type:n.attr("method"),data:n.serialize(),dataType:"json",success:function(e){e.success?"phone"===e.otp_delivery_method?(a.find(".js-devices").addClass("hide"),a.find(".js-qr_code").removeClass("hide"),a.find(".edit-back-button").addClass("hide")):window.location.reload(!0):Object(m.a)(e)}}),t.preventDefault()})}),s()(function(){var e=".NS-two_factor_authentication_show";s()(document).on("click",e+" .js-manage_phone_fallback",function(){s()(this).closest(e).find(".js-tfa_manage").addClass("hide"),s()(e).find(".js-edit_phone").removeClass("hide"),s()(".NS-phone_numbers__edit").is(":visible")&&(s()(e).find(".intro").hide(),s()(e).find(".disable").removeClass("hide"),s()(e).find(".edit-back-button").html("Nevermind"),s()(e).on("click",".edit-back-button",function(){window.location.reload(!0)}))}),s()(document).on("phone_number:added",e,function(){var t=s()(this).closest(e).find(".js-manage_phone_fallback").data("url");t&&s.a.ajax({url:t,type:"POST",dataType:"json",success:function(e){e.success?(Object(m.a)({success:e.success}),window.location.reload(!0,800)):Object(m.a)({error:e.error})}})})}),s()(function(){function e(){var e=s()('div[id="forgot-password"]');e.removeClass("current"),e.siblings("#login, #verify").addClass("current"),s()(".modal_dialog #facebook, .modal_dialog #verify").show()}function t(t){var n=s()(t).closest(".current");n.is("#verify")||n.removeClass("current"),s()("#login-signup #forgot-password").addClass("current"),s()(".modal_dialog #facebook, .modal_dialog #verify").hide(),s()(document).one("closed.modal_dialog",e)}Object(c.e)(".js-switch-to-signup","Login to Signup Switch"),s()(document).on("click","#retry-forgot-password",function(e){var n=this.href,a=s()('div[id="forgot-password"]');t(this),s.a.ajax({url:n,dataType:"html",success:function(e){(a=a.replaceAll(e)).addClass("current")}}),e.preventDefault()}),s()(document).on("click","#login-signup a.link_to_forgot-password-dialog",function(e){e.preventDefault(),t(this),s()(document).on("jGrowl.close_200","form#reset",function(){s()(".modal_dialog").trigger("close.modal_dialog")})}),s()(document).on("form-submit-notify","#forgot-password #reset",e);var n=s()("#user_sessions_new, #users_new");n.length&&(s()(".current",n).find("input:visible:first").focus(),s()("#user_weekly_newsletter").change(function(){s()(this).is(":checked")?Object(c.d)("Checked Newsletter"):Object(c.d)("Unchecked Newsletter")}),s()(".fieldset-errors").livequery(function(){if(""!==s.a.trim(s()(".fieldset-errors").text())){var e=s()(".fieldset-errors h2").text(),t=s()(".fieldset-errors li").text();Object(c.d)("Errored User Signup",{error_type:e,error_text:t})}}),s()("input",n).focus(function(){s()("#login, #signup").removeClass("current"),s()(this).closest("#login, #signup").addClass("current")}))}),s()(function(){Object(c.e)(".js-switch-to-login","Signup to Login Switch"),s()(".js-track-login").on("click",()=>Object(Q.b)(Q.a.LOG_IN_OR_SIGNUP_BUTTON_CLICKED)),s.a.trim(s()(".fieldset-errors").html()).length?(s()("li#email-confirmation-input").toggleClass("display-none block"),s()("li#password-confirmation-input").toggleClass("display-none block")):(s()("#email-input").one("focus",function(){s()("li#email-confirmation-input").toggleClass("display-none block")}),s()("#password-input").one("focus",function(){s()("li#password-confirmation-input").toggleClass("display-none block")})),s()("#toggle-terms").on("click",function(){s()("span#policies").toggleClass("display-none block"),s()("#space-terms").toggleClass("block display-none"),s()("span#more-terms").toggleClass("block display-none"),s()("span#less-terms").toggleClass("display-none block")}),s()("#toggle-facebook").on("click",function(){s()("span#continue").toggleClass("display-none block"),s()("span#more-facebook").toggleClass("block display-none"),s()("span#less-facebook").toggleClass("display-none block")}),s()(document).on("blur","#new_user input#user_email",function(){s()(this).mailcheck({suggested:function(e,t){var n=s()('<div class="mailcheck_suggestion f5 grey-dark mb1">'+E.default.t("onloads.views.users.new.Did_you_mean",{suggestion:t.full})+"</div>");e.siblings(".mailcheck_suggestion").remove(),n.find("a").on("click",function(n){n.preventDefault(),e.val(t.full)}),e.before(n),n.slideDown(),"undefined"!=typeof ga&&ga("send","event","Regular Signup Errors","Invalid domain or TLD detected",e.val())},ignoreTLDs:!0})})}),Object(j.a)(".NS_users__profile",function(){s()("#profile_tools .js-profile-share-link").click(function(e){s()("#profile_tools .share_hover").toggle(),e.preventDefault()}),s()("a.twitter").click(function(e){window.open(s()(this).attr("href"),"twTweet","top=100,left=100,width=600px,height=400px,location=no,menubar=no,toolbar=no,scrollbars=yes"),e.preventDefault()}),s()("a.facebook").click(function(e){window.open(s()(this).attr("href"),"fbShare","top=100,left=100,width=640px,height=350px,location=no,menubar=no,toolbar=no,scrollbars=yes"),e.preventDefault()})}),s()(function(){s()(".NS-users-_urls_fields").livequery(function(){var e=s()(this),t=s()("div.new.template",e);t.on("click","a.add",function(n){n.preventDefault();var a=t.find("input.text"),i=t.clone_form_template(),r=i.find("input.keep_box");let o=a.val();""!==o?(/^https?:\/\//.test(o)||(o="https://"+o),i.addClass("field-selected"),i.find("a.add").remove(),i.find("input.text").val(o),i.find("span.value").text(o),a.trigger("dirty"),r.val(0).prop("checked",!0),a.val(""),s()("div.urls",e).append(i),i.trigger("shifted")):i.remove()}),e.on("click",".url .remove a",function(e){e.preventDefault();var t=s()(this),n=t.closest("div.url");t.siblings(".checkbox").prop("checked",!1),n.trigger("dirty"),n.trigger("shifted"),n.hide()}),t.find("input.text").on("keypress",function(e){13===(e.keyCode||e.which)&&(e.preventDefault(),t.find("a.add").click())})})});var re=n("prSB"),oe=n("i8i4"),se=n.n(oe),ce=n("n+nq"),le=n("v9JK");const de=e=>{let t=e.onClose,n=e.email,a=e.onClick;return U.a.createElement(le.a,{headerCopy:Object(ie.b)("user_settings.Download_my_personal_data"),onClose:t,size:"small"},U.a.createElement("div",null,U.a.createElement(ie.a,{i18nKey:"user_settings.When_the_download_is_ready",email:U.a.createElement("b",null,n)})),U.a.createElement(le.c,{onClick:a},Object(ie.b)("user_settings.Start_the_export")))},ue=e=>{let t=e.container,n=e.email,a=e.url,i=e.onSuccess;const r=()=>se.a.unmountComponentAtNode(t),o=()=>{i(),r()};se.a.render(U.a.createElement(de,{email:n,onClick:()=>(e=>{let t=e.url,n=e.onSuccess,a=e.onError;fetch(t,{method:"POST",credentials:"same-origin",headers:Object(re.a)({},Object(ce.a)(document),{Accept:"application/json","Content-Type":"application/json"})}).then(e=>e.json()).then(n).catch(()=>{Object(m.a)({error:Object(ie.b)("library.ksr_json.Sorry_something_went_wrong_Weve_been_notified_and_are_looking")}),a()})})({url:a,onSuccess:o,onError:r}),onClose:r}),t)};Object(j.a)("#users_edit_account",function(e){var t=!1;e.find("a.change_password_toggle").on("click",function(n){n.preventDefault();var a=s()("li.change_password",e);t?(a.fadeOut(),a.find("input").prop("disabled",!0),a.find("input").val(""),t=!1):(a.fadeIn(),a.find("input").prop("disabled",!1),a.first().find("input").focus(),t=!0)}),e.find("a.js-request-data-export").on("click",function(e){e.preventDefault();const t=this,n=t.dataset.email,a=t.dataset.url,i=document.getElementById("modal-container");i&&ue({container:i,email:n,url:a,onSuccess:()=>{const e=document.createElement("span");e.innerHTML=Object(ie.b)("user_settings.Download_is_being_prepared"),t.parentNode.replaceChild(e,t)}})})});n("TO/6");Object(j.a)("body#users_edit_profile",function(e){e.find("input.file").ksr_uploader()});n("uOK1");Object(j.a)(".NS_video_tracks__caption_video",function(){var e=new window.VideoTrack(window.videoTrackJSON);new window.VideoTrackView({model:e,el:"#video_track"}).render()});n("TBMH"),n("cCNM");s()(function(){s()(".widget_show").livequery(function(){var e=s()(this),t=e.find(".size form"),n=e.find(".video .code"),a=t.find(".custom"),i=n.data("path");function r(e,t){var r=Object(h.a)("widgets/_video_embed_code",{width:e,height:t,path:i});a.find("input#width").val(e),a.find("input#height").val(t),n.find("textarea").val(r)}r(480,Math.ceil(270)),t.find("input.radio").on("change",function(){var e=s()("input.radio:checked"),a=e.closest("label");t.find("label").removeClass("selected"),a.addClass("selected"),r(a.data("width"),a.data("height")),n.find("textarea").select(),e.is("#widget-size_size-custom")&&a.find("input.text").val("").eq(0).select()}),a.find("input").on("keyup input cut paste",function(e){var t=s()(e.target),n=a.find("input#width").val(),i=a.find("input#height").val();t.is("#width")?i=Math.ceil(n/(16/9)):n=Math.ceil(i*(16/9)),r(n,i)}),e.find("#video_embed").on("click",function(){Object(c.d)("Project Share",{share_type:"video_embed"})}),e.find("#widget_embed").on("click",function(){Object(c.d)("Project Share",{share_type:"widget_embed"})}),e.find("#shortlink_embed").on("click",function(){Object(c.d)("Project Share",{share_type:"shortlink_embed"})})})});n("ViW2")},oMXI:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i});const a=()=>!(!window.location||!window.location.hostname)&&/(ksr|drip)\.test|localhost/.test(window.location.hostname),i=()=>!(!window.location||!window.location.hostname)&&/^(staging\.kickstarter\.com|staging\.d\.rip)$/.test(window.location.hostname),r=()=>!(!window.location||!window.location.hostname)&&/^(www\.kickstarter\.com|d\.rip)$/.test(window.location.hostname)},oOYD:function(e,t,n){"use strict";var a=n("prSB"),i=n("+2Rf"),r=n.n(i),o=(n("RIhn"),n("2UXI")),s=n("eEls");const c=e=>!1===e;var l=n("9jZ4"),d=n("MgNI");n.d(t,"c",function(){return f}),n.d(t,"b",function(){return g}),n.d(t,"a",function(){return b});let u=[];const m=e=>{Object(o.d)("Viewed Project Card",e.data,{withoutCurrentProject:!0}),e.viewed=!0},p=e=>{const t=r()(e.element),n=window.scrollY+window.innerHeight,a=t.offset().top+t.height()/2;return n>a&&a>0&&!e.viewed},h=e=>d.maybe.fromNullable(e.dataset).map(e=>["section","model_name","raw_score","weighted_score","project_state","project_pid","project_backers_count","project_percent_raised","project_pledged","user_is_backer","user_has_starred"].reduce((t,n)=>Object(a.a)({},t,{[n]:e[n]||""}),{})).map(t=>Object(a.a)({},t,{},(e=>{const t=r()(e).parent(),n=r()(e).closest(".js-project-group").find(".js-track-project-card"),a=n.first().parent().siblings().length+1;return{position_in_row:t.index()+1,row_total:t.siblings().length+1,row_number:Math.ceil((n.index(r()(e))+1)/a)}})(e))).getOrElse({}),f=()=>{u.filter(Object(s.a)(c,Object(l.g)("viewed"))).filter(Object(s.a)(c,Object(l.g)("hidden"))).filter(p).forEach(m)},g=e=>{e.forEach(e=>r()(e).livequery(function(){u=u.concat({data:h(this),hidden:r()(this).parent().hasClass("hide"),element:this,viewed:!1})}))},b=(e,t,n)=>{const i=Object(a.a)({},h(e),{},n);r()(e).find("a").each((e,n)=>Object(o.e)(n,t,i,{withoutCurrentProject:!0}))}},ocnG:function(e,t,n){"use strict";var a=n("prSB"),i=n("7cf5"),r=n("q1tI"),o=n.n(r),s=n("dRu9");const c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object(a.a)({},e,{},t),i="".concat((e.transform||"").trim()," ").concat((t.transform||"").trim()).trim();return i?Object(a.a)({},n,{transform:i}):n};n.d(t,"a",function(){return l});const l=e=>{let t=e.open,n=void 0===t||t,l=e.keepMounted,d=void 0!==l&&l,u=e.duration,m=void 0===u?300:u,p=e.delay,h=void 0===p?0:p,f=e.easing,g=void 0===f?"ease-in-out":f,b=e.transitionProperty,_=void 0===b?"all":b,v=e.children,k=e.transitions,y=Object(i.a)(e,["open","keepMounted","duration","delay","easing","transitionProperty","children","transitions"]);const j=m+h,E={transitionDuration:"".concat(m,"ms"),transitionDelay:"".concat(h,"ms"),transitionTimingFunction:g,transitionProperty:_},w=Object(r.useMemo)(()=>(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>({entering:c(e.entering,t.entering),entered:c(e.entered,t.entered),exiting:c(e.exiting,t.exiting),exited:c(e.exited,t.exited)}),{})})(...k),k);return o.a.createElement(s.a,Object.assign({appear:!0,mountOnEnter:!d,unmountOnExit:!d},y,{in:n,timeout:j}),e=>{const t=Object(a.a)({},E,{},w[e]);return"function"==typeof v?v(t):o.a.cloneElement(v,{style:Object(a.a)({},t,{},v.props.style)})})}},"p0+n":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("a+N5"),o=n.n(r),s=n("GRmu"),c=n("zm9w");n("yvkg");!function(){function e(e,t){var n=e.add(t);n.siblings().removeClass("current_tab"),n.addClass("current_tab"),i()(document).trigger("tab")}i()("body.admin").delegate(".tab","click",function(){var t,n=i()(this),a=n.attr("class").match(/tab_\d+/),r=n.find("a");a&&(t=i()("."+a[0].replace(/tab/,"pane"))),a&&t.length&&(r.length&&""===i.a.trim(t.html())?(n.addClass("submitting"),t.html(i()('<div class="spinner" />').spin("ksr","#000")),i.a.ajax({url:r.attr("href")+".js",type:"GET",complete:function(a){n.removeClass("submitting"),t.html(a.responseText),e(n,t)}})):e(n,t),history.pushState(null,null,r.attr("href")))}),i()("body.admin").delegate(".tab_label a","click",function(e){e.preventDefault()}),i()("body.admin").delegate(".expand, .collapse","click",function(e){e.preventDefault(),i()(this).add(i()(this).siblings(".expand, .collapse, .expandable")).toggle()});function t(e){return"string"!=typeof e?"":e.replace(/.$/,function(e){return"e"===e?"ed":e+"ed"})}o.a.each(["user","project","task","backing"],function(e){i()(document).on("click",".js-"+e+"_notes_hider, .js-"+e+"_notes_shower",function(){i()(".js-"+e+"_note").toggle(),i()(".js-"+e+"_notes_shower").toggle(),i()(".js-"+e+"_notes_hider").toggle()})}),i()(".js-admin_notes_expand").one("click",function(e){var t=i()(this);e.preventDefault(),i.a.ajax({url:t.prop("href"),type:"GET",dataType:"html",success:function(e){t.closest(".js-notes").find(".expandable.ajax-container").html(e)}})}),i()("body.admin").delegate(".batch_action .select_all","click",function(e){e.preventDefault();var t=i()(this),n=t.closest(".batch_action").parent().find("input.checkbox:not([disabled])");n.length?"Select all"===t.text()?(n.prop("checked",!0),t.text("Deselect all")):(n.prop("checked",!1),t.text("Select all")):Object(s.a)({error:"Nothing to select."})}),i()("body.admin").delegate(".batch_action input.submit","click",function(e){e.preventDefault();var n=i()(this),a=n.closest("form"),r=n.closest(".batch_action"),o=r.parent(),l=o.find("input.checkbox:checked"),d=l.map(function(e,t){return function(e){if("string"!=typeof e)return"";var t=e.match(/\d+/);return t?t[0]:null}(t.id)}).get(),u=n.attr("name"),m=a.attr("action"),p=r.data("type"),h=r.data("terse_type"),f=p.replace(/s$/,""),g={},b=o.find(".batch_"+u+"_info").data("confirm_url");if(o.find("input.checkbox:not(checked)").each(function(){i()(this).parent().removeClass("highlight")}),l.length){var _=[];l.each(function(){var e;i()(this).hasClass("string"!=typeof(e=u)?"":e.replace(/.$/,function(e){return"e"===e?"able":e+"able"}))?i()(this).parent().removeClass("highlight"):(_.push(i()(this)),i()(this).parent().addClass("highlight"))}),_.length?Object(s.a)({error:"You selected "+_.length+" "+c.a.pluralize(h,_.length)+" that cannot be "+t(u)+". Please unselect those and try again."}):(g[p]=d,i.a.ajax({url:b,data:g,type:"get"}).done(function(e){i.a.modal_confirm(function(){i.a.ajax({type:"PUT",url:m,data:g,success:function(){l.each(function(){var e=i()(this);e.attr({checked:!1,disabled:!0}),e.closest("."+f).addClass(t(u)).find(".status").html(t(u))}),Object(s.a)({success:"Selected "+h+" were "+t(u)})},error:function(){Object(s.a)({error:"There was a problem "+u+"ing one or more of those "+h+". Please refresh the page and try again."})}})},{title:"Batch "+u,message:e,confirm_text:c.a.capitalize(u)+" "+d.length+" "+c.a.pluralize(h,d.length),cancel_text:"cancel"===u?"never mind":"cancel"})}))}else Object(s.a)({error:"No "+h+" selected to "+u+"."})}),i()(document).on("submit",".zendesk_ticket form",function(e){var t=i()(this);t.find(".submit").hide(),t.find(".loading").show(),e.preventDefault(),i.a.ajax({url:t.attr("action"),type:"POST",data:t.serialize(),dataType:"JSON",success:function(e){var n="https://kickstarter.zendesk.com/tickets/"+e.id,a=i()("<a/>");a.attr("href",n),a.text(n),a.addClass("associated_zendesk_ticket right"),t.closest(".modal_dialog").trigger("close"),Object(s.a)({success:"Ticket sent successfully!"}),i()("#send_to_zendesk").append(a)},complete:function(){t.find(".submit").show(),t.find(".loading").hide()}})})}()},p7Bz:function(e,t,n){"use strict";n.r(t);var a=n("+2Rf"),i=n.n(a),r=n("h4vE"),o=n("2UXI"),s=n("nuFJ"),c=n("Y0SK");Object(r.a)(".NS_projects__creator_nav",function(){var e=i()("body");i()(".js-expand-creator-nav").on("click",function(t){e.hasClass("creator_nav_visible")?(e.removeClass("creator_nav_visible"),Object(o.d)("Creator Nav Toggle",{toggled_to:"hidden"}),Object(c.d)()&&i()("#creator_menu").removeClass("hide")):(e.addClass("creator_nav_visible"),Object(c.d)()&&i()("#creator_menu").addClass("hide"),Object(o.d)("Creator Nav Toggle",{toggled_to:"visible"})),Object(s.a)(),t.preventDefault()}),Object(o.e)("#creator_nav a.track","Creator Nav Link Click"),Object(o.e)(".js-track-post-create","Post Create Clicked",{context:"creator_nav"})})},pFB7:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("q1tI");const i=e=>{let t=e.atoms,n=void 0===t?[]:t,i=e.children;const r=["radius4px","shadow-card"].concat(n).join(" ");return a.createElement("div",{className:r},i)}},pTxv:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return m}),n.d(t,"g",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return g});var a=n("7cf5"),i=n("2DJ9"),r=n("9mow"),o=n("/IHD"),s=n("q1tI"),c=n.n(s);const l=e=>{const t=e.atoms,n=e.children,s=e.fullWidth,l=e.iconName,d=e.iconClassName,u=e.iconLabel,m=e.kind,p=e.loading,h=e.size,f=void 0===h?"medium":h,g=e.theme,b=e.type,_=void 0===b?"button":b,v=Object(a.a)(e,["atoms","children","fullWidth","iconName","iconClassName","iconLabel","kind","loading","size","theme","type"]),k=Object(o.a)("bttn keyboard-focusable","bttn-".concat(f),m?"bttn-".concat(m):"",g?"theme--".concat(g):"",s&&"flex w100p",d,t);return c.a.createElement(r.a,Object.assign({className:k,type:_},v),p?c.a.createElement(i.a,{name:"icon--circle-loader",size:"20",atoms:[Object(o.a)("pb1px")]}):c.a.createElement(()=>c.a.createElement(c.a.Fragment,null,l&&c.a.createElement(i.a,{name:l,size:"20",atoms:[Object(o.a)("mr1")],label:u}),n),null))},d=e=>{const t=e.atoms,n=Object(a.a)(e,["atoms"]),i=[Object(o.a)(t,"fill-bttn-icon hover-fill-bttn-icon")];return c.a.createElement(l,Object.assign({kind:"primary",atoms:i},n))},u=e=>{const t=e.atoms,n=Object(a.a)(e,["atoms"]),i=[Object(o.a)(t,"fill-bttn-icon hover-fill-bttn-icon")];return c.a.createElement(l,Object.assign({kind:"secondary",atoms:i},n))},m=e=>{const t=e.atoms,n=Object(a.a)(e,["atoms"]),i=[Object(o.a)(t,"fill-bttn-icon hover-fill-bttn-icon")];return c.a.createElement(l,Object.assign({kind:"tertiary",atoms:i},n))},p=e=>{const t=e.atoms,n=Object(a.a)(e,["atoms"]),i=[Object(o.a)(t,"fill-bttn-icon hover-fill-bttn-icon")];return c.a.createElement(l,Object.assign({atoms:i},n))},h=e=>{const t=e.atoms,n=Object(a.a)(e,["atoms"]),i=[Object(o.a)(t,"fill-white")];return c.a.createElement(l,Object.assign({kind:"twitter",iconName:"icon--twitter",atoms:i},n))},f=e=>{const t=e.atoms,n=Object(a.a)(e,["atoms"]),i=[Object(o.a)(t,"fill-white")];return c.a.createElement(l,Object.assign({kind:"facebook",iconName:"icon--facebook",atoms:i},n))},g=e=>{e.className;const t=Object(a.a)(e,["className"]),n=Object(o.a)("bttn keyboard-focusable",e.className);return c.a.createElement(r.a,Object.assign({className:n},t))}},pe0Q:function(e,t,n){"use strict";var a=n("DjBF"),i=n("mv45"),r=n("eEls"),o=n("/j8J"),s=n("v9JK"),c=n("94td"),l=n("arGM"),d=n("q1tI"),u=n.n(d);const m=e=>{let t=e.onClose;return u.a.createElement(s.a,{headerCopy:Object(c.b)("project_page.back_and_star.Save"),secondaryCloseCopy:Object(c.b)("project_page.back_and_star.Close"),onClose:t,size:"small"},u.a.createElement(c.a,{i18nKey:"project_page.back_and_star.Log_in_to_your_kickstarter_account",LogIn:u.a.createElement("a",{href:Object(l.d)("/login")},u.a.createElement(c.a,{i18nKey:"project_page.back_and_star.Log_in"}))}),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(c.a,{i18nKey:"project_page.back_and_star.Dont_have_one_yet",SignUp:u.a.createElement("a",{href:Object(l.d)("/signup")},u.a.createElement(c.a,{i18nKey:"project_page.back_and_star.Sign_up"}))}))},p=e=>{let t=e.onClose,n=e.onClick,a=e.loggedOut;return u.a.createElement(s.a,{headerCopy:Object(c.b)("project_page.back_and_star.project_saved"),secondaryCloseCopy:Object(c.b)("project_page.back_and_star.Close"),onClose:t,size:"small"},u.a.createElement("div",{id:"focus-grabber"}),u.a.createElement(c.a,{i18nKey:"project_page.back_and_star.well_send_you_an_email"}),!a&&u.a.createElement(u.a.Fragment,null," ",u.a.createElement(c.a,{i18nKey:"project_page.back_and_star.well_also_use",yourRecommendationsLink:u.a.createElement("a",{href:Object(l.d)("/recommendations")},u.a.createElement(c.a,{i18nKey:"project_page.back_and_star.your_recommendations"})),userSettingLink:u.a.createElement("a",{href:Object(l.d)("/settings")},u.a.createElement(c.a,{i18nKey:"project_page.back_and_star.user_settings"}))}),u.a.createElement("br",null),u.a.createElement(c.a,{i18nKey:"project_page.back_and_star.To_view_and_manage_projects",savedProjectsLink:u.a.createElement("a",{href:Object(l.d)("/profile/saved_projects"),className:"keyboard-focusable"},u.a.createElement(c.a,{i18nKey:"project_page.back_and_star.saved_projects"}))})),u.a.createElement(s.c,{theme:"create",onClick:n},u.a.createElement(c.a,{i18nKey:"project_page.back_and_star.ok_got_it"})))};var h=n("B6g3"),f=n("VA/9"),g=n("pTxv"),b=n("2DJ9"),_=n("EoiL"),v=n("T8n5");const k=e=>{let t=e.onClose;return u.a.createElement(s.a,{secondaryCloseCopy:Object(c.b)("project_page.back_and_star.Close"),onClose:t,size:"small"},u.a.createElement("div",{id:"focus-grabber"}),u.a.createElement("div",{className:"flex"},u.a.createElement(b.a,{atoms:["fill-celebrate-700","flex-none"],name:"icon--alert",size:"30"}),u.a.createElement(_.a,{type:"subhead-600",weight:"normal",atoms:["display-inline","ml2 mb2","align-bottom"]},Object(c.b)("project_page.back_and_star.Verify_to_receive_reminders"))),u.a.createElement(v.a,{atoms:["mb4"]},Object(c.b)("project_page.back_and_star.Youve_saved_this_project")),u.a.createElement(g.c,{theme:"support",fullWidth:!0,onClick:t},Object(c.b)("project_page.back_and_star.ok_got_it")))},y=Object(f.a)(e=>{let t=e.userMetadata,n=e.updateUserSetting,a=e.onCloseModal;const i=async()=>{a(),await n(h.b.confirmed_watch_notice)};return t.isEmailVerified?t.isLoggedOut?u.a.createElement(m,{onClose:a}):t.isFirstTimeWatching?u.a.createElement(p,{onClick:i,onClose:a}):null:u.a.createElement(k,{onClose:a})});function j(e){return!e.isLoggedOut}var E=n("prSB"),w=n("sIuw"),S=n("aYzK");const O=Object(i.k)(S.a,e=>e.data.project?Object(i.l)({trackingContext:e.ownProps.trackingContext,style:e.ownProps.style,initialIsWatched:e.ownProps.initialIsWatched,isWatched:e.data.project.isWatched,isWatchable:e.data.project.isWatchable,isLaunched:e.data.project.isLaunched,projectId:e.data.project.id,onWatchToggle:e.ownProps.onWatchToggle,userMetadata:Object(w.a)(e.data.me),children:e.ownProps.children}):Object(E.a)({},Object(i.d)(),{},e.ownProps));var C=n("RWo0");const N=e=>{let t=e.onClose;return e.error.indexOf("not authorized")>0?u.a.createElement(x,{onClose:t}):u.a.createElement(s.a,{headerCopy:Object(c.b)("project_page.errors.Somethings_gone_wrong"),secondaryCloseCopy:Object(c.b)("project_page.back_and_star.Close"),onClose:t,size:"small"},u.a.createElement("div",{id:"focus-grabber"}),u.a.createElement(v.a,{atoms:["mt2 mb0"]},Object(c.b)("project_page.errors.Team_notified")),u.a.createElement(s.c,{theme:"support",onClick:t},Object(c.b)("project_page.back_and_star.Close")))},x=e=>{let t=e.onClose;return u.a.createElement(s.a,{secondaryCloseCopy:Object(c.b)("project_page.back_and_star.Close"),onClose:t,size:"small"},u.a.createElement("div",{id:"focus-grabber"}),u.a.createElement(b.a,{atoms:["fill-celebrate-700"],name:"icon--alert",size:"30"}),u.a.createElement(_.a,{type:"subhead-600",weight:"normal",atoms:["display-inline","ml2","align-bottom"]},Object(c.b)("project_page.back_and_star.First_confirm_your_account")),u.a.createElement(v.a,{atoms:["mt2 mb0"]},Object(c.b)("project_page.back_and_star.Resend_a_verification_email")),u.a.createElement(s.c,{theme:"support",onClick:()=>{window.location.href="/settings/account"}},u.a.createElement(c.a,{i18nKey:"project_page.back_and_star.visit_settings"})))},T=n("rBiH").UnwatchProject,I=Object(i.j)(T,e=>({unwatchProject:()=>e.mutate({variables:{projectId:e.ownProps.projectId,trackingContext:e.ownProps.trackingContext}}),userMetadata:e.ownProps.userMetadata,onClick:e.ownProps.onClick,onSuccess:e.ownProps.onSuccess,onFailure:e.ownProps.onFailure,children:e.ownProps.children,watchCopy:e.ownProps.watchCopy}))(e=>{return u.a.createElement(o.a,{onClick:async function(){e.onClick(),j(e.userMetadata)&&(await e.unwatchProject(),e.onSuccess())},isWatched:!0,watchCopy:e.watchCopy},e.children)}),D=n("5I6x").WatchProject,P=Object(i.j)(D,e=>({watchProject:()=>e.mutate({variables:{projectId:e.ownProps.projectId,trackingContext:e.ownProps.trackingContext}}),userMetadata:e.ownProps.userMetadata,onClick:e.ownProps.onClick,onSuccess:e.ownProps.onSuccess,children:e.ownProps.children,watchCopy:e.ownProps.watchCopy}))(e=>{return u.a.createElement(o.a,{onClick:async function(){if(e.onClick(),j(e.userMetadata))try{await e.watchProject(),e.onSuccess()}catch(t){e.onFailure&&e.onFailure(t.message)}},isWatched:!1,watchCopy:e.watchCopy},e.children)});n.d(t,"a",function(){return A});const A=O(e=>{if(!Object(i.i)(e)){const t=Object(C.a)({isWatching:e.initialIsWatched,projectCanRemind:!1,projectIsLaunched:!1});return u.a.createElement("div",{style:e.style},u.a.createElement(o.a,{watchCopy:t,isWatched:e.initialIsWatched,onClick:r.d},e.children))}const t=Object(d.useState)(!1),n=Object(a.a)(t,2),s=n[0],c=n[1],l=Object(d.useState)(""),m=Object(a.a)(l,2),p=m[0],h=m[1],f=()=>{(function(e){return e.isLoggedOut||e.isFirstTimeWatching||!e.isEmailVerified})(e.userMetadata)&&c(!0)},g=t=>{e.onWatchToggle&&e.onWatchToggle(t)},b=Object(C.a)({isWatching:e.isWatched,projectCanRemind:e.isWatchable,projectIsLaunched:e.isLaunched});return u.a.createElement(u.a.Fragment,null,s&&u.a.createElement(y,{userMetadata:e.userMetadata,onCloseModal:()=>c(!1)}),!!p&&u.a.createElement(N,{onClose:()=>h(""),error:p}),u.a.createElement("div",{style:e.style},e.isWatched?u.a.createElement(I,{children:e.children,projectId:e.projectId,userMetadata:e.userMetadata,onClick:f,onSuccess:()=>g(!1),trackingContext:e.trackingContext,watchCopy:b}):u.a.createElement(P,{children:e.children,projectId:e.projectId,userMetadata:e.userMetadata,onClick:f,onSuccess:()=>g(!0),onFailure:e=>{h(e)},trackingContext:e.trackingContext,watchCopy:b})))})},pj8f:function(e,t,n){"use strict";let a;n.r(t),n.d(t,"Honeybadger",function(){return a}),a="undefined"!=typeof document?n("dvPR").Honeybadger:()=>void 0},poNw:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("prSB"),i=n("mm3F");const r=e=>({activeDragCounter:0,asset:null,effects:Object(a.a)({create:()=>Promise.resolve(Object(i.noopAction)()),read:()=>Promise.resolve(Object(i.noopAction)()),destroy:()=>Promise.resolve(Object(i.noopAction)()),onSuccess:()=>Promise.resolve(Object(i.noopAction)())},e),errors:[],isDeleting:!1,isDisabled:!1,isShowingDeleteAssetModal:!1,progress:0,uploadedAt:null,uploaderStatus:"EMPTY",imageAssetWidth:null})},pzgU:function(e,t,n){var a=n("Q1l4"),i=n("wJg7"),r=Math.min;e.exports=function(e,t){for(var n=e.length,o=r(t.length,n),s=a(e);o--;){var c=t[o];e[o]=i(c,n)?s[c]:void 0}return e}},"q/jZ":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("wdXr"),i=n("q1tI"),r=n.n(i);const o=e=>{let t=e.children,n=e.fallback,i=e.rootMargin;const o=Object(a.a)({rootMargin:i}),s=o.targetRef,c=o.didIntersect;return r.a.createElement(r.a.Fragment,null,c?t:r.a.createElement("div",{ref:s},n))}},q1z7:function(e,t,n){(function(a){var i,r,o;o="object"==typeof self&&self.self===self&&self||"object"==typeof a&&a.global===a&&a,i=[n("a+N5"),n("+2Rf"),t],void 0===(r=function(e,t,n){o.Backbone=function(e,t,n,a){var i=e.Backbone,r=Array.prototype.slice;t.VERSION="1.3.3",t.$=a,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var o=function(e,t,a){n.each(t,function(t,i){n[i]&&(e.prototype[i]=function(e,t,a){switch(e){case 1:return function(){return n[t](this[a])};case 2:return function(e){return n[t](this[a],e)};case 3:return function(e,i){return n[t](this[a],s(e,this),i)};case 4:return function(e,i,r){return n[t](this[a],s(e,this),i,r)};default:return function(){var e=r.call(arguments);return e.unshift(this[a]),n[t].apply(n,e)}}}(t,i,a))})},s=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?c(e):n.isString(e)?function(t){return t.get(e)}:e},c=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},l=t.Events={},d=/\s+/,u=function(e,t,a,i,r){var o,s=0;if(a&&"object"==typeof a){void 0!==i&&"context"in r&&void 0===r.context&&(r.context=i);for(o=n.keys(a);s<o.length;s++)t=u(e,t,o[s],a[o[s]],r)}else if(a&&d.test(a))for(o=a.split(d);s<o.length;s++)t=e(t,o[s],i,r);else t=e(t,a,i,r);return t};l.on=function(e,t,n){return m(this,e,t,n)};var m=function(e,t,n,a,i){return e._events=u(p,e._events||{},t,n,{context:a,ctx:e,listening:i}),i&&((e._listeners||(e._listeners={}))[i.id]=i),e};l.listenTo=function(e,t,a){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),r=this._listeningTo||(this._listeningTo={}),o=r[i];if(!o){var s=this._listenId||(this._listenId=n.uniqueId("l"));o=r[i]={obj:e,objId:i,id:s,listeningTo:r,count:0}}return m(e,t,a,this,o),this};var p=function(e,t,n,a){if(n){var i=e[t]||(e[t]=[]),r=a.context,o=a.ctx,s=a.listening;s&&s.count++,i.push({callback:n,context:r,ctx:r||o,listening:s})}return e};l.off=function(e,t,n){return this._events?(this._events=u(h,this._events,e,t,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(e,t,a){var i=this._listeningTo;if(!i)return this;for(var r=e?[e._listenId]:n.keys(i),o=0;o<r.length;o++){var s=i[r[o]];if(!s)break;s.obj.off(t,a,this)}return this};var h=function(e,t,a,i){if(e){var r,o=0,s=i.context,c=i.listeners;if(t||a||s){for(var l=t?[t]:n.keys(e);o<l.length;o++){var d=e[t=l[o]];if(!d)break;for(var u=[],m=0;m<d.length;m++){var p=d[m];a&&a!==p.callback&&a!==p.callback._callback||s&&s!==p.context?u.push(p):(r=p.listening)&&0==--r.count&&(delete c[r.id],delete r.listeningTo[r.objId])}u.length?e[t]=u:delete e[t]}return e}for(var h=n.keys(c);o<h.length;o++)delete c[(r=c[h[o]]).id],delete r.listeningTo[r.objId]}};l.once=function(e,t,a){var i=u(f,{},e,t,n.bind(this.off,this));return"string"==typeof e&&null==a&&(t=void 0),this.on(i,t,a)},l.listenToOnce=function(e,t,a){var i=u(f,{},t,a,n.bind(this.stopListening,this,e));return this.listenTo(e,i)};var f=function(e,t,a,i){if(a){var r=e[t]=n.once(function(){i(t,r),a.apply(this,arguments)});r._callback=a}return e};l.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),a=0;a<t;a++)n[a]=arguments[a+1];return u(g,this._events,e,void 0,n),this};var g=function(e,t,n,a){if(e){var i=e[t],r=e.all;i&&r&&(r=r.slice()),i&&b(i,a),r&&b(r,[t].concat(a))}return e},b=function(e,t){var n,a=-1,i=e.length,r=t[0],o=t[1],s=t[2];switch(t.length){case 0:for(;++a<i;)(n=e[a]).callback.call(n.ctx);return;case 1:for(;++a<i;)(n=e[a]).callback.call(n.ctx,r);return;case 2:for(;++a<i;)(n=e[a]).callback.call(n.ctx,r,o);return;case 3:for(;++a<i;)(n=e[a]).callback.call(n.ctx,r,o,s);return;default:for(;++a<i;)(n=e[a]).callback.apply(n.ctx,t);return}};l.bind=l.on,l.unbind=l.off,n.extend(t,l);var _=t.Model=function(e,t){var a=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(a=this.parse(a,t)||{});var i=n.result(this,"defaults");a=n.defaults(n.extend({},i,a),i),this.set(a,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(_.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,a){if(null==e)return this;var i;if("object"==typeof e?(i=e,a=t):(i={})[e]=t,a||(a={}),!this._validate(i,a))return!1;var r=a.unset,o=a.silent,s=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,d=this.changed,u=this._previousAttributes;for(var m in i)t=i[m],n.isEqual(l[m],t)||s.push(m),n.isEqual(u[m],t)?delete d[m]:d[m]=t,r?delete l[m]:l[m]=t;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!o){s.length&&(this._pending=a);for(var p=0;p<s.length;p++)this.trigger("change:"+s[p],this,l[s[p]],a)}if(c)return this;if(!o)for(;this._pending;)a=this._pending,this._pending=!1,this.trigger("change",this,a);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var a in this.attributes)t[a]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,a={};for(var i in e){var r=e[i];n.isEqual(t[i],r)||(a[i]=r)}return!!n.size(a)&&a},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,a=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;if(!t.set(i,e))return!1;a&&a.call(e.context,t,n,e),t.trigger("sync",t,n,e)},L(this,e),this.sync("read",this,e)},save:function(e,t,a){var i;null==e||"object"==typeof e?(i=e,a=t):(i={})[e]=t;var r=(a=n.extend({validate:!0,parse:!0},a)).wait;if(i&&!r){if(!this.set(i,a))return!1}else if(!this._validate(i,a))return!1;var o=this,s=a.success,c=this.attributes;a.success=function(e){o.attributes=c;var t=a.parse?o.parse(e,a):e;if(r&&(t=n.extend({},i,t)),t&&!o.set(t,a))return!1;s&&s.call(a.context,o,e,a),o.trigger("sync",o,e,a)},L(this,a),i&&r&&(this.attributes=n.extend({},c,i));var l=this.isNew()?"create":a.patch?"patch":"update";"patch"!==l||a.attrs||(a.attrs=i);var d=this.sync(l,this,a);return this.attributes=c,d},destroy:function(e){e=e?n.clone(e):{};var t=this,a=e.success,i=e.wait,r=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&r(),a&&a.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var o=!1;return this.isNew()?n.defer(e.success):(L(this,e),o=this.sync("delete",this,e)),i||r(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var a=this.validationError=this.validate(e,t)||null;return!a||(this.trigger("invalid",this,a,n.extend(t,{validationError:a})),!1)}}),o(_,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var v=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},k={add:!0,remove:!0,merge:!0},y={add:!0,remove:!1},j=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var a,i=Array(e.length-n),r=t.length;for(a=0;a<i.length;a++)i[a]=e[a+n];for(a=0;a<r;a++)e[a+n]=t[a];for(a=0;a<i.length;a++)e[a+r+n]=i[a]};n.extend(v.prototype,l,{model:_,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,y))},remove:function(e,t){t=n.extend({},t);var a=!n.isArray(e);e=a?[e]:e.slice();var i=this._removeModels(e,t);return!t.silent&&i.length&&(t.changes={added:[],merged:[],removed:i},this.trigger("update",this,t)),a?i[0]:i},set:function(e,t){if(null!=e){(t=n.extend({},k,t)).parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var a=!n.isArray(e);e=a?[e]:e.slice();var i=t.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var r,o,s=[],c=[],l=[],d=[],u={},m=t.add,p=t.merge,h=t.remove,f=!1,g=this.comparator&&null==i&&!1!==t.sort,b=n.isString(this.comparator)?this.comparator:null;for(o=0;o<e.length;o++){r=e[o];var _=this.get(r);if(_){if(p&&r!==_){var v=this._isModel(r)?r.attributes:r;t.parse&&(v=_.parse(v,t)),_.set(v,t),l.push(_),g&&!f&&(f=_.hasChanged(b))}u[_.cid]||(u[_.cid]=!0,s.push(_)),e[o]=_}else m&&(r=e[o]=this._prepareModel(r,t))&&(c.push(r),this._addReference(r,t),u[r.cid]=!0,s.push(r))}if(h){for(o=0;o<this.length;o++)u[(r=this.models[o]).cid]||d.push(r);d.length&&this._removeModels(d,t)}var y=!1,E=!g&&m&&h;if(s.length&&E?(y=this.length!==s.length||n.some(this.models,function(e,t){return e!==s[t]}),this.models.length=0,j(this.models,s,0),this.length=this.models.length):c.length&&(g&&(f=!0),j(this.models,c,null==i?this.length:i),this.length=this.models.length),f&&this.sort({silent:!0}),!t.silent){for(o=0;o<c.length;o++)null!=i&&(t.index=i+o),(r=c[o]).trigger("add",r,this,t);(f||y)&&this.trigger("sort",this,t),(c.length||d.length||l.length)&&(t.changes={added:c,removed:d,merged:l},this.trigger("update",this,t))}return a?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var a=0;a<this.models.length;a++)this._removeReference(this.models[a],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return r.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[this.modelId(e.attributes||e)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var a=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===a||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){var t=(e=n.extend({parse:!0},e)).success,a=this;return e.success=function(n){var i=e.reset?"reset":"set";a[i](n,e),t&&t.call(e.context,a,n,e),a.trigger("sync",a,n,e)},L(this,e),this.sync("read",this,e)},create:function(e,t){var a=(t=t?n.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;a||this.add(e,t);var i=this,r=t.success;return t.success=function(e,t,n){a&&i.add(e,n),r&&r.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;(t=t?n.clone(t):{}).collection=this;var a=new this.model(e,t);return a.validationError?(this.trigger("invalid",this,a.validationError,t),!1):a},_removeModels:function(e,t){for(var n=[],a=0;a<e.length;a++){var i=this.get(e[a]);if(i){var r=this.indexOf(i);this.models.splice(r,1),this.length--,delete this._byId[i.cid];var o=this.modelId(i.attributes);null!=o&&delete this._byId[o],t.silent||(t.index=r,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}}return n},_isModel:function(e){return e instanceof _},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,a){if(t){if(("add"===e||"remove"===e)&&n!==this)return;if("destroy"===e&&this.remove(t,a),"change"===e){var i=this.modelId(t.previousAttributes()),r=this.modelId(t.attributes);i!==r&&(null!=i&&delete this._byId[i],null!=r&&(this._byId[r]=t))}}this.trigger.apply(this,arguments)}}),o(v,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var E=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,S)),this._ensureElement(),this.initialize.apply(this,arguments)},w=/^(\S+)\s*(.*)$/,S=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var a=e[t];if(n.isFunction(a)||(a=this[a]),a){var i=t.match(w);this.delegate(i[1],i[2],n.bind(a,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,a,i){var r=O[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:r,dataType:"json"};if(i.url||(o.url=n.result(a,"url")||F()),null!=i.data||!a||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||a.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){o.type="POST",i.emulateJSON&&(o.data._method=r);var s=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",r),s)return s.apply(this,arguments)}}"GET"===o.type||i.emulateJSON||(o.processData=!1);var c=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,c&&c.call(i.context,e,t,n)};var l=i.xhr=t.ajax(n.extend(o,i));return a.trigger("request",a,l,i),l};var O={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var C=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},N=/\((.*?)\)/g,x=/(\(\?)?:\w+/g,T=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,l,{initialize:function(){},route:function(e,a,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(a)&&(i=a,a=""),i||(i=this[a]);var r=this;return t.history.route(e,function(n){var o=r._extractParameters(e,n);!1!==r.execute(i,o,a)&&(r.trigger.apply(r,["route:"+a].concat(o)),r.trigger("route",a,o),t.history.trigger("route",r,a,o))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(I,"\\$&").replace(N,"(?:$1)?").replace(x,function(e,t){return t?e:"([^/?]+)"}).replace(T,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var a=e.exec(t).slice(1);return n.map(a,function(e,t){return t===a.length-1?e||null:e?decodeURIComponent(e):null})}});var D=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},P=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,R=/#.*$/;D.started=!1,n.extend(D.prototype,l,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(P,"")},start:function(e){if(D.started)throw new Error("Backbone.history has already been started");if(D.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(A,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var a=document.body,i=a.insertBefore(this.iframe,a.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var r=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?r("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?r("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!D.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var a=n+e;if(e=this.decodeFragment(e.replace(R,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,a);else{if(!this._wantsHashChange)return this.location.assign(a);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;t.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var a=e.href.replace(/(javascript:|#).*$/,"");e.replace(a+"#"+t)}else e.hash="#"+t}}),t.history=new D,_.extend=v.extend=C.extend=E.extend=D.extend=function(e,t){var a,i=this;return a=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(a,i,t),a.prototype=n.create(i.prototype,e),a.prototype.constructor=a,a.__super__=i.prototype,a};var F=function(){throw new Error('A "url" property or function must be specified')},L=function(e,t){var n=t.error;t.error=function(a){n&&n.call(t.context,e,a,t),e.trigger("error",e,a,t)}};return t}(o,n,e,t)}.apply(t,i))||(e.exports=r)}).call(this,n("yLpj"))},q3TU:function(e,t,n){var a=n("y4QH"),i=n("MMiu"),r=n("6KkN"),o="__lodash_placeholder__",s=1,c=2,l=4,d=8,u=128,m=256,p=Math.min;e.exports=function(e,t){var n=e[1],h=t[1],f=n|h,g=f<(s|c|u),b=h==u&&n==d||h==u&&n==m&&e[7].length<=t[8]||h==(u|m)&&t[7].length<=t[8]&&n==d;if(!g&&!b)return e;h&s&&(e[2]=t[2],f|=n&s?0:l);var _=t[3];if(_){var v=e[3];e[3]=v?a(v,_,t[4]):_,e[4]=v?r(e[3],o):t[4]}return(_=t[5])&&(v=e[5],e[5]=v?i(v,_,t[6]):_,e[6]=v?r(e[5],o):t[6]),(_=t[7])&&(e[7]=_),h&u&&(e[8]=null==e[8]?t[8]:p(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=f,e}},qAuv:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n("q1tI"),i=n.n(a);const r=600,o=900,s=1100,c=e=>"".concat(.6*e,"rem"),l=(e,t,n,a)=>{const i=[t&&"width: ".concat(c(t)),n&&"height: ".concat(c(n))].filter(Boolean);if(0===i.length)return null;const r="#".concat(e,"{").concat(i.join(";"),"}");return a?"@media (min-width:".concat(a,"px){").concat(r,"}"):r},d={counter:0},u=e=>{let t=e.id,n=void 0===t?"__size_".concat(++d.counter):t,a=e.width,c=e.smWidth,u=e.mdWidth,m=e.lgWidth,p=e.height,h=e.smHeight,f=e.mdHeight,g=e.lgHeight,b=e.children;const _=[l(n,a,p),l(n,c,h,r),l(n,u,f,o),l(n,m,g,s)].filter(Boolean).join("\n");return i.a.createElement("div",{id:n},i.a.createElement("style",null,_),b)}},qEcG:function(e,t,n){"use strict";var a=n("KBQY"),i=n("39MV"),r=n("RBqt"),o=n("94td"),s=n("1OuE"),c=n("/IHD"),l=n("q1tI"),d=n.n(l),u=n("pTxv"),m=n("jQ3o"),p=n("arGM");const h=e=>{let t=e.buttonDisplayable,n=e.isBackingProject,a=e.previewMode,r=e.projectState,s=e.projectUrl,c=e.reward;const l=c.available&&!Object(i.c)(c.startsAt);return t&&!n&&l?d.a.createElement(u.c,{atoms:["text-decoration-none-important"],theme:"create",href:f({previewMode:a,projectState:r,projectUrl:s,rewardId:c.id})},Object(o.b)("project_page.reward.Select_this_reward")):n||c.available?null:d.a.createElement(m.a,{atoms:["text-center","text-left-md","w100p","w-auto-md"]})},f=e=>{let t=e.previewMode,n=e.projectState,a=e.projectUrl,i=e.rewardId;if(!t&&"live"===n)return Object(p.d)("".concat(a,"/pledge/new"),{"backing[backer_reward_id]":i,ref:"embedded_reward"})};var g=n("uT+I");const b=e=>{let t=e.preface,n=e.info,a=e.containerAtoms;return d.a.createElement(g.a,{atoms:a},d.a.createElement(r.a,{color:"dark-grey-500",atoms:["block","text-uppercase","type-12","ls1px","ls0_5px"]},t),d.a.createElement(r.a,{color:"soft-black",atoms:["type-14"]},n))};var _=n("7cf5");const v=e=>{let t=e.name,n=Object(_.a)(e,["name"]);return t?d.a.createElement(r.a,Object.assign({type:"body-200",weight:"normal",color:"soft-black"},n),t):null},k=e=>{let t=e.amount,n=e.currency,a=e.isMaxPledge,o=Object(_.a)(e,["amount","currency","isMaxPledge"]);return d.a.createElement(r.a,Object.assign({type:"body-200",weight:"normal",color:"soft-black"},o),t&&n&&Object(i.e)(a,Object(i.b)(t,n)))},y=()=>d.a.createElement(r.a,{atoms:["absolute","bg-trust-700","lh3","px3","py4px","t0","type-12","white"]},Object(o.b)("project_page.reward.You_selected"));var j=n("W6lR");n.d(t,"a",function(){return E});const E=e=>{var t;let n=e.backing,d=void 0===n?Object(j.b)():n,u=e.controls,m=e.previewMode,p=e.projectUrl,f=void 0===p?Object(j.d)():p,g=e.reward,_=e.projectState,E=void 0===_?Object(j.c)():_,w=e.showSelectRewardButton,S=void 0===w||w;const O="pledged"===(null==d?void 0:d.status),C=O&&(null==d?void 0:null===(t=d.reward_id)||void 0===t?void 0:t.toString())===g.id,N=S&&["started","submitted","live"].includes(E||"");return l.createElement("div",{className:Object(c.a)(C?"border-trust-700 pt8":"border-grey-400","mb3","relative","p5","border","native-hide")},C&&l.createElement(y,null),l.createElement("div",{className:"flex justify-between"},l.createElement("div",null,l.createElement(k,{amount:g.amount.amount,currency:g.amount.currency,isMaxPledge:g.isMaxPledge,type:"body-200",atoms:["block","mb2"]}),l.createElement(v,{name:g.name,atoms:["block","mb6"]})),u),l.createElement("div",{className:"mb5 relative"},g.description&&l.createElement(r.a,{type:"body-100",color:"dark-grey-500",atoms:["block lh3 text-prewrap"]},g.description),g.startsAt&&Object(i.c)(g.startsAt)&&l.createElement(r.a,{color:"celebrate-700","data-test-id":"reward-not-unlocked",atoms:["block","mt1","type-14"]},Object(o.b)("project_page.reward.Reward_unlocks_on",{date:Object(s.a)("LL",new Date(g.startsAt))}))),l.createElement("div",{className:"flex flex-column flex-row-md justify-between"},l.createElement("div",{className:"flex mb3 mb0-md"},g.estimatedDeliveryOn&&l.createElement(b,{preface:Object(o.b)("project_page.reward.Estimated_delivery"),info:Object(a.a)("MMM YYYY",g.estimatedDeliveryOn),containerAtoms:["mr6"]}),g.shippingSummary&&l.createElement(b,{preface:Object(o.b)("project_page.reward.Ships_to"),info:g.shippingSummary,containerAtoms:["mr6"]})),l.createElement(h,{buttonDisplayable:N,isBackingProject:O,previewMode:m,projectState:E,projectUrl:f,reward:g})))}},qKHs:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("a+N5"),o=n.n(r),s=n("DQv1");n("RIhn");i()(function(){i()(".render_mustache").livequery(function(){var e=i()(this),t=o.a.extend(e.data("data"),e.data("extend")),n=e.data("partials")?e.data("partials").split(","):void 0,a=e.data("template");e.append(Object(s.a)(a,t,n))})})},qPAc:function(e,t,n){"use strict";var a=n("94td");const i={createTrackingEventName:"Comment Create",pollUrlFactory:()=>null,submitButtonText:Object(a.b)("project_page.comments.Post_Comment"),placeholderText:Object(a.b)("project_page.comments.What_would_you"),showCommentsWithoutPledges:!1,isReplyingEnabled:!0,showNonBackerMessage:!0,hideBackground:!1};t.a=i},qYa2:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l});var a=n("prSB"),i=n("94td"),r=n("MTFr");const o=e=>!(!e.dataTransfer.types||-1===e.dataTransfer.types.indexOf("Files")),s=(e,t)=>{let n=[];return e.size>t.bytes&&(n=[...n,Object(i.b)("uploaders.This_file_is_too_big",{megabytes:t.megabytes})]),t.contentTypes.includes(e.type)||(n=[...n,Object(i.b)("uploaders.This_file_has_an_invalid_filetype")]),n},c=e=>Object(a.a)({},r.g,{},e),l=(e,t,n,a,i,r,o)=>{const s=new XMLHttpRequest;s.open("POST",e),s.onload=()=>{204===s.status?r({s3Key:t,fileName:encodeURIComponent(n.name),contentType:n.type,updatedAt:(n.lastModifiedDate||new Date).getTime(),fileSize:n.size}):i()},s.onerror=i,s.upload.onprogress=e=>{if(e.lengthComputable){const t=e.loaded/e.total*100;o(t)}},s.send(a)}},qcI4:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return p});var a=n("a+N5"),i=n.n(a),r=n("itcf"),o=n("XLBa");let s=n("qtWx").a.extend();s.on_initialize(function(){this.data.id&&(this.constructor.records[this.data.id]=this)}),i.a.extend(s,{records:{},find:function(e){var t=this;return i.a.isArray(e)?i.a.compact(i.a.map(e,function(e){return t.records[e]})):this.records[e]},every:function(e){i.a.each(this.records,e),this.listen("new",function(t){e.call(this,t.new)})},has:function(e,t){if(void 0===this.prototype["has_"+e]){var n=t.through;this.prototype[e]=[],this.on_initialize(function(){this.on_change(e+"_fetched",function(t){var a=t[e+"_fetched"]||[],r=this[e],o=i.a.compact(i.a.map(a,function(e){if(e&&e.id&&!i.a.include(r,e.id))return new window[n](e).get("id")}));this["set_"+e](i.a.union(r,o))})}),this.prototype["get_"+e]=function(){return window[n].find(this[e])},this.prototype["has_"+e]=function(t){return(t=a(t)).length&&0===i()(this[e]).difference(t).length},this.prototype["add_"+e]=function(t){t=a(t),(t=i()(t).difference(this[e])).length&&this["set_"+e](i.a.union(this[e],t))},this.prototype["remove_"+e]=function(t){t=a(t),(t=i()(t).intersection(this[e])).length&&this["set_"+e](i()(this[e]).difference(t))},this.prototype["set_"+e]=function(t){if(t=a(t),!i.a.isEqual(i.a.clone(t).sort(),i.a.clone(this[e]).sort())){this[e]=t;var n={};n[e]=t,this._broadcast(n)}}}function a(e){return"object"!=typeof e?e=[e]:e.get&&(e=[e.get("id")]),e}}});let c=s.extend(),l=s.extend(),d=s.extend(),u=s.extend(),m=s.extend(),p=s.extend();u.on_initialize(function(){"function"==typeof o.a&&this.on_change(function(){Object(o.a)("Project",this.get())})}),u.has("creator",{through:"User"}),u.has("backers",{through:"User"}),u.set_computed_value("usd_pledged",function(){return this.pledged*this.static_usd_rate},{changes_on:["pledged"]}),u.set_computed_value("convert_pledged",function(){return this.pledged*this.fx_rate},{changes_on:["pledged"]}),m.has("created_projects",{through:"Project"}),m.has("backed_projects",{through:"Project"}),m.has("backings",{through:"Backing"}),m.prototype.api_url=function(e,t){var n=this.get("urls").api.user;if(n)return"string"==typeof e&&(n=n.replace(/([^\?]*)(.*)/,function(t,n,a){return n+"/"+e+a})),(t||void 0===t&&!0===e)&&api_oauth_token&&(n=Object(r.a)(n).replace(/http:/,"https:")),n},d.on_initialize(function(){"function"==typeof o.a&&this.on_change(function(){Object(o.a)("Comment",this.get())})}),l.set_computed_value("net_amount",function(){return this.amount-this.shipping_amount},{changes_on:["shipping_amount","amount"]})},qn6j:function(e,t,n){"use strict";let a;n.d(t,"a",function(){return a}),function(e){e.INCREMENT="increment",e.GAUGE="gauge",e.TIME="time"}(a||(a={}))},qtVb:function(e,t,n){var a=n("+2Rf");n("+2Rf");!function(e){function t(t,n){this.$elem=t,this.options=e.extend({},{adjust_on:"mobius:loaded_page scroll resize sticky_bar:position load hashchange",parent:t.parent(),attach_to:"top",lock_to_bottom:!0},n),this.paused=!1,this.last_scroll_top=0,this.last_up=!1,this.fixed=!1,this.original_top=t.offset().top,this.original_bottom=this.original_top+t.height(),this.update_window_larger_then_elem(),this.attach_to_top="top"===this.options.attach_to,this.attach_to_bottom=!this.attach_to_top,this.bind_events(),this.reposition()}function n(t,n){this.$elem=t,this.options=e.extend({},{adjust_on:"shifted scroll resize load hashchange"},n),this.original_top=t.offset().top,this.bind_events(),this.reposition()}e.fn.sticky_bar=function(n){return n=n||{},e(this).each(function(){var a=e(this).data("stickybar");a?e(this).trigger("shifted"):(a=new t(e(this),n),e(this).data("stickybar",a))})},e.fn.simple_sticky_bar=function(t){return t=t||{},e(this).each(function(){var a=e(this).data("simple_stickybar");a?e(this).trigger("shifted"):(a=new n(e(this),t),e(this).data("simple_stickybar",a))})},e.extend(n.prototype,{bind_events:function(){var t=this;e(window).on(this.options.adjust_on,function(e){t.reposition(e)})},reposition:function(){e(window).scrollTop()<this.original_top?(this.$elem.css("position","static"),this.$elem.css("top","auto")):(this.$elem.css("position","fixed"),this.$elem.css("top",0))}}),e.extend(t.prototype,{bind_events:function(){var t=this;e(window).resize(function(e){e.target===window&&t.update_window_larger_then_elem()}),e(document).on("shifted",function(){t.fixed=!1,t.$elem.css("position","static"),t.$elem.css("top","auto"),t.$elem.css("bottom","auto"),t.original_top=t.$elem.offset().top,t.original_bottom=t.original_top+t.$elem.height(),t.reposition()}),e(window).on(this.options.adjust_on,function(e){t.paused||t.reposition(e)}),this.$elem.on("sticky_bar:fix_to_bottom",function(){t.fixed=!0,t.$elem.css("position","fixed"),t.$elem.css("top",-(t.$elem.height()-e(window).height()))}),this.$elem.on("sticky_bar:pause",function(){t.paused=!0}),this.$elem.on("sticky_bar:unpause",function(){t.paused=!1})},update_window_larger_then_elem:function(){this.window_larger_then_elem=e(window).height()>this.$elem.height()},lockToBottom:function(e){this.fixed=!1,this.$elem.css("position","absolute"),this.$elem.css("top",e-this.$elem.outerHeight()-this.$elem.offsetParent().offset().top)},reposition:function(t){var n=e(window).scrollTop(),a=n+e(window).height(),i=this.$elem.offset().top,r=i+this.$elem.height(),o=this.options.parent,s=o.offset().top+o.outerHeight(),c=t&&"scroll"===t.type,l=!(n>this.last_scroll_top),d=l!==this.last_up;e("body").width()<640||this.attach_to_top&&n<this.original_top||this.attach_to_bottom&&a>this.original_bottom?(this.fixed=!1,this.$elem.css("position","static"),this.$elem.css("top","auto"),this.$elem.css("bottom","auto")):this.options.lock_to_bottom&&!this.window_larger_then_elem&&a>s?this.lockToBottom(s):this.options.lock_to_bottom&&this.window_larger_then_elem&&n+this.$elem.height()>s?this.lockToBottom(s):d&&c?this.window_larger_then_elem||(this.fixed=!1,this.$elem.css("position","absolute"),this.$elem.css("top",i),this.$elem.css("bottom","auto")):this.fixed||(this.attach_to_top?this.window_larger_then_elem||(!c||l)&&n<i?(this.fixed=!0,this.$elem.css("position","fixed"),this.$elem.css("top",0)):c&&l||!(a>r)||(this.fixed=!0,this.$elem.css("position","fixed"),this.$elem.css("top",-(this.$elem.height()-e(window).height()))):(this.window_larger_then_elem||(!c||!l)&&a>r)&&(this.fixed=!0,this.$elem.css("position","fixed"),this.$elem.css("bottom",0))),this.was_fixed!==this.fixed&&this.$elem.trigger("sticky_bar:fixed_changed",[this.fixed]),this.last_scroll_top=n,this.last_up=l}})}(a)},qtWx:function(e,t,n){"use strict";var a=n("a+N5"),i=n.n(a),r=n("+2Rf"),o=n.n(r);function s(){}s.prototype.initialize=function(){},s.extend=function(e){var t=function(){this.initialize.apply(this,arguments)};for(var n in this)this.hasOwnProperty(n)&&(i.a.isFunction(this[n])?t[n]=this[n]:t[n]=i.a.clone(this[n]));function a(){this.constructor=t}return a.prototype=this.prototype,t.prototype=new a,t.__super__=this.prototype,e&&(t.prototype.initialize=e),t};var c=s.extend(function(e){var t=this,n=arguments;this.data={},e&&this.set(e),i.a.each(this.constructor.initializers,function(e){e.apply(t,n)}),this.data.id&&this.constructor.records&&(this.constructor.records[this.data.id]=this),this.constructor._broadcast({new:this.data})});c._computed_values={},i.a.extend(c,{listen:function(e,t){var n=this;if(i.a.isObject(e)&&i.a.each(e,function(e,t){n.listen(t,e)}),void 0===this.listeners&&(this.listeners={}),void 0===this.listeners._global&&(this.listeners._global=[]),"function"!=typeof e)return void 0===this.listeners[e]&&(this.listeners[e]=[]),this.listeners[e].push(t),this;this.listeners._global.push(e)},_broadcast:function(e,t,n){var a;void 0===this.listeners&&(this.listeners={}),void 0===this.listeners._global&&(this.listeners._global=[]);var r=this;if(t=t||"",i.a.each(i.a.keys(e),function(a){"object"!=typeof e[a]||null===e[a]||i.a.isArray(e[a])||r._broadcast(e[a],t+a+".",n),void 0!==r.listeners[t+a]&&i.a.each(r.listeners[t+a],function(t){t.call(r,e,n)})}),!t)for(a=0;a<this.listeners._global.length;a+=1)this.listeners._global[a].call(this,e,n)},on_initialize:function(e){void 0===this.initializers&&(this.initializers=[]),this.initializers.push(e)},get_computed_values:function(){return this._computed_values},set_computed_value:function(e,t,n){var a=this;this._computed_values[e]=t,n&&i.a.isArray(n.changes_on)&&i.a.each(n.changes_on,function(t){a.prototype.on_change(t,function(){var t={};t[e]=this.get(e),this._broadcast(t)})})}}),c.prototype.on_change=c.prototype.listen=c.listen,c.prototype.change=function(){this._broadcast({})},c.prototype._broadcast=c._broadcast,c.prototype.set=function(e,t,n){var a,r;return"object"==typeof e?(a=e,n=t):a="string"==typeof e?function e(t,n){var a={},i=t.shift();return t.length?a[i]=e(t,n):a[i]=n,a}(e.split("."),t):{},n||(n={}),r=function e(t,n){var a={};for(var i in n)n.hasOwnProperty(i)&&("object"==typeof n[i]&&null!==n[i]?a[i]=t?e(t[i],n[i]):n[i]:t&&t[i]===n[i]||(a[i]=n[i]));return a}(this.data,a),n.overwrite?this.data=i.a.extend(this.data,a):this.data=o.a.extend(!0,this.data,a),void 0!==n.silent&&n.silent||this._broadcast(r,void 0,n),this},c.prototype.replace=function(e,t,n){return(n=n||{}).silent=!0,this.set(e,null,n),delete n.silent,this.set(e,t,n)},c.prototype.get=function(e){if("string"==typeof e){if("function"==typeof this.constructor.get_computed_values()[e])return this.constructor.get_computed_values()[e].call(this.data);var t=e.split("."),n=this.data;return i.a.each(t,function(e){n=n[e]}),i.a.clone(n)}return o.a.extend(!0,{},this.data,this.compute_values())},c.prototype.compute_values=function(){var e=this.data,t={};return i.a.each(this.constructor.get_computed_values(),function(n,a){t[a]=n.call(e)}),t};t.a=c},rBiH:function(e,t,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnwatchProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unwatchProject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"projectId"}}},{kind:"ObjectField",name:{kind:"Name",value:"trackingContext"},value:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"project"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"user"},directives:[]}]}}]}}]}}],loc:{start:0,end:372}};a.loc.source={body:'#import "../../../shared/graph/query-definitions/project-fragment.graphql"\n#import "../../../shared/graph/query-definitions/user-fragment.graphql"\n\nmutation UnwatchProject($projectId: ID!, $trackingContext: String) {\n  unwatchProject(input: { id: $projectId, trackingContext: $trackingContext }) {\n    project {\n      ...project\n    }\n    user {\n      ...user\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)})}a.definitions=a.definitions.concat(r(n("stFp").definitions)),a.definitions=a.definitions.concat(r(n("iHOZ").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}a.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),o[e.name.value]=t}}),e.exports=a,e.exports.UnwatchProject=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=o[t]||new Set,i=new Set,r=new Set;for(a.forEach(function(e){r.add(e)});r.size>0;){var c=r;r=new Set,c.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){r.add(e)}))})}return i.forEach(function(t){var a=s(e,t);a&&n.definitions.push(a)}),n}(a,"UnwatchProject")},"rFP+":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE");Object(r.a)(".js-nav--subnav",function(e){e.on("change_current",function(e,t){var n=i()(this),a=i()(t);a.length&&(n.find(".current").removeClass("current"),a.addClass("current"),n.find(".js-nav--subnav__selected-indicator").css({left:a.position().left,width:a.outerWidth()}),i()(window).resize(function(){n.find(".js-nav--subnav__selected-indicator").css({left:a.position().left,width:a.outerWidth()})}))});var t=window.location.pathname,n=e.find(".nav--subnav__item__link").filter(function(){return new URL(this.href).pathname===t});e.trigger("change_current",n)})},rI0c:function(e,t,n){"use strict";var a=n("dZEV"),i=n("prSB"),r=n("MTFr"),o=n("qYa2"),s=n("X+my"),c=n("q1tI");const l=(e,t)=>{const n=new FormData;return Object.keys(t).forEach(e=>{n.append(e,t[e])}),n.append("file",e),n};let d;!function(e){e.FAILED="FAILED",e.PROCESSING="PROCESSING",e.SUCCESSFUL="SUCCESSFUL",e.UPLOADING="UPLOADING",e.INVALID="INVALID",e.EMPTY="EMPTY"}(d||(d={}));const u={activeDragCounter:0,asset:null,errors:[],isDeleting:!1,isDisabled:!1,isShowingDeleteAssetModal:!1,progress:0,uploaderStatus:d.EMPTY},m=(e,t)=>{switch(t.type){case"STARTED_UPLOAD":return Object(i.a)({},e,{uploaderStatus:d.UPLOADING,isDisabled:!0,progress:0});case"PROCESSING_UPLOAD":return Object(i.a)({},e,{uploaderStatus:d.PROCESSING});case"COMPLETED_UPLOAD":return Object(i.a)({},e,{uploaderStatus:d.SUCCESSFUL,isDisabled:!1,progress:100});case"INVALID_UPLOAD":return Object(i.a)({},e,{uploaderStatus:d.INVALID,errors:[t.error]});case"FAILED_UPLOAD":return Object(i.a)({},e,{uploaderStatus:d.FAILED,isDisabled:!1,errors:[t.error]});case"RESET":return Object(i.a)({},u);case"OPENED_MODAL":return Object(i.a)({},e,{isShowingDeleteAssetModal:!0});case"CLOSED_MODAL":return Object(i.a)({},e,{isShowingDeleteAssetModal:!1});case"DRAG_OVER":return Object(i.a)({},e,{activeDragCounter:1});case"DRAG_LEAVE":return Object(i.a)({},e,{activeDragCounter:0});case"UPDATE_PROGRESS":return Object(i.a)({},e,{progress:t.progress});default:return e}};let p;class h extends c.Component{constructor(e){super(e),this.reduce=e=>new Promise(t=>{this.setState(m(this.state,e),()=>t(null))}),this.handleReset=()=>this.reduce({type:"RESET"}),this.handleDrop=e=>{e.preventDefault(),this.reduce({type:"DRAG_LEAVE"}),Object(o.a)(e)&&this.handleFileSelect(e.dataTransfer.files[0])},this.handleFileSelect=e=>{this.handleUpload(e)},this.handleUpload=async e=>{const t=Object(a.f)(e,this.props.allowedFileTypes);if(t&&t.length>0)return this.reduce({type:"INVALID_UPLOAD",error:t});await this.reduce({type:"STARTED_UPLOAD"});const n={params:JSON.parse(window.s3_upload.params),s3_upload_url:window.s3_upload.url},i=l(e,n.params);try{Object(o.c)(n.s3_upload_url,n.params.key,e,i,this.handleUploadFailure,this.handleUploadSuccess,this.handleUploadProgress)}catch(t){this.reduce({type:"FAILED_UPLOAD",error:t})}},this.handleUploadSuccess=e=>{const t=e.s3Key,n=e.fileName,i=e.contentType,r=e.updatedAt,o=e.fileSize,s=this.props,c=s.attachableAssoc,l=s.attachableId;this.reduce({type:"PROCESSING_UPLOAD"}),Object(a.d)({s3Key:t,fileName:n,fileSize:o,contentType:i,updatedAt:r,attachableAssoc:c,id:l}).then(e=>this.handleUploadComplete(e.upload.asset.id)).catch(this.handleUploadFailure)},this.handleUploadComplete=e=>{this.props.onUploadComplete(e)},this.handleUploadFailure=e=>this.reduce({type:"FAILED_UPLOAD",error:e}),this.handleUploadProgress=e=>this.reduce({type:"UPDATE_PROGRESS",progress:e}),this.handleDragEnter=()=>this.reduce({type:"DRAG_OVER"}),this.handleDragLeave=()=>this.reduce({type:"DRAG_LEAVE"}),this.handleCloseDeleteAssetModal=()=>this.reduce({type:"CLOSED_MODAL"}),this.handleOpenDeleteAssetModal=()=>this.reduce({type:"OPENED_MODAL"}),this.state=u;const t=e.iconName,n=e.maxFileSizeText,i=e.copyOverrides,s=e.fileAccept;p=Object(r.e)({UploadSuccess:e=>{let t=e.onDeleteAsset,n=e.onFileSelect,a=e.onCloseDeleteAssetModal,o=e.onOpenDeleteAssetModal,s=e.state;return c.createElement(r.c,{onDeleteAsset:t,onFileSelect:n,onCloseDeleteAssetModal:a,onOpenDeleteAssetModal:o,state:s,copyOverrides:i})},EmptyState:e=>{let a=e.activeDragCounter,o=e.onDragLeave,l=e.onDragEnter,d=e.onDrop,u=e.onFileSelect,m=e.theme,p=e.uploadLimit;return c.createElement(r.a,{activeDragCounter:a,onDragLeave:o,onDragEnter:l,onDrop:d,onFileSelect:u,theme:m,uploadLimit:p,iconName:t,maxFileSizeText:n,copyOverrides:i,fileAccept:s})},ProcessingState:e=>{let t=e.isDeleting,n=e.onFileSelect,a=e.theme,o=e.timeElapsed;return c.createElement(r.b,{isDeleting:t,onFileSelect:n,theme:a,timeElapsed:o,copyOverrides:i})}})}render(){return c.createElement(p,{state:this.state,uploadLimit:this.props.uploadLimit,onDeleteAsset:this.handleReset,onUploadReset:this.handleReset,onDragLeave:this.handleDragLeave,onDragEnter:this.handleDragEnter,onDrop:this.handleDrop,onFileSelect:this.handleFileSelect,onCloseDeleteAssetModal:this.handleCloseDeleteAssetModal,onOpenDeleteAssetModal:this.handleOpenDeleteAssetModal,theme:s.a})}}var f=n("94td");n.d(t,"a",function(){return b});const g={changeFile:Object(f.b)("uploaders.Change_video"),deleteFile:Object(f.b)("uploaders.Delete_video"),deletingFile:Object(f.b)("uploaders.Deleting_video"),uploadCta:Object(f.b)("uploaders.Drag_or_drop_video_here"),uploadCtaMobile:Object(f.b)("uploaders.Upload_a_video"),feelFreeToMoveOn:Object(f.b)("uploaders.Please_wait_while_we_process_your_file")};class b extends c.Component{constructor(){super(...arguments),this.state={isFetching:!1,uploadLimit:{bytes:0,megabytes:0,contentTypes:[]}}}componentDidMount(){this.setState(()=>({isFetching:!0}),()=>Object(a.e)({fileType:a.c.ASSET_VIDEO}).then(e=>{this.setState({isFetching:!1,uploadLimit:e})}))}render(){if(this.state.isFetching)return null;const e=Object(f.b)("uploaders.It_must_be_a_valid_video_file_type")+" "+Object(f.b)("uploaders.no_larger_than_file_size",{megabytes:this.state.uploadLimit.megabytes});return c.createElement(h,{iconName:"icon--video",copyOverrides:g,attachableId:this.props.attachableId,attachableAssoc:this.props.attachableAssoc,onUploadComplete:this.props.onUploadComplete,uploadLimit:this.state.uploadLimit,maxFileSizeText:e,fileAccept:this.state.uploadLimit.contentTypes.join(","),allowedFileTypes:[a.b.VIDEO]})}}},rMRV:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("q1tI"),i=n("Nz1K");const r=e=>{const t=Object(i.b)((e=>e.replace(/<(b\b|strong\b).*?>/g,'<span class="bold">').replace(/<em\b.*?>/g,'<span class="text-italic">').replace(/<\/(b|strong|em)>/g,"</span>"))(e));return a.createElement("div",{dangerouslySetInnerHTML:{__html:t}})}},rV3q:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("a+N5"),o=n.n(r),s=n("h4vE"),c=n("zm9w"),l=n("nuFJ"),d=n("0VSk");Object(s.a)(".NS_layouts__notifications",function(e){function t(t){const n=i()(".js-banner-text",e);if(0===n.length)return;const a=o.a.pairs(o.a.countBy(i()(".js-alert-box",e).map(function(){return i()(this).data("category")}).get(),e=>e)),r=o.a.reduce(a,(e,t)=>e+t[1],0),s=i()(".js-cta",e),l=i()(".js-banner-dismiss",e),u=i()(".js-banner-toggle-button",e);if(1===r&&t){n.html(i()(".js-alert-body",e).html()),n.has("a")&&i()(".js-banner-text a").addClass("white text-underline");const t=i()(".js-alert-cta")[0];t?(s.html(t),s.show()):(s.html(""),s.hide());const a=i()(".js-alert-dismiss",e);a.length?(l[0].setAttribute("href",a.attr("href")),l.show()):l.hide(),u.hide()}else{const t=o.a.map(a,e=>e[0]).sort().map(e=>"<span class='bold'>".concat(d.default.t(e),"</span>")),m="<span class='bold'>".concat(d.default.t("banners.title.alerts",{count:r}),"</span>"),p=c.a.to_sentence(t);n.html(d.default.t("banners.title.text",{alerts:m,categories:p})),i()(".js-alert-title--urgent",e).text(d.default.t("banners.subtitles.urgent")),i()(".js-alert-title--nonurgent",e).text(2===i()(".js-alert-section",e).length?d.default.t("banners.subtitles.nonurgent.more"):d.default.t("banners.subtitles.nonurgent.less")),s.hide(),l.hide(),u.show()}i()(".js-banner-buttons-container",e).show()}t(!0),i()(".js-alert-body").has("a")&&i()(".js-alert-body a").addClass("text-underline"),e.on("click",".js-alert-dismiss, .js-banner-dismiss",function(){function e(e){e.slideUp(200,function(){i()(this).remove(),t(!1),Object(l.a)()})}const n=i()(this),a=n.closest(".js-banner-wrap"),r=n.closest(".js-alert-wrap"),o=".js-alert-box";return 1===a.find(o).length?e(a):1===r.find(o).length?e(r):e(n.closest(o)),i.a.post(n.attr("href"),{_method:"delete"}),!1}),e.on("click",".js-banner-toggle, .js-banner-toggle-button",()=>{i()(".js-banner-wrap",e).toggleClass("bg-red-400 bg-grey-200",500),i()(".js-banner-text",e).toggleClass("o0p",500).toggleClass("pointer-events-none",500),i()(".alert-container",e).toggleClass("alert-container--open",500),i()(".js-banner-toggle-icon",e).toggleClass("rotate-180",500),setTimeout(()=>{Object(l.a)()},501)})})},rcUh:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("q1tI");const i=e=>{const t=e.vertical?"pt".concat(e.vertical):"",n=e.horizontal?"pl".concat(e.horizontal):"";return a.createElement("span",{className:"block ".concat(t," ").concat(n)})}},riAN:function(e,t,n){"use strict";n.d(t,"h",function(){return a}),n.d(t,"f",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"i",function(){return u}),n.d(t,"g",function(){return s});const a={type:"visa",patterns:["4","450823","450875","450878"],lengths:[13,16],cvcLengths:[3],luhn:!0},i={type:"mastercard",patterns:["51","52","53","54","55","22","23","24","25","26","27"],lengths:[16],cvcLengths:[3],luhn:!0},r={type:"amex",patterns:["34","37"],lengths:[15],cvcLengths:[3,4],luhn:!0},o={type:"diners"},s={type:"unionpay"},c={type:"discover",patterns:["60","64","65","622"],lengths:[16],cvcLengths:[3],luhn:!0},l={type:"jcb",patterns:["35"],lengths:[16],cvcLengths:[3],luhn:!0},d={type:null,patterns:["0","1","2","3","4","5","6","7","8","9",""],lengths:[16],cvcLengths:[3],luhn:!0},u=[a,i,r,c,l,d]},"rm+a":function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a=e=>{"loading"===document.readyState?setTimeout(()=>a(e),10):e()}},"s0N+":function(e,t,n){var a=n("zZ0H"),i=n("a5q3"),r=i?function(e,t){return i.set(e,t),e}:a;e.exports=r},s3Av:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("q1tI"),i=n.n(a);class r extends i.a.Component{constructor(e){super(e),this.state={caughtError:!1}}componentDidCatch(e,t){if(this.setState({caughtError:!0}),this.props.KSRError){let n={componentStack:t.componentStack};this.props.KSRErrorTag&&(n.tags=this.props.KSRErrorTag),this.props.KSRError.notify(e,n)}}render(){if(this.state.caughtError){const e=this.props.fallbackComponent,t=this.props.fallbackProps||{};return e?i.a.createElement(e,t):null}return this.props.children}}},sEIR:function(e,t,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DislikeProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dislikeProject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"projectId"}}},{kind:"ObjectField",name:{kind:"Name",value:"trackingContext"},value:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"project"},directives:[]}]}}]}}]}}],loc:{start:0,end:266}};a.loc.source={body:'#import "../../shared/graph/query-definitions/project-fragment.graphql"\n\nmutation DislikeProject($projectId: ID!, $trackingContext: String) {\n  dislikeProject(input: { id: $projectId, trackingContext: $trackingContext }) {\n    project {\n      ...project\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};a.definitions=a.definitions.concat(n("stFp").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)}));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}a.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),r[e.name.value]=t}}),e.exports=a,e.exports.DislikeProject=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,i=new Set,s=new Set;for(a.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){i.has(e)||(i.add(e),(r[e]||new Set).forEach(function(e){s.add(e)}))})}return i.forEach(function(t){var a=o(e,t);a&&n.definitions.push(a)}),n}(a,"DislikeProject")},sFEt:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()(document).on("click","input#share_a_link",function(){i()("#share_a_link").focus().select()})},sIuw:function(e,t,n){"use strict";function a(e){return{isLoggedOut:!e,isFirstTimeWatching:Boolean(null==e?void 0:e.canSeeConfirmWatchModal),isFirstTimeLikingOrDisliking:Boolean(null==e?void 0:e.canSeeConfirmSignalModal),isEmailVerified:Boolean(null==e?void 0:e.isEmailVerified)}}n.d(t,"a",function(){return a})},sOmF:function(e,t,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UndislikeProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"undislikeProject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"projectId"}}},{kind:"ObjectField",name:{kind:"Name",value:"trackingContext"},value:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"project"},directives:[]}]}}]}}]}}],loc:{start:0,end:277}};a.loc.source={body:'#import "../../shared/graph/query-definitions/project-fragment.graphql"\nmutation UndislikeProject($projectId: ID!, $trackingContext: String) {\n  undislikeProject(\n    input: { id: $projectId, trackingContext: $trackingContext }\n  ) {\n    project {\n      ...project\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};a.definitions=a.definitions.concat(n("stFp").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)}));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}a.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),r[e.name.value]=t}}),e.exports=a,e.exports.UndislikeProject=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,i=new Set,s=new Set;for(a.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){i.has(e)||(i.add(e),(r[e]||new Set).forEach(function(e){s.add(e)}))})}return i.forEach(function(t){var a=o(e,t);a&&n.definitions.push(a)}),n}(a,"UndislikeProject")},sSbI:function(e,t,n){"use strict";var a=n("Z0cm"),i=n.n(a),r=n("q1tI"),o=n.n(r);const s=e=>{let t=e.url,n=e.altText;return o.a.createElement("div",{key:t,className:"w100p aspect-ratio aspect-ratio--16x9"},o.a.createElement("img",{src:t,alt:n}))};n.d(t,"a",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return u});const c=e=>t=>{let n=t;return t.preview&&t.preview.projectHeaderStoreName&&(n=t[t.preview.projectHeaderStoreName]),e(n)},l=e=>e&&e.data&&e.data.usd_type,d=e=>e.descriptionPhotos&&i()(e.descriptionPhotos)&&e.descriptionPhotos.length>0,u=(e,t)=>t?[{element:o.a.createElement("div",{key:"video-or-image"},e)},...t.map(e=>({element:o.a.createElement("div",{key:e.id},o.a.createElement(s,{url:e.imageUrl,alt:e.imageCaption})),caption:e.imageCaption}))]:[]},sZCt:function(e,t,n){var a=n("ttrC"),i=n("Ig5p");e.exports=function(e,t,n){return a(i,e,t,n)}},sett:function(e,t,n){"use strict";n.d(t,"f",function(){return d}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return p}),n.d(t,"e",function(){return h}),n.d(t,"d",function(){return f});var a=n("Ds2b"),i=n("g1y3"),r=n("2gvo"),o=n("7LsF"),s=n("0AyS"),c=n("q1tI"),l=n.n(c);const d={name:"create","primary-light":"ksr-green-500","primary-dark":"ksr-green-700","primary-accent":"ksr-green-500"},u=e=>l.a.createElement(o.a,Object.assign({theme:d},e)),m=e=>l.a.createElement(a.a,Object.assign({theme:d},e)),p=e=>l.a.createElement(i.a,Object.assign({theme:d},e)),h=e=>l.a.createElement(s.a,Object.assign({theme:d},e)),f=e=>l.a.createElement(r.a,Object.assign({theme:d},e))},srCT:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ViewPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isKsrAdmin"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pinnedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publish"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"destroy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"read"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pin"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"120"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"authorRole"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isPublic"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isLiked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likesCount"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"timeLeftToEdit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nextPost"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"previousPost"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:616}};n.loc.source={body:"query ViewPost($id: ID!) {\n  me {\n    id\n    isKsrAdmin\n  }\n  post(id: $id) {\n    id\n    type\n    title\n    publishedAt\n    pinnedAt\n    number\n    actions {\n      publish\n      destroy\n      update\n      read\n      edit\n      pin\n    }\n    author {\n      name\n      imageUrl(width: 120)\n    }\n    authorRole\n    project {\n      state\n    }\n    isPublic\n    isLiked\n    likesCount\n    ... on CreatorInterview {\n      commentsCount(withReplies: true)\n    }\n    ... on FreeformPost {\n      commentsCount(withReplies: true)\n    }\n    timeLeftToEdit\n    nextPost {\n      id\n    }\n    previousPost {\n      id\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.ViewPost=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"ViewPost")},stFp:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"project"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Project"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDisliked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isLiked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isWatched"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isWatchable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isLaunched"},arguments:[],directives:[]}]}}],loc:{start:0,end:105}};n.loc.source={body:"fragment project on Project {\n  id\n  pid\n  isDisliked\n  isLiked\n  isWatched\n  isWatchable\n  isLaunched\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},t1f3:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("94td"),i=n("q1tI");const r=e=>{let t=e.name,n=e.atoms,r=e.width;const o=(e=>{switch(e){case"book":return{url:"https://ksr-static.imgix.net/neijqbvs-open.png?ixlib=rb-2.1.0&auto=compress%2Cformat&w=1000&fit=min&s=5827719540e6d5aa0f4f2e7412fe6a86",altText:Object(a.b)("illustrations.A_book")};case"blue-stairs":return{url:"https://ksr-static.imgix.net/FINAL_KSR_10_BLUE-STAIRS_01.png?ixlib=rb-1.1.0&auto=compress&w=1000&fit=min&s=f48bab4809a7ae558f768f1d0f17b38e",altText:Object(a.b)("illustrations.Blue_stairs")};case"camera":return{url:"https://ksr-static.imgix.net/fzezqniu-camera.png?ixlib=rb-2.1.0&auto=compress%2Cformat&w=1000&fit=min&s=8b520c322b6438b4fcff9ca77615c02e",altText:Object(a.b)("illustrations.A_camera")};case"coral-cube":return{url:"https://ksr-static.imgix.net/FINAL_KSR_10_CORAL-CUBE_01.png?ixlib=rb-1.1.0&auto=compress&w=1000&fit=min&s=ff76fadeacdfdc77476b4571aab17dd9",altText:Object(a.b)("illustrations.A_coral_colored_cube")};case"coral-hollow-cylinder":return{url:"https://ksr-static.imgix.net/FINAL_KSR_10_CORAL-TUBE_01.png?ixlib=rb-1.1.0&auto=compress&w=1000&fit=min&s=b9d06ac1f74686b326d06511ef47ee81",altText:Object(a.b)("illustrations.A_coral_colored_cylinder")};case"coral-sphere":return{url:"https://ksr-static.imgix.net/FINAL_KSR_10_CORAL-SPHERE_01.png?ixlib=rb-1.1.0&auto=compress&w=1000&fit=min&s=6dd141b981c74b33b0ebd88a0cbc76b7",altText:Object(a.b)("illustrations.A_coral_colored_sphere")};case"film-roll":return{url:"https://ksr-static.imgix.net/h0mqnt9o-film_reel.png?ixlib=rb-2.1.0&auto=compress%2Cformat&w=1000&fit=min&s=9369934c88335f212ae4d4e32bacbfd5",altText:Object(a.b)("illustrations.A_film_roll")};case"film-slate":return{url:"https://ksr-static.imgix.net/fjxhzezi-film_slate.png?ixlib=rb-2.1.0&auto=compress%2Cformat&w=1000&fit=min&s=79857cd93546f82da49d66e2632ba64a",altText:Object(a.b)("illustrations.A_film_slate")};case"geometric-shape":return{url:"https://ksr-static.imgix.net/llmd9vvt-geometric_shape.png?ixlib=rb-2.1.0&auto=compress%2Cformat&w=1000&fit=min&s=09f81c072ca414bdd544fa43794b6af0",altText:Object(a.b)("illustrations.A_geometric_shape")};case"paintbrush":return{url:"https://ksr-static.imgix.net/k7mir4uc-paintbrush.png?ixlib=rb-2.1.0&auto=compress%2Cformat&w=1000&fit=min&s=6dd72d713fe7f11b5ffd8ed5218e2dad",altText:Object(a.b)("illustrations.A_paintbrush")};case"teeth-chattering":return{url:"https://ksr-static.imgix.net/FINAL_KSR_10_CHATTERING_TEETH_02.png?ixlib=rb-1.1.0&auto=compress&w=1000&fit=min&s=92fe42183b82b169d1453bb94ac300ba",altText:Object(a.b)("illustrations.Teeth_chattering")};case"yellow-disc":return{url:"https://ksr-static.imgix.net/FINAL_KSR_10_YELLOW-DISC_01.png?ixlib=rb-1.1.0&auto=compress&w=1000&fit=min&s=39dcbd5cac8d508b0646822b20ab6677",altText:Object(a.b)("illustrations.A_yellow_colored_disc")};case"yellow-stairs":return{url:"https://ksr-static.imgix.net/lt35ik9d-Stairs_8.png?ixlib=rb-2.1.0&s=1e3f1c7713730b0ab2dc527225711d18",altText:Object(a.b)("illustrations.A_yellow_colored_staircase")};default:return{url:"",altText:""}}})(t);return i.createElement("img",{className:n&&n.join(" "),src:o.url,alt:o.altText,width:r})}},t2dP:function(e,t){e.exports=function(e,t){for(var n=e.length,a=0;n--;)e[n]===t&&++a;return a}},t8gO:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostsFeed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isKsrAdmin"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canUserRequestUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timeline"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Project"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"goal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pledged"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"backersCount"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pinnedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"read"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pin"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"120"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"authorRole"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPublic"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likesCount"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"answers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"question"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nativeImages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1645}};n.loc.source={body:"query PostsFeed($projectSlug: String!, $cursor: String) {\n  me {\n    id\n    isKsrAdmin\n  }\n  project(slug: $projectSlug) {\n    id\n    slug\n    state\n    canUserRequestUpdate\n    timeline(first: 10, after: $cursor) {\n      totalCount\n      pageInfo {\n        hasNextPage\n        endCursor\n      }\n      edges {\n        node {\n          type\n          timestamp\n          data {\n            ... on Project {\n              goal {\n                currency\n                amount\n              }\n              pledged {\n                currency\n                amount\n              }\n              backersCount\n            }\n            ... on Postable {\n              id\n              type\n              title\n              publishedAt\n              pinnedAt\n              number\n              actions {\n                read\n                pin\n              }\n              author {\n                name\n                imageUrl(width: 120)\n              }\n              authorRole\n              isPublic\n              likesCount\n              ... on CreatorInterview {\n                commentsCount(withReplies: true)\n                answers {\n                  nodes {\n                    id\n                    body\n                    question {\n                      id\n                      body\n                    }\n                  }\n                }\n              }\n              ... on FreeformPost {\n                commentsCount(withReplies: true)\n                body\n                nativeImages {\n                  id\n                  url\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.PostsFeed=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"PostsFeed")},tQbK:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("SKdt"),o=n("SmhT");n("RIhn");i()(function(){var e;function t(t){var n=i()(t.currentTarget);if(!n.hasClass("ksr-popover-excluded")){var o=i()('.ksr-popover[data-target-id="#'+n.attr("id")+'"], .js-popover[data-target-id="#'+n.attr("id")+'"]');if(!o.hasClass("visible")&&!o.hasClass("block"))return function(t){var n=t.data("ksr_popover_override");if("function"==typeof n&&!n(t))return;var o=i()(t.data("targetId"));o.hasClass("js-popover-trigger")?o.removeClass("shadow-2 border-transparent").addClass("border-dark-grey-500"):o.addClass("ksr-popover-active");e&&a();e=t,t.hasClass("js-popover")?t.addClass("block"):t.addClass("visible");i()("body").addClass("ksr-popover-visible"),r.a.mobile&&i()("body, html").addClass("ksr-mobile-popover-visible");s(t),i()(document).trigger("ksr_popover:opened",{$popover:t})}(o),!1;a()}}var n={};function a(t){var n=(t=t||{}).update_focus||!1;if(e){var a=i()(e.data("targetId"));a.hasClass("js-popover-trigger")?a.addClass("shadow-2 border-transparent").removeClass("border-dark-grey-500"):a.removeClass("ksr-popover-active"),e.hasClass("js-popover")?e.removeClass("block"):e.removeClass("visible"),i()("body").removeClass("ksr-popover-visible"),i()("body, html").removeClass("ksr-mobile-popover-visible"),n&&a.find(".ksr-icon__arrow-down").focus(),i()(document).trigger("ksr_popover:closed",{$popover:e}),e=!1}}function s(e){var t,n=e.data("targetId"),a=i()(n),o=i()(window).width(),s=a.offset().top+a.outerHeight()+20;if(e.hasClass("js-popover"))o<600?e.css({top:0,left:0}):(t=a.offset().left,t-=Math.max(0,t+e.outerWidth()-(o-4)),t=Math.max(4,t),e.offset({left:t,top:s}));else{if(r.a.mobile)return;t=a.offset().left-32,t-=Math.max(0,t+e.outerWidth()-(o-32)),t=Math.max(4,t),e.offset({left:t,top:s}),e.find(".arrow").css({left:a.offset().left-e.offset().left+a.outerWidth()/2})}}i()(".ksr-popover, .js-popover").livequery(function(){var e=i()(this).data("targetId");n[e]||(i()(document).on("click",e,t),n[e]=!0)}),i()(document).on("click",".ksr-popover .close, .js-popover .close",function(e){a(),e.preventDefault()}),i()(document).on("ksr_popover:reposition",".ksr-popover, .js-popover",function(){s(i()(this))}),i()(document).on("ksr_popover:close",".ksr-popover, .js-popover",function(){a()}),i()(document).on("click",function(t){i()(t.target).closest(e).length||a()}),i()(document).on("keydown",function(e){e.keyCode===o.d&&a({update_focus:!0})}),i()(document).on("ksr_popover:opened",function(e,t){t.$popover.aria_set_visible().aria_focus_first_element().aria_activate_keyboard_tabindex()}),i()(document).on("ksr_popover:closed",function(e,t){t.$popover.aria_set_hidden().aria_deactivate_keyboard_tabindex()})})},tmAf:function(e,t,n){"use strict";var a=n("ioZw");t.a=function(e){return e.show_more_backings=e.total>e.backings.length,e.count=e.total,e.backings=e.backings.map(e=>Object(a.a)(Object.assign(e.get()))),e}},tr1H:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a={PROCOMM:"procomm",SYSINT:"sysint",POST_UPDATES:"post_updates",REWARDS_FULFILLMENT:"rewards_fulfillment"}},tstM:function(e,t,n){"use strict";var a=n("KHPI"),i=n("h4vE");n("585W");Object(i.a)("body#projects_dashboard",function(){var e=Object(a.a)("#projects_dashboard #activity").find(".mobius").data("mobius");if(void 0===e)return!1;function t(e){var t=Object(a.a)(e);t.closest(".activity-filters").find("a").removeClass("current"),t.addClass("current")}function n(t){var n=Object(a.a)(t);a.a.ajax({type:"get",dataType:"html",url:n.attr("href"),success:function(t){const i=n.data("filter");var r=Object(a.a)(t).find(".mobius").children();Object(a.a)("#activity .mobius").html(r).trigger("mobius:loaded_page",[1,r]),e.clear_extra_params(),i&&e.add_param("cat",i),e.current_page=1}})}e.current_page=0;const i=new URLSearchParams(document.location.search.substring(1)).get("activity_tab")||'""',r=Object(a.a)("#projects_dashboard .activity-filters").find("a[data-filter=".concat(i,"]"));r.length>0&&(t(r),n(r)),Object(a.a)(document).on("click","#projects_dashboard .activity-filters a",function(e){e.preventDefault();var i=Object(a.a)(this);t(i),n(i)})})},ttrC:function(e,t,n){var a=n("iGAk"),i=n("wuTn"),r=Array.prototype.push;function o(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function c(e,t){return function(){var n=arguments.length;if(n){for(var a=Array(n);n--;)a[n]=arguments[n];var i=a[0]=t.apply(void 0,a);return e.apply(void 0,a),i}}}e.exports=function e(t,n,l,d){var u="function"==typeof n,m=n===Object(n);if(m&&(d=l,l=n,n=void 0),null==l)throw new TypeError;d||(d={});var p={cap:!("cap"in d)||d.cap,curry:!("curry"in d)||d.curry,fixed:!("fixed"in d)||d.fixed,immutable:!("immutable"in d)||d.immutable,rearg:!("rearg"in d)||d.rearg},h=u?l:i,f="curry"in d&&d.curry,g="fixed"in d&&d.fixed,b="rearg"in d&&d.rearg,_=u?l.runInContext():void 0,v=u?l:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},k=v.ary,y=v.assign,j=v.clone,E=v.curry,w=v.forEach,S=v.isArray,O=v.isError,C=v.isFunction,N=v.isWeakMap,x=v.keys,T=v.rearg,I=v.toInteger,D=v.toPath,P=x(a.aryMethod),A={castArray:function(e){return function(){var t=arguments[0];return S(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],a=e(t,n),i=a.length;return p.cap&&"number"==typeof n?(n=n>2?n-2:1,i&&i<=n?a:o(a,n)):a}},mixin:function(e){return function(t){var n=this;if(!C(n))return e(n,Object(t));var a=[];return w(x(t),function(e){C(t[e])&&a.push([e,n.prototype[e]])}),e(n,Object(t)),w(a,function(e){var t=e[1];C(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]}),n}},nthArg:function(e){return function(t){var n=t<0?1:I(t)+1;return E(e(t),n)}},rearg:function(e){return function(t,n){var a=n?n.length:0;return E(e(t,n),a)}},runInContext:function(n){return function(a){return e(t,n(a),d)}}};function R(e,t){if(p.cap){var n=a.iterateeRearg[e];if(n)return function(e,t){return B(e,function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(T(o(e,n),t),n)})}(t,n);var i=!u&&a.iterateeAry[e];if(i)return function(e,t){return B(e,function(e){return"function"==typeof e?o(e,t):e})}(t,i)}return t}function F(e,t,n){if(p.fixed&&(g||!a.skipFixed[e])){var i=a.methodSpread[e],o=i&&i.start;return void 0===o?k(t,n):function(e,t){return function(){for(var n=arguments.length,a=n-1,i=Array(n);n--;)i[n]=arguments[n];var o=i[t],s=i.slice(0,t);return o&&r.apply(s,o),t!=a&&r.apply(s,i.slice(t+1)),e.apply(this,s)}}(t,o)}return t}function L(e,t,n){return p.rearg&&n>1&&(b||!a.skipRearg[e])?T(t,a.methodRearg[e]||a.aryRearg[n]):t}function M(e,t){for(var n=-1,a=(t=D(t)).length,i=a-1,r=j(Object(e)),o=r;null!=o&&++n<a;){var s=t[n],c=o[s];null==c||C(c)||O(c)||N(c)||(o[s]=j(n==i?c:Object(c))),o=o[s]}return r}function U(t,n){var i=a.aliasToReal[t]||t,r=a.remap[i]||i,o=d;return function(t){var a=u?_:v,s=u?_[r]:n,c=y(y({},o),t);return e(a,i,s,c)}}function B(e,t){return function(){var n=arguments.length;if(!n)return e();for(var a=Array(n);n--;)a[n]=arguments[n];var i=p.rearg?0:n-1;return a[i]=t(a[i]),e.apply(void 0,a)}}function q(e,t,n){var i,r=a.aliasToReal[e]||e,o=t,l=A[r];return l?o=l(t):p.immutable&&(a.mutate.array[r]?o=c(t,s):a.mutate.object[r]?o=c(t,function(e){return function(t){return e({},t)}}(t)):a.mutate.set[r]&&(o=c(t,M))),w(P,function(e){return w(a.aryMethod[e],function(t){if(r==t){var n=a.methodSpread[r],s=n&&n.afterRearg;return i=s?F(r,L(r,o,e),e):L(r,F(r,o,e),e),i=function(e,t,n){return f||p.curry&&n>1?E(t,n):t}(0,i=R(r,i),e),!1}}),!i}),i||(i=o),i==t&&(i=f?E(i,1):function(){return t.apply(this,arguments)}),i.convert=U(r,t),i.placeholder=t.placeholder=n,i}if(!m)return q(n,l,h);var $=l,H=[];return w(P,function(e){w(a.aryMethod[e],function(e){var t=$[a.remap[e]||e];t&&H.push([e,q(e,t,$)])})}),w(x($),function(e){var t=$[e];if("function"==typeof t){for(var n=H.length;n--;)if(H[n][0]==e)return;t.convert=U(e,t),H.push([e,t])}}),w(H,function(e){$[e[0]]=e[1]}),$.convert=function(e){return $.runInContext.convert(e)(void 0)},$.placeholder=$,w(x($),function(e){w(a.realToAlias[e]||[],function(t){$[t]=$[e]})}),$}},u5Zg:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("GRmu"),o=n("qcI4"),s=n("TIPN"),c=n("/AD1"),l=n("2UXI");i()(function(){i()(".js-track-last-updated").on("click",()=>{Object(l.d)("Last Updated Clicked")}),i()("#last-updated-link").on("click",e=>{e.preventDefault(),Object(s.e)({to:i()(".NS_projects__content").offset().top,easing:"easeInOutCubic",duration:300,offset:20})}),i()(document).on("project_added_to_curated_page",function(e,t){var n=i()("#add_to_curated_page_widget .button-curate");n.addClass("on"),n.attr("href",t.edit_url)}),void 0!==c.a&&c.a.on_change("pledged",function(){var e=i()("#stats"),t=e[0].className.match(/digits_\d+/),n="digits_"+Math.floor(c.a.get("pledged")).toString().length;t&&t[0]!==n&&e.removeClass(t[0]).addClass(n)}),i()(".js-checkout-poller").livequery(function(){var e=i()(this),t=i()('<span class="spinner" />').spin("ksr","#333");e.append(t),i.a.pollster(e.data("href"),function(t){return"successful"===t.state?(window.location.reload(),!0):"failed"===t.state?(Object(r.a)({error:t.state_reason}),e.closest(".notification-message").remove(),!0):void 0},{delay:2500})});var e={};i()(".poll[data-dynamic]").livequery(function(){var t,n=i()(this),a=parseInt(n.data("dynamic"),10),r=n.data("poll_url"),s=5,c=60;function l(e){var n,i=e.responseText;if("string"==typeof i)try{i=JSON.parse(i)}catch(e){i={}}i.project&&(n=o.e.find(i.project.id),a=i.poll_interval_override||function(e,t,n){var a;return t.get("pledged")!==n.pledged||t.get("comments_count")!==n.comments_count?(a=e-Math.ceil((e-s)/2),Math.max(a,s)):(a=e+10,Math.min(a,c))}(a,n,i.project),n.set(i.project)),t(a)}r&&"number"==typeof a&&!isNaN(a)&&(t=function(t){e[r]=setTimeout(function(){e[r]=i.a.ajax({global:!1,url:r,complete:l})},1e3*t)})(a)},function(){var t=e[i()(this).data("poll_url")];"number"==typeof t?clearTimeout(t):"function"==typeof t.abort&&t.abort()})})},uAMZ:function(e,t,n){var a=n("+2Rf");n("+2Rf");!function(e){function t(e,t){return"function"==typeof e?e.call(t):e}function n(e){for(;e=e.parentNode;)if(e==document)return!0;return!1}var a=0;function i(t,n){this.$element=e(t),this.options=n,this.enabled=!0,this.fixTitle()}i.prototype={show:function(){var i,r;if(n(this.$element[0])&&(i=this.$element,(!("object"==typeof HTMLElement?i instanceof HTMLElement:i&&"object"==typeof i&&1===i.nodeType&&"string"==typeof i.nodeName)||this.$element.is(":visible"))&&this.enabled&&(r=this.getTitle()))){var o=this.tip();o.find(".tipsy-inner"+this.options.theme)[this.options.html?"html":"text"](r),o[0].className="tipsy"+this.options.theme,this.options.className&&o.addClass(t(this.options.className,this.$element[0])),o.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var s=e.extend({},this.$element.offset());s=this.$element.parents("svg").size()>0?e.extend(s,this.$element[0].getBBox()):e.extend(s,{width:this.$element[0].offsetWidth||0,height:this.$element[0].offsetHeight||0});var c,l=o[0].offsetWidth,d=o[0].offsetHeight,u=t(this.options.gravity,this.$element[0]);switch(u.charAt(0)){case"n":c={top:s.top+s.height+this.options.offset,left:s.left+s.width/2-l/2};break;case"s":c={top:s.top-d-this.options.offset,left:s.left+s.width/2-l/2};break;case"e":c={top:s.top+s.height/2-d/2,left:s.left-l-this.options.offset};break;case"w":c={top:s.top+s.height/2-d/2,left:s.left+s.width+this.options.offset}}if(2==u.length&&("w"==u.charAt(1)?c.left=s.left+s.width/2-15:c.left=s.left+s.width/2-l+15),o.css(c).addClass("tipsy-"+u+this.options.theme),o.find(".tipsy-arrow"+this.options.theme)[0].className="tipsy-arrow"+this.options.theme+" tipsy-arrow-"+u.charAt(0)+this.options.theme,this.options.fade?(this.options.shadow&&e(".tipsy-inner").css({"box-shadow":"0px 0px "+this.options.shadowBlur+"px "+this.options.shadowSpread+"px rgba(0, 0, 0, "+this.options.shadowOpacity+")","-webkit-box-shadow":"0px 0px "+this.options.shadowBlur+"px "+this.options.shadowSpread+"px rgba(0, 0, 0, "+this.options.shadowOpacity+")"}),o.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity})):o.css({visibility:"visible",opacity:this.options.opacity}),this.options.aria){var m="tipsyuid"+a++;o.attr("id",m),this.$element.attr("aria-describedby",m)}}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){e(this).remove()}):this.tip().remove(),this.options.aria&&this.$element.removeAttr("aria-describedby")},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("original-title"))&&e.attr("original-title",e.attr("title")||"").removeAttr("title")},getTitle:function(){var e,t=this.$element,n=this.options;return this.fixTitle(),"string"==typeof n.title?e=t.attr("title"==n.title?"original-title":n.title):"function"==typeof n.title&&(e=n.title.call(t[0])),(e=(""+e).replace(/(^\s*|\s*$)/,""))||n.fallback},tip:function(){return this.$tip||(this.$tip=e('<div class="tipsy'+this.options.theme+'"></div>').html('<div class="tipsy-arrow'+this.options.theme+'"></div><div class="tipsy-inner'+this.options.theme+'"></div>').attr("role","tooltip"),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},e.fn.tipsy=function(t){if(e.fn.tipsy.enable(),!0===t)return this.data("tipsy");if("string"==typeof t){var a=this.data("tipsy");return a&&a[t](),this}function r(n){var a=e.data(n,"tipsy");return a||(a=new i(n,e.fn.tipsy.elementOptions(n,t)),e.data(n,"tipsy",a)),a}function o(){if(!0===e.fn.tipsy.enabled){var a=r(this);a.hoverState="in",0===t.delayIn?a.show():(a.fixTitle(),setTimeout(function(){"in"==a.hoverState&&n(a.$element)&&a.show()},t.delayIn))}}function s(){var e=r(this);e.hoverState="out",0===t.delayOut?e.hide():setTimeout(function(){"out"!=e.hoverState&&e.$element&&e.$element.is(":visible")||e.hide()},t.delayOut)}if((t=e.extend({},e.fn.tipsy.defaults,t)).theme=t.theme&&""!==t.theme?"-"+t.theme:"",t.live||this.each(function(){r(this)}),"manual"!=t.trigger){var c="hover"==t.trigger?"mouseenter mouseover touchstart":"focus",l="hover"==t.trigger?"mouseleave mouseout touchmove touchleave":"blur";if(t.live&&!0!==t.live)e(this).on(c,t.live,o),e(this).on(l,t.live,s);else{if(t.live&&!e.live)throw"Since jQuery 1.9, pass selector as live argument. eg. $(document).tipsy({live: 'a.live'});";var d=t.live?"live":"bind";this[d](c,o)[d](l,s)}}return this},e.fn.tipsy.defaults={aria:!1,className:null,delayIn:0,delayOut:0,fade:!1,shadow:!1,shadowBlur:8,shadowOpacity:1,shadowSpread:0,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover",theme:""},e.fn.tipsy.revalidate=function(){e(".tipsy").each(function(){var t=e.data(this,"tipsy-pointee");t&&n(t)||e(this).remove()})},e.fn.tipsy.enable=function(){e.fn.tipsy.enabled=!0},e.fn.tipsy.disable=function(){e.fn.tipsy.enabled=!1},e.fn.tipsy.elementOptions=function(t,n){return e.metadata?e.extend({},n,e(t).metadata()):n},e.fn.tipsy.autoNS=function(){return e(this).offset().top>e(document).scrollTop()+e(window).height()/2?"s":"n"},e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"e":"w"},e.fn.tipsy.autoNWNE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"ne":"nw"},e.fn.tipsy.autoSWSE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"se":"sw"},e.fn.tipsy.autoBounds=function(t,n,a){return function(){var i={ns:a[0],ew:a.length>1&&a[1]},r=e(document).scrollTop()+t,o=e(document).scrollLeft()+n,s=e(this);return s.offset().top<r&&(i.ns="n"),s.offset().left<o&&(i.ew="w"),e(window).width()+e(document).scrollLeft()-s.offset().left<n&&(i.ew="e"),e(window).height()+e(document).scrollTop()-s.offset().top<t&&(i.ns="s"),i.ns+(i.ew?i.ew:"")}}}(a)},uBBe:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n("DjBF"),i=n("lHf8"),r=n("2DJ9"),o=n("mv45"),s=n("94td"),c=n("q1tI"),l=n.n(c),d=n("wdXr"),u=n("2UXI"),m=n("5j0V");const p=Object(o.j)(m.a,e=>{const t=e.ownProps,n=t.projectId,a=t.className,i=t.location;return{className:a,makeRequest:()=>e.mutate({variables:{projectId:n,location:i}}),location:i}})(e=>{let t=e.makeRequest,n=e.className,o=void 0===n?"":n,m=e.location;const p=Object(c.useState)(!1),h=Object(a.a)(p,2),f=h[0],g=h[1],b=Object(c.useState)(!1),_=Object(a.a)(b,2),v=_[0],k=_[1],y=Object(d.a)({rootMargin:"0%"}),j=y.targetRef,E=y.didIntersect;Object(c.useEffect)(()=>{E&&Object(u.d)("Viewed Request Update",{context:m})},[E]);return v?null:l.a.createElement("div",{"data-test-id":"project-update-request-form",className:"p2 bg-trust-100 trust-700 type-16 flex justify-between items-center ".concat(o)},f?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{"data-test-id":"project-update-request-success-message"},l.a.createElement(r.a,{name:"icon--check",size:"20",atoms:["fill-trust-700","mr2"]}),Object(s.b)("project_page.project_update_request.Thanks_we_will_request")),l.a.createElement("div",{className:"flex justify-end"},l.a.createElement(i.a,{"data-test-id":"project-update-request-dismiss",atoms:["mx3","text-underline","type-16"],color:"trust-blue",onClick:()=>k(!0)},Object(s.b)("project_page.project_update_request.Ok")))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"mr2 flex2",ref:j},Object(s.b)("project_page.project_update_request.Would_you_like_to_request")),l.a.createElement("div",{className:"flex justify-end flex1"},l.a.createElement(i.a,{"data-test-id":"project-update-request-submit",atoms:["mr4","text-underline","type-16"],color:"trust-blue",onClick:e=>{e.preventDefault(),t(),g(!0)}},Object(s.b)("project_page.project_update_request.Yes_request")),l.a.createElement(i.a,{"data-test-id":"project-update-request-no",atoms:["text-underline","type-16"],color:"trust-blue",onClick:()=>{Object(u.d)("Dismissed Request Update",{context:m}),k(!0)}},Object(s.b)("project_page.project_update_request.No_request")))))})},uJlH:function(e,t,n){"use strict";var a=n("ese3"),i=n("KKf6"),r=n("0VSk"),o=n("2UXI"),s=n("+2Rf");n("+2Rf");!function(e){function t(t,n){this.$elem=t,this.$close_a=t.find("a.modal_dialog_close");var a=t.children(),i=a.children(),r=i.children(),o=t.add(a).add(i).add(r).add(this.$close_a);this.options=e.extend({close_link:o,scroll_margin:20,ignore_parent:!1,prevent_close:!1},n),this.prevent_close=this.options.prevent_close,this.prevent_close&&this.$close_a.hide(),this.options.ignore_parent||this._bind_parent_modal(),this._remember_original_css(),this._attach()}e.fn.modal_dialog=function(n){return n=n||{},e(this).each(function(){var a=e(this).data("modal_dialog");a||(a=new t(e(this),n),e(this).data("modal_dialog",a)),a.open()})};var s={};e.create_modal_dialog=function(n,a,i){i=i||{},n.length&&(n="<h4>"+n+"</h4>");var r,o=e('<div class="modal_dialog '+(void 0!==i.theme?i.theme:"dark")+(void 0!==i.class_name?" "+i.class_name:"")+'"'+(void 0!==i.id?' id="'+i.id+'" ':" ")+'style="display: none;"><div class="modal_dialog_outer"><div class="modal_dialog_sizer"><div class="modal_dialog_inner"><div class="modal_dialog_content"><div class="modal_dialog_head">'+n+'<a class="modal_dialog_close" href="#"><span class="ss-icon ss-delete"></span></a></div><div class="modal_dialog_body">'+a+'</div></div></div><span class="modal_dialog_ie_hack"></span></div></div></div>');return e("body").append(o),r=new t(o,i),o.data("modal_dialog",r),o},e.create_login_modal=function(t,n){Object(o.d)("Application Login or Signup",{context:"Login",type:"modal",intent:n});var a=e.create_modal_dialog("",t);a.data("modal_dialog").open(),"undefined"!=typeof FB&&FB.XFBML.parse(a.find(".modal_dialog_body")[0])},e.open_remote_modal_dialog=function(t,n){var i=e(".modal_dialog:visible");if(!i.data("modal_dialog")||i.data("modal_dialog").remote_url!==t){var r=function(t,n){var i,r=e([]);return e.each(s,function(e){Object(a.a)(t,e,{include_query:!0})&&(i=this)}),i||((r=e.create_modal_dialog(n.title||"","spinner",n)).addClass("spinning"),(i=r.data("modal_dialog")).remote_url=t,i.remote_xhr=e.ajax({url:t,type:"get",dataType:n.dataType,beforeSend:n.beforeSend,success:function(a){var i=e(a);n.remote_modal_dialog_contents_loaded&&n.remote_modal_dialog_contents_loaded.apply(this,[i,n,t]),r.find(".modal_dialog_body").html(i),r.removeClass("spinning"),r.trigger("size_change"),r.trigger("modal_dialog:remote_dialog_loaded")},error:function(){r.trigger("modal_dialog:errored",arguments),r.remove(),delete s[t]}}),n.do_not_cache||(s[t]=i)),i}(t,n=n||{});return r.open(),r}},e.extend(t.prototype,{_attach:function(){if(this._attached)return;var t=this,a=e(this.options.close_link);this._attached=!0,this.overflow_scroll="scroll"===this.$elem.css("overflow"),this.$elem.on("close.modal_dialog",function(){t.close()}),this.$elem.on("size_change.modal_dialog",function(){t._on_size_changed()}),this.$elem.on("prevent_close.modal_dialog",function(){t._set_prevent_close(!0)}),this.$elem.on("allow_close.modal_dialog",function(){t._set_prevent_close(!1)}),e(window).on("resize.modal_dialog",function(){t._on_size_changed()}),a.on("click.modal_dialog",function(e){-1!==a.index(e.target)&&(t.close(e),e.preventDefault())});const i=this.$elem.find(".modal_dialog_content")[0];i&&n.e(104).then(n.bind(null,"bdgK")).then(e=>{new(0,e.default)(()=>{t._on_size_changed()}).observe(i)}),this.$elem.keydown(function(e){27===e.keyCode&&(t.close(e),e.preventDefault())})},_detach:function(){this._attached=!1,e(this.options.close_link).off("click.modal_dialog"),this.$elem.off("size_change.modal_dialog"),e(window).off("resize.modal_dialog")},_bind_parent_modal:function(){this.$parent_modal=e([]),this.$elem.on("before_close.modal_dialog",function(){var t=e(this).data("modal_dialog").$parent_modal;t.show(),t=e([])})},_on_size_changed:function(e){var t=this.$elem.find("div.modal_dialog_inner");!this.overflow_scroll&&t.height()>this._get_viewport_height()?this._resize_to_position_absolute(e):this._resize_to_position_fixed()},_resize_to_position_fixed:function(){this._apply_original_css()},_resize_to_position_absolute:function(t){var n=e(document).height(),a=document.documentElement&&document.documentElement.scrollTop||e("body")[0].scrollTop+e("html")[0].scrollTop,i=this.$elem.find("div.modal_dialog_inner"),r=i.height(),o=this.options.scroll_margin,s=a+r+2*o,c=(s>n?s:n)-a-r-2*o,l="absolute"===this.$elem.css("position");this.$elem.css("position","absolute"),this.$elem.css("top","0"),this.$elem.css("height",n),l&&!t||(i.css("margin-top",a+o),i.css("margin-bottom",c))},_remember_original_css:function(){this._elem_original_css={},this._inner_original_css={};var t=this.$elem.find("div.modal_dialog_inner"),n=["position","top"],a=["margin-top","margin-bottom"],i=this;e.each(n,function(e){var t=n[e];i._elem_original_css[t]=i.$elem.css(t)}),e.each(a,function(e){var n=a[e];i._inner_original_css[n]=t.css(n)})},_get_viewport_height:function(){return i.a.msie?window.document.documentElement.clientHeight:window.innerHeight},_apply_original_css:function(){var e,t,n=this.$elem.find("div.modal_dialog_inner");for(e in this._elem_original_css)this._elem_original_css.hasOwnProperty(e)&&(t=this._elem_original_css[e],this.$elem.css(e,t));for(e in this._inner_original_css)this._inner_original_css.hasOwnProperty(e)&&(t=this._inner_original_css[e],n.css(e,t));this.$elem.css("height","100%")},_set_prevent_close:function(e){this.prevent_close=e,e?this.$close_a.hide():this.$close_a.show()},open:function(){var t=this.$elem.parents("body");t.length&&t.append(this.$elem),this.options.ignore_parent||(this.$parent_modal=e(".modal_dialog:visible"),this.$parent_modal.hide()),this.$elem.show(),this._on_size_changed(!0),this.overflow_scroll&&e("html").css("overflow","hidden"),this.$elem.trigger("modal_dialog:opened",[this]),this._attach()},close:function(t){this.prevent_close||(this.$elem.trigger("before_close.modal_dialog",[t]),t&&t.isDefaultPrevented()||(this._detach(),this.options.do_not_cache?this.$elem.remove():this.$elem.hide(),this.overflow_scroll&&e("html").css("overflow","scroll"),this.$elem.trigger("closed.modal_dialog",[t])))}}),e.modal_confirm=function(t,n){var a,i,o,s={message:r.default.t("library.modal_dialog.Do_you_really_want_to_do_this"),confirm_text:r.default.t("library.modal_dialog.Confirm"),cancel_text:r.default.t("library.modal_dialog.Cancel"),title:r.default.t("library.modal_dialog.Are_you_sure")};a='<div style="max-width:600px;">'+(n=e.extend({},s,n)).message+'<p class="clearfix"><a class="confirm btn btn--blue left" href="#">'+n.confirm_text+'</a><a class="cancel button-space left ml1 lh40 grey-dark" href="#">'+n.cancel_text+"</a></p></div>",i=e.create_modal_dialog(n.title,a),o=i.data("modal_dialog"),i.find(".cancel").click(function(e){e.preventDefault(),o.close()}),i.find(".confirm").click(function(e){e.preventDefault(),t.call(i),o.close()}),o.open()}}(s)},uM7l:function(e,t,n){var a=n("OBhP"),i=4;e.exports=function(e){return a(e,i)}},uOK1:function(e,t,n){"use strict";var a=n("q1tI"),i=n.n(a),r=n("i8i4"),o=n.n(r),s=n("+2Rf"),c=n.n(s),l=n("a+N5"),d=n.n(l),u=n("q1z7"),m=n.n(u),p=n("wpot"),h=n("YEaP"),f=n("0VSk"),g=n("SmhT");n("gtN/");window.VideoTrackView=m.a.View.extend({VIDEO_PAUSE_LENGTH:1e3,PIXELS_PER_SECOND:100,MINIMUM_MILLISECONDS:2e3,NEW_CAPTION_OFFSET:-500,events:{"click .js-timeline":"jumpTimelineEvent","click .js-cue":"pauseEvent","keypress .js-cue-textarea":"autoPauseEvent","keydown .js-cue-textarea":"catchWaywardKeysEvent","keyup .js-cue-textarea":"typeInCueEvent","cut .js-cue-textarea":"cutPasteInCueEvent","paste .js-cue-textarea":"cutPasteInCueEvent","mousemove .js-timeline":"showHoverLineEvent","mouseleave .js-timeline":"hideHoverLineEvent","click .js-save-track":"saveTrackEvent","click .js-destroy-cue":"destroyCueEvent"},initialize:function(){this.model.on("add:cues_attributes",d.a.bind(this.addCue,this)),this.model.on("destroy:cues_attributes",d.a.bind(this.removeCue,this)),this.model.on("add:cues_attributes destroy:cues_attributes",d.a.bind(this.dirty,this)),this.model.on("change:cues_attributes[*]",d.a.bind(this.dirty,this)),this.model.on("change:cues_attributes[*].start_time",d.a.bind(this.adjustCue,this)),this.model.on("change:cues_attributes[*].end_time",d.a.bind(this.adjustCue,this)),this.model.on("reset:cues_attributes",d.a.bind(this.renderCuesOnTimeline,this)),this._initializeDraggableBar(),this._initializeUnsavedNavigation(),this._initializeDocumentListeners(),this.disableSaveButton()},initializeVideo:function(){this.video=new window.CaptioningVideo(this.videoEl()),this.video.importTrackFrom(this.model),this._initializeVideoMetadata()},videoEl:function(){return this.$el.find("video").get(0)},_initializeVideoMetadata:function(){var e=this;this.video.el.readyState>=this.video.el.HAVE_METADATA?this.renderTimeline():this.video.$el.one("loadedmetadata",function(){e.renderTimeline()})},_initializeDraggableBar:function(){var e=this;this.$el.on("mousedown touchstart",".js-non-draggable",function(e){e.stopImmediatePropagation()}),this.$el.draggable_bar(".js-timeline",function(t,n,a){var i,r,o,s=e.$el.find(".js-timeline"),l=c()(n),d=l.data("cue-cid")||l.closest("[data-cue-cid]").data("cue-cid"),u=e.model.get("cues_attributes"),m=u.get(d);m&&(e.video.pause(),i=m.get("start_time"),r=t*s.width()+s.scrollLeft()-a,r-=s.width()/2,l.is(".js-cue-handle")&&(r+=l.width()),r=e.xFromTimeline(r),l.is(".js-cue-handle")?(r=e._pointWithinBounds(u.indexOf(m),r),r=Math.max(i+e.MINIMUM_MILLISECONDS,r),m.set("end_time",r)):(o=m.get("end_time")-i,r=e._rangeWithinBounds(u.indexOf(m),r,o),m.set({start_time:r,end_time:r+o})))})},_pointWithinBounds:function(e,t){var n=this.model.get("cues_attributes"),a=n.at(e),i=n.at(e+1);return i&&i.get("start_time")<t&&(t=i.get("start_time")-1),Math.max(t,a.get("start_time")+.5)},_rangeWithinBounds:function(e,t,n){var a=this.model.get("cues_attributes"),i=a.at(e-1),r=a.at(e+1);return n=n||0,r&&r.get("start_time")<t+n&&(t=r.get("start_time")-n-1),i&&i.get("end_time")>t&&(t=i.get("end_time")+1),Math.max(0,Math.min(this.video.duration(),t+n)-n)},_initializeUnsavedNavigation:function(){var e=this;c()(window).on("beforeunload.video_tracks",function(){if(e._dirty)return f.default.t("views.video_track.You_have_unsaved_changes")})},_initializeDocumentListeners:function(){var e=this;c()(document).on("keydown.video_tracks",function(t){e.handleKeyboardShortcutsFromEvent(t)}).on("keyup.video_tracks",function(t){if(t.which===g.c&&!t.shiftKey){var n,a=e.getCurrentCue();n=a?a.get("end_time")+1:e.video.getCurrentTime(),e.addCueAt(n),t.preventDefault()}})},remove:function(){c()(window).off(".video_tracks"),c()(document).off(".video_tracks"),m.a.View.prototype.remove.apply(this,arguments)},render:function(){var e,t={track:this.model.toJSON(),encodings:this.model.get("encodings")||{},editProjectPath:this.$el.data("edit-project-path")},n=Math.random().toString(16).substr(2);return(e=d.a.clone(t.encodings)).high&&(e.high+=(e.high.split("?")[1]?"&":"?")+n),t.encodings=e,o.a.render(_(t),this.el),this.initializeVideo(),this},createSpoke:function(e,t){var n=(t=t||{}).level||(e%1e4==0?3:e%5e3==0?2:e%500==0?1:0);return{msecs:e/1e3,x:this.xOnTimeline(e),level:n,displayText:n>1}},renderTimeline:function(){var e,t=this.video.duration(),n=this.xOnTimeline(t),a=this,i=d.a.range(500,t,500),r={};r.timelineEnd=n,r.spokes=d.a.map(i,function(e){return a.createSpoke(e)}),r.spokes.push(this.createSpoke(0,{level:4})),r.spokes.push(this.createSpoke(this.video.duration(),{level:4})),o.a.render(b(r),this.$el.find(".timeline_wrapper").get(0)),e=this.$el.find(".timeline"),this.renderCuesOnTimeline(),this._attachEventsToTimeline(e)},renderCuesOnTimeline:function(){var e=this.model.get("cues_attributes");this.$el.find(".js-timeline__cues").empty(),e.forEach(d.a.bind(this.adjustCue,this)),e.length>0&&this.focusCue(e.first())},_attachEventsToTimeline:function(e){var t=this;this.video.$el.on("timeupdate",function(){var n,a=t.video.getCurrentTime(),i=t.xOnTimeline(a);t.video.paused()||e.scrollLeft(i),t.$(".js-timeline-line").css("left",i+e.width()/2),(n=t.model.get("cues_attributes").find(function(e){return e.get("start_time")<=a&&e.get("end_time")>a}))&&t.focusCue(n)}),this.video.$el.on("play",function(){t.$(".js-timeline").css("overflow-x","hidden")}),this.video.$el.on("pause",function(){t.$(".js-timeline").css("overflow-x","scroll")})},enableSaveButton:function(){this.$(".js-save-track").text(f.default.t("views.video_track.Save")).addClass("btn--green").removeClass("btn--gray").prop("disabled",!1)},disableSaveButton:function(){this.$(".js-save-track").text(f.default.t("views.video_track.Saved")).removeClass("btn--green").addClass("btn--gray").prop("disabled",!0)},dirty:function(){this._dirty=!0,this._saving||this.enableSaveButton()},addCue:function(e){this.adjustCue(e),this.focusCue(e)},removeCue:function(e){this.$cue(e.cid).remove()},adjustCue:function(e){var t=this.$cue(e.cid),n=e.get("start_time"),a=e.get("end_time");t.css("left",Math.floor(this.xOnTimeline(n))),t.width(Math.floor(this.xOnTimeline(a-n)))},$cue:function(e){var t=this.$(".js-timeline"),n=t.find('[data-cue-cid="'+e+'"]'),a=this.model.get("cues_attributes").get(e);return a?(0===n.length&&(n=t.find(".js-cue-template").clone(),n.removeClass("js-cue-template"),n.addClass("js-cue"),n.attr("data-cue-cid",e),n.find(".js-cue-textarea").val(a.get("body")),n.appendTo(t.find(".js-timeline__cues"))),n.removeClass("hidden"),n):n},cue:function(e){var t=c()(e),n=t.data("cue-cid")||t.closest("[data-cue-cid]").data("cue-cid");return this.model.get("cues_attributes").get(n)},autoPause:function(){var e=this;this.video.paused()&&!this.unpauseTimer||(this.video.pause(),this.unsetPauseTimer(),this.unpauseTimer=setTimeout(function(){delete e.unpauseTimer,e.video.play()},this.VIDEO_PAUSE_LENGTH))},unsetPauseTimer:function(){clearTimeout(this.unpauseTimer)},focusCue:function(e){this.showingCue(e)||this.video.setCurrentTime(e.get("start_time")),this.$cue(e.cid).find(":input").focus()},xOnTimeline:function(e){return e*this.PIXELS_PER_SECOND/1e3},xFromTimeline:function(e){return e/this.PIXELS_PER_SECOND*1e3},saveTrack:function(){var e=this.$(".js-save-track"),t=this.$(".js-last-save"),n=this.$(".js-timeline__cues :input"),a=this.model.save(),i=this;a&&(this._saving=!0,this._dirty=!1,this.disableSaveButton(),e.text(f.default.t("views.video_track.Saving")),n.prop("disabled",!0),a.success(function(){i.timedText(t)}).error(function(){e.text(f.default.t("views.video_track.Errored"))}).always(function(){i._saving=!1,i._dirty?i.enableSaveButton():i.disableSaveButton(),n.prop("disabled",!1)}))},focusPreviousCue:function(){var e,t=this.model.get("cues_attributes"),n=this.video.getCurrentTime();(e=d.a.last(t.filter(function(e){return e.get("end_time")<n})))&&this.focusCue(e)},focusNextCue:function(){var e,t=this.model.get("cues_attributes"),n=this.video.getCurrentTime();(e=t.find(function(e){return e.get("start_time")>n}))&&this.focusCue(e)},getCurrentCue:function(){var e=this.model.get("cues_attributes"),t=this.video.getCurrentTime();return e.find(function(e){return e.get("start_time")<=t&&e.get("end_time")>=t})},showingCue:function(e){var t=this.video.getCurrentTime(),n=e.get("start_time"),a=e.get("end_time");return t>=n&&t<a},pointOnTimeline:function(e){var t=this.$(".js-timeline");return e-=t.offset().left,e+=t.scrollLeft(),e-=t.width()/2,this.xFromTimeline(e)},willOverlapCues:function(e,t){return!!this.model.get("cues_attributes").find(function(n){var a=n.get("start_time"),i=n.get("end_time");return a>=e&&a<e+t||i>=e&&i<e+t})},alignWithCursor:function(e,t){var n=this.$(".js-timeline"),a=n.offset().left,i=n.scrollLeft();e.removeClass("hidden"),e.css("left",h.a.pageX(t)-a+i)},addCueAt:function(e,t){var n=this.model.get("cues_attributes");t=t||this.MINIMUM_MILLISECONDS,this.willOverlapCues(e,t)||n.add({start_time:e,end_time:e+t})},jumpTimelineEvent:function(e){var t,n=c()(e.target);n.is(".js-timeline")?this.video.setCurrentTime(0):n.is(".js-timeline--area")&&(t=this.pointOnTimeline(h.a.pageX(e)),this.video.setCurrentTime(t))},addCueEvent:function(e){var t=this.pointOnTimeline(h.a.pageX(e));this.addCueAt(t),e.preventDefault()},pauseEvent:function(){this.video.pause()},autoPauseEvent:function(){this.autoPause()},catchWaywardKeysEvent:function(e){e.which===g.a?this.autoPause():e.which!==g.c||e.shiftKey||e.preventDefault()},typeInCueEvent:function(e){var t=this.cue(e.currentTarget);if(e.which!==g.c||e.shiftKey)t.set("body",c()(e.currentTarget).val());else{var n=this.video.getCurrentTime(),a=t.get("start_time"),i=n;t.shouldOverrideEndTime&&(n<a&&(i=a,a=n),(i+=this.NEW_CAPTION_OFFSET)-a<this.MINIMUM_MILLISECONDS&&(i=a+this.MINIMUM_MILLISECONDS),t.set({start_time:a,end_time:i})),this.addCueAt(Math.max(t.get("end_time"),i)+1),e.stopPropagation()}e.preventDefault()},cutPasteInCueEvent:function(e){var t=this.cue(e.currentTarget);setTimeout(function(){t.set("body",c()(e.currentTarget).val())},0)},destroyCueEvent:function(e){this.cue(e.currentTarget).destroy(),e.preventDefault()},showHoverLineEvent:function(e){var t=this.$(".js-timeline-mouse-line");this.alignWithCursor(t,e)},hideHoverLineEvent:function(){this.$(".js-timeline-mouse-line").addClass("hidden")},saveTrackEvent:function(e){!this._saving&&this._dirty&&this.saveTrack(),e.preventDefault()},handleKeyboardShortcuts:function(e,t){return e===g.d?(this.video.paused()?this.video.play():this.video.pause(),this.$(".js-onboarding").addClass("fade-out"),!0):e===g.m&&(t?this.focusPreviousCue():this.focusNextCue(),!0)},handleKeyboardShortcutsFromEvent:function(e){return!!this.handleKeyboardShortcuts(e.which,e.shiftKey)&&(e.preventDefault(),!0)},timedText:function(e,t,n){var a=this;t=t||1e3,n=n||new Date,clearTimeout(this.timedTextTimeoutId),this.timedTextTimeoutId=setTimeout(function(){a.timedText(e,t,n)},t),this._renderLastSaved(e,n)},_renderLastSaved:function(e,t){e.text(f.default.t("views.video_track.Saved")+" "+Object(p.a)(new Date,t))}});const b=e=>{let t=e.spokes,n=e.timelineEnd;return i.a.createElement("div",{className:"timeline relative bg-white clear border-top js-timeline user-select-none"},i.a.createElement("div",{className:"timeline_scroller z1 relative js-timeline--area",style:{width:n}},i.a.createElement("div",{className:"timeline_spokes absolute grey"},t.map((e,t)=>i.a.createElement("div",{key:t},i.a.createElement("div",{className:"spoke spoke--level-".concat(e.level," absolute"),style:{bottom:0,left:e.x}}),e.displayText&&i.a.createElement("div",{className:"absolute pl2",style:{bottom:15,left:e.x}},e.msecs,"s"))),i.a.createElement("div",{className:"spoke end",style:{bottom:0,left:0}}),i.a.createElement("div",{className:"spoke end",style:{bottom:0,left:n}})),i.a.createElement("div",{className:"js-timeline__cues absolute"}),i.a.createElement("div",{className:"js-cue-template timeline_handle z1 absolute bg-white border radius2px tiny_type hidden"},i.a.createElement("div",{className:"timeline_drag_handle js-cue-handle absolute"},i.a.createElement("span",{className:"ss-icon ss-navigateright"})),i.a.createElement("div",{className:"js-non-draggable"},i.a.createElement("div",{className:"cue-textarea-wrapper"},i.a.createElement("textarea",{className:"cue-textarea js-cue-textarea",placeholder:f.default.t("video_tracks.Transcribe_and_press_Enter"),maxLength:"200"})),i.a.createElement("div",{className:"caption-actions"},i.a.createElement("a",{href:"javascript:void(0)",className:"js-destroy-cue"},i.a.createElement("div",{className:"ss-icon ss-delete"})))))),i.a.createElement("div",{className:"timeline_hover_line js-timeline-mouse-line absolute hidden"}),i.a.createElement("div",{className:"timeline_line absolute z1 js-timeline-line"}))},_=e=>{let t=e.track,n=e.encodings,a=e.editProjectPath;return i.a.createElement("div",null,i.a.createElement("div",{className:"clearfix mt3 mt5-sm"},i.a.createElement("div",{className:"f5 right mt3 mt5-sm"},i.a.createElement("button",{className:"btn btn--gray button_save_track right js-save-track",disabled:!0},f.default.t("views.video_track.Saved")),i.a.createElement("div",{className:"right mr2 js-last-save mt2 grey-dark"})),i.a.createElement("h2",{className:"mb2"},f.default.t("views.video_track.Language_track",{label:t.label})),i.a.createElement("a",{className:"left mb3 mb5-sm regular blue",href:a},i.a.createElement("span",{className:"ss-icon ss-navigateleft",style:{fontSize:"0.8em"}})," ",f.default.t("views.video_track.Back_to_edit"))),i.a.createElement("div",{className:"container-flex bg-grey-light border radius2px mb3 mb10-sm"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col col-4 mt3 mt5-sm mr2 ml3 ml5-sm"},i.a.createElement("h4",{className:"grey-dark"},f.default.t("views.video_track.Controls")),i.a.createElement("hr",null),i.a.createElement("h5",{className:"grey-dark inline-block mb0"},f.default.t("views.video_track.Play_pause")),i.a.createElement("span",{className:"grey-dark f5 regular inline-block right mb2"},i.a.createElement("span",{className:"border radius2px key"},f.default.t("views.video_track.Esc"))),i.a.createElement("hr",{className:"mt2"}),i.a.createElement("h5",{className:"grey-dark inline-block mb0"},f.default.t("views.video_track.Add_caption")),i.a.createElement("span",{className:"grey-dark f5 regular inline-block right mb2"},i.a.createElement("span",{className:"border radius2px key"},f.default.t("views.video_track.Enter"))),i.a.createElement("hr",{className:"mt2"}),i.a.createElement("h5",{className:"grey-dark inline-block mb0"},f.default.t("views.video_track.Line_break")),i.a.createElement("span",{className:"grey-dark f5 regular inline-block right mb2"},i.a.createElement("span",{className:"border radius2px key"},f.default.t("views.video_track.Shift")),"+",i.a.createElement("span",{className:"border radius2px key"},f.default.t("views.video_track.Enter"))),i.a.createElement("hr",{className:"mt2"}),i.a.createElement("h5",{className:"grey-dark inline-block mb0"},f.default.t("views.video_track.Next_caption")),i.a.createElement("span",{className:"grey-dark f5 regular inline-block right mb2"},i.a.createElement("span",{className:"border radius2px key"},f.default.t("views.video_track.Tab"))),i.a.createElement("hr",{className:"mt2"}),i.a.createElement("h5",{className:"grey-dark inline-block mb0"},f.default.t("views.video_track.Previous_caption")),i.a.createElement("span",{className:"grey-dark f5 regular inline-block right mb2"},i.a.createElement("span",{className:"border radius2px key"},f.default.t("views.video_track.Shift")),"+",i.a.createElement("span",{className:"border radius2px key"},f.default.t("views.video_track.Tab"))),i.a.createElement("hr",{className:"mt2"})),i.a.createElement("div",{className:"col col-7 mt3 mt5-sm pb3 pb5-sm ml2"},i.a.createElement("div",{className:"onboarding js-onboarding"},i.a.createElement("div",{className:"onboarding-copy formatted-lists"},i.a.createElement("h3",{className:"mb3 mb5-sm"},f.default.t("views.video_track.Getting_started")),i.a.createElement("ol",null,i.a.createElement("li",{dangerouslySetInnerHTML:{__html:f.default.t("views.video_track.Press_esc_to_play")}}),i.a.createElement("li",null,f.default.t("views.video_track.When_you_type_the_video")),i.a.createElement("li",{dangerouslySetInnerHTML:{__html:f.default.t("views.video_track.When_its_time_to_start_a_new_caption")}})),i.a.createElement("h3",{className:"center mt3 mt7-sm",dangerouslySetInnerHTML:{__html:f.default.t("views.video_track.Press_esc_and_start_typing")}})),i.a.createElement("div",{className:"onboarding-bg"})),i.a.createElement("div",{className:"video-player show-controls-below js-video-player"},i.a.createElement("video",null,n&&i.a.createElement("source",{src:n.high,type:"video/mp4"})),i.a.createElement("div",{className:"play_button_big play_button_dark absolute-center radius2px has_played_hide play_button_big_hide"},i.a.createElement("span",{className:"ss-icon ss-play"}),f.default.t("views.video_track.Play")),i.a.createElement("div",{className:"player_controls white bg-green-dark"},i.a.createElement("div",{className:"left"},i.a.createElement("a",{className:"button button_icon button_dark playpause play mr2"},i.a.createElement("span",{className:"play ss-icon ss-play"}),i.a.createElement("span",{className:"pause ss-icon ss-pause"})),i.a.createElement("span",{className:"time current_time f12 left"},"00:00")),i.a.createElement("div",{className:"right"},i.a.createElement("span",{className:"time total_time f12 left mr2"},"00:00"),i.a.createElement("a",{className:"left button button_icon button_icon_white volume"},i.a.createElement("span",{className:"ss-icon ss-volume icon_volume_nudge"}),i.a.createElement("span",{className:"ss-icon ss-highvolume"})),i.a.createElement("div",{className:"volume_container left"},i.a.createElement("div",{className:"progress_bar progress_bar_dark progress_bg"},i.a.createElement("div",{className:"progress_bar_bg"}),i.a.createElement("div",{className:"progress progress_bar_progress"}),i.a.createElement("div",{className:"progress_handle progress_bar_handle"}))),i.a.createElement("a",{className:"left button button_icon button_icon_white fullscreen"},i.a.createElement("span",{className:"ss-icon ss-expand"}),i.a.createElement("span",{className:"ss-icon ss-contract"}))),i.a.createElement("div",{className:"clip"},i.a.createElement("div",{className:"progress_container pr2 pl2"},i.a.createElement("div",{className:"progress_bar progress_bar_dark progress_bg"},i.a.createElement("div",{className:"progress_bar_bg"}),i.a.createElement("div",{className:"buffer progress_bar_buffer"}),i.a.createElement("div",{className:"progress progress_bar_progress"}),i.a.createElement("div",{className:"progress_handle progress_bar_handle"})))),i.a.createElement("div",{className:"clear"}))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col col-12 relative"},i.a.createElement("div",{className:"timeline_wrapper"})))))}},"uT+I":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n("8Np1"),i=n("/IHD"),r=n("hPy8"),o=n("q1tI");const s=e=>o.createElement(r.c,null,t=>o.createElement(a.a,Object.assign({},e,{atoms:Object(i.b)(e.atoms,t.body.atoms),tag:"div"}),e.children))},ubxe:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()(function(){i()("body#help_fees form.select_country").on("change",function(){i()(this).submit()})})},udTa:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a=(e,t)=>(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return new Promise(n=>setTimeout(()=>n(t(...a)),e))})},"ude/":function(e,t,n){"use strict";var a=n("L/h+"),i=n("94td"),r=n("zm9w"),o=n("q1tI"),s=n.n(o);const c=e=>{let t=e.friends;return s.a.createElement("span",{className:"mr1"},t.map(e=>s.a.createElement(a.a,{key:e.imageUrl,size:4,atoms:["mr1"],imageUrl:e.imageUrl})))};t.a=e=>{let t=e.friends;if(null===t||!t.length)return null;const n=t.slice(0,2),a=n.map(e=>"".concat(escape(e.name.split(" ")[0])));if(a.length<t.length){const e=t.length-a.length,n=Object(i.b)("project_page.social_facepile.amount_more",{count:e});a.push("".concat(n))}const o=Object(i.b)("project_page.social_facepile.friends_are_backers",{friends:r.a.to_sentence(a),count:a.length});return s.a.createElement("div",{className:"mt2"},s.a.createElement(c,{friends:n}),s.a.createElement("span",{className:"type-13"},unescape(o)))}},ulEd:function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,a=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(a):[]}},v3o6:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var a=n("n2oK"),i=n("gN63");const r=e=>{var t;return{checkout_reward_estimated_delivery_on:e.reward_data.estimated_delivery_on,checkout_reward_minimum_usd:Number(parseFloat(e.reward_data.converted_minimum).toFixed(2))||Number(parseFloat(e.reward_data.minimum).toFixed(2)),checkout_reward_has_items:(null===(t=e.reward_data.rewards_items)||void 0===t?void 0:t.length)>0,checkout_reward_is_limited_quantity:!!e.reward_data.limit&&e.reward_data.limit>0,checkout_reward_is_limited_time:!(!e.reward_data.ends_at&&!e.reward_data.starts_at),checkout_reward_shipping_enabled:e.reward_data.shipping_enabled,checkout_reward_id:e.reward_data.id,checkout_reward_shipping_preference:e.reward_data.shipping_preference,checkout_reward_title:e.reward_data.title}},o=e=>{var t,n;const r=e.amount&&e.amount.amount;return{checkout_reward_estimated_delivery_on:e.estimatedDeliveryOn?Object(a.a)(Date.parse(e.estimatedDeliveryOn)):null,checkout_reward_minimum_usd:r?Number(parseFloat(r).toFixed(2)):void 0,checkout_reward_has_items:(null===(t=e.items)||void 0===t?void 0:t.length)>0,checkout_reward_is_limited_quantity:!!e.limit&&e.limit>0,checkout_reward_is_limited_time:!(!e.endsAt&&!e.startsAt),checkout_reward_shipping_enabled:(null===(n=e.shippingRules)||void 0===n?void 0:n.length)>0,checkout_reward_id:e.id?Number(Object(i.a)(e.id)):null,checkout_reward_shipping_preference:e.shippingPreference,checkout_reward_title:e.name}}},v8vJ:function(e,t,n){var a=n("6T1N"),i=128;e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,a(e,i,void 0,void 0,void 0,void 0,t)}},v9JK:function(e,t,n){"use strict";var a=n("WSTq");n.d(t,"a",function(){return a.a});var i=n("nU83");n.d(t,"c",function(){return i.b}),n.d(t,"b",function(){return i.a})},vXqN:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n("prSB"),i=n("q1tI"),r=n.n(i),o=n("RK67"),s=n("/MKj");class c extends r.a.Component{constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e,t){this.setState(()=>({hasError:!0})),this.props.onComponentError(e,t,this.props.tags)}render(){return this.state.hasError?this.props.fallbackRender?this.props.fallbackRender():r.a.createElement("div",null):this.props.children}}const l=e=>t=>{const n=Object(a.a)({},e,{},t);return r.a.createElement(c,n)};t.b=Object(s.c)(null,e=>({onComponentError:(t,n,a)=>e(Object(o.c)(t,n,a))}))(c)},vhOl:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("GRmu"),o=n("0VSk");n("RIhn");!function(){function e(e){e.data("is-blocking")?(e.text(o.default.t("onloads.views.user_blocks.block_button.Blocked")),e.removeClass("btn btn--text grey-dark btn--small"),e.addClass("btn btn--gray")):(e.text(o.default.t("onloads.views.user_blocks.block_button.Block")),e.removeClass("btn btn--gray"),e.addClass("btn grey-dark btn--small")),e.removeClass("hidden")}i()(".js-block-user").livequery(function(){var t=i()(this);t.on("click",function(n){var a=t.data("is-blocking")?t.data("unblock-path"):t.data("block-path");t.prop("disabled",!0),i.a.ajax({url:a,dataType:"json",method:"post"}).success(function(n){200===n.status?function(t){!0===t.data("is-blocking")?(t.data("is-blocking",!1),e(t),t.trigger("ksr:unblock_user")):(t.data("is-blocking",!0),e(t),t.trigger("ksr:block_user"))}(t):Object(r.a)({error:n.message})}).complete(function(){t.prop("disabled",!1)}),n.preventDefault()}),t.on("mouseenter focus",function(){!function(e){e.data("is-blocking")&&(e.data("previous-html",e.html()),e.html(o.default.t("onloads.views.user_blocks.block_button.Unblock")))}(t)}),t.on("mouseleave blur",function(){!function(e){var t=e.data("previous-html");e.data("is-blocking")&&t&&e.html(t)}(t)}),t.on("ksr:unblock_user",function(){t.addClass("hidden")}),e(t)})}()},vtU4:function(e,t,n){"use strict";n.d(t,"b",function(){return r});var a=n("8ZZx");n.d(t,"a",function(){return a.a});const i="/projects/:projectCreator/:projectSlug/posts",r={POSTS_FEED:{path:i,url:(e,t)=>"/projects/".concat(e,"/").concat(t,"/posts")},PROJECT_PAGE:{path:"/projects/:projectCreator/:projectSlug/",url:(e,t)=>"/projects/".concat(e,"/").concat(t)},VIEW_POST:{path:"".concat(i,"/:postId"),url:(e,t,n)=>"/projects/".concat(e,"/").concat(t,"/posts/").concat(n)},POST_COMMENTS:{path:"".concat(i,"/:postId/comments"),url:(e,t,n)=>"/projects/".concat(e,"/").concat(t,"/posts/").concat(n,"/comments")},PREVIEW_POST:{path:"".concat(i,"/:postId/preview"),url:(e,t,n)=>"/projects/".concat(e,"/").concat(t,"/posts/").concat(n,"/preview")},NEW_FREEFORM_POST:{path:"".concat(i,"/freeform/new"),url:(e,t)=>"/projects/".concat(e,"/").concat(t,"/posts/freeform/new")},EDIT_FREEFORM_POST:{path:"".concat(i,"/freeform/:postId/edit"),url:(e,t,n)=>"/projects/".concat(e,"/").concat(t,"/posts/freeform/").concat(n,"/edit")},NEW_CREATOR_INTERVIEW:{path:"".concat(i,"/interview/new"),url:(e,t)=>"/projects/".concat(e,"/").concat(t,"/posts/interview/new")},EDIT_CREATOR_INTERVIEW:{path:"".concat(i,"/interview/:postId/edit"),url:(e,t,n)=>"/projects/".concat(e,"/").concat(t,"/posts/interview/").concat(n,"/edit")},PROJECT_PLEDGE:{path:"/projects/:projectCreator/:projectSlug/pledge/new",url:(e,t)=>"/projects/".concat(e,"/").concat(t,"/pledge/new")},USER_PROFILE:{path:"/profile/:userSlug",url:e=>"/profile/".concat(e)}}},"w/TO":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l});var a=n("prSB"),i=n("cDWt");const r=e=>{const t=c(e());return t.isSuccess?{}:o(t.value)},o=e=>{const t=e.errors;return Object.keys(t).reduce((e,n)=>{const i=t[n];return Object(a.a)({},e,{[n]:i.value})},{})},s=e=>c(e()).isSuccess,c=e=>e.reduce((e,t)=>e.concat(t),Object(i.b)()),l=e=>t=>{let n=t.state,a=t.fields;const i=n.touched,r=n.errors,o=a.filter(e=>!(!i[e]||!r[e])).map(e=>r[e]).reduce((e,t)=>e.concat(t),[]).map(t=>e[t]||t);return o.length>0?o:null}},w2Ho:function(e,t,n){"use strict";var a=n("DjBF"),i=n("v9JK"),r=n("94td"),o=n("B6g3"),s=n("VA/9"),c=n("q1tI"),l=n.n(c);const d=Object(s.a)(e=>{let t=e.updateUserSetting,n=e.onCloseModal;return l.a.createElement(i.a,{headerCopy:Object(r.b)("project_interactions.signal_modal_confirmation.Improve_your_personalized_recommendations"),secondaryCloseCopy:Object(r.b)("project_interactions.signal_modal_confirmation.Close"),onClose:n,size:"small"},l.a.createElement("div",{id:"focus-grabber"}),l.a.createElement(r.a,{i18nKey:"project_interactions.signal_modal_confirmation.Liking_or_disliking_projects_helps_us_understand",personalizeLink:l.a.createElement("a",{href:"/personalize"},l.a.createElement(r.a,{i18nKey:"project_interactions.signal_modal_confirmation.What_excites_you"}))}),l.a.createElement(i.c,{theme:"create",onClick:async()=>{n(),await t(o.b.confirmed_signal_notice)}},l.a.createElement(r.a,{i18nKey:"project_interactions.signal_modal_confirmation.Got_it"})))}),u=e=>{let t=e.onClose;return l.a.createElement(i.a,{headerCopy:Object(r.b)("project_interactions.log_in_to_signal_modal.One_more_step"),secondaryCloseCopy:Object(r.b)("project_interactions.log_in_to_signal_modal.Close"),onClose:t,size:"small"},l.a.createElement(r.a,{i18nKey:"project_interactions.log_in_to_signal_modal.Log_in_or_sign_up_to_keep_fine_tuning_your_experience",loginLink:l.a.createElement("a",{href:"/login"},l.a.createElement(r.a,{i18nKey:"project_interactions.log_in_to_signal_modal.Log_in"})),signUpLink:l.a.createElement("a",{href:"/signup"},l.a.createElement(r.a,{i18nKey:"project_interactions.log_in_to_signal_modal.Sign_up"}))}))};n.d(t,"a",function(){return m});const m=e=>{let t=e.children,n=e.userMetadata;const i=Object(c.useState)(),r=Object(a.a)(i,2),o=r[0],s=r[1],m=Object(c.useState)(!1),p=Object(a.a)(m,2),h=p[0],f=p[1],g=n.isLoggedOut;return l.a.createElement(l.a.Fragment,null,o&&l.a.createElement(d,{onCloseModal:()=>s(!1),userMetadata:n}),g&&h&&l.a.createElement(u,{onClose:()=>f(!1)}),t(g,()=>{n.isFirstTimeLikingOrDisliking&&s(!0)},()=>{f(!0)}))}},wOBM:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a=(e,t)=>{if(!e)return 0;const n=t&&t.precision||2,a=Math.max(2,n);return parseFloat(e.replace(/[^0-9.,-]/g,"").replace(new RegExp("[\\.,](\\d{1,".concat(a,"}$)"),"g"),".$1").replace(new RegExp("[\\.,](?!\\d{1,".concat(a,"}$)"),"g"),""))}},wXnf:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("94td"),i=n("q1tI"),r=n.n(i);const o=e=>{let t=e.risks;return r.a.createElement("div",{id:"risks-and-challenges",className:"mb3 mb10-sm mb3 js-risks"},r.a.createElement("div",{className:"mobile-show py3"}),r.a.createElement("h3",{className:"normal mb4"},Object(a.b)("project_page.campaign.Risks_and_challenges")),r.a.createElement("p",{className:"js-risks-text text-preline"},t),r.a.createElement("a",{target:"_blank",className:"ksr-green-700 bold type-16",href:"/help/hc/sections/115001107133"},Object(a.b)("project_page.campaign.Learn_about_accountability_on_Kickstarter")))}},wdXr:function(e,t,n){"use strict";var a=n("prSB"),i=n("DjBF"),r=n("q1tI");const o=(e,t)=>{const n=Object.keys(t);for(const i of n){if(e[i]!==t[i])return Object(a.a)({},e,{},t)}return e},s=e=>Object(r.useReducer)(o,e);n.d(t,"a",function(){return c});const c=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Object(r.useRef)(null),o=s({isIntersecting:!1,didIntersect:!1}),c=Object(i.a)(o,2),l=c[0],d=c[1];return Object(r.useEffect)(()=>{const e=n.current;if(!(e instanceof Element))return;const a=new IntersectionObserver(e=>{let t=Object(i.a)(e,1)[0];t.isIntersecting?d({isIntersecting:t.isIntersecting,didIntersect:!0}):d({isIntersecting:t.isIntersecting})},t);return a.observe(e),()=>a.unobserve(e)},[n.current,t.rootMargin,null===(e=t.threshold)||void 0===e?void 0:e.join(",")]),Object(a.a)({targetRef:n},l)}},wpot:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var a=n("NmtT"),i=n.n(a),r=n("bgw5"),o=n.n(r),s=n("Us+F"),c=n.n(s),l=n("/S0t"),d=n.n(l),u=n("LKA2"),m=n.n(u);const p={de:o(),en:c(),es:d(),fr:m()},h=(e,t)=>((e,t,n)=>i()(t,n,{addSuffix:!0,locale:p[e]}))(window.I18n.locale,e,t)},wuTn:function(e,t){e.exports={}},xFI3:function(e,t,n){var a=n("Yoag"),i=n("6ae/"),r=n("Q1l4");e.exports=function(e){if(e instanceof a)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=r(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},xWgL:function(e,t,n){"use strict";var a=n("noZS"),i=n.n(a),r=n("mEsB"),o=n("mv45"),s=n("94td"),c=n("TIPN"),l=n("/IHD"),d=n("2UXI"),u=n("a8OY"),m=n("sSbI"),p=n("UNyc"),h=n("c7Xp"),f=n("7V7b"),g=n("4KRT");let b,_;!function(e){e.AUD="AUD",e.CAD="CAD",e.CHF="CHF",e.DKK="DKK",e.EUR="EUR",e.GBP="GBP",e.HKD="HKD",e.JPY="JPY",e.MXN="MXN",e.NOK="NOK",e.NZD="NZD",e.PLN="PLN",e.SEK="SEK",e.SGD="SGD",e.USD="USD"}(b||(b={})),function(e){e.environmentally_friendly_factories="environmentally_friendly_factories",e.long_lasting_design="long_lasting_design",e.reusability_and_recyclability="reusability_and_recyclability",e.something_else="something_else",e.sustainable_distribution="sustainable_distribution",e.sustainable_materials="sustainable_materials"}(_||(_={}));const v=n("Dqzj").Campaign,k=Object(o.c)(e=>{if(e.data&&e.data.error)return Object(o.d)(e.data.error);if(!e.data||!e.data.project||!e.data.project)return Object(o.d)();const t=e.data.project,n=t.id,a=t.isSharingProjectBudget,i=t.currency,r=t.environmentalCommitments,s=t.risks,c=t.story,l=t.spreadsheet;return Object(o.l)({id:n,isSharingProjectBudget:a,currency:i,basePath:e.ownProps.basePath,spreadsheet:l,environmentalCommitments:Object(f.b)(r),risks:s,slug:e.ownProps.slug,story:c})}),y=Object(g.c)(v,Object(h.a)(k));var j=n("q1tI"),E=n.n(j),w=n("/MKj"),S=n("4U8H"),O=n("JN/F"),C=n("l2NB"),N=n("EEgz");const x=e=>E.a.createElement("a",{key:e.id,href:"#".concat(e.id),onClick:e.onClick,className:Object(l.a)("type-13 text-left ls0_2px text-decoration-none-important hover-ksr-green-500 block relative text-uppercase",e.isFirstItem?"pb3":"py3",e.isLastItem?"":"border-bottom",e.isActive?"ksr-green-500 bold":"dark-grey-500")},e.name);var T=n("DUhn"),I=n("wXnf"),D=n("6zik"),P=n("prSB");class A extends E.a.Component{constructor(){super(...arguments),this.state={start:0,end:0,active:!1},this.calculatePosition=()=>{const e=window.pageYOffset||document.documentElement.scrollTop,t=this.props.sectionRef.current.getBoundingClientRect();if(t){const n=t.top+e;return{start:n,end:n+t.height}}return{start:0,end:0}},this.onScroll=()=>{const e=this.props.offset||0,t=this.calculatePosition(),n=this.state,a=n.start,i=n.end,r=n.active;if(t.start!==a||t.end!==i)return this.setState(Object(P.a)({},t));!r&&window.scrollY+e>a&&window.scrollY+e<i&&(this.setState({active:!0}),this.props.onEnterFromTop&&this.props.onEnterFromTop()),r&&window.scrollY+e>i&&(this.setState({active:!1}),this.props.onExitBelow&&this.props.onExitBelow()),r&&window.scrollY+e<a&&(this.setState({active:!1}),this.props.onExitAbove&&this.props.onExitAbove())}}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}render(){return this.props.children}}n.d(t,"a",function(){return L}),n.d(t,"b",function(){return M});class R extends E.a.Component{constructor(e){super(e),this.sectionsList=void 0,this.endOfCampaign=void 0,this.endOfCampaign=E.a.createRef(),this.sectionsList=i()(O.a,t=>({id:t.id,name:t.name,ref:E.a.createRef(),shouldRender:this.shouldRender(t.id,e)}));const t=this.shouldRender("environmental-commitments",e),n=this.shouldRender("project-budget",e);e.dispatch(Object(C.b)({environmentalCommitmentsExists:t,projectBudgetExists:n})),this.navigationSectionChanged=this.navigationSectionChanged.bind(this),this.handleCampaignNavTabChange=this.handleCampaignNavTabChange.bind(this)}shouldRender(e,t){switch(e){case"story":return!0;case"project-budget":return t.isSharingProjectBudget;case"risks-and-challenges":return!0;case"environmental-commitments":return t.environmentalCommitments&&t.environmentalCommitments.length>0;default:return!1}}handleCampaignNavTabChange(e){const t=e&&e.detail&&e.detail.content,n=Object(S.a)(this.props.basePath)[t];this.props.dispatch(Object(C.a)({activeSection:{id:n.id,name:n.name}}))}componentWillMount(){window.addEventListener("campaignNavTabChange",this.handleCampaignNavTabChange)}componentWillUnmount(){window.removeEventListener("campaignNavTabChange",this.handleCampaignNavTabChange)}componentDidUpdate(){if(this.props.activeSection&&this.props.activeSection.forceScroll){const e=this.props.activeSection.id;Object(c.c)({ref:this.sectionsList[e].ref,offset:this.props.getHeightOffset(),duration:300})}}navigationSectionChanged(e,t){const n=this.props.activeSection;e&&!n||n&&e&&n.id!==e.id?t(Object(C.a)({activeSection:{id:e.id,name:e.name,forceScroll:!1}})):e||t(Object(C.a)({activeSection:void 0})),this.setState({activeSection:e})}render(){const e=this.props,t=e.dispatch,n=e.stickyTopAtom,a=e.isFAQDisabled,i=e.isFlaggingDisabled,o=this.props.activeSection,u=Object.values(this.sectionsList).filter(e=>e.shouldRender);return E.a.createElement("section",{className:"project-content"},E.a.createElement("div",{className:"row"},E.a.createElement("nav",{className:Object(l.a)("col col-2 important-stick-md hide block-lg pb4 pl0",n)},u.map((e,t)=>E.a.createElement("div",{key:e.id},e.shouldRender&&E.a.createElement(x,{id:e.id,name:e.name,isActive:!!o&&e.id===o.id,onClick:t=>{t.preventDefault(),Object(d.d)("Clicked Subnav",{context:e.trackingContext}),Object(c.c)({ref:e.ref,offset:this.props.getHeightOffset(),duration:300})},isLastItem:t===u.filter(e=>e.shouldRender).length-1,isFirstItem:0===t})))),E.a.createElement("div",{className:"col col-12 grid-col-10-lg"},E.a.createElement("div",{className:"max-w113 m-auto"},u.map(e=>E.a.createElement("div",{key:e.id},e.shouldRender&&E.a.createElement(A,{sectionRef:e.ref,onEnterFromTop:()=>this.navigationSectionChanged(e,t),offset:this.props.getHeightOffset()},E.a.createElement("div",{ref:e.ref},"story"===e.id&&E.a.createElement("div",null,E.a.createElement(D.a,{storyHTML:this.props.story})),"project-budget"===e.id&&E.a.createElement("div",{className:"pt4"},E.a.createElement("div",{id:e.id,className:"pt4"},E.a.createElement(N.a,{currency:this.props.currency,spreadsheet:this.props.spreadsheet}))),"risks-and-challenges"===e.id&&E.a.createElement("div",{className:"pt8"},E.a.createElement(I.a,{risks:this.props.risks})),"environmental-commitments"===e.id&&E.a.createElement("div",{className:"pt8"},E.a.createElement(T.a,{commitments:this.props.environmentalCommitments})))))),E.a.createElement(A,{sectionRef:this.endOfCampaign,onExitBelow:()=>this.navigationSectionChanged(void 0,t)},E.a.createElement("div",{className:"border-bottom mb4 mb9-md",ref:this.endOfCampaign},E.a.createElement("div",{className:"mb9 type-16"},E.a.createElement(s.a,{i18nKey:"project_page.faq.Questions_about_this_project"}),a?E.a.createElement(r.a,{label:Object(s.b)("project_page.Unlocks_after_launch")},E.a.createElement("span",{className:"bold link-blue"},Object(s.b)("project_page.faq.Check_out_the_faq"))):E.a.createElement("a",{href:"".concat(this.props.basePath,"faqs"),className:"bold link-blue type-16"},E.a.createElement(s.a,{i18nKey:"project_page.faq.Check_out_the_faq"}))))),!i&&E.a.createElement(p.a,null)))))}}const F=e=>Object(o.a)(y,u.b,Object(w.c)(e,e=>({dispatch:e})))(R),L=F(Object(m.a)(e=>({activeSection:e.campaignNavigation.activeSection}))),M=F(e=>({activeSection:e.activeSection}))},xdbW:function(e,t,n){"use strict";var a=n("a+N5"),i=n.n(a),r=n("+2Rf"),o=n.n(r),s=n("Q4Yj"),c=n("zm9w");o()(function(){o()(document).on("click",".NS_post_likes__namepile a#full_namepile",function(e){e.preventDefault();var t=o()(this);o.a.ajax({url:t.attr("href"),dataType:"json",type:"GET",success:function(e){var n=i.a.map(e.users,function(e){return Object(s.a)('<a href="{{url}}">{{name}}</a>',e)});n=c.a.to_sentence(n),t.parent().html(n+" like this update.")}})})})},xj30:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE");Object(r.a)(".NS-features__toggle",function(e){e.find(".js-featured-toggle").on("click",function(e){e.preventDefault();var t=i()(this),n=t.closest(".NS-features__toggle"),a=t.closest(".featured, .unfeatured");i.a.ajax({type:a.data("method"),url:a.data("url"),data:a.find(":input").serialize(),dataType:"json",success:function(e){n.toggleClass("featured",e.featured),e.remove_featurings_path&&n.find(".featured").data("url",e.remove_featurings_path)},error:function(){growl({error:"Unable to complete your request"})}})})})},xwT8:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("2DJ9"),i=n("q1tI"),r=n.n(i);const o=e=>{let t=e.disabled,n=void 0!==t&&t,i=e.label,o=e.on,s=void 0!==o&&o,c=e.onClick,l=e.small,d=void 0!==l&&l;const u=d?["ml2"]:["ml3"],m=d?["mr2"]:["mr3"],p=["flex items-center radius200px py0 px3px transition-all keyboard-focusable-black"].concat(n?["not-allowed o20p"]:[]).concat(s?["bg-ksr-green-400"]:["bg-grey-500"]).concat(d?["w6 h4"]:["w8 h5"]).join(" "),h=["bg-white radius100p inline-block shadow-2 transition-all flex items-center justify-center"].concat(s?u:m).concat(d?["w3 h3"]:["w4 h4"]).join(" "),f=s?"icon--check":"icon--cross",g=s?"fill-ksr-green-400":"fill-grey-500";return r.a.createElement("button",{"aria-checked":s,"aria-label":i,className:p,disabled:n,onClick:c,role:"checkbox"},r.a.createElement("div",{className:h},r.a.createElement(a.a,{atoms:[g],name:f,size:"16"})))}},y4QH:function(e,t){var n=Math.max;e.exports=function(e,t,a,i){for(var r=-1,o=e.length,s=a.length,c=-1,l=t.length,d=n(o-s,0),u=Array(l+d),m=!i;++c<l;)u[c]=t[c];for(;++r<s;)(m||r<o)&&(u[a[r]]=e[r]);for(;d--;)u[c++]=e[r++];return u}},yhqc:function(e,t,n){"use strict";var a,i,r,o=n("+2Rf"),s=n.n(o),c=n("a+N5"),l=n.n(c),d=n("yQm5"),u=n.n(d),m=n("qcI4"),p=n("K+Nk");a=m.a.extend(),i={},r={},void 0!==window.project_profile_color_defaults&&(r=Object(p.a)(window.project_profile_color_defaults)),a.prototype.COLOR_DEFAULTS=r,a.prototype.publishSuccess=function(){this.syncDiscardState(),this.get("feature_image_attributes._destroy")&&this.replace("feature_image_attributes",{}),this.get("background_image_attributes._destroy")&&this.replace("background_image_attributes",{})},a.prototype.syncDiscardState=function(){this.setDiscardState(this.data)},a.prototype.setDiscardState=function(e){i=s.a.extend(!0,{},e)},a.prototype.discard=function(){this.set(i,{overwrite:!0})},a.prototype.tryFixValidationErrors=function(e){var t=(e=e||{}).default_url;["name","blurb","link_text","link_url"].forEach(e=>{var t=this.get(e);t&&this.set(e,t.trim())});var n=this.get("link_url"),a=this.get("link_text");if(!n&&/^http|^www/.test(a)){var i=this.validateURL(a);this.set("link_url",i),this.set("link_text",this.trimURL(i))}else!n&&a?this.set("link_url",t):n&&!/^http/.test(n)&&this.set("link_url","http://".concat(n))},a.prototype.validateURL=function(e){return/^http/.test(e)?e:"http://"+e},a.prototype.trimURL=function(e){return new u.a(e).hostname()},a.prototype.validate=function(){var e={};return""===this.get("name").trim()&&(e.name=!0),e},a.prototype.data_for_rails=function(){return l.a.reduce(this.data,(e,t,n)=>(e["project_profile[".concat(n,"]")]=t,e),{})},a.set_computed_value("background_image_opacity_percent",function(){return 100*this.background_image_opacity},{changes_on:["background_image_opacity"]}),a.set_computed_value("text_color_or_default",function(){return this.text_color?"#".concat(this.text_color):"#".concat(a.prototype.COLOR_DEFAULTS.text_color)},{changes_on:["text_color"]}),a.set_computed_value("link_text_color_or_default",function(){return this.link_text_color?"#".concat(this.link_text_color):"#".concat(a.prototype.COLOR_DEFAULTS.link_text_color)},{changes_on:["link_text_color"]}),a.set_computed_value("background_color_or_default",function(){return""!==this.background_color?"#".concat(this.background_color):this.background_image_attributes.id&&!this.background_image_attributes._destroy?"#".concat(a.prototype.COLOR_DEFAULTS.background_color_with_image):"#".concat(a.prototype.COLOR_DEFAULTS.background_color)},{changes_on:["background_image_attributes","background_color"]}),a.set_computed_value("link_background_color_or_default",function(){var e=this.link_background_color;return"#".concat(e||a.prototype.COLOR_DEFAULTS.link_background_color)},{changes_on:["link_background_color"]}),window.CurrentProjectProfile=a},ykOr:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l});var a=n("prSB"),i=n("0fse"),r=n("R3y7");const o={byId:{}},s=e=>({type:"CLICKED_WATCHING",project:e}),c=e=>({type:"LOAD_PROJECT_DATA",projects:e}),l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_PROJECT_DATA":return Object(a.a)({},e,{byId:Object(a.a)({},e.byId,{},d(t.projects))});case"CLICKED_WATCHING":return Object(i.f)(e,i.a.action(Object(r.a)(t.project)));case"WATCHING_UPDATE_SUCCESS":const n=t.pid;return Object(a.a)({},e,{byId:Object(a.a)({},e.byId,{[n]:Object(a.a)({},e.byId[n],{isWatched:t.isWatching})})});case"NOOP":default:return e}},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((e,t)=>(e[t.pid]=t,e),{})}},ysdo:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var a=n("pTxv"),i=n("Wwun"),r=n("t1f3"),o=n("2DJ9"),s=n("EoiL"),c=n("T8n5"),l=n("UUNB"),d=n("SmhT"),u=n("/IHD"),m=n("q1tI"),p=n.n(m);const h=["fixed","t0","b0","l0","r0","z-modal-3","scroll-y","py12","px3","flex","pointer","bg-white_80"].join(" "),f=e=>{const t=e.onClose,n=e.headerIcon,f=e.headerText,g=e.bodyText,b=e.buttonText,_=e.bodyListItems,v=e.listItemArrowFillColor,k=void 0===v?"fill-make100-yellow":v,y=e.dialogBgColor,j=void 0===y?"bg-ksr10-blue":y;return Object(m.useEffect)(()=>(document.documentElement.classList.add("clip"),()=>{document.documentElement.classList.remove("clip")})),p.a.createElement(p.a.Fragment,null,Object(l.a)(d.d)&&t(),p.a.createElement("div",{className:h,onClick:t,role:"presentation"},p.a.createElement(i.a,{"aria-label":"Modal",className:"relative m-auto w100p",focusTrapOptions:{clickOutsideDeactivates:!0,fallbackFocus:!0}},p.a.createElement("div",{role:"dialog",onClick:e=>e.stopPropagation(),className:Object(u.a)("cursor-default relative z3 max-w75 white mx-auto p4 p6-md clip",j)},p.a.createElement("div",{className:"relative z1"},n,p.a.createElement(s.a,{level:3,type:"subhead-600",atoms:["mt4"]},f),p.a.createElement(c.a,{atoms:["mt4","mb5"]},g),_&&p.a.createElement("ul",{className:"mb10"},_.map((e,t)=>p.a.createElement("li",{key:t,className:"flex mb3 type-16"},p.a.createElement(o.a,{name:"icon--chevron-right",atoms:[k,"mx2"],size:"large"}),p.a.createElement("span",{className:"flex1"},e)))),p.a.createElement(a.d,{theme:"support",fullWidth:!0,onClick:t},b)),p.a.createElement(r.a,{name:"coral-cube",atoms:["absolute","b-18","l-6","pointer-events-none"],width:200}),p.a.createElement(r.a,{name:"coral-hollow-cylinder",atoms:["absolute","t-18","r-6","pointer-events-none"],width:200})))))}},yvkg:function(e,t,n){n("+2Rf"),n("+2Rf");!function(e,t){e.fn.spin=function(n,a){return this.each(function(){var i=e(this),r=i.data();r.spinner&&(r.spinner.stop(),delete r.spinner),!1!==n&&(n=e.extend({color:a||i.css("color")},e.fn.spin.presets[n]||n),r.spinner=new t(n).spin(this))})},e.fn.spin.presets={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}}(n("+2Rf"),n("RnbG"))},"z+X6":function(e,t,n){"use strict";n.d(t,"a",function(){return o});n("prSB");var a=n("ANjH"),i=n("0fse");const r=e=>"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(e):a.compose,o=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Kickstarter",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return o=[Object(i.d)(),...o].filter(Boolean),Object(a.createStore)(e,t,r({name:n})(...o))}},z0kN:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});const a=e=>t=>"".concat(e).concat(t),i=e=>e.replace(/[^\w\-]+/g,"-").replace(/-{2,}/g,"-").replace(/^-|-$/g,"").toLowerCase()},zEur:function(e,t,n){"use strict";var a=n("h4vE"),i=n("2UXI");Object(a.a)("body#survey_responses_new",function(e){var t=e.find("input:hidden#dirty");e.length&&(e.on("keydown","input:text",function(e){13===e.which&&e.preventDefault()}),"0"===t.val()?t.val("1"):Object(i.d)("Back to Survey Response Page"),Object(i.d)("Survey Response Page"))})},zLTe:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatorBioExperiment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"creator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"biography"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"100"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"backingsCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"launchedProjects"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"latestBackerFavoriteProject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"100"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"backersCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"successfulProjects"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"5"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"100"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"backersCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"averageSentiment"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:647}};n.loc.source={body:"query CreatorBioExperiment($slug: String!) {\n  project(slug: $slug) {\n    id\n    slug\n    url\n    creator {\n      name\n      slug\n      biography\n      imageUrl(width: 100)\n      backingsCount\n      launchedProjects {\n        totalCount\n      }\n      latestBackerFavoriteProject {\n        name\n        url\n        state\n        imageUrl(width: 100)\n        backersCount\n      }\n      successfulProjects(first: 5) {\n        totalCount\n        edges {\n          node {\n            name\n            url\n            state\n            imageUrl(width: 100)\n            backersCount\n            averageSentiment\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=n,e.exports.CreatorBioExperiment=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var c=s;s=new Set,c.forEach(function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return o.forEach(function(t){var a=i(e,t);a&&n.definitions.push(a)}),n}(n,"CreatorBioExperiment")},zNco:function(e,t,n){"use strict";n.r(t);var a=n("DjBF"),i=n("pFB7"),r=n("lX80"),o=n("LdJi"),s=n("f/gE"),c=n("94td"),l=n("1OuE"),d=n("NxQb"),u=n("q1tI"),m=n.n(u),p=n("i8i4"),h=n.n(p),f=n("2UXI"),g=n("pTxv"),b=n("egyr"),_=n("tr1H"),v=n("n+nq"),k=n("pj8f");function y(e,t,n,a){fetch("/profile/backings/".concat(e,"/complete"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-Token":Object(v.b)(document)},body:JSON.stringify({backing:{backer_completed:t.toString()},ref:"project_header_banner",context:j(window.location)})}).then(e=>e.json()).then(e=>{if(302===e.status)window.location=e.data;else if(e.backing){const t=1e3*e.backing.backer_completed_at;n(t)}else a(),k.Honeybadger.notify("Unable to update received status. Backing information not available",{context:{tags:_.a.REWARDS_FULFILLMENT}})}).catch(e=>{a(),k.Honeybadger.notify(JSON.stringify(e),{context:{tags:_.a.REWARDS_FULFILLMENT}})})}function j(e){return(e.pathname.match(/(?:\/projects\/[\w-]+\/[\w-]+\/)(comments|faqs|updates|community)/)||"")[1]||"campaign"}function E(e){const t=Object(u.useState)(!1),n=Object(a.a)(t,2),i=n[0],r=n[1],o=Object(u.useState)(!1),s=Object(a.a)(o,2),l=s[0],d=s[1];return Object(u.useEffect)(()=>{e.toggleReceivedDate(e.receivedDate)},[e.receivedDate]),i?m.a.createElement("div",{className:"white"},m.a.createElement(c.a,{i18nKey:"project_page.backed_bar.mark_as_received.oops_something_went_wrong"})):l?m.a.createElement("div",{className:"mx3"},m.a.createElement(b.a,{size:"20",fillColor:"fill-white"})):e.receivedDate?m.a.createElement("a",{className:"pointer type-13 link-white text-underline",role:"button",onClick:()=>{d(!0),y(e.backingId,!1,()=>{e.toggleReceivedDate(null),d(!1)},()=>r(!0))}},Object(c.b)("project_page.backed_bar.mark_as_received.undo")):m.a.createElement(g.c,{type:"submit",fullWidth:!0,theme:"brand",atoms:["type-13","py2","px3"],onClick:()=>{d(!0),y(e.backingId,!0,t=>{e.toggleReceivedDate(new Date(t)),d(!1)},()=>r(!0))}},Object(c.b)("project_page.backed_bar.mark_as_received.mark_as_received"))}var w=n("7cf5"),S=n("ocnG"),O=n("Qbqs");const C=e=>{let t=e.children,n=e.start,a=void 0===n?0:n,i=e.end,r=void 0===i?1:i,o=Object(w.a)(e,["children","start","end"]);return u.createElement(S.a,Object.assign({},o,{transitions:[Object(O.a)(),Object(O.b)({start:a,end:r})]}),t)};var N=n("2DJ9"),x=n("EoiL"),T=n("/IHD"),I=n("lHf8"),D=n("5j0V");const P=e=>(Object(u.useEffect)(()=>{Object(f.d)("Viewed Request Update",{context:D.b.backer_bar})},[]),m.a.createElement("div",{"data-test-id":"project-update-request-panel"},m.a.createElement(g.c,{"data-test-id":"project-update-request-submit-button",theme:"support",atoms:["mr2","px6"],onClick:()=>{e.onSubmit()}},Object(c.b)("project_page.backer_bar.Request_update_submit_button")),m.a.createElement(I.a,{"data-test-id":"project-update-request-cancel-button",color:"black",atoms:["ml3","type-13"],type:"submit",onClick:()=>{e.onCancel(),Object(f.d)("Dismissed Request Update",{context:D.b.backer_bar})}},Object(c.b)("project_page.backer_bar.Request_update_cancel_button"))));let A;!function(e){e.Initial="Initial",e.RequestUpdate="RequestUpdate",e.SubmittedFeedback="SubmittedFeedback",e.SubmittedFeedbackAndRequestedUpdate="SubmittedFeedbackAndRequestedUpdate",e.Tooltip="Tooltip",e.Error="Error"}(A||(A={}));const R={[A.Initial]:()=>m.a.createElement("div",{"data-test-id":"sentiment-heading-feedbackable"},m.a.createElement(x.a,{atoms:["normal","mb2","type-18","type-24-sm"]},Object(c.b)("project_page.backer_bar.How_do_you_feel_about_this_project_so_far")),m.a.createElement("p",{className:"type-13 dark-grey-500 hide block-sm mb0"},Object(c.b)("project_page.backer_bar.Your_response_may_be_shared_anonymously_with"))),[A.SubmittedFeedback]:()=>m.a.createElement("div",{"data-test-id":"sentiment-heading-unfeedbackable"},m.a.createElement(x.a,{atoms:["normal","mb2","type-18","type-24-sm"]},Object(c.b)("project_page.backer_bar.Thanks_for_your_feedback_you_will_be_able_to_update"))),[A.SubmittedFeedbackAndRequestedUpdate]:()=>m.a.createElement("div",{"data-test-id":"sentiment-heading-unfeedbackable"},m.a.createElement(x.a,{atoms:["normal","mb2","type-18","type-24-sm"]},Object(c.b)("project_page.backer_bar.Thanks_for_your_feedback_you_will_be_able_to_update")),m.a.createElement("div",null,m.a.createElement(N.a,{name:"icon--check",size:"20",atoms:["fill-trust-700","mr1"]}),m.a.createElement("span",{className:"trust-700","data-test-id":"request-update-copy"},Object(c.b)("project_page.backer_bar.We_will_request_an_update")))),[A.Tooltip]:()=>m.a.createElement("div",null,m.a.createElement(x.a,{atoms:["normal","mb2","type-18","type-24-sm"]},Object(c.b)("project_page.backer_bar.We_want_to_hear_from_you")),m.a.createElement("p",{className:"type-13 text-left mb0"},Object(c.b)("project_page.backer_bar.Help_us_monitor_projects_and_learn_about"))),[A.RequestUpdate]:()=>m.a.createElement("div",null,m.a.createElement(x.a,{atoms:["normal","type-16","type-21-sm","mb0"],"data-test-id":"sentiment-heading-request"},Object(c.b)("project_page.backer_bar.Would_you_like_to_anonymously_request")),m.a.createElement("p",{className:"type-13 mt3"},Object(c.b)("project_page.backer_bar.We_will_notify_the_creator"))),[A.Error]:()=>m.a.createElement(x.a,{atoms:["normal","type-18"]},Object(c.b)("project_page.backed_bar.mark_as_received.oops_something_went_wrong"))},F=Object.keys(R),L=e=>{const t=R[e.displayState];return m.a.createElement(t,null)};var M=n("Sdzn");const U=e=>{const t=m.a.createElement("defs",null,m.a.createElement("linearGradient",{id:"trustGradient",gradientTransform:"rotate(45)"},m.a.createElement("stop",{offset:"0%",stopColor:"#71A0FF"})," ",m.a.createElement("stop",{offset:"100%",stopColor:"#5555FF"})," ")),n="icon--".concat({positive:"happy",neutral:"meh",negative:"frown"}[e.sentiment]),a="".concat(n).concat(e.selected?"-filled":""),i=e.canLeaveFeedback?"fill-trust-300":"fill-support-300";return m.a.createElement("div",{className:"w100p h100p hover-target"},m.a.createElement(N.a,{name:a,size:"48",defsElement:e.selected?t:void 0,inlineFill:e.selected?"url(#trustGradient)":void 0,atoms:["hover-item-scale-1_1","transition-all","transition-300",e.selected?"":i]}))},B=e=>{const t=["positive","neutral","negative"];return m.a.createElement("div",{className:"flex justify-center justify-start-sm"},t.map((n,a)=>m.a.createElement("button",{"data-test-id":"sentiment-button-".concat(n),key:"".concat(n,"-").concat(a),className:Object(M.a)(t,a)?"":"mr2",onClick:()=>e.onClick(n),disabled:!e.canLeaveFeedback},m.a.createElement(U,{sentiment:n,selected:e.sentiment===n,canLeaveFeedback:e.canLeaveFeedback}))))},q=e=>{let t=e.open,n=e.children,a=e.className,i=Object(w.a)(e,["open","children","className"]);return m.a.createElement(C,Object.assign({open:t,start:.9,duration:300},i),m.a.createElement("div",{className:Object(T.a)(a,"grow2",t?"":"absolute t0 r0 l0 b0")},n))},$=e=>{const t=e.projectPID,n=e.onSubmitSentiment,i=e.onSubmitRequestUpdate,r=e.canLeaveFeedback?A.Initial:A.SubmittedFeedback,o=Object(u.useState)(e.priorQuestionAnswer),s=Object(a.a)(o,2),l=s[0],d=s[1],p=Object(u.useState)({current:r,previous:r}),h=Object(a.a)(p,2),f=h[0],g=h[1],b=e=>g({previous:f.current,current:e});return m.a.createElement("div",{className:"relative min-h30 min-h40-sm text-center text-left-sm p4 flex flex-column"},m.a.createElement("button",{onClick:()=>{f.current===A.Tooltip?b(f.previous):b(A.Tooltip)},className:"hover-target absolute t3 r3"},m.a.createElement(N.a,{name:f.current===A.Tooltip?"icon--cross":"icon--info",atoms:["hover-item-scale-1_1","transition-all","transition-300"],size:"20"})),m.a.createElement(x.a,{type:"caption-100",color:"trust-700",atoms:["text-uppercase","mb2","maison-book","bold"]},Object(c.b)("project_page.backer_bar.Your_voice_matters")),m.a.createElement("div",{className:"min-h14-sm relative flex flex-column grow2"},F.map(e=>m.a.createElement(q,{key:e,open:f.current===e},m.a.createElement(L,{displayState:e})))),m.a.createElement("div",{className:"relative flex align h10"},m.a.createElement(q,{className:"flex flex-column justify-end",open:f.current===A.Initial||f.current===A.SubmittedFeedback||f.current===A.SubmittedFeedbackAndRequestedUpdate},m.a.createElement(B,{onClick:a=>{n({projectPID:t,sentiment:a,onError:()=>{b(A.Error)}}),"positive"!==a&&e.canRequestUpdate?b(A.RequestUpdate):b(A.SubmittedFeedback),d(a)},sentiment:l,canLeaveFeedback:f.current===A.Initial})),m.a.createElement(q,{className:"flex flex-column justify-end",open:f.current===A.RequestUpdate},m.a.createElement(P,{onSubmit:()=>{i({projectPID:t,onSuccess:()=>{b(A.SubmittedFeedbackAndRequestedUpdate)},onError:()=>{b(A.Error)}})},onCancel:()=>{b(A.SubmittedFeedback)}}))))};var H=n("ECYc"),V=n("gN63");const z=e=>Object(V.e)("\n  mutation($input: AnswerProjectFeedbackQuestionInput!) {\n    answerProjectFeedbackQuestion(input: $input) {\n      feedback {\n        createdAt\n      }\n    }\n  }\n",e),W=e=>Object(V.e)("\n  mutation($input: CreateProjectUpdateRequestInput!) {\n    createProjectUpdateRequest(input: $input) {\n      project {\n        canUserRequestUpdate\n      }\n    }\n  }\n",e);function K(e){const t=e.projectPID,n=e.sentiment,a=e.onSuccess,i=e.onError;z({input:{id:Object(V.b)("Project",t),questionName:"backer_bar_sentiment",questionAnswer:n,location:"project_header"}}).then(e=>{H.a.increment(["frontend_telegraf_project_sentiments","source=pulse_redesign"].join(",")),null==a||a(e.answerProjectFeedbackQuestion.feedback.createdAt)}).catch(e=>{i(),k.Honeybadger.notify(JSON.stringify(e),{context:{tags:_.a.SYSINT}})})}function Y(e){const t=e.projectPID,n=e.onSuccess,a=e.onError;W({input:{projectId:Object(V.b)("Project",t),location:D.b.backer_bar}}).then(e=>{n(e.createProjectUpdateRequest.project.canUserRequestUpdate)}).catch(e=>{a(),k.Honeybadger.notify(JSON.stringify(e),{context:{tags:_.a.SYSINT}})})}var G,J,Q,X;n.d(t,"render",function(){return ue});const Z=document.getElementById("backer-bar"),ee=null==Z?void 0:null===(G=Z.dataset)||void 0===G?void 0:G.projectpid,te="true"===(null==Z?void 0:null===(J=Z.dataset)||void 0===J?void 0:J.canrequestupdate),ne="true"===(null==Z?void 0:null===(Q=Z.dataset)||void 0===Q?void 0:Q.feedbackable),ae=JSON.parse((null==Z?void 0:null===(X=Z.dataset)||void 0===X?void 0:X.latestfeedback)||"{}"),ie=null==ae?void 0:ae.questionAnswer,re=Object(d.a)("project_update_requests");let oe,se=null;if(Z){Object(f.d)("Viewed Feedback",{context:"project_header"});const e=Z.dataset.initial;e&&(se=JSON.parse(e)),oe=Z.dataset.links?JSON.parse(Z.dataset.links):{}}const ce=e=>m.a.createElement("a",{className:"remote_modal_dialog type-13 link-white text-underline my1 mr2 ml2 mr4-sm ml0-sm",href:e.href,"data-do_not_cache":"true","data-modal-class":"backings-info__modal",onClick:()=>(function(e){Object(f.d)(e,{context:"Project Page Backed Bar"})})(e.track_event)},e.text),le=()=>m.a.createElement("div",{className:"bg-trust-700 clip absolute l0 r0 t0 b0 z-1"},m.a.createElement("img",{className:"hide block-sm absolute z-1 l-5 t-5",src:"https://ksr-static.imgix.net/a84c6fvf-pulse_semicircle.png?ixlib=rb-2.1.0&auto=compress%2Cformat&w=1000&fit=min&s=663658b8bdde2662f3cdab8584dc096a",role:"presentation",alt:""}),m.a.createElement("img",{className:"hide block-sm absolute z-1 absolute r-30 b-25",src:"https://ksr-static.imgix.net/rarw2hvf-pulse_full_circle_1.png?ixlib=rb-2.1.0&auto=compress%2Cformat&w=1000&fit=min&s=4169edb665472cbf8976abc4ec70073b",role:"presentation",alt:""}),m.a.createElement("img",{className:"hide block-sm absolute z-1 r30 t-1",src:"https://d3mlfyygrfdi2i.cloudfront.net/elneta5o-pulse_line_2-e9c9829-1ad719c.svg",role:"presentation",alt:""}),m.a.createElement("img",{className:"hide-sm absolute z-1 b-1 r-1",src:"https://d3mlfyygrfdi2i.cloudfront.net/7rgzk88w-pulse_line_3.svg",role:"presentation",alt:""}),m.a.createElement("img",{className:"hide block-sm absolute z-1 b-4",src:"https://d3mlfyygrfdi2i.cloudfront.net/zckem7hv-pulse_line_1.svg",role:"presentation",alt:""})),de=e=>{const t=Object(u.useState)(e.receivedDate?new Date(e.receivedDate):null),n=Object(a.a)(t,2),d=n[0],p=n[1],h=!!e.receivedDate,f=d?m.a.createElement(c.a,{i18nKey:"project_page.backed_bar.mark_as_received.marked_as_received_on",date:d&&Object(l.a)("LL",d)}):Object(c.b)("project_page.backed_bar.mark_as_received.you_backed_this_project");return m.a.createElement("div",{className:"relative"},m.a.createElement(le,null),m.a.createElement(o.a,null,m.a.createElement(s.a,null,m.a.createElement(r.a,{atoms:["pt5","pb3","pb5-sm"]},m.a.createElement(s.a,{atoms:["flex","flex-column","flex-row-sm"]},m.a.createElement(r.a,{smWidth:6,atoms:["flex","flex-column","justify-center"]},m.a.createElement("p",{className:"text-center text-left-sm type-21 type-34-sm white mb3"},f),m.a.createElement("div",{className:"flex justify-center text-center flex-wrap items-center justify-start-sm w100p w-auto-sm mb2"},se&&m.a.createElement("div",{className:"my1 mr2-sm mr4-sm ml0-sm w100p w-auto-sm"},m.a.createElement(E,{backingId:e.backingId,receivedDate:d,toggleReceivedDate:p})),m.a.createElement(ce,{href:oe.pledge.href,text:oe.pledge.text,collapsable:oe.pledge.collapsable,track_event:oe.pledge.track_event}),oe.survey&&m.a.createElement(ce,{href:oe.survey.href,text:oe.survey.text,collapsable:oe.survey.collapsable,track_event:oe.survey.track_event}))),m.a.createElement(r.a,{smWidth:6},m.a.createElement(i.a,{atoms:["bg-white"],borderColor:"trust-300"},m.a.createElement($,{projectPID:e.projectPID,priorQuestionAnswer:ie,onSubmitSentiment:K,onSubmitRequestUpdate:Y,canLeaveFeedback:e.canLeaveFeedback,canRequestUpdate:!!re&&(te&&!h)})),m.a.createElement("div",{className:"inline hide-sm type-12 pt2 text-center white"},m.a.createElement(c.a,{i18nKey:"project_page.backer_bar.Your_response_may_be_shared_anonymously_with"}))))))))},ue=()=>{ee&&null!==se&&h.a.render(m.a.createElement(de,{projectPID:ee,backingId:se.backing.id,receivedDate:se.backing.backer_completed_at,canLeaveFeedback:ne}),Z)};ue()},zeGE:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE"),o=n("2UXI");Object(r.a)(".js-project-description-content, #description",function(e){e.find(".js-open-supporting-material-modal").on("click",function(t){Object(o.d)("Viewed Prototype Gallery Tooltip"),e.find(".supporting-material-modal").fadeIn(200),i()("body,html").addClass("supporting-material-modal-open"),t.preventDefault()}),e.find(".js-close-supporting-material-modal").on("click",function(e){i()(this).closest(".supporting-material-modal").fadeOut(200),i()("body,html").removeClass("supporting-material-modal-open"),e.preventDefault()})})},zhmz:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("RIhn");i()("form:not([data-ksrjson])","submit").livequery(function(e){var t=i()(this);t.is(".submitting-non-ajax")?e.preventDefault():t.attr("target")||(i()(window).on("unload",function(){t.removeClass("submitting-non-ajax")}),t.addClass("submitting-non-ajax"))})},zjD3:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return 0===e?t:e}},zm9w:function(e,t,n){"use strict";var a=n("prSB"),i=n("4Toj"),r=n.n(i),o=n("4LGs");const s={"'":"&#39;","`":"&#96;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};var c=e=>Object(o.a)(s,e),l=n("1OuE"),d=n("0VSk");const u=["de","es","fr","it"],m="undefined"!=typeof window?window.formatters:{};let p=Object(a.a)({},m,{is_right_adjusted_locale:function(e){return u.includes(e)},currency_symbol:function(e,t){let n="";return n="USD"==e&&t&&"international"==t.usd_type?"US"+this.currency_symbol_mappings[e]+" ":this.currency_symbol_mappings[e],t&&t.withoutSpace?n.trim():n},currency_symbol_mappings:{AUD:"AU$ ",CAD:"CA$ ",CHF:"CHF ",DKK:"DKK ",EUR:"€",GBP:"£",HKD:"HK$ ",JPY:"¥",MXN:"MX$ ",NOK:"NOK ",NZD:"NZ$ ",PLN:"PLN ",SEK:"SEK ",SGD:"S$ ",USD:"$"},money:function(e,t){return t=Object(a.a)({separator:d.default.t("number.currency.format.separator"),delimiter:d.default.t("number.currency.format.delimiter"),format:d.default.t("number.currency.format.format")},t),isNaN(t.precision)&&(t.precision=d.default.t("number.currency.format.precision")),"truncate_zeros"===t.type&&(t.precision=parseFloat(e)%1==0?0:2),this.interpolate(t.format,{n:this.format_number(e,t),u:this.currency_symbol(t.currency,t)})},shorter_money:function(e,t){return void 0===t&&(t={}),e<100?t.precision=2:(t.precision=0,e=Math.floor(e)),this.money(e,t)},percent:function(e,t){return t=Object(a.a)({delimiter:d.default.t("number.percentage.format.delimiter"),format:d.default.t("number.percentage.format.format")},t),this.interpolate(t.format,{n:this.format_number(e,t)})},format_number:function(e,t){var n,i,r;return t=Object(a.a)({separator:d.default.t("number.format.separator"),delimiter:d.default.t("number.format.delimiter")},t),isNaN(t.precision)?t.precision=d.default.t("number.format.precision"):t.precision=Math.abs(t.precision),n=t.precision||t.round?Math.abs(e).toFixed(t.precision):parseInt(Math.abs(e),10).toString(),r=(i=String(parseInt(n,10))).split("").reverse().join("").replace(/(\d{3})(?=\d)/g,"$1"+t.delimiter.split("").reverse().join("")).split("").reverse().join(""),e<0&&(r="-"+r),t.precision&&(r+=t.separator+Math.abs(n-i).toFixed(t.precision).slice(2)),r},interpolate:function(e,t){return e.replace(/\%([\w]+)/g,function(e,n){return t[n]||""})},pluralize:function(e,t){var n,a=e,i=["zombie","zombies","cow()","ki(i?)ne","move","moves","sex","sexes","child","children","man","men","person","people","database","databases","quiz","quizzes","matrix","matrices","(vert|ind)ex","(vert|ind)ices","(^ox)","(^ox)en","(alias|status)","(alias|status)es","(octop|vir)us","(octop|vir)i","(cris|ax|test)is","(cris|ax|test)es","shoe","shoes","o","oes","bus","buses","(m|l)ouse","(m|l)ice","(x|ch|ss|sh)","(x|ch|ss|sh)es","movie","movies","series","series","([^aeiouy]|qu)y","([^aeiouy]|qu)ies","([lr])f","([lr])ves","tive","tives","hive","hives","([^f])fe","([^f])ves","(analy|ba|diagno|parenthe|progno|synop|the)sis","(analy|ba|diagno|parenthe|progno|synop|the)ses","([ti])um","([ti])a","news","news","([^s])","()s"],r=i.map(e=>new RegExp(e+"$","i")),o=!1,s=0;function c(e,n){var a=i[s+(1===t?0:1)-s%2];return void 0!==n&&(a=a.replace(/\(.*\)/,n)),a}function l(e,t){return t.toUpperCase()}for(;!o&&s<i.length;)n=r[s+=1],e.match(n)&&(o=!0,a=e.replace(n,c),e.match(/^[A-Z][^A-Z]+$/)?a=a.replace(/^([a-z])/,l):e.match(/^[A-Z]+$/)&&(a=a.toUpperCase()));return a},capitalize:function(e){return"string"!=typeof e?"":e.replace(/^(\w)|\s(\w)/g,function(e){return e.toUpperCase()})},to_sentence:function(e,t){switch(t=Object(a.a)({words_connector:d.default.t("support.array.words_connector"),two_words_connector:d.default.t("support.array.two_words_connector"),last_word_connector:d.default.t("support.array.last_word_connector")},t),e.length){case 0:return"";case 1:return String(e[0]);case 2:return e[0]+t.two_words_connector+e[1];default:return e.slice(0,-1).join(t.words_connector)+t.last_word_connector+e[e.length-1]}},paragraphize:function(e){return(e=(e=(e=c(e)).replace(/\r\n?/g,"\n")).trim()).length>0&&(e="<p>"+(e=(e=e.replace(/\n{2,}/g,"</p><p>")).replace(/\n/g,"<br />"))+"</p>"),e},time_ago_in_words:function(e){if(!e)return"?";("number"==typeof e||"string"==typeof e&&e.match(/^\d+$/))&&(e=parseInt(1e3*e,10));const t=e,n=r()(Date.now(),e);void 0===p.distance_date_intervals&&(p.distance_date_intervals=[{min:5,i18n_key:"schwamm.just_now"},{min:29,i18n_key:"schwamm.less_than_a_minute_ago"},{min:2640,i18n_key:"schwamm.m_minutes_ago",count_key:"m"},{min:82800,i18n_key:"schwamm.about_h_hours_ago",count_key:"h"},{min:604800,i18n_key:"schwamm.d_days_ago",count_key:"d"},{min:15552e3,i18n_key:"schwamm.on_datetime",count_key:"t"},{min:0,i18n_key:"schwamm.on_year",count_key:"y"}]);const a=p.distance_date_intervals.sort((e,t)=>e.min-t.min),i=a[a.length-1],o=a.reduce((e,t)=>t.min>n&&e===i?t:e,i),s={m:Math.round(n/60),h:Math.round(n/3600),d:Math.round(n/86400),t:Object(l.a)("MMMM D",t),y:Object(l.a)("LL",t)},c=d.default.t(o.i18n_key,{count:s[o.count_key]});return c.match(/NaN|undefined/)?"":c}});"undefined"!=typeof window&&(window.formatters=p);t.a=p}},[[6,1,0]]]);